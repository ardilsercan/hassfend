/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "./node_modules/memoize-one/dist/memoize-one.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/memoize-one/dist/memoize-one.esm.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ memoizeOne)\n/* harmony export */ });\nvar safeIsNaN = Number.isNaN || function ponyfill(value) {\n  return typeof value === 'number' && value !== value;\n};\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n  if (safeIsNaN(first) && safeIsNaN(second)) {\n    return true;\n  }\n  return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n  for (var i = 0; i < newInputs.length; i++) {\n    if (!isEqual(newInputs[i], lastInputs[i])) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction memoizeOne(resultFn, isEqual) {\n  if (isEqual === void 0) {\n    isEqual = areInputsEqual;\n  }\n  var cache = null;\n  function memoized() {\n    var newArgs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      newArgs[_i] = arguments[_i];\n    }\n    if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n      return cache.lastResult;\n    }\n    var lastResult = resultFn.apply(this, newArgs);\n    cache = {\n      lastResult: lastResult,\n      lastArgs: newArgs,\n      lastThis: this\n    };\n    return lastResult;\n  }\n  memoized.clear = function clear() {\n    cache = null;\n  };\n  return memoized;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWVtb2l6ZS1vbmUvZGlzdC9tZW1vaXplLW9uZS5lc20uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvbWVtb2l6ZS1vbmUvZGlzdC9tZW1vaXplLW9uZS5lc20uanM/MWYyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc2FmZUlzTmFOID0gTnVtYmVyLmlzTmFOIHx8XG4gICAgZnVuY3Rpb24gcG9ueWZpbGwodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgIT09IHZhbHVlO1xuICAgIH07XG5mdW5jdGlvbiBpc0VxdWFsKGZpcnN0LCBzZWNvbmQpIHtcbiAgICBpZiAoZmlyc3QgPT09IHNlY29uZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHNhZmVJc05hTihmaXJzdCkgJiYgc2FmZUlzTmFOKHNlY29uZCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGFyZUlucHV0c0VxdWFsKG5ld0lucHV0cywgbGFzdElucHV0cykge1xuICAgIGlmIChuZXdJbnB1dHMubGVuZ3RoICE9PSBsYXN0SW5wdXRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3SW5wdXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNFcXVhbChuZXdJbnB1dHNbaV0sIGxhc3RJbnB1dHNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG1lbW9pemVPbmUocmVzdWx0Rm4sIGlzRXF1YWwpIHtcbiAgICBpZiAoaXNFcXVhbCA9PT0gdm9pZCAwKSB7IGlzRXF1YWwgPSBhcmVJbnB1dHNFcXVhbDsgfVxuICAgIHZhciBjYWNoZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gbWVtb2l6ZWQoKSB7XG4gICAgICAgIHZhciBuZXdBcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBuZXdBcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhY2hlICYmIGNhY2hlLmxhc3RUaGlzID09PSB0aGlzICYmIGlzRXF1YWwobmV3QXJncywgY2FjaGUubGFzdEFyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUubGFzdFJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdFJlc3VsdCA9IHJlc3VsdEZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuICAgICAgICBjYWNoZSA9IHtcbiAgICAgICAgICAgIGxhc3RSZXN1bHQ6IGxhc3RSZXN1bHQsXG4gICAgICAgICAgICBsYXN0QXJnczogbmV3QXJncyxcbiAgICAgICAgICAgIGxhc3RUaGlzOiB0aGlzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICB9XG4gICAgbWVtb2l6ZWQuY2xlYXIgPSBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgY2FjaGUgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5leHBvcnQgeyBtZW1vaXplT25lIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/memoize-one/dist/memoize-one.esm.js\n");

/***/ }),

/***/ "./src/common/auth/token_storage.ts":
/*!******************************************!*\
  !*** ./src/common/auth/token_storage.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   askWrite: () => (/* binding */ askWrite),\n/* harmony export */   enableWrite: () => (/* binding */ enableWrite),\n/* harmony export */   loadTokens: () => (/* binding */ loadTokens),\n/* harmony export */   saveTokens: () => (/* binding */ saveTokens)\n/* harmony export */ });\n/* harmony import */ var _url_search_params__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../url/search-params */ \"./src/common/url/search-params.ts\");\n\nconst storage = window.localStorage || {};\n// So that core.js and main app hit same shared object.\nlet tokenCache = window.__tokenCache;\nif (!tokenCache) {\n  tokenCache = window.__tokenCache = {\n    tokens: undefined,\n    writeEnabled: undefined\n  };\n}\nfunction askWrite() {\n  return tokenCache.tokens !== undefined && tokenCache.writeEnabled === undefined;\n}\nfunction saveTokens(tokens) {\n  tokenCache.tokens = tokens;\n  if (!tokenCache.writeEnabled && (0,_url_search_params__WEBPACK_IMPORTED_MODULE_0__.extractSearchParam)(\"storeToken\") === \"true\") {\n    tokenCache.writeEnabled = true;\n  }\n  if (tokenCache.writeEnabled) {\n    try {\n      storage.hassTokens = JSON.stringify(tokens);\n    } catch (err) {\n      // write failed, ignore it. Happens if storage is full or private mode.\n    }\n  }\n}\nfunction enableWrite() {\n  tokenCache.writeEnabled = true;\n  if (tokenCache.tokens) {\n    saveTokens(tokenCache.tokens);\n  }\n}\nfunction loadTokens() {\n  if (tokenCache.tokens === undefined) {\n    try {\n      // Delete the old token cache.\n      delete storage.tokens;\n      const tokens = storage.hassTokens;\n      if (tokens) {\n        tokenCache.tokens = JSON.parse(tokens);\n        tokenCache.writeEnabled = true;\n      } else {\n        tokenCache.tokens = null;\n      }\n    } catch (err) {\n      tokenCache.tokens = null;\n    }\n  }\n  return tokenCache.tokens;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2F1dGgvdG9rZW5fc3RvcmFnZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBRUE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vYXV0aC90b2tlbl9zdG9yYWdlLnRzPzY4ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aERhdGEgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBleHRyYWN0U2VhcmNoUGFyYW0gfSBmcm9tIFwiLi4vdXJsL3NlYXJjaC1wYXJhbXNcIjtcblxuY29uc3Qgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UgfHwge307XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgX190b2tlbkNhY2hlOiB7XG4gICAgICAvLyB1bmRlZmluZWQ6IHdlIGhhdmVuJ3QgbG9hZGVkIHlldFxuICAgICAgLy8gbnVsbDogbm9uZSBzdG9yZWRcbiAgICAgIHRva2Vucz86IEF1dGhEYXRhIHwgbnVsbDtcbiAgICAgIHdyaXRlRW5hYmxlZD86IGJvb2xlYW47XG4gICAgfTtcbiAgfVxufVxuXG4vLyBTbyB0aGF0IGNvcmUuanMgYW5kIG1haW4gYXBwIGhpdCBzYW1lIHNoYXJlZCBvYmplY3QuXG5sZXQgdG9rZW5DYWNoZSA9IHdpbmRvdy5fX3Rva2VuQ2FjaGU7XG5pZiAoIXRva2VuQ2FjaGUpIHtcbiAgdG9rZW5DYWNoZSA9IHdpbmRvdy5fX3Rva2VuQ2FjaGUgPSB7XG4gICAgdG9rZW5zOiB1bmRlZmluZWQsXG4gICAgd3JpdGVFbmFibGVkOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2tXcml0ZSgpIHtcbiAgcmV0dXJuIChcbiAgICB0b2tlbkNhY2hlLnRva2VucyAhPT0gdW5kZWZpbmVkICYmIHRva2VuQ2FjaGUud3JpdGVFbmFibGVkID09PSB1bmRlZmluZWRcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVUb2tlbnModG9rZW5zOiBBdXRoRGF0YSB8IG51bGwpIHtcbiAgdG9rZW5DYWNoZS50b2tlbnMgPSB0b2tlbnM7XG5cbiAgaWYgKCF0b2tlbkNhY2hlLndyaXRlRW5hYmxlZCAmJiBleHRyYWN0U2VhcmNoUGFyYW0oXCJzdG9yZVRva2VuXCIpID09PSBcInRydWVcIikge1xuICAgIHRva2VuQ2FjaGUud3JpdGVFbmFibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0b2tlbkNhY2hlLndyaXRlRW5hYmxlZCkge1xuICAgIHRyeSB7XG4gICAgICBzdG9yYWdlLmhhc3NUb2tlbnMgPSBKU09OLnN0cmluZ2lmeSh0b2tlbnMpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICAvLyB3cml0ZSBmYWlsZWQsIGlnbm9yZSBpdC4gSGFwcGVucyBpZiBzdG9yYWdlIGlzIGZ1bGwgb3IgcHJpdmF0ZSBtb2RlLlxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlV3JpdGUoKSB7XG4gIHRva2VuQ2FjaGUud3JpdGVFbmFibGVkID0gdHJ1ZTtcbiAgaWYgKHRva2VuQ2FjaGUudG9rZW5zKSB7XG4gICAgc2F2ZVRva2Vucyh0b2tlbkNhY2hlLnRva2Vucyk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkVG9rZW5zKCkge1xuICBpZiAodG9rZW5DYWNoZS50b2tlbnMgPT09IHVuZGVmaW5lZCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBEZWxldGUgdGhlIG9sZCB0b2tlbiBjYWNoZS5cbiAgICAgIGRlbGV0ZSBzdG9yYWdlLnRva2VucztcbiAgICAgIGNvbnN0IHRva2VucyA9IHN0b3JhZ2UuaGFzc1Rva2VucztcbiAgICAgIGlmICh0b2tlbnMpIHtcbiAgICAgICAgdG9rZW5DYWNoZS50b2tlbnMgPSBKU09OLnBhcnNlKHRva2Vucyk7XG4gICAgICAgIHRva2VuQ2FjaGUud3JpdGVFbmFibGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRva2VuQ2FjaGUudG9rZW5zID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgdG9rZW5DYWNoZS50b2tlbnMgPSBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG9rZW5DYWNoZS50b2tlbnM7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/auth/token_storage.ts\n");

/***/ }),

/***/ "./src/common/dom/get_main_window.ts":
/*!*******************************************!*\
  !*** ./src/common/dom/get_main_window.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mainWindow: () => (/* binding */ mainWindow)\n/* harmony export */ });\n/* harmony import */ var _data_main_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/main_window */ \"./src/data/main_window.ts\");\n\nconst mainWindow = window.name === _data_main_window__WEBPACK_IMPORTED_MODULE_0__.MAIN_WINDOW_NAME ? window : parent.name === _data_main_window__WEBPACK_IMPORTED_MODULE_0__.MAIN_WINDOW_NAME ? parent : top;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2RvbS9nZXRfbWFpbl93aW5kb3cudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tbW9uL2RvbS9nZXRfbWFpbl93aW5kb3cudHM/NTllYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNQUlOX1dJTkRPV19OQU1FIH0gZnJvbSBcIi4uLy4uL2RhdGEvbWFpbl93aW5kb3dcIjtcblxuZXhwb3J0IGNvbnN0IG1haW5XaW5kb3cgPVxuICB3aW5kb3cubmFtZSA9PT0gTUFJTl9XSU5ET1dfTkFNRVxuICAgID8gd2luZG93XG4gICAgOiBwYXJlbnQubmFtZSA9PT0gTUFJTl9XSU5ET1dfTkFNRVxuICAgICAgPyBwYXJlbnRcbiAgICAgIDogdG9wITtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/dom/get_main_window.ts\n");

/***/ }),

/***/ "./src/common/entity/compute_domain.ts":
/*!*********************************************!*\
  !*** ./src/common/entity/compute_domain.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeDomain: () => (/* binding */ computeDomain)\n/* harmony export */ });\nconst computeDomain = entityId => entityId.substr(0, entityId.indexOf(\".\"));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX2RvbWFpbi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluLnRzP2E2NzEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbXB1dGVEb21haW4gPSAoZW50aXR5SWQ6IHN0cmluZyk6IHN0cmluZyA9PlxuICBlbnRpdHlJZC5zdWJzdHIoMCwgZW50aXR5SWQuaW5kZXhPZihcIi5cIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/entity/compute_domain.ts\n");

/***/ }),

/***/ "./src/common/entity/compute_object_id.ts":
/*!************************************************!*\
  !*** ./src/common/entity/compute_object_id.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeObjectId: () => (/* binding */ computeObjectId)\n/* harmony export */ });\n/** Compute the object ID of a state. */\nconst computeObjectId = entityId => entityId.substr(entityId.indexOf(\".\") + 1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX29iamVjdF9pZC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9vYmplY3RfaWQudHM/M2U2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQ29tcHV0ZSB0aGUgb2JqZWN0IElEIG9mIGEgc3RhdGUuICovXG5leHBvcnQgY29uc3QgY29tcHV0ZU9iamVjdElkID0gKGVudGl0eUlkOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgZW50aXR5SWQuc3Vic3RyKGVudGl0eUlkLmluZGV4T2YoXCIuXCIpICsgMSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/entity/compute_object_id.ts\n");

/***/ }),

/***/ "./src/common/entity/compute_state_name.ts":
/*!*************************************************!*\
  !*** ./src/common/entity/compute_state_name.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeStateName: () => (/* binding */ computeStateName),\n/* harmony export */   computeStateNameFromEntityAttributes: () => (/* binding */ computeStateNameFromEntityAttributes)\n/* harmony export */ });\n/* harmony import */ var _compute_object_id__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compute_object_id */ \"./src/common/entity/compute_object_id.ts\");\n\nconst computeStateNameFromEntityAttributes = (entityId, attributes) => {\n  var _attributes$friendly_;\n  return attributes.friendly_name === undefined ? (0,_compute_object_id__WEBPACK_IMPORTED_MODULE_0__.computeObjectId)(entityId).replace(/_/g, \" \") : ((_attributes$friendly_ = attributes.friendly_name) !== null && _attributes$friendly_ !== void 0 ? _attributes$friendly_ : \"\").toString();\n};\nconst computeStateName = stateObj => computeStateNameFromEntityAttributes(stateObj.entity_id, stateObj.attributes);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFJQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWUudHM/OTQwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYXNzRW50aXR5IH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY29tcHV0ZU9iamVjdElkIH0gZnJvbSBcIi4vY29tcHV0ZV9vYmplY3RfaWRcIjtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVTdGF0ZU5hbWVGcm9tRW50aXR5QXR0cmlidXRlcyA9IChcbiAgZW50aXR5SWQ6IHN0cmluZyxcbiAgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfVxuKTogc3RyaW5nID0+XG4gIGF0dHJpYnV0ZXMuZnJpZW5kbHlfbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgPyBjb21wdXRlT2JqZWN0SWQoZW50aXR5SWQpLnJlcGxhY2UoL18vZywgXCIgXCIpXG4gICAgOiAoYXR0cmlidXRlcy5mcmllbmRseV9uYW1lID8/IFwiXCIpLnRvU3RyaW5nKCk7XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlU3RhdGVOYW1lID0gKHN0YXRlT2JqOiBIYXNzRW50aXR5KTogc3RyaW5nID0+XG4gIGNvbXB1dGVTdGF0ZU5hbWVGcm9tRW50aXR5QXR0cmlidXRlcyhzdGF0ZU9iai5lbnRpdHlfaWQsIHN0YXRlT2JqLmF0dHJpYnV0ZXMpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/entity/compute_state_name.ts\n");

/***/ }),

/***/ "./src/common/string/compare.ts":
/*!**************************************!*\
  !*** ./src/common/string/compare.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   caseInsensitiveStringCompare: () => (/* binding */ caseInsensitiveStringCompare),\n/* harmony export */   stringCompare: () => (/* binding */ stringCompare)\n/* harmony export */ });\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n\nconst collator = (0,memoize_one__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(language => new Intl.Collator(language));\nconst caseInsensitiveCollator = (0,memoize_one__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(language => new Intl.Collator(language, {\n  sensitivity: \"accent\"\n}));\nconst fallbackStringCompare = (a, b) => {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n};\nconst stringCompare = (a, b, language = undefined) => {\n  var _Intl;\n  // @ts-ignore\n  if ((_Intl = Intl) !== null && _Intl !== void 0 && _Intl.Collator) {\n    return collator(language).compare(a, b);\n  }\n  return fallbackStringCompare(a, b);\n};\nconst caseInsensitiveStringCompare = (a, b, language = undefined) => {\n  var _Intl2;\n  // @ts-ignore\n  if ((_Intl2 = Intl) !== null && _Intl2 !== void 0 && _Intl2.Collator) {\n    return caseInsensitiveCollator(language).compare(a, b);\n  }\n  return fallbackStringCompare(a.toLowerCase(), b.toLowerCase());\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3N0cmluZy9jb21wYXJlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFJQTtBQUVBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9zdHJpbmcvY29tcGFyZS50cz8yODhmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtZW1vaXplT25lIGZyb20gXCJtZW1vaXplLW9uZVwiO1xuXG5jb25zdCBjb2xsYXRvciA9IG1lbW9pemVPbmUoXG4gIChsYW5ndWFnZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiBuZXcgSW50bC5Db2xsYXRvcihsYW5ndWFnZSlcbik7XG5cbmNvbnN0IGNhc2VJbnNlbnNpdGl2ZUNvbGxhdG9yID0gbWVtb2l6ZU9uZShcbiAgKGxhbmd1YWdlOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+XG4gICAgbmV3IEludGwuQ29sbGF0b3IobGFuZ3VhZ2UsIHsgc2Vuc2l0aXZpdHk6IFwiYWNjZW50XCIgfSlcbik7XG5cbmNvbnN0IGZhbGxiYWNrU3RyaW5nQ29tcGFyZSA9IChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4ge1xuICBpZiAoYSA8IGIpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKGEgPiBiKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICByZXR1cm4gMDtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdDb21wYXJlID0gKFxuICBhOiBzdHJpbmcsXG4gIGI6IHN0cmluZyxcbiAgbGFuZ3VhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuKSA9PiB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgaWYgKEludGw/LkNvbGxhdG9yKSB7XG4gICAgcmV0dXJuIGNvbGxhdG9yKGxhbmd1YWdlKS5jb21wYXJlKGEsIGIpO1xuICB9XG5cbiAgcmV0dXJuIGZhbGxiYWNrU3RyaW5nQ29tcGFyZShhLCBiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYXNlSW5zZW5zaXRpdmVTdHJpbmdDb21wYXJlID0gKFxuICBhOiBzdHJpbmcsXG4gIGI6IHN0cmluZyxcbiAgbGFuZ3VhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZFxuKSA9PiB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgaWYgKEludGw/LkNvbGxhdG9yKSB7XG4gICAgcmV0dXJuIGNhc2VJbnNlbnNpdGl2ZUNvbGxhdG9yKGxhbmd1YWdlKS5jb21wYXJlKGEsIGIpO1xuICB9XG5cbiAgcmV0dXJuIGZhbGxiYWNrU3RyaW5nQ29tcGFyZShhLnRvTG93ZXJDYXNlKCksIGIudG9Mb3dlckNhc2UoKSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/string/compare.ts\n");

/***/ }),

/***/ "./src/common/url/search-params.ts":
/*!*****************************************!*\
  !*** ./src/common/url/search-params.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addSearchParam: () => (/* binding */ addSearchParam),\n/* harmony export */   createSearchParam: () => (/* binding */ createSearchParam),\n/* harmony export */   extractSearchParam: () => (/* binding */ extractSearchParam),\n/* harmony export */   extractSearchParamsObject: () => (/* binding */ extractSearchParamsObject),\n/* harmony export */   removeSearchParam: () => (/* binding */ removeSearchParam)\n/* harmony export */ });\n/* harmony import */ var _dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom/get_main_window */ \"./src/common/dom/get_main_window.ts\");\n\nconst extractSearchParamsObject = () => {\n  const query = {};\n  const searchParams = new URLSearchParams(_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.location.search);\n  for (const [key, value] of searchParams.entries()) {\n    query[key] = value;\n  }\n  return query;\n};\nconst extractSearchParam = param => {\n  const urlParams = new URLSearchParams(_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.location.search);\n  return urlParams.get(param);\n};\nconst createSearchParam = params => {\n  const urlParams = new URLSearchParams();\n  Object.entries(params).forEach(([key, value]) => {\n    urlParams.append(key, value);\n  });\n  return urlParams.toString();\n};\nconst addSearchParam = params => {\n  const urlParams = new URLSearchParams(_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.location.search);\n  Object.entries(params).forEach(([key, value]) => {\n    urlParams.set(key, value);\n  });\n  return urlParams.toString();\n};\nconst removeSearchParam = param => {\n  const urlParams = new URLSearchParams(_dom_get_main_window__WEBPACK_IMPORTED_MODULE_0__.mainWindow.location.search);\n  urlParams.delete(param);\n  return urlParams.toString();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3VybC9zZWFyY2gtcGFyYW1zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vdXJsL3NlYXJjaC1wYXJhbXMudHM/N2MzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWluV2luZG93IH0gZnJvbSBcIi4uL2RvbS9nZXRfbWFpbl93aW5kb3dcIjtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RTZWFyY2hQYXJhbXNPYmplY3QgPSAoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0ge307XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobWFpbldpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBxdWVyeTtcbn07XG5cbmV4cG9ydCBjb25zdCBleHRyYWN0U2VhcmNoUGFyYW0gPSAocGFyYW06IHN0cmluZyk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG1haW5XaW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgcmV0dXJuIHVybFBhcmFtcy5nZXQocGFyYW0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlYXJjaFBhcmFtID0gKHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICB1cmxQYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHVybFBhcmFtcy50b1N0cmluZygpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFNlYXJjaFBhcmFtID0gKHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobWFpbldpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHVybFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gdXJsUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlU2VhcmNoUGFyYW0gPSAocGFyYW06IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobWFpbldpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICB1cmxQYXJhbXMuZGVsZXRlKHBhcmFtKTtcbiAgcmV0dXJuIHVybFBhcmFtcy50b1N0cmluZygpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/url/search-params.ts\n");

/***/ }),

/***/ "./src/common/util/debounce.ts":
/*!*************************************!*\
  !*** ./src/common/util/debounce.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   debounce: () => (/* binding */ debounce)\n/* harmony export */ });\n// From: https://davidwalsh.name/javascript-debounce-function\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n\nconst debounce = (func, wait, immediate = false) => {\n  let timeout;\n  const debouncedFunc = (...args) => {\n    const later = () => {\n      timeout = undefined;\n      if (!immediate) {\n        func(...args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) {\n      func(...args);\n    }\n  };\n  debouncedFunc.cancel = () => {\n    clearTimeout(timeout);\n  };\n  return debouncedFunc;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvZGVib3VuY2UudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi91dGlsL2RlYm91bmNlLnRzP2E5YzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRnJvbTogaHR0cHM6Ly9kYXZpZHdhbHNoLm5hbWUvamF2YXNjcmlwdC1kZWJvdW5jZS1mdW5jdGlvblxuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4vLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4vLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbi8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG5cbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IDxUIGV4dGVuZHMgYW55W10+KFxuICBmdW5jOiAoLi4uYXJnczogVCkgPT4gdm9pZCxcbiAgd2FpdDogbnVtYmVyLFxuICBpbW1lZGlhdGUgPSBmYWxzZVxuKSA9PiB7XG4gIGxldCB0aW1lb3V0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IGRlYm91bmNlZEZ1bmMgPSAoLi4uYXJnczogVCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgdGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgIGlmIChjYWxsTm93KSB7XG4gICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgIH1cbiAgfTtcbiAgZGVib3VuY2VkRnVuYy5jYW5jZWwgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICB9O1xuICByZXR1cm4gZGVib3VuY2VkRnVuYztcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/util/debounce.ts\n");

/***/ }),

/***/ "./src/data/auth.ts":
/*!**************************!*\
  !*** ./src/data/auth.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminChangePassword: () => (/* binding */ adminChangePassword),\n/* harmony export */   autocompleteLoginFields: () => (/* binding */ autocompleteLoginFields),\n/* harmony export */   changePassword: () => (/* binding */ changePassword),\n/* harmony export */   createAuthForUser: () => (/* binding */ createAuthForUser),\n/* harmony export */   createLoginFlow: () => (/* binding */ createLoginFlow),\n/* harmony export */   deleteAllRefreshTokens: () => (/* binding */ deleteAllRefreshTokens),\n/* harmony export */   deleteLoginFlow: () => (/* binding */ deleteLoginFlow),\n/* harmony export */   fetchAuthProviders: () => (/* binding */ fetchAuthProviders),\n/* harmony export */   getSignedPath: () => (/* binding */ getSignedPath),\n/* harmony export */   hassUrl: () => (/* binding */ hassUrl),\n/* harmony export */   redirectWithAuthCode: () => (/* binding */ redirectWithAuthCode),\n/* harmony export */   submitLoginFlow: () => (/* binding */ submitLoginFlow)\n/* harmony export */ });\nconst hassUrl = `${location.protocol}//${location.host}`;\nconst autocompleteLoginFields = schema => schema.map(field => {\n  if (field.type !== \"string\") return field;\n  switch (field.name) {\n    case \"username\":\n      return {\n        ...field,\n        autocomplete: \"username\"\n      };\n    case \"password\":\n      return {\n        ...field,\n        autocomplete: \"current-password\"\n      };\n    case \"code\":\n      return {\n        ...field,\n        autocomplete: \"one-time-code\"\n      };\n    default:\n      return field;\n  }\n});\nconst getSignedPath = (hass, path) => hass.callWS({\n  type: \"auth/sign_path\",\n  path\n});\nconst fetchAuthProviders = () => fetch(\"/auth/providers\", {\n  credentials: \"same-origin\"\n});\nconst createLoginFlow = (client_id, redirect_uri, handler) => fetch(\"/auth/login_flow\", {\n  method: \"POST\",\n  credentials: \"same-origin\",\n  body: JSON.stringify({\n    client_id,\n    handler,\n    redirect_uri\n  })\n});\nconst submitLoginFlow = (flow_id, data) => fetch(`/auth/login_flow/${flow_id}`, {\n  method: \"POST\",\n  credentials: \"same-origin\",\n  body: JSON.stringify(data)\n});\nconst deleteLoginFlow = flow_id => fetch(`/auth/login_flow/${flow_id}`, {\n  method: \"DELETE\",\n  credentials: \"same-origin\"\n});\nconst redirectWithAuthCode = (url, authCode, oauth2State, storeToken) => {\n  // OAuth 2: 3.1.2 we need to retain query component of a redirect URI\n  if (!url.includes(\"?\")) {\n    url += \"?\";\n  } else if (!url.endsWith(\"&\")) {\n    url += \"&\";\n  }\n  url += `code=${encodeURIComponent(authCode)}`;\n  if (oauth2State) {\n    url += `&state=${encodeURIComponent(oauth2State)}`;\n  }\n  if (storeToken) {\n    url += `&storeToken=true`;\n  }\n  document.location.assign(url);\n};\nconst createAuthForUser = async (hass, userId, username, password) => hass.callWS({\n  type: \"config/auth_provider/homeassistant/create\",\n  user_id: userId,\n  username,\n  password\n});\nconst changePassword = (hass, current_password, new_password) => hass.callWS({\n  type: \"config/auth_provider/homeassistant/change_password\",\n  current_password,\n  new_password\n});\nconst adminChangePassword = (hass, userId, password) => hass.callWS({\n  type: \"config/auth_provider/homeassistant/admin_change_password\",\n  user_id: userId,\n  password\n});\nconst deleteAllRefreshTokens = (hass, token_type, delete_current_token) => hass.callWS({\n  type: \"auth/delete_all_refresh_tokens\",\n  token_type,\n  delete_current_token\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQXlCQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvYXV0aC50cz84ZjRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhhRm9ybVNjaGVtYSB9IGZyb20gXCIuLi9jb21wb25lbnRzL2hhLWZvcm0vdHlwZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IFJlZnJlc2hUb2tlblR5cGUgfSBmcm9tIFwiLi9yZWZyZXNoX3Rva2VuXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFVybFNlYXJjaFBhcmFtcyB7XG4gIGNsaWVudF9pZD86IHN0cmluZztcbiAgcmVkaXJlY3RfdXJpPzogc3RyaW5nO1xuICBzdGF0ZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRoUHJvdmlkZXIge1xuICBuYW1lOiBzdHJpbmc7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgdXNlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWRlbnRpYWwge1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2lnbmVkUGF0aCB7XG4gIHBhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGhhc3NVcmwgPSBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7bG9jYXRpb24uaG9zdH1gO1xuXG5leHBvcnQgY29uc3QgYXV0b2NvbXBsZXRlTG9naW5GaWVsZHMgPSAoc2NoZW1hOiBIYUZvcm1TY2hlbWFbXSkgPT5cbiAgc2NoZW1hLm1hcCgoZmllbGQpID0+IHtcbiAgICBpZiAoZmllbGQudHlwZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIGZpZWxkO1xuICAgIHN3aXRjaCAoZmllbGQubmFtZSkge1xuICAgICAgY2FzZSBcInVzZXJuYW1lXCI6XG4gICAgICAgIHJldHVybiB7IC4uLmZpZWxkLCBhdXRvY29tcGxldGU6IFwidXNlcm5hbWVcIiB9O1xuICAgICAgY2FzZSBcInBhc3N3b3JkXCI6XG4gICAgICAgIHJldHVybiB7IC4uLmZpZWxkLCBhdXRvY29tcGxldGU6IFwiY3VycmVudC1wYXNzd29yZFwiIH07XG4gICAgICBjYXNlIFwiY29kZVwiOlxuICAgICAgICByZXR1cm4geyAuLi5maWVsZCwgYXV0b2NvbXBsZXRlOiBcIm9uZS10aW1lLWNvZGVcIiB9O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH1cbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBnZXRTaWduZWRQYXRoID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBwYXRoOiBzdHJpbmdcbik6IFByb21pc2U8U2lnbmVkUGF0aD4gPT4gaGFzcy5jYWxsV1MoeyB0eXBlOiBcImF1dGgvc2lnbl9wYXRoXCIsIHBhdGggfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaEF1dGhQcm92aWRlcnMgPSAoKSA9PlxuICBmZXRjaChcIi9hdXRoL3Byb3ZpZGVyc1wiLCB7XG4gICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVMb2dpbkZsb3cgPSAoXG4gIGNsaWVudF9pZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICByZWRpcmVjdF91cmk6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgaGFuZGxlcjogKHN0cmluZyB8IG51bGwpW11cbikgPT5cbiAgZmV0Y2goXCIvYXV0aC9sb2dpbl9mbG93XCIsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGNyZWRlbnRpYWxzOiBcInNhbWUtb3JpZ2luXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgY2xpZW50X2lkLFxuICAgICAgaGFuZGxlcixcbiAgICAgIHJlZGlyZWN0X3VyaSxcbiAgICB9KSxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBzdWJtaXRMb2dpbkZsb3cgPSAoZmxvd19pZDogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PlxuICBmZXRjaChgL2F1dGgvbG9naW5fZmxvdy8ke2Zsb3dfaWR9YCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBkZWxldGVMb2dpbkZsb3cgPSAoZmxvd19pZCkgPT5cbiAgZmV0Y2goYC9hdXRoL2xvZ2luX2Zsb3cvJHtmbG93X2lkfWAsIHtcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCByZWRpcmVjdFdpdGhBdXRoQ29kZSA9IChcbiAgdXJsOiBzdHJpbmcsXG4gIGF1dGhDb2RlOiBzdHJpbmcsXG4gIG9hdXRoMlN0YXRlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHN0b3JlVG9rZW46IGJvb2xlYW5cbikgPT4ge1xuICAvLyBPQXV0aCAyOiAzLjEuMiB3ZSBuZWVkIHRvIHJldGFpbiBxdWVyeSBjb21wb25lbnQgb2YgYSByZWRpcmVjdCBVUklcbiAgaWYgKCF1cmwuaW5jbHVkZXMoXCI/XCIpKSB7XG4gICAgdXJsICs9IFwiP1wiO1xuICB9IGVsc2UgaWYgKCF1cmwuZW5kc1dpdGgoXCImXCIpKSB7XG4gICAgdXJsICs9IFwiJlwiO1xuICB9XG5cbiAgdXJsICs9IGBjb2RlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGF1dGhDb2RlKX1gO1xuXG4gIGlmIChvYXV0aDJTdGF0ZSkge1xuICAgIHVybCArPSBgJnN0YXRlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG9hdXRoMlN0YXRlKX1gO1xuICB9XG4gIGlmIChzdG9yZVRva2VuKSB7XG4gICAgdXJsICs9IGAmc3RvcmVUb2tlbj10cnVlYDtcbiAgfVxuXG4gIGRvY3VtZW50LmxvY2F0aW9uLmFzc2lnbih1cmwpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUF1dGhGb3JVc2VyID0gYXN5bmMgKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICB1c2VySWQ6IHN0cmluZyxcbiAgdXNlcm5hbWU6IHN0cmluZyxcbiAgcGFzc3dvcmQ6IHN0cmluZ1xuKSA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvYXV0aF9wcm92aWRlci9ob21lYXNzaXN0YW50L2NyZWF0ZVwiLFxuICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBjaGFuZ2VQYXNzd29yZCA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgY3VycmVudF9wYXNzd29yZDogc3RyaW5nLFxuICBuZXdfcGFzc3dvcmQ6IHN0cmluZ1xuKSA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvYXV0aF9wcm92aWRlci9ob21lYXNzaXN0YW50L2NoYW5nZV9wYXNzd29yZFwiLFxuICAgIGN1cnJlbnRfcGFzc3dvcmQsXG4gICAgbmV3X3Bhc3N3b3JkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGFkbWluQ2hhbmdlUGFzc3dvcmQgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHVzZXJJZDogc3RyaW5nLFxuICBwYXNzd29yZDogc3RyaW5nXG4pID0+XG4gIGhhc3MuY2FsbFdTPHZvaWQ+KHtcbiAgICB0eXBlOiBcImNvbmZpZy9hdXRoX3Byb3ZpZGVyL2hvbWVhc3Npc3RhbnQvYWRtaW5fY2hhbmdlX3Bhc3N3b3JkXCIsXG4gICAgdXNlcl9pZDogdXNlcklkLFxuICAgIHBhc3N3b3JkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZUFsbFJlZnJlc2hUb2tlbnMgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHRva2VuX3R5cGU/OiBSZWZyZXNoVG9rZW5UeXBlLFxuICBkZWxldGVfY3VycmVudF90b2tlbj86IGJvb2xlYW5cbikgPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiYXV0aC9kZWxldGVfYWxsX3JlZnJlc2hfdG9rZW5zXCIsXG4gICAgdG9rZW5fdHlwZSxcbiAgICBkZWxldGVfY3VycmVudF90b2tlbixcbiAgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/auth.ts\n");

/***/ }),

/***/ "./src/data/collection.ts":
/*!********************************!*\
  !*** ./src/data/collection.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOptimisticCollection: () => (/* binding */ getOptimisticCollection)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\n/**\n * Create an optimistic collection that includes a save function.\n * When the collection is saved, the collection is optimistically updated.\n * The update is reversed when the update failed.\n */\n\nconst getOptimisticCollection = (saveCollection, conn, key, fetchCollection, subscribeUpdates) => {\n  const updateKey = `${key}-optimistic`;\n  const collection = (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.getCollection)(conn, key, fetchCollection, async (_conn, store) => {\n    // Subscribe to original updates\n    const subUpResult = subscribeUpdates ? subscribeUpdates(conn, store) : undefined;\n    // Store the store\n    conn[updateKey] = store;\n\n    // Unsub function to undo both\n    return () => {\n      if (subUpResult) {\n        subUpResult.then(unsub => unsub());\n      }\n      conn[updateKey] = undefined;\n    };\n  });\n  return {\n    ...collection,\n    async save(data) {\n      const store = conn[updateKey];\n      let current;\n\n      // Can be undefined if currently no subscribers\n      if (store) {\n        current = store.state;\n        store.setState(data, true);\n      }\n      try {\n        return await saveCollection(conn, data);\n      } catch (err) {\n        if (store) {\n          store.setState(current, true);\n        }\n        throw err;\n      }\n    }\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9jb2xsZWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBVUE7QUFFQTtBQUtBO0FBQ0E7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9jb2xsZWN0aW9uLnRzPzExM2QiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29sbGVjdGlvbixcbiAgQ29ubmVjdGlvbixcbiAgZ2V0Q29sbGVjdGlvbixcbiAgVW5zdWJzY3JpYmVGdW5jLFxufSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zdG9yZVwiO1xuXG5pbnRlcmZhY2UgT3B0aW1pc3RpY0NvbGxlY3Rpb248VD4gZXh0ZW5kcyBDb2xsZWN0aW9uPFQ+IHtcbiAgc2F2ZShkYXRhOiBUKTogUHJvbWlzZTx1bmtub3duPjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gb3B0aW1pc3RpYyBjb2xsZWN0aW9uIHRoYXQgaW5jbHVkZXMgYSBzYXZlIGZ1bmN0aW9uLlxuICogV2hlbiB0aGUgY29sbGVjdGlvbiBpcyBzYXZlZCwgdGhlIGNvbGxlY3Rpb24gaXMgb3B0aW1pc3RpY2FsbHkgdXBkYXRlZC5cbiAqIFRoZSB1cGRhdGUgaXMgcmV2ZXJzZWQgd2hlbiB0aGUgdXBkYXRlIGZhaWxlZC5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0T3B0aW1pc3RpY0NvbGxlY3Rpb24gPSA8U3RhdGVUeXBlPihcbiAgc2F2ZUNvbGxlY3Rpb246IChjb25uMjogQ29ubmVjdGlvbiwgZGF0YTogU3RhdGVUeXBlKSA9PiBQcm9taXNlPHVua25vd24+LFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBrZXk6IHN0cmluZyxcbiAgZmV0Y2hDb2xsZWN0aW9uOiAoY29ubjI6IENvbm5lY3Rpb24pID0+IFByb21pc2U8U3RhdGVUeXBlPixcbiAgc3Vic2NyaWJlVXBkYXRlcz86IChcbiAgICBjb25uMjogQ29ubmVjdGlvbixcbiAgICBzdG9yZTogU3RvcmU8U3RhdGVUeXBlPlxuICApID0+IFByb21pc2U8VW5zdWJzY3JpYmVGdW5jPlxuKTogT3B0aW1pc3RpY0NvbGxlY3Rpb248U3RhdGVUeXBlPiA9PiB7XG4gIGNvbnN0IHVwZGF0ZUtleSA9IGAke2tleX0tb3B0aW1pc3RpY2A7XG5cbiAgY29uc3QgY29sbGVjdGlvbiA9IGdldENvbGxlY3Rpb248U3RhdGVUeXBlPihcbiAgICBjb25uLFxuICAgIGtleSxcbiAgICBmZXRjaENvbGxlY3Rpb24sXG4gICAgYXN5bmMgKF9jb25uLCBzdG9yZSkgPT4ge1xuICAgICAgLy8gU3Vic2NyaWJlIHRvIG9yaWdpbmFsIHVwZGF0ZXNcbiAgICAgIGNvbnN0IHN1YlVwUmVzdWx0ID0gc3Vic2NyaWJlVXBkYXRlc1xuICAgICAgICA/IHN1YnNjcmliZVVwZGF0ZXMoY29ubiwgc3RvcmUpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgLy8gU3RvcmUgdGhlIHN0b3JlXG4gICAgICBjb25uW3VwZGF0ZUtleV0gPSBzdG9yZTtcblxuICAgICAgLy8gVW5zdWIgZnVuY3Rpb24gdG8gdW5kbyBib3RoXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoc3ViVXBSZXN1bHQpIHtcbiAgICAgICAgICBzdWJVcFJlc3VsdC50aGVuKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29ublt1cGRhdGVLZXldID0gdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG4gICk7XG4gIHJldHVybiB7XG4gICAgLi4uY29sbGVjdGlvbixcbiAgICBhc3luYyBzYXZlKGRhdGE6IFN0YXRlVHlwZSkge1xuICAgICAgY29uc3Qgc3RvcmU6IFN0b3JlPFN0YXRlVHlwZT4gfCB1bmRlZmluZWQgPSBjb25uW3VwZGF0ZUtleV07XG4gICAgICBsZXQgY3VycmVudDtcblxuICAgICAgLy8gQ2FuIGJlIHVuZGVmaW5lZCBpZiBjdXJyZW50bHkgbm8gc3Vic2NyaWJlcnNcbiAgICAgIGlmIChzdG9yZSkge1xuICAgICAgICBjdXJyZW50ID0gc3RvcmUuc3RhdGU7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKGRhdGEsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgc2F2ZUNvbGxlY3Rpb24oY29ubiwgZGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBpZiAoc3RvcmUpIHtcbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShjdXJyZW50IGFzIGFueSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/collection.ts\n");

/***/ }),

/***/ "./src/data/entity_registry.ts":
/*!*************************************!*\
  !*** ./src/data/entity_registry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeEntityRegistryName: () => (/* binding */ computeEntityRegistryName),\n/* harmony export */   entityRegistryByEntityId: () => (/* binding */ entityRegistryByEntityId),\n/* harmony export */   entityRegistryById: () => (/* binding */ entityRegistryById),\n/* harmony export */   fetchEntityRegistry: () => (/* binding */ fetchEntityRegistry),\n/* harmony export */   fetchEntityRegistryDisplay: () => (/* binding */ fetchEntityRegistryDisplay),\n/* harmony export */   findBatteryChargingEntity: () => (/* binding */ findBatteryChargingEntity),\n/* harmony export */   findBatteryEntity: () => (/* binding */ findBatteryEntity),\n/* harmony export */   getEntityPlatformLookup: () => (/* binding */ getEntityPlatformLookup),\n/* harmony export */   getExtendedEntityRegistryEntries: () => (/* binding */ getExtendedEntityRegistryEntries),\n/* harmony export */   getExtendedEntityRegistryEntry: () => (/* binding */ getExtendedEntityRegistryEntry),\n/* harmony export */   removeEntityRegistryEntry: () => (/* binding */ removeEntityRegistryEntry),\n/* harmony export */   sortEntityRegistryByName: () => (/* binding */ sortEntityRegistryByName),\n/* harmony export */   subscribeEntityRegistry: () => (/* binding */ subscribeEntityRegistry),\n/* harmony export */   subscribeEntityRegistryDisplay: () => (/* reexport safe */ _ws_entity_registry_display__WEBPACK_IMPORTED_MODULE_4__.subscribeEntityRegistryDisplay),\n/* harmony export */   updateEntityRegistryEntry: () => (/* binding */ updateEntityRegistryEntry)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_string_compare__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/string/compare */ \"./src/common/string/compare.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _ws_entity_registry_display__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ws-entity_registry_display */ \"./src/data/ws-entity_registry_display.ts\");\n\n\n\n\n\n\n\nconst batteryPriorities = [\"sensor\", \"binary_sensor\"];\nconst findBatteryEntity = (hass, entities) => {\n  const batteryEntities = entities.filter(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery\" && batteryPriorities.includes((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(entity.entity_id))).sort((a, b) => batteryPriorities.indexOf((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(a.entity_id)) - batteryPriorities.indexOf((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_3__.computeDomain)(b.entity_id)));\n  if (batteryEntities.length > 0) {\n    return batteryEntities[0];\n  }\n  return undefined;\n};\nconst findBatteryChargingEntity = (hass, entities) => entities.find(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery_charging\");\nconst computeEntityRegistryName = (hass, entry) => {\n  if (entry.name) {\n    return entry.name;\n  }\n  const state = hass.states[entry.entity_id];\n  if (state) {\n    return (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__.computeStateName)(state);\n  }\n  return entry.original_name ? entry.original_name : entry.entity_id;\n};\nconst getExtendedEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/get\",\n  entity_id: entityId\n});\nconst getExtendedEntityRegistryEntries = (hass, entityIds) => hass.callWS({\n  type: \"config/entity_registry/get_entries\",\n  entity_ids: entityIds\n});\nconst updateEntityRegistryEntry = (hass, entityId, updates) => hass.callWS({\n  type: \"config/entity_registry/update\",\n  entity_id: entityId,\n  ...updates\n});\nconst removeEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/remove\",\n  entity_id: entityId\n});\nconst fetchEntityRegistry = conn => conn.sendMessagePromise({\n  type: \"config/entity_registry/list\"\n});\nconst fetchEntityRegistryDisplay = conn => conn.sendMessagePromise({\n  type: \"config/entity_registry/list_for_display\"\n});\nconst subscribeEntityRegistryUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_2__.debounce)(() => fetchEntityRegistry(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\nconst subscribeEntityRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_5__.createCollection)(\"_entityRegistry\", fetchEntityRegistry, subscribeEntityRegistryUpdates, conn, onChange);\nconst sortEntityRegistryByName = (entries, language) => entries.sort((entry1, entry2) => (0,_common_string_compare__WEBPACK_IMPORTED_MODULE_1__.caseInsensitiveStringCompare)(entry1.name || \"\", entry2.name || \"\", language));\nconst entityRegistryByEntityId = (0,memoize_one__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(entries => {\n  const entities = {};\n  for (const entity of entries) {\n    entities[entity.entity_id] = entity;\n  }\n  return entities;\n});\nconst entityRegistryById = (0,memoize_one__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(entries => {\n  const entities = {};\n  for (const entity of entries) {\n    entities[entity.id] = entity;\n  }\n  return entities;\n});\nconst getEntityPlatformLookup = entities => {\n  const entityLookup = {};\n  for (const confEnt of entities) {\n    if (!confEnt.platform) {\n      continue;\n    }\n    entityLookup[confEnt.entity_id] = confEnt.platform;\n  }\n  return entityLookup;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9lbnRpdHlfcmVnaXN0cnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBK0hBO0FBQ0E7QUFJQTtBQVlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQVdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBZ0JBO0FBWUE7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL2VudGl0eV9yZWdpc3RyeS50cz9hZTczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zdG9yZVwiO1xuaW1wb3J0IG1lbW9pemVPbmUgZnJvbSBcIm1lbW9pemUtb25lXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVOYW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9zdGF0ZV9uYW1lXCI7XG5pbXBvcnQgeyBjYXNlSW5zZW5zaXRpdmVTdHJpbmdDb21wYXJlIH0gZnJvbSBcIi4uL2NvbW1vbi9zdHJpbmcvY29tcGFyZVwiO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vY29tbW9uL3V0aWwvZGVib3VuY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IExpZ2h0Q29sb3IgfSBmcm9tIFwiLi9saWdodFwiO1xuaW1wb3J0IHsgY29tcHV0ZURvbWFpbiB9IGZyb20gXCIuLi9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluXCI7XG5cbmV4cG9ydCB7IHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5RGlzcGxheSB9IGZyb20gXCIuL3dzLWVudGl0eV9yZWdpc3RyeV9kaXNwbGF5XCI7XG5cbnR5cGUgZW50aXR5Q2F0ZWdvcnkgPSBcImNvbmZpZ1wiIHwgXCJkaWFnbm9zdGljXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5UmVnaXN0cnlEaXNwbGF5RW50cnkge1xuICBlbnRpdHlfaWQ6IHN0cmluZztcbiAgbmFtZT86IHN0cmluZztcbiAgaWNvbj86IHN0cmluZztcbiAgZGV2aWNlX2lkPzogc3RyaW5nO1xuICBhcmVhX2lkPzogc3RyaW5nO1xuICBoaWRkZW4/OiBib29sZWFuO1xuICBlbnRpdHlfY2F0ZWdvcnk/OiBlbnRpdHlDYXRlZ29yeTtcbiAgdHJhbnNsYXRpb25fa2V5Pzogc3RyaW5nO1xuICBwbGF0Zm9ybT86IHN0cmluZztcbiAgZGlzcGxheV9wcmVjaXNpb24/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW50aXR5UmVnaXN0cnlEaXNwbGF5RW50cnlSZXNwb25zZSB7XG4gIGVudGl0aWVzOiB7XG4gICAgZWk6IHN0cmluZztcbiAgICBkaT86IHN0cmluZztcbiAgICBhaT86IHN0cmluZztcbiAgICBlYz86IG51bWJlcjtcbiAgICBlbj86IHN0cmluZztcbiAgICBpYz86IHN0cmluZztcbiAgICBwbD86IHN0cmluZztcbiAgICB0az86IHN0cmluZztcbiAgICBoYj86IGJvb2xlYW47XG4gICAgZHA/OiBudW1iZXI7XG4gIH1bXTtcbiAgZW50aXR5X2NhdGVnb3JpZXM6IFJlY29yZDxudW1iZXIsIGVudGl0eUNhdGVnb3J5Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlSZWdpc3RyeUVudHJ5IHtcbiAgaWQ6IHN0cmluZztcbiAgZW50aXR5X2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XG4gIGljb246IHN0cmluZyB8IG51bGw7XG4gIHBsYXRmb3JtOiBzdHJpbmc7XG4gIGNvbmZpZ19lbnRyeV9pZDogc3RyaW5nIHwgbnVsbDtcbiAgZGV2aWNlX2lkOiBzdHJpbmcgfCBudWxsO1xuICBhcmVhX2lkOiBzdHJpbmcgfCBudWxsO1xuICBkaXNhYmxlZF9ieTogXCJ1c2VyXCIgfCBcImRldmljZVwiIHwgXCJpbnRlZ3JhdGlvblwiIHwgXCJjb25maWdfZW50cnlcIiB8IG51bGw7XG4gIGhpZGRlbl9ieTogRXhjbHVkZTxFbnRpdHlSZWdpc3RyeUVudHJ5W1wiZGlzYWJsZWRfYnlcIl0sIFwiY29uZmlnX2VudHJ5XCI+O1xuICBlbnRpdHlfY2F0ZWdvcnk6IGVudGl0eUNhdGVnb3J5IHwgbnVsbDtcbiAgaGFzX2VudGl0eV9uYW1lOiBib29sZWFuO1xuICBvcmlnaW5hbF9uYW1lPzogc3RyaW5nO1xuICB1bmlxdWVfaWQ6IHN0cmluZztcbiAgdHJhbnNsYXRpb25fa2V5Pzogc3RyaW5nO1xuICBvcHRpb25zOiBFbnRpdHlSZWdpc3RyeU9wdGlvbnMgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4dEVudGl0eVJlZ2lzdHJ5RW50cnkgZXh0ZW5kcyBFbnRpdHlSZWdpc3RyeUVudHJ5IHtcbiAgY2FwYWJpbGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgb3JpZ2luYWxfaWNvbj86IHN0cmluZztcbiAgZGV2aWNlX2NsYXNzPzogc3RyaW5nO1xuICBvcmlnaW5hbF9kZXZpY2VfY2xhc3M/OiBzdHJpbmc7XG4gIGFsaWFzZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUVudGl0eVJlZ2lzdHJ5RW50cnlSZXN1bHQge1xuICBlbnRpdHlfZW50cnk6IEV4dEVudGl0eVJlZ2lzdHJ5RW50cnk7XG4gIHJlbG9hZF9kZWxheT86IG51bWJlcjtcbiAgcmVxdWlyZV9yZXN0YXJ0PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZW5zb3JFbnRpdHlPcHRpb25zIHtcbiAgZGlzcGxheV9wcmVjaXNpb24/OiBudW1iZXIgfCBudWxsO1xuICBzdWdnZXN0ZWRfZGlzcGxheV9wcmVjaXNpb24/OiBudW1iZXIgfCBudWxsO1xuICB1bml0X29mX21lYXN1cmVtZW50Pzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaWdodEVudGl0eU9wdGlvbnMge1xuICBmYXZvcml0ZV9jb2xvcnM/OiBMaWdodENvbG9yW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTnVtYmVyRW50aXR5T3B0aW9ucyB7XG4gIHVuaXRfb2ZfbWVhc3VyZW1lbnQ/OiBzdHJpbmcgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvY2tFbnRpdHlPcHRpb25zIHtcbiAgZGVmYXVsdF9jb2RlPzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWF0aGVyRW50aXR5T3B0aW9ucyB7XG4gIHByZWNpcGl0YXRpb25fdW5pdD86IHN0cmluZyB8IG51bGw7XG4gIHByZXNzdXJlX3VuaXQ/OiBzdHJpbmcgfCBudWxsO1xuICB0ZW1wZXJhdHVyZV91bml0Pzogc3RyaW5nIHwgbnVsbDtcbiAgdmlzaWJpbGl0eV91bml0Pzogc3RyaW5nIHwgbnVsbDtcbiAgd2luZF9zcGVlZF91bml0Pzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTd2l0Y2hBc1hFbnRpdHlPcHRpb25zIHtcbiAgZW50aXR5X2lkOiBzdHJpbmc7XG4gIGludmVydDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlSZWdpc3RyeU9wdGlvbnMge1xuICBudW1iZXI/OiBOdW1iZXJFbnRpdHlPcHRpb25zO1xuICBzZW5zb3I/OiBTZW5zb3JFbnRpdHlPcHRpb25zO1xuICBsb2NrPzogTG9ja0VudGl0eU9wdGlvbnM7XG4gIHdlYXRoZXI/OiBXZWF0aGVyRW50aXR5T3B0aW9ucztcbiAgbGlnaHQ/OiBMaWdodEVudGl0eU9wdGlvbnM7XG4gIHN3aXRjaF9hc194PzogU3dpdGNoQXNYRW50aXR5T3B0aW9ucztcbiAgY29udmVyc2F0aW9uPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIFwiY2xvdWQuYWxleGFcIj86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBcImNsb3VkLmdvb2dsZV9hc3Npc3RhbnRcIj86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVudGl0eVJlZ2lzdHJ5RW50cnlVcGRhdGVQYXJhbXMge1xuICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgaWNvbj86IHN0cmluZyB8IG51bGw7XG4gIGRldmljZV9jbGFzcz86IHN0cmluZyB8IG51bGw7XG4gIGFyZWFfaWQ/OiBzdHJpbmcgfCBudWxsO1xuICBkaXNhYmxlZF9ieT86IHN0cmluZyB8IG51bGw7XG4gIGhpZGRlbl9ieTogc3RyaW5nIHwgbnVsbDtcbiAgbmV3X2VudGl0eV9pZD86IHN0cmluZztcbiAgb3B0aW9uc19kb21haW4/OiBzdHJpbmc7XG4gIG9wdGlvbnM/OlxuICAgIHwgU2Vuc29yRW50aXR5T3B0aW9uc1xuICAgIHwgTnVtYmVyRW50aXR5T3B0aW9uc1xuICAgIHwgTG9ja0VudGl0eU9wdGlvbnNcbiAgICB8IFdlYXRoZXJFbnRpdHlPcHRpb25zXG4gICAgfCBMaWdodEVudGl0eU9wdGlvbnM7XG4gIGFsaWFzZXM/OiBzdHJpbmdbXTtcbn1cblxuY29uc3QgYmF0dGVyeVByaW9yaXRpZXMgPSBbXCJzZW5zb3JcIiwgXCJiaW5hcnlfc2Vuc29yXCJdO1xuZXhwb3J0IGNvbnN0IGZpbmRCYXR0ZXJ5RW50aXR5ID0gPFQgZXh0ZW5kcyB7IGVudGl0eV9pZDogc3RyaW5nIH0+KFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdGllczogVFtdXG4pOiBUIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3QgYmF0dGVyeUVudGl0aWVzID0gZW50aXRpZXNcbiAgICAuZmlsdGVyKFxuICAgICAgKGVudGl0eSkgPT5cbiAgICAgICAgaGFzcy5zdGF0ZXNbZW50aXR5LmVudGl0eV9pZF0gJiZcbiAgICAgICAgaGFzcy5zdGF0ZXNbZW50aXR5LmVudGl0eV9pZF0uYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MgPT09IFwiYmF0dGVyeVwiICYmXG4gICAgICAgIGJhdHRlcnlQcmlvcml0aWVzLmluY2x1ZGVzKGNvbXB1dGVEb21haW4oZW50aXR5LmVudGl0eV9pZCkpXG4gICAgKVxuICAgIC5zb3J0KFxuICAgICAgKGEsIGIpID0+XG4gICAgICAgIGJhdHRlcnlQcmlvcml0aWVzLmluZGV4T2YoY29tcHV0ZURvbWFpbihhLmVudGl0eV9pZCkpIC1cbiAgICAgICAgYmF0dGVyeVByaW9yaXRpZXMuaW5kZXhPZihjb21wdXRlRG9tYWluKGIuZW50aXR5X2lkKSlcbiAgICApO1xuICBpZiAoYmF0dGVyeUVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gYmF0dGVyeUVudGl0aWVzWzBdO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBmaW5kQmF0dGVyeUNoYXJnaW5nRW50aXR5ID0gPFQgZXh0ZW5kcyB7IGVudGl0eV9pZDogc3RyaW5nIH0+KFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdGllczogVFtdXG4pOiBUIHwgdW5kZWZpbmVkID0+XG4gIGVudGl0aWVzLmZpbmQoXG4gICAgKGVudGl0eSkgPT5cbiAgICAgIGhhc3Muc3RhdGVzW2VudGl0eS5lbnRpdHlfaWRdICYmXG4gICAgICBoYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXS5hdHRyaWJ1dGVzLmRldmljZV9jbGFzcyA9PT1cbiAgICAgICAgXCJiYXR0ZXJ5X2NoYXJnaW5nXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGNvbXB1dGVFbnRpdHlSZWdpc3RyeU5hbWUgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudHJ5OiBFbnRpdHlSZWdpc3RyeUVudHJ5XG4pOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgaWYgKGVudHJ5Lm5hbWUpIHtcbiAgICByZXR1cm4gZW50cnkubmFtZTtcbiAgfVxuICBjb25zdCBzdGF0ZSA9IGhhc3Muc3RhdGVzW2VudHJ5LmVudGl0eV9pZF07XG4gIGlmIChzdGF0ZSkge1xuICAgIHJldHVybiBjb21wdXRlU3RhdGVOYW1lKHN0YXRlKTtcbiAgfVxuICByZXR1cm4gZW50cnkub3JpZ2luYWxfbmFtZSA/IGVudHJ5Lm9yaWdpbmFsX25hbWUgOiBlbnRyeS5lbnRpdHlfaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RXh0ZW5kZWRFbnRpdHlSZWdpc3RyeUVudHJ5ID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nXG4pOiBQcm9taXNlPEV4dEVudGl0eVJlZ2lzdHJ5RW50cnk+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcImNvbmZpZy9lbnRpdHlfcmVnaXN0cnkvZ2V0XCIsXG4gICAgZW50aXR5X2lkOiBlbnRpdHlJZCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBnZXRFeHRlbmRlZEVudGl0eVJlZ2lzdHJ5RW50cmllcyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXR5SWRzOiBzdHJpbmdbXVxuKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBFeHRFbnRpdHlSZWdpc3RyeUVudHJ5Pj4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS9nZXRfZW50cmllc1wiLFxuICAgIGVudGl0eV9pZHM6IGVudGl0eUlkcyxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVFbnRpdHlSZWdpc3RyeUVudHJ5ID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRpdHlJZDogc3RyaW5nLFxuICB1cGRhdGVzOiBQYXJ0aWFsPEVudGl0eVJlZ2lzdHJ5RW50cnlVcGRhdGVQYXJhbXM+XG4pOiBQcm9taXNlPFVwZGF0ZUVudGl0eVJlZ2lzdHJ5RW50cnlSZXN1bHQ+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcImNvbmZpZy9lbnRpdHlfcmVnaXN0cnkvdXBkYXRlXCIsXG4gICAgZW50aXR5X2lkOiBlbnRpdHlJZCxcbiAgICAuLi51cGRhdGVzLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUVudGl0eVJlZ2lzdHJ5RW50cnkgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmdcbik6IFByb21pc2U8dm9pZD4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS9yZW1vdmVcIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGZldGNoRW50aXR5UmVnaXN0cnkgPSAoY29ubjogQ29ubmVjdGlvbikgPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2U8RW50aXR5UmVnaXN0cnlFbnRyeVtdPih7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L2xpc3RcIixcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaEVudGl0eVJlZ2lzdHJ5RGlzcGxheSA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTxFbnRpdHlSZWdpc3RyeURpc3BsYXlFbnRyeVJlc3BvbnNlPih7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L2xpc3RfZm9yX2Rpc3BsYXlcIixcbiAgfSk7XG5cbmNvbnN0IHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5VXBkYXRlcyA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgc3RvcmU6IFN0b3JlPEVudGl0eVJlZ2lzdHJ5RW50cnlbXT5cbikgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgZGVib3VuY2UoXG4gICAgICAoKSA9PlxuICAgICAgICBmZXRjaEVudGl0eVJlZ2lzdHJ5KGNvbm4pLnRoZW4oKGVudGl0aWVzKSA9PlxuICAgICAgICAgIHN0b3JlLnNldFN0YXRlKGVudGl0aWVzLCB0cnVlKVxuICAgICAgICApLFxuICAgICAgNTAwLFxuICAgICAgdHJ1ZVxuICAgICksXG4gICAgXCJlbnRpdHlfcmVnaXN0cnlfdXBkYXRlZFwiXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeSA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgb25DaGFuZ2U6IChlbnRpdGllczogRW50aXR5UmVnaXN0cnlFbnRyeVtdKSA9PiB2b2lkXG4pID0+XG4gIGNyZWF0ZUNvbGxlY3Rpb248RW50aXR5UmVnaXN0cnlFbnRyeVtdPihcbiAgICBcIl9lbnRpdHlSZWdpc3RyeVwiLFxuICAgIGZldGNoRW50aXR5UmVnaXN0cnksXG4gICAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlVcGRhdGVzLFxuICAgIGNvbm4sXG4gICAgb25DaGFuZ2VcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHNvcnRFbnRpdHlSZWdpc3RyeUJ5TmFtZSA9IChcbiAgZW50cmllczogRW50aXR5UmVnaXN0cnlFbnRyeVtdLFxuICBsYW5ndWFnZTogc3RyaW5nXG4pID0+XG4gIGVudHJpZXMuc29ydCgoZW50cnkxLCBlbnRyeTIpID0+XG4gICAgY2FzZUluc2Vuc2l0aXZlU3RyaW5nQ29tcGFyZShlbnRyeTEubmFtZSB8fCBcIlwiLCBlbnRyeTIubmFtZSB8fCBcIlwiLCBsYW5ndWFnZSlcbiAgKTtcblxuZXhwb3J0IGNvbnN0IGVudGl0eVJlZ2lzdHJ5QnlFbnRpdHlJZCA9IG1lbW9pemVPbmUoXG4gIChlbnRyaWVzOiBFbnRpdHlSZWdpc3RyeUVudHJ5W10pID0+IHtcbiAgICBjb25zdCBlbnRpdGllczogUmVjb3JkPHN0cmluZywgRW50aXR5UmVnaXN0cnlFbnRyeT4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBlbnRyaWVzKSB7XG4gICAgICBlbnRpdGllc1tlbnRpdHkuZW50aXR5X2lkXSA9IGVudGl0eTtcbiAgICB9XG4gICAgcmV0dXJuIGVudGl0aWVzO1xuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgZW50aXR5UmVnaXN0cnlCeUlkID0gbWVtb2l6ZU9uZShcbiAgKGVudHJpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSkgPT4ge1xuICAgIGNvbnN0IGVudGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCBFbnRpdHlSZWdpc3RyeUVudHJ5PiA9IHt9O1xuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGVudHJpZXMpIHtcbiAgICAgIGVudGl0aWVzW2VudGl0eS5pZF0gPSBlbnRpdHk7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdGllcztcbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IGdldEVudGl0eVBsYXRmb3JtTG9va3VwID0gKFxuICBlbnRpdGllczogRW50aXR5UmVnaXN0cnlFbnRyeVtdXG4pOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0+IHtcbiAgY29uc3QgZW50aXR5TG9va3VwID0ge307XG4gIGZvciAoY29uc3QgY29uZkVudCBvZiBlbnRpdGllcykge1xuICAgIGlmICghY29uZkVudC5wbGF0Zm9ybSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGVudGl0eUxvb2t1cFtjb25mRW50LmVudGl0eV9pZF0gPSBjb25mRW50LnBsYXRmb3JtO1xuICB9XG4gIHJldHVybiBlbnRpdHlMb29rdXA7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/entity_registry.ts\n");

/***/ }),

/***/ "./src/data/external.ts":
/*!******************************!*\
  !*** ./src/data/external.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isExternal: () => (/* binding */ isExternal)\n/* harmony export */ });\nvar _window$webkit;\nconst isExternal = window.externalApp || ((_window$webkit = window.webkit) === null || _window$webkit === void 0 || (_window$webkit = _window$webkit.messageHandlers) === null || _window$webkit === void 0 ? void 0 : _window$webkit.getExternalAuth) || location.search.includes(\"external_auth=1\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9leHRlcm5hbC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9leHRlcm5hbC50cz82ZWQwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpc0V4dGVybmFsID1cbiAgd2luZG93LmV4dGVybmFsQXBwIHx8XG4gIHdpbmRvdy53ZWJraXQ/Lm1lc3NhZ2VIYW5kbGVycz8uZ2V0RXh0ZXJuYWxBdXRoIHx8XG4gIGxvY2F0aW9uLnNlYXJjaC5pbmNsdWRlcyhcImV4dGVybmFsX2F1dGg9MVwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/external.ts\n");

/***/ }),

/***/ "./src/data/frontend.ts":
/*!******************************!*\
  !*** ./src/data/frontend.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchFrontendUserData: () => (/* binding */ fetchFrontendUserData),\n/* harmony export */   getOptimisticFrontendUserDataCollection: () => (/* binding */ getOptimisticFrontendUserDataCollection),\n/* harmony export */   saveFrontendUserData: () => (/* binding */ saveFrontendUserData),\n/* harmony export */   subscribeFrontendUserData: () => (/* binding */ subscribeFrontendUserData)\n/* harmony export */ });\n/* harmony import */ var _collection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collection */ \"./src/data/collection.ts\");\n\nconst fetchFrontendUserData = async (conn, key) => {\n  const result = await conn.sendMessagePromise({\n    type: \"frontend/get_user_data\",\n    key\n  });\n  return result.value;\n};\nconst saveFrontendUserData = async (conn, key, value) => conn.sendMessagePromise({\n  type: \"frontend/set_user_data\",\n  key,\n  value\n});\nconst getOptimisticFrontendUserDataCollection = (conn, userDataKey) => (0,_collection__WEBPACK_IMPORTED_MODULE_0__.getOptimisticCollection)((_conn, data) => saveFrontendUserData(conn, userDataKey,\n// @ts-ignore\ndata), conn, `_frontendUserData-${userDataKey}`, () => fetchFrontendUserData(conn, userDataKey));\nconst subscribeFrontendUserData = (conn, userDataKey, onChange) => getOptimisticFrontendUserDataCollection(conn, userDataKey).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9mcm9udGVuZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBY0E7QUFNQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFXQTtBQUNBO0FBT0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL2Zyb250ZW5kLnRzPzMyMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbiB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IGdldE9wdGltaXN0aWNDb2xsZWN0aW9uIH0gZnJvbSBcIi4vY29sbGVjdGlvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvcmVGcm9udGVuZFVzZXJEYXRhIHtcbiAgc2hvd0FkdmFuY2VkPzogYm9vbGVhbjtcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgRnJvbnRlbmRVc2VyRGF0YSB7XG4gICAgY29yZTogQ29yZUZyb250ZW5kVXNlckRhdGE7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgVmFsaWRVc2VyRGF0YUtleSA9IGtleW9mIEZyb250ZW5kVXNlckRhdGE7XG5cbmV4cG9ydCBjb25zdCBmZXRjaEZyb250ZW5kVXNlckRhdGEgPSBhc3luYyA8XG4gIFVzZXJEYXRhS2V5IGV4dGVuZHMgVmFsaWRVc2VyRGF0YUtleSxcbj4oXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIGtleTogVXNlckRhdGFLZXlcbik6IFByb21pc2U8RnJvbnRlbmRVc2VyRGF0YVtVc2VyRGF0YUtleV0gfCBudWxsPiA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlPHtcbiAgICB2YWx1ZTogRnJvbnRlbmRVc2VyRGF0YVtVc2VyRGF0YUtleV0gfCBudWxsO1xuICB9Pih7XG4gICAgdHlwZTogXCJmcm9udGVuZC9nZXRfdXNlcl9kYXRhXCIsXG4gICAga2V5LFxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlRnJvbnRlbmRVc2VyRGF0YSA9IGFzeW5jIDxcbiAgVXNlckRhdGFLZXkgZXh0ZW5kcyBWYWxpZFVzZXJEYXRhS2V5LFxuPihcbiAgY29ubjogQ29ubmVjdGlvbixcbiAga2V5OiBVc2VyRGF0YUtleSxcbiAgdmFsdWU6IEZyb250ZW5kVXNlckRhdGFbVXNlckRhdGFLZXldXG4pOiBQcm9taXNlPHZvaWQ+ID0+XG4gIGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlPHZvaWQ+KHtcbiAgICB0eXBlOiBcImZyb250ZW5kL3NldF91c2VyX2RhdGFcIixcbiAgICBrZXksXG4gICAgdmFsdWUsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZ2V0T3B0aW1pc3RpY0Zyb250ZW5kVXNlckRhdGFDb2xsZWN0aW9uID0gPFxuICBVc2VyRGF0YUtleSBleHRlbmRzIFZhbGlkVXNlckRhdGFLZXksXG4+KFxuICBjb25uOiBDb25uZWN0aW9uLFxuICB1c2VyRGF0YUtleTogVXNlckRhdGFLZXlcbikgPT5cbiAgZ2V0T3B0aW1pc3RpY0NvbGxlY3Rpb24oXG4gICAgKF9jb25uLCBkYXRhKSA9PlxuICAgICAgc2F2ZUZyb250ZW5kVXNlckRhdGEoXG4gICAgICAgIGNvbm4sXG4gICAgICAgIHVzZXJEYXRhS2V5LFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGRhdGFcbiAgICAgICksXG4gICAgY29ubixcbiAgICBgX2Zyb250ZW5kVXNlckRhdGEtJHt1c2VyRGF0YUtleX1gLFxuICAgICgpID0+IGZldGNoRnJvbnRlbmRVc2VyRGF0YShjb25uLCB1c2VyRGF0YUtleSlcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUZyb250ZW5kVXNlckRhdGEgPSA8VXNlckRhdGFLZXkgZXh0ZW5kcyBWYWxpZFVzZXJEYXRhS2V5PihcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgdXNlckRhdGFLZXk6IFVzZXJEYXRhS2V5LFxuICBvbkNoYW5nZTogKHN0YXRlOiBGcm9udGVuZFVzZXJEYXRhW1VzZXJEYXRhS2V5XSB8IG51bGwpID0+IHZvaWRcbikgPT5cbiAgZ2V0T3B0aW1pc3RpY0Zyb250ZW5kVXNlckRhdGFDb2xsZWN0aW9uKGNvbm4sIHVzZXJEYXRhS2V5KS5zdWJzY3JpYmUoXG4gICAgb25DaGFuZ2VcbiAgKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/frontend.ts\n");

/***/ }),

/***/ "./src/data/lovelace/config/types.ts":
/*!*******************************************!*\
  !*** ./src/data/lovelace/config/types.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteConfig: () => (/* binding */ deleteConfig),\n/* harmony export */   fetchConfig: () => (/* binding */ fetchConfig),\n/* harmony export */   isStrategyDashboard: () => (/* binding */ isStrategyDashboard),\n/* harmony export */   saveConfig: () => (/* binding */ saveConfig)\n/* harmony export */ });\nfunction isStrategyDashboard(config) {\n  return \"strategy\" in config;\n}\nconst fetchConfig = (conn, urlPath, force) => conn.sendMessagePromise({\n  type: \"lovelace/config\",\n  url_path: urlPath,\n  force\n});\nconst saveConfig = (hass, urlPath, config) => hass.callWS({\n  type: \"lovelace/config/save\",\n  url_path: urlPath,\n  config\n});\nconst deleteConfig = (hass, urlPath) => hass.callWS({\n  type: \"lovelace/config/delete\",\n  url_path: urlPath\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9sb3ZlbGFjZS9jb25maWcvdHlwZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQTJCQTtBQUdBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9sb3ZlbGFjZS9jb25maWcvdHlwZXMudHM/MjA5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbm5lY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgdHlwZSB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB0eXBlIHsgTG92ZWxhY2VSZXNvdXJjZSB9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xuaW1wb3J0IHR5cGUgeyBMb3ZlbGFjZVN0cmF0ZWd5Q29uZmlnIH0gZnJvbSBcIi4vc3RyYXRlZ3lcIjtcbmltcG9ydCB0eXBlIHsgTG92ZWxhY2VWaWV3UmF3Q29uZmlnIH0gZnJvbSBcIi4vdmlld1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvdmVsYWNlRGFzaGJvYXJkQmFzZUNvbmZpZyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIExvdmVsYWNlQ29uZmlnIGV4dGVuZHMgTG92ZWxhY2VEYXNoYm9hcmRCYXNlQ29uZmlnIHtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gIHZpZXdzOiBMb3ZlbGFjZVZpZXdSYXdDb25maWdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZURhc2hib2FyZFN0cmF0ZWd5Q29uZmlnXG4gIGV4dGVuZHMgTG92ZWxhY2VEYXNoYm9hcmRCYXNlQ29uZmlnIHtcbiAgc3RyYXRlZ3k6IExvdmVsYWNlU3RyYXRlZ3lDb25maWc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVnYWN5TG92ZWxhY2VDb25maWcgZXh0ZW5kcyBMb3ZlbGFjZUNvbmZpZyB7XG4gIHJlc291cmNlcz86IExvdmVsYWNlUmVzb3VyY2VbXTtcbn1cblxuZXhwb3J0IHR5cGUgTG92ZWxhY2VSYXdDb25maWcgPVxuICB8IExvdmVsYWNlQ29uZmlnXG4gIHwgTG92ZWxhY2VEYXNoYm9hcmRTdHJhdGVneUNvbmZpZztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyYXRlZ3lEYXNoYm9hcmQoXG4gIGNvbmZpZzogTG92ZWxhY2VSYXdDb25maWdcbik6IGNvbmZpZyBpcyBMb3ZlbGFjZURhc2hib2FyZFN0cmF0ZWd5Q29uZmlnIHtcbiAgcmV0dXJuIFwic3RyYXRlZ3lcIiBpbiBjb25maWc7XG59XG5cbmV4cG9ydCBjb25zdCBmZXRjaENvbmZpZyA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgdXJsUGF0aDogc3RyaW5nIHwgbnVsbCxcbiAgZm9yY2U6IGJvb2xlYW5cbik6IFByb21pc2U8TG92ZWxhY2VSYXdDb25maWc+ID0+XG4gIGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlKHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL2NvbmZpZ1wiLFxuICAgIHVybF9wYXRoOiB1cmxQYXRoLFxuICAgIGZvcmNlLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHNhdmVDb25maWcgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHVybFBhdGg6IHN0cmluZyB8IG51bGwsXG4gIGNvbmZpZzogTG92ZWxhY2VSYXdDb25maWdcbik6IFByb21pc2U8dm9pZD4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvY29uZmlnL3NhdmVcIixcbiAgICB1cmxfcGF0aDogdXJsUGF0aCxcbiAgICBjb25maWcsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlQ29uZmlnID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICB1cmxQYXRoOiBzdHJpbmcgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL2NvbmZpZy9kZWxldGVcIixcbiAgICB1cmxfcGF0aDogdXJsUGF0aCxcbiAgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/lovelace/config/types.ts\n");

/***/ }),

/***/ "./src/data/lovelace/resource.ts":
/*!***************************************!*\
  !*** ./src/data/lovelace/resource.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createResource: () => (/* binding */ createResource),\n/* harmony export */   deleteResource: () => (/* binding */ deleteResource),\n/* harmony export */   fetchResources: () => (/* binding */ fetchResources),\n/* harmony export */   updateResource: () => (/* binding */ updateResource)\n/* harmony export */ });\nconst fetchResources = conn => conn.sendMessagePromise({\n  type: \"lovelace/resources\"\n});\nconst createResource = (hass, values) => hass.callWS({\n  type: \"lovelace/resources/create\",\n  ...values\n});\nconst updateResource = (hass, id, updates) => hass.callWS({\n  type: \"lovelace/resources/update\",\n  resource_id: id,\n  ...updates\n});\nconst deleteResource = (hass, id) => hass.callWS({\n  type: \"lovelace/resources/delete\",\n  resource_id: id\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9sb3ZlbGFjZS9yZXNvdXJjZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBY0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL2xvdmVsYWNlL3Jlc291cmNlLnRzPzFjOWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb25uZWN0aW9uIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIExvdmVsYWNlUmVzb3VyY2UgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6IFwiY3NzXCIgfCBcImpzXCIgfCBcIm1vZHVsZVwiIHwgXCJodG1sXCI7XG4gIHVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgTG92ZWxhY2VSZXNvdXJjZXNNdXRhYmxlUGFyYW1zID0ge1xuICByZXNfdHlwZTogTG92ZWxhY2VSZXNvdXJjZVtcInR5cGVcIl07XG4gIHVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUmVzb3VyY2VzID0gKGNvbm46IENvbm5lY3Rpb24pOiBQcm9taXNlPExvdmVsYWNlUmVzb3VyY2VbXT4gPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2Uoe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvcmVzb3VyY2VzXCIsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzb3VyY2UgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHZhbHVlczogTG92ZWxhY2VSZXNvdXJjZXNNdXRhYmxlUGFyYW1zXG4pID0+XG4gIGhhc3MuY2FsbFdTPExvdmVsYWNlUmVzb3VyY2U+KHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL3Jlc291cmNlcy9jcmVhdGVcIixcbiAgICAuLi52YWx1ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlUmVzb3VyY2UgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGlkOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IFBhcnRpYWw8TG92ZWxhY2VSZXNvdXJjZXNNdXRhYmxlUGFyYW1zPlxuKSA9PlxuICBoYXNzLmNhbGxXUzxMb3ZlbGFjZVJlc291cmNlPih7XG4gICAgdHlwZTogXCJsb3ZlbGFjZS9yZXNvdXJjZXMvdXBkYXRlXCIsXG4gICAgcmVzb3VyY2VfaWQ6IGlkLFxuICAgIC4uLnVwZGF0ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUmVzb3VyY2UgPSAoaGFzczogSG9tZUFzc2lzdGFudCwgaWQ6IHN0cmluZykgPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvcmVzb3VyY2VzL2RlbGV0ZVwiLFxuICAgIHJlc291cmNlX2lkOiBpZCxcbiAgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/lovelace/resource.ts\n");

/***/ }),

/***/ "./src/data/main_window.ts":
/*!*********************************!*\
  !*** ./src/data/main_window.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAIN_WINDOW_NAME: () => (/* binding */ MAIN_WINDOW_NAME)\n/* harmony export */ });\nconst MAIN_WINDOW_NAME = \"ha-main-window\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9tYWluX3dpbmRvdy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL21haW5fd2luZG93LnRzP2M2MTUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE1BSU5fV0lORE9XX05BTUUgPSBcImhhLW1haW4td2luZG93XCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/main_window.ts\n");

/***/ }),

/***/ "./src/data/recorder.ts":
/*!******************************!*\
  !*** ./src/data/recorder.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adjustStatisticsSum: () => (/* binding */ adjustStatisticsSum),\n/* harmony export */   calculateStatisticSumGrowth: () => (/* binding */ calculateStatisticSumGrowth),\n/* harmony export */   calculateStatisticsSumGrowth: () => (/* binding */ calculateStatisticsSumGrowth),\n/* harmony export */   clearStatistics: () => (/* binding */ clearStatistics),\n/* harmony export */   fetchStatistic: () => (/* binding */ fetchStatistic),\n/* harmony export */   fetchStatistics: () => (/* binding */ fetchStatistics),\n/* harmony export */   getDisplayUnit: () => (/* binding */ getDisplayUnit),\n/* harmony export */   getRecorderInfo: () => (/* binding */ getRecorderInfo),\n/* harmony export */   getStatisticIds: () => (/* binding */ getStatisticIds),\n/* harmony export */   getStatisticLabel: () => (/* binding */ getStatisticLabel),\n/* harmony export */   getStatisticMetadata: () => (/* binding */ getStatisticMetadata),\n/* harmony export */   isExternalStatistic: () => (/* binding */ isExternalStatistic),\n/* harmony export */   statisticsHaveType: () => (/* binding */ statisticsHaveType),\n/* harmony export */   statisticsMetaHasType: () => (/* binding */ statisticsMetaHasType),\n/* harmony export */   updateStatisticsMetadata: () => (/* binding */ updateStatisticsMetadata),\n/* harmony export */   validateStatistics: () => (/* binding */ validateStatistics)\n/* harmony export */ });\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n\nconst statisticTypes = [\"change\", \"last_reset\", \"max\", \"mean\", \"min\", \"state\", \"sum\"];\nconst getRecorderInfo = conn => conn.sendMessagePromise({\n  type: \"recorder/info\"\n});\nconst getStatisticIds = (hass, statistic_type) => hass.callWS({\n  type: \"recorder/list_statistic_ids\",\n  statistic_type\n});\nconst getStatisticMetadata = (hass, statistic_ids) => hass.callWS({\n  type: \"recorder/get_statistics_metadata\",\n  statistic_ids\n});\nconst fetchStatistics = (hass, startTime, endTime, statistic_ids, period = \"hour\", units, types) => hass.callWS({\n  type: \"recorder/statistics_during_period\",\n  start_time: startTime.toISOString(),\n  end_time: endTime === null || endTime === void 0 ? void 0 : endTime.toISOString(),\n  statistic_ids,\n  period,\n  units,\n  types\n});\nconst fetchStatistic = (hass, statistic_id, period, units) => hass.callWS({\n  type: \"recorder/statistic_during_period\",\n  statistic_id,\n  units,\n  fixed_period: period.fixed_period ? {\n    start_time: period.fixed_period.start instanceof Date ? period.fixed_period.start.toISOString() : period.fixed_period.start,\n    end_time: period.fixed_period.end instanceof Date ? period.fixed_period.end.toISOString() : period.fixed_period.end\n  } : undefined,\n  calendar: period.calendar,\n  rolling_window: period.rolling_window\n});\nconst validateStatistics = hass => hass.callWS({\n  type: \"recorder/validate_statistics\"\n});\nconst updateStatisticsMetadata = (hass, statistic_id, unit_of_measurement) => hass.callWS({\n  type: \"recorder/update_statistics_metadata\",\n  statistic_id,\n  unit_of_measurement\n});\nconst clearStatistics = (hass, statistic_ids) => hass.callWS({\n  type: \"recorder/clear_statistics\",\n  statistic_ids\n});\nconst calculateStatisticSumGrowth = values => {\n  let growth = null;\n  if (!values) {\n    return null;\n  }\n  for (const value of values) {\n    if (value.change === null || value.change === undefined) {\n      continue;\n    }\n    if (growth === null) {\n      growth = value.change;\n    } else {\n      growth += value.change;\n    }\n  }\n  return growth;\n};\nconst calculateStatisticsSumGrowth = (data, stats) => {\n  let totalGrowth = null;\n  for (const stat of stats) {\n    if (!(stat in data)) {\n      continue;\n    }\n    const statGrowth = calculateStatisticSumGrowth(data[stat]);\n    if (statGrowth === null) {\n      continue;\n    }\n    if (totalGrowth === null) {\n      totalGrowth = statGrowth;\n    } else {\n      totalGrowth += statGrowth;\n    }\n  }\n  return totalGrowth;\n};\nconst statisticsHaveType = (stats, type) => stats.some(stat => stat[type] !== undefined && stat[type] !== null);\nconst mean_stat_types = [\"mean\", \"min\", \"max\"];\nconst sum_stat_types = [\"sum\", \"state\", \"change\"];\nconst statisticsMetaHasType = (metadata, type) => {\n  if (mean_stat_types.includes(type) && metadata.has_mean) {\n    return true;\n  }\n  if (sum_stat_types.includes(type) && metadata.has_sum) {\n    return true;\n  }\n  return false;\n};\nconst adjustStatisticsSum = (hass, statistic_id, start_time, adjustment, adjustment_unit_of_measurement) => {\n  const start_time_iso = new Date(start_time).toISOString();\n  return hass.callWS({\n    type: \"recorder/adjust_sum_statistics\",\n    statistic_id,\n    start_time: start_time_iso,\n    adjustment,\n    adjustment_unit_of_measurement\n  });\n};\nconst getStatisticLabel = (hass, statisticsId, statisticsMetaData) => {\n  const entity = hass.states[statisticsId];\n  if (entity) {\n    return (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__.computeStateName)(entity);\n  }\n  return (statisticsMetaData === null || statisticsMetaData === void 0 ? void 0 : statisticsMetaData.name) || statisticsId;\n};\nconst getDisplayUnit = (hass, statisticsId, statisticsMetaData) => {\n  let unit;\n  if (statisticsId) {\n    var _hass$states$statisti;\n    unit = (_hass$states$statisti = hass.states[statisticsId]) === null || _hass$states$statisti === void 0 ? void 0 : _hass$states$statisti.attributes.unit_of_measurement;\n  }\n  return unit === undefined ? statisticsMetaData === null || statisticsMetaData === void 0 ? void 0 : statisticsMetaData.statistics_unit_of_measurement : unit;\n};\nconst isExternalStatistic = statisticsId => statisticsId.includes(\":\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9yZWNvcmRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBc0dBO0FBZUE7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvcmVjb3JkZXIudHM/ZTcxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25uZWN0aW9uIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY29tcHV0ZVN0YXRlTmFtZSB9IGZyb20gXCIuLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfbmFtZVwiO1xuaW1wb3J0IHsgSGFEdXJhdGlvbkRhdGEgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9oYS1kdXJhdGlvbi1pbnB1dFwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZGVySW5mbyB7XG4gIGJhY2tsb2c6IG51bWJlciB8IG51bGw7XG4gIG1heF9iYWNrbG9nOiBudW1iZXI7XG4gIG1pZ3JhdGlvbl9pbl9wcm9ncmVzczogYm9vbGVhbjtcbiAgbWlncmF0aW9uX2lzX2xpdmU6IGJvb2xlYW47XG4gIHJlY29yZGluZzogYm9vbGVhbjtcbiAgdGhyZWFkX3J1bm5pbmc6IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIFN0YXRpc3RpY1R5cGUgPSBcImNoYW5nZVwiIHwgXCJzdGF0ZVwiIHwgXCJzdW1cIiB8IFwibWluXCIgfCBcIm1heFwiIHwgXCJtZWFuXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGlzdGljcyB7XG4gIFtzdGF0aXN0aWNJZDogc3RyaW5nXTogU3RhdGlzdGljVmFsdWVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWNWYWx1ZSB7XG4gIHN0YXJ0OiBudW1iZXI7XG4gIGVuZDogbnVtYmVyO1xuICBjaGFuZ2U/OiBudW1iZXIgfCBudWxsO1xuICBsYXN0X3Jlc2V0PzogbnVtYmVyIHwgbnVsbDtcbiAgbWF4PzogbnVtYmVyIHwgbnVsbDtcbiAgbWVhbj86IG51bWJlciB8IG51bGw7XG4gIG1pbj86IG51bWJlciB8IG51bGw7XG4gIHN1bT86IG51bWJlciB8IG51bGw7XG4gIHN0YXRlPzogbnVtYmVyIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWMge1xuICBtYXg6IG51bWJlciB8IG51bGw7XG4gIG1lYW46IG51bWJlciB8IG51bGw7XG4gIG1pbjogbnVtYmVyIHwgbnVsbDtcbiAgY2hhbmdlOiBudW1iZXIgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpc3RpY3NNZXRhRGF0YSB7XG4gIHN0YXRpc3RpY3NfdW5pdF9vZl9tZWFzdXJlbWVudDogc3RyaW5nIHwgbnVsbDtcbiAgc3RhdGlzdGljX2lkOiBzdHJpbmc7XG4gIHNvdXJjZTogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgaGFzX3N1bTogYm9vbGVhbjtcbiAgaGFzX21lYW46IGJvb2xlYW47XG4gIHVuaXRfY2xhc3M6IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFN0YXRpc3RpY3NWYWxpZGF0aW9uUmVzdWx0ID1cbiAgfCBTdGF0aXN0aWNzVmFsaWRhdGlvblJlc3VsdE5vU3RhdGVcbiAgfCBTdGF0aXN0aWNzVmFsaWRhdGlvblJlc3VsdEVudGl0eU5vdFJlY29yZGVkXG4gIHwgU3RhdGlzdGljc1ZhbGlkYXRpb25SZXN1bHRFbnRpdHlOb0xvbmdlclJlY29yZGVkXG4gIHwgU3RhdGlzdGljc1ZhbGlkYXRpb25SZXN1bHRVbnN1cHBvcnRlZFN0YXRlQ2xhc3NcbiAgfCBTdGF0aXN0aWNzVmFsaWRhdGlvblJlc3VsdFVuaXRzQ2hhbmdlZDtcblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWNzVmFsaWRhdGlvblJlc3VsdE5vU3RhdGUge1xuICB0eXBlOiBcIm5vX3N0YXRlXCI7XG4gIGRhdGE6IHsgc3RhdGlzdGljX2lkOiBzdHJpbmcgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWNzVmFsaWRhdGlvblJlc3VsdEVudGl0eU5vTG9uZ2VyUmVjb3JkZWQge1xuICB0eXBlOiBcImVudGl0eV9ub19sb25nZXJfcmVjb3JkZWRcIjtcbiAgZGF0YTogeyBzdGF0aXN0aWNfaWQ6IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpc3RpY3NWYWxpZGF0aW9uUmVzdWx0RW50aXR5Tm90UmVjb3JkZWQge1xuICB0eXBlOiBcImVudGl0eV9ub3RfcmVjb3JkZWRcIjtcbiAgZGF0YTogeyBzdGF0aXN0aWNfaWQ6IHN0cmluZyB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpc3RpY3NWYWxpZGF0aW9uUmVzdWx0VW5zdXBwb3J0ZWRTdGF0ZUNsYXNzIHtcbiAgdHlwZTogXCJ1bnN1cHBvcnRlZF9zdGF0ZV9jbGFzc1wiO1xuICBkYXRhOiB7IHN0YXRpc3RpY19pZDogc3RyaW5nOyBzdGF0ZV9jbGFzczogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGlzdGljc1ZhbGlkYXRpb25SZXN1bHRVbml0c0NoYW5nZWQge1xuICB0eXBlOiBcInVuaXRzX2NoYW5nZWRcIjtcbiAgZGF0YToge1xuICAgIHN0YXRpc3RpY19pZDogc3RyaW5nO1xuICAgIHN0YXRlX3VuaXQ6IHN0cmluZztcbiAgICBtZXRhZGF0YV91bml0OiBzdHJpbmc7XG4gICAgc3VwcG9ydGVkX3VuaXQ6IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0aXN0aWNzVW5pdENvbmZpZ3VyYXRpb24ge1xuICBlbmVyZ3k/OiBcIldoXCIgfCBcImtXaFwiIHwgXCJNV2hcIiB8IFwiR0pcIjtcbiAgcG93ZXI/OiBcIldcIiB8IFwia1dcIjtcbiAgcHJlc3N1cmU/OlxuICAgIHwgXCJQYVwiXG4gICAgfCBcImhQYVwiXG4gICAgfCBcImtQYVwiXG4gICAgfCBcImJhclwiXG4gICAgfCBcImNiYXJcIlxuICAgIHwgXCJtYmFyXCJcbiAgICB8IFwiaW5IZ1wiXG4gICAgfCBcInBzaVwiXG4gICAgfCBcIm1tSGdcIjtcbiAgdGVtcGVyYXR1cmU/OiBcIsKwQ1wiIHwgXCLCsEZcIiB8IFwiS1wiO1xuICB2b2x1bWU/OiBcIkxcIiB8IFwiZ2FsXCIgfCBcImZ0wrNcIiB8IFwibcKzXCI7XG59XG5cbmNvbnN0IHN0YXRpc3RpY1R5cGVzID0gW1xuICBcImNoYW5nZVwiLFxuICBcImxhc3RfcmVzZXRcIixcbiAgXCJtYXhcIixcbiAgXCJtZWFuXCIsXG4gIFwibWluXCIsXG4gIFwic3RhdGVcIixcbiAgXCJzdW1cIixcbl0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBTdGF0aXN0aWNzVHlwZXMgPSAodHlwZW9mIHN0YXRpc3RpY1R5cGVzKVtudW1iZXJdW107XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGlzdGljc1ZhbGlkYXRpb25SZXN1bHRzIHtcbiAgW3N0YXRpc3RpY0lkOiBzdHJpbmddOiBTdGF0aXN0aWNzVmFsaWRhdGlvblJlc3VsdFtdO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0UmVjb3JkZXJJbmZvID0gKGNvbm46IENvbm5lY3Rpb24pID0+XG4gIGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlPFJlY29yZGVySW5mbz4oe1xuICAgIHR5cGU6IFwicmVjb3JkZXIvaW5mb1wiLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGdldFN0YXRpc3RpY0lkcyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgc3RhdGlzdGljX3R5cGU/OiBcIm1lYW5cIiB8IFwic3VtXCJcbikgPT5cbiAgaGFzcy5jYWxsV1M8U3RhdGlzdGljc01ldGFEYXRhW10+KHtcbiAgICB0eXBlOiBcInJlY29yZGVyL2xpc3Rfc3RhdGlzdGljX2lkc1wiLFxuICAgIHN0YXRpc3RpY190eXBlLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGdldFN0YXRpc3RpY01ldGFkYXRhID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBzdGF0aXN0aWNfaWRzPzogc3RyaW5nW11cbikgPT5cbiAgaGFzcy5jYWxsV1M8U3RhdGlzdGljc01ldGFEYXRhW10+KHtcbiAgICB0eXBlOiBcInJlY29yZGVyL2dldF9zdGF0aXN0aWNzX21ldGFkYXRhXCIsXG4gICAgc3RhdGlzdGljX2lkcyxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaFN0YXRpc3RpY3MgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHN0YXJ0VGltZTogRGF0ZSxcbiAgZW5kVGltZT86IERhdGUsXG4gIHN0YXRpc3RpY19pZHM/OiBzdHJpbmdbXSxcbiAgcGVyaW9kOiBcIjVtaW51dGVcIiB8IFwiaG91clwiIHwgXCJkYXlcIiB8IFwid2Vla1wiIHwgXCJtb250aFwiID0gXCJob3VyXCIsXG4gIHVuaXRzPzogU3RhdGlzdGljc1VuaXRDb25maWd1cmF0aW9uLFxuICB0eXBlcz86IFN0YXRpc3RpY3NUeXBlc1xuKSA9PlxuICBoYXNzLmNhbGxXUzxTdGF0aXN0aWNzPih7XG4gICAgdHlwZTogXCJyZWNvcmRlci9zdGF0aXN0aWNzX2R1cmluZ19wZXJpb2RcIixcbiAgICBzdGFydF90aW1lOiBzdGFydFRpbWUudG9JU09TdHJpbmcoKSxcbiAgICBlbmRfdGltZTogZW5kVGltZT8udG9JU09TdHJpbmcoKSxcbiAgICBzdGF0aXN0aWNfaWRzLFxuICAgIHBlcmlvZCxcbiAgICB1bml0cyxcbiAgICB0eXBlcyxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaFN0YXRpc3RpYyA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgc3RhdGlzdGljX2lkOiBzdHJpbmcsXG4gIHBlcmlvZDoge1xuICAgIGZpeGVkX3BlcmlvZD86IHsgc3RhcnQ6IHN0cmluZyB8IERhdGU7IGVuZDogc3RyaW5nIHwgRGF0ZSB9O1xuICAgIGNhbGVuZGFyPzogeyBwZXJpb2Q6IHN0cmluZzsgb2Zmc2V0OiBudW1iZXIgfTtcbiAgICByb2xsaW5nX3dpbmRvdz86IHsgZHVyYXRpb246IEhhRHVyYXRpb25EYXRhOyBvZmZzZXQ6IEhhRHVyYXRpb25EYXRhIH07XG4gIH0sXG4gIHVuaXRzPzogU3RhdGlzdGljc1VuaXRDb25maWd1cmF0aW9uXG4pID0+XG4gIGhhc3MuY2FsbFdTPFN0YXRpc3RpYz4oe1xuICAgIHR5cGU6IFwicmVjb3JkZXIvc3RhdGlzdGljX2R1cmluZ19wZXJpb2RcIixcbiAgICBzdGF0aXN0aWNfaWQsXG4gICAgdW5pdHMsXG4gICAgZml4ZWRfcGVyaW9kOiBwZXJpb2QuZml4ZWRfcGVyaW9kXG4gICAgICA/IHtcbiAgICAgICAgICBzdGFydF90aW1lOlxuICAgICAgICAgICAgcGVyaW9kLmZpeGVkX3BlcmlvZC5zdGFydCBpbnN0YW5jZW9mIERhdGVcbiAgICAgICAgICAgICAgPyBwZXJpb2QuZml4ZWRfcGVyaW9kLnN0YXJ0LnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgOiBwZXJpb2QuZml4ZWRfcGVyaW9kLnN0YXJ0LFxuICAgICAgICAgIGVuZF90aW1lOlxuICAgICAgICAgICAgcGVyaW9kLmZpeGVkX3BlcmlvZC5lbmQgaW5zdGFuY2VvZiBEYXRlXG4gICAgICAgICAgICAgID8gcGVyaW9kLmZpeGVkX3BlcmlvZC5lbmQudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICA6IHBlcmlvZC5maXhlZF9wZXJpb2QuZW5kLFxuICAgICAgICB9XG4gICAgICA6IHVuZGVmaW5lZCxcbiAgICBjYWxlbmRhcjogcGVyaW9kLmNhbGVuZGFyLFxuICAgIHJvbGxpbmdfd2luZG93OiBwZXJpb2Qucm9sbGluZ193aW5kb3csXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTdGF0aXN0aWNzID0gKGhhc3M6IEhvbWVBc3Npc3RhbnQpID0+XG4gIGhhc3MuY2FsbFdTPFN0YXRpc3RpY3NWYWxpZGF0aW9uUmVzdWx0cz4oe1xuICAgIHR5cGU6IFwicmVjb3JkZXIvdmFsaWRhdGVfc3RhdGlzdGljc1wiLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0YXRpc3RpY3NNZXRhZGF0YSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgc3RhdGlzdGljX2lkOiBzdHJpbmcsXG4gIHVuaXRfb2ZfbWVhc3VyZW1lbnQ6IHN0cmluZyB8IG51bGxcbikgPT5cbiAgaGFzcy5jYWxsV1M8dm9pZD4oe1xuICAgIHR5cGU6IFwicmVjb3JkZXIvdXBkYXRlX3N0YXRpc3RpY3NfbWV0YWRhdGFcIixcbiAgICBzdGF0aXN0aWNfaWQsXG4gICAgdW5pdF9vZl9tZWFzdXJlbWVudCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBjbGVhclN0YXRpc3RpY3MgPSAoaGFzczogSG9tZUFzc2lzdGFudCwgc3RhdGlzdGljX2lkczogc3RyaW5nW10pID0+XG4gIGhhc3MuY2FsbFdTPHZvaWQ+KHtcbiAgICB0eXBlOiBcInJlY29yZGVyL2NsZWFyX3N0YXRpc3RpY3NcIixcbiAgICBzdGF0aXN0aWNfaWRzLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aCA9IChcbiAgdmFsdWVzOiBTdGF0aXN0aWNWYWx1ZVtdXG4pOiBudW1iZXIgfCBudWxsID0+IHtcbiAgbGV0IGdyb3d0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgaWYgKCF2YWx1ZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgaWYgKHZhbHVlLmNoYW5nZSA9PT0gbnVsbCB8fCB2YWx1ZS5jaGFuZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChncm93dGggPT09IG51bGwpIHtcbiAgICAgIGdyb3d0aCA9IHZhbHVlLmNoYW5nZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ3Jvd3RoICs9IHZhbHVlLmNoYW5nZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ3Jvd3RoO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVN0YXRpc3RpY3NTdW1Hcm93dGggPSAoXG4gIGRhdGE6IFN0YXRpc3RpY3MsXG4gIHN0YXRzOiBzdHJpbmdbXVxuKTogbnVtYmVyIHwgbnVsbCA9PiB7XG4gIGxldCB0b3RhbEdyb3d0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgZm9yIChjb25zdCBzdGF0IG9mIHN0YXRzKSB7XG4gICAgaWYgKCEoc3RhdCBpbiBkYXRhKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRHcm93dGggPSBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoZGF0YVtzdGF0XSk7XG5cbiAgICBpZiAoc3RhdEdyb3d0aCA9PT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICh0b3RhbEdyb3d0aCA9PT0gbnVsbCkge1xuICAgICAgdG90YWxHcm93dGggPSBzdGF0R3Jvd3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3RhbEdyb3d0aCArPSBzdGF0R3Jvd3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0b3RhbEdyb3d0aDtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGF0aXN0aWNzSGF2ZVR5cGUgPSAoXG4gIHN0YXRzOiBTdGF0aXN0aWNWYWx1ZVtdLFxuICB0eXBlOiBTdGF0aXN0aWNUeXBlXG4pID0+IHN0YXRzLnNvbWUoKHN0YXQpID0+IHN0YXRbdHlwZV0gIT09IHVuZGVmaW5lZCAmJiBzdGF0W3R5cGVdICE9PSBudWxsKTtcblxuY29uc3QgbWVhbl9zdGF0X3R5cGVzOiByZWFkb25seSBTdGF0aXN0aWNUeXBlW10gPSBbXCJtZWFuXCIsIFwibWluXCIsIFwibWF4XCJdO1xuY29uc3Qgc3VtX3N0YXRfdHlwZXM6IHJlYWRvbmx5IFN0YXRpc3RpY1R5cGVbXSA9IFtcInN1bVwiLCBcInN0YXRlXCIsIFwiY2hhbmdlXCJdO1xuXG5leHBvcnQgY29uc3Qgc3RhdGlzdGljc01ldGFIYXNUeXBlID0gKFxuICBtZXRhZGF0YTogU3RhdGlzdGljc01ldGFEYXRhLFxuICB0eXBlOiBTdGF0aXN0aWNUeXBlXG4pID0+IHtcbiAgaWYgKG1lYW5fc3RhdF90eXBlcy5pbmNsdWRlcyh0eXBlKSAmJiBtZXRhZGF0YS5oYXNfbWVhbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChzdW1fc3RhdF90eXBlcy5pbmNsdWRlcyh0eXBlKSAmJiBtZXRhZGF0YS5oYXNfc3VtKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkanVzdFN0YXRpc3RpY3NTdW0gPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHN0YXRpc3RpY19pZDogc3RyaW5nLFxuICBzdGFydF90aW1lOiBudW1iZXIsXG4gIGFkanVzdG1lbnQ6IG51bWJlcixcbiAgYWRqdXN0bWVudF91bml0X29mX21lYXN1cmVtZW50OiBzdHJpbmcgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3Qgc3RhcnRfdGltZV9pc28gPSBuZXcgRGF0ZShzdGFydF90aW1lKS50b0lTT1N0cmluZygpO1xuICByZXR1cm4gaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwicmVjb3JkZXIvYWRqdXN0X3N1bV9zdGF0aXN0aWNzXCIsXG4gICAgc3RhdGlzdGljX2lkLFxuICAgIHN0YXJ0X3RpbWU6IHN0YXJ0X3RpbWVfaXNvLFxuICAgIGFkanVzdG1lbnQsXG4gICAgYWRqdXN0bWVudF91bml0X29mX21lYXN1cmVtZW50LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aXN0aWNMYWJlbCA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgc3RhdGlzdGljc0lkOiBzdHJpbmcsXG4gIHN0YXRpc3RpY3NNZXRhRGF0YTogU3RhdGlzdGljc01ldGFEYXRhIHwgdW5kZWZpbmVkXG4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCBlbnRpdHkgPSBoYXNzLnN0YXRlc1tzdGF0aXN0aWNzSWRdO1xuICBpZiAoZW50aXR5KSB7XG4gICAgcmV0dXJuIGNvbXB1dGVTdGF0ZU5hbWUoZW50aXR5KTtcbiAgfVxuICByZXR1cm4gc3RhdGlzdGljc01ldGFEYXRhPy5uYW1lIHx8IHN0YXRpc3RpY3NJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREaXNwbGF5VW5pdCA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgc3RhdGlzdGljc0lkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHN0YXRpc3RpY3NNZXRhRGF0YTogU3RhdGlzdGljc01ldGFEYXRhIHwgdW5kZWZpbmVkXG4pOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkID0+IHtcbiAgbGV0IHVuaXQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgaWYgKHN0YXRpc3RpY3NJZCkge1xuICAgIHVuaXQgPSBoYXNzLnN0YXRlc1tzdGF0aXN0aWNzSWRdPy5hdHRyaWJ1dGVzLnVuaXRfb2ZfbWVhc3VyZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIHVuaXQgPT09IHVuZGVmaW5lZFxuICAgID8gc3RhdGlzdGljc01ldGFEYXRhPy5zdGF0aXN0aWNzX3VuaXRfb2ZfbWVhc3VyZW1lbnRcbiAgICA6IHVuaXQ7XG59O1xuXG5leHBvcnQgY29uc3QgaXNFeHRlcm5hbFN0YXRpc3RpYyA9IChzdGF0aXN0aWNzSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT5cbiAgc3RhdGlzdGljc0lkLmluY2x1ZGVzKFwiOlwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/recorder.ts\n");

/***/ }),

/***/ "./src/data/repairs.ts":
/*!*****************************!*\
  !*** ./src/data/repairs.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRepairsFlow: () => (/* binding */ createRepairsFlow),\n/* harmony export */   deleteRepairsFlow: () => (/* binding */ deleteRepairsFlow),\n/* harmony export */   fetchRepairsFlow: () => (/* binding */ fetchRepairsFlow),\n/* harmony export */   fetchRepairsIssueData: () => (/* binding */ fetchRepairsIssueData),\n/* harmony export */   fetchRepairsIssues: () => (/* binding */ fetchRepairsIssues),\n/* harmony export */   handleRepairsFlowStep: () => (/* binding */ handleRepairsFlowStep),\n/* harmony export */   ignoreRepairsIssue: () => (/* binding */ ignoreRepairsIssue),\n/* harmony export */   severitySort: () => (/* binding */ severitySort),\n/* harmony export */   subscribeRepairsIssueRegistry: () => (/* binding */ subscribeRepairsIssueRegistry)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n\n\nconst severitySort = {\n  critical: 1,\n  error: 2,\n  warning: 3\n};\nconst fetchRepairsIssues = conn => conn.sendMessagePromise({\n  type: \"repairs/list_issues\"\n});\nconst fetchRepairsIssueData = (conn, domain, issue_id) => conn.sendMessagePromise({\n  type: \"repairs/get_issue_data\",\n  domain,\n  issue_id\n});\nconst ignoreRepairsIssue = async (hass, issue, ignore) => hass.callWS({\n  type: \"repairs/ignore_issue\",\n  issue_id: issue.issue_id,\n  domain: issue.domain,\n  ignore\n});\nconst createRepairsFlow = (hass, handler, issue_id) => hass.callApi(\"POST\", \"repairs/issues/fix\", {\n  handler,\n  issue_id\n});\nconst fetchRepairsFlow = (hass, flowId) => hass.callApi(\"GET\", `repairs/issues/fix/${flowId}`);\nconst handleRepairsFlowStep = (hass, flowId, data) => hass.callApi(\"POST\", `repairs/issues/fix/${flowId}`, data);\nconst deleteRepairsFlow = (hass, flowId) => hass.callApi(\"DELETE\", `repairs/issues/fix/${flowId}`);\nconst subscribeRepairsIssueUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_0__.debounce)(() => fetchRepairsIssues(conn).then(repairs => store.setState(repairs, true)), 500, true), \"repairs_issue_registry_updated\");\nconst subscribeRepairsIssueRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__.createCollection)(\"_repairsIssueRegistry\", fetchRepairsIssues, subscribeRepairsIssueUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9yZXBhaXJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFFQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQU9BO0FBR0E7QUFnQkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL3JlcGFpcnMudHM/ZmM4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbm5lY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBjcmVhdGVDb2xsZWN0aW9uIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHR5cGUgeyBTdG9yZSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zdG9yZVwiO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vY29tbW9uL3V0aWwvZGVib3VuY2VcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBEYXRhRW50cnlGbG93U3RlcCB9IGZyb20gXCIuL2RhdGFfZW50cnlfZmxvd1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlcGFpcnNJc3N1ZSB7XG4gIGRvbWFpbjogc3RyaW5nO1xuICBpc3N1ZV9kb21haW4/OiBzdHJpbmc7XG4gIGlzc3VlX2lkOiBzdHJpbmc7XG4gIGFjdGl2ZTogYm9vbGVhbjtcbiAgaXNfZml4YWJsZTogYm9vbGVhbjtcbiAgc2V2ZXJpdHk6IFwiZXJyb3JcIiB8IFwid2FybmluZ1wiIHwgXCJjcml0aWNhbFwiO1xuICBicmVha3NfaW5faGFfdmVyc2lvbj86IHN0cmluZztcbiAgaWdub3JlZDogYm9vbGVhbjtcbiAgY3JlYXRlZDogc3RyaW5nO1xuICBkaXNtaXNzZWRfdmVyc2lvbj86IHN0cmluZztcbiAgbGVhcm5fbW9yZV91cmw/OiBzdHJpbmc7XG4gIHRyYW5zbGF0aW9uX2tleT86IHN0cmluZztcbiAgdHJhbnNsYXRpb25fcGxhY2Vob2xkZXJzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbn1cblxuZXhwb3J0IGNvbnN0IHNldmVyaXR5U29ydCA9IHtcbiAgY3JpdGljYWw6IDEsXG4gIGVycm9yOiAyLFxuICB3YXJuaW5nOiAzLFxufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUmVwYWlyc0lzc3VlcyA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTx7IGlzc3VlczogUmVwYWlyc0lzc3VlW10gfT4oe1xuICAgIHR5cGU6IFwicmVwYWlycy9saXN0X2lzc3Vlc1wiLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUmVwYWlyc0lzc3VlRGF0YSA9IChjb25uOiBDb25uZWN0aW9uLCBkb21haW4sIGlzc3VlX2lkKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTx7IGlzc3VlX2RhdGE6IHsgc3RyaW5nOiBhbnkgfSB9Pih7XG4gICAgdHlwZTogXCJyZXBhaXJzL2dldF9pc3N1ZV9kYXRhXCIsXG4gICAgZG9tYWluLFxuICAgIGlzc3VlX2lkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGlnbm9yZVJlcGFpcnNJc3N1ZSA9IGFzeW5jIChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgaXNzdWU6IFJlcGFpcnNJc3N1ZSxcbiAgaWdub3JlOiBib29sZWFuXG4pID0+XG4gIGhhc3MuY2FsbFdTPHN0cmluZz4oe1xuICAgIHR5cGU6IFwicmVwYWlycy9pZ25vcmVfaXNzdWVcIixcbiAgICBpc3N1ZV9pZDogaXNzdWUuaXNzdWVfaWQsXG4gICAgZG9tYWluOiBpc3N1ZS5kb21haW4sXG4gICAgaWdub3JlLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlcGFpcnNGbG93ID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBoYW5kbGVyOiBzdHJpbmcsXG4gIGlzc3VlX2lkOiBzdHJpbmdcbikgPT5cbiAgaGFzcy5jYWxsQXBpPERhdGFFbnRyeUZsb3dTdGVwPihcIlBPU1RcIiwgXCJyZXBhaXJzL2lzc3Vlcy9maXhcIiwge1xuICAgIGhhbmRsZXIsXG4gICAgaXNzdWVfaWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hSZXBhaXJzRmxvdyA9IChoYXNzOiBIb21lQXNzaXN0YW50LCBmbG93SWQ6IHN0cmluZykgPT5cbiAgaGFzcy5jYWxsQXBpPERhdGFFbnRyeUZsb3dTdGVwPihcIkdFVFwiLCBgcmVwYWlycy9pc3N1ZXMvZml4LyR7Zmxvd0lkfWApO1xuXG5leHBvcnQgY29uc3QgaGFuZGxlUmVwYWlyc0Zsb3dTdGVwID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBmbG93SWQ6IHN0cmluZyxcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgYW55PlxuKSA9PlxuICBoYXNzLmNhbGxBcGk8RGF0YUVudHJ5Rmxvd1N0ZXA+KFwiUE9TVFwiLCBgcmVwYWlycy9pc3N1ZXMvZml4LyR7Zmxvd0lkfWAsIGRhdGEpO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUmVwYWlyc0Zsb3cgPSAoaGFzczogSG9tZUFzc2lzdGFudCwgZmxvd0lkOiBzdHJpbmcpID0+XG4gIGhhc3MuY2FsbEFwaShcIkRFTEVURVwiLCBgcmVwYWlycy9pc3N1ZXMvZml4LyR7Zmxvd0lkfWApO1xuXG5jb25zdCBzdWJzY3JpYmVSZXBhaXJzSXNzdWVVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8eyBpc3N1ZXM6IFJlcGFpcnNJc3N1ZVtdIH0+XG4pID0+XG4gIGNvbm4uc3Vic2NyaWJlRXZlbnRzKFxuICAgIGRlYm91bmNlKFxuICAgICAgKCkgPT5cbiAgICAgICAgZmV0Y2hSZXBhaXJzSXNzdWVzKGNvbm4pLnRoZW4oKHJlcGFpcnMpID0+XG4gICAgICAgICAgc3RvcmUuc2V0U3RhdGUocmVwYWlycywgdHJ1ZSlcbiAgICAgICAgKSxcbiAgICAgIDUwMCxcbiAgICAgIHRydWVcbiAgICApLFxuICAgIFwicmVwYWlyc19pc3N1ZV9yZWdpc3RyeV91cGRhdGVkXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVJlcGFpcnNJc3N1ZVJlZ2lzdHJ5ID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKHJlcGFpcnM6IHsgaXNzdWVzOiBSZXBhaXJzSXNzdWVbXSB9KSA9PiB2b2lkXG4pID0+XG4gIGNyZWF0ZUNvbGxlY3Rpb248eyBpc3N1ZXM6IFJlcGFpcnNJc3N1ZVtdIH0+KFxuICAgIFwiX3JlcGFpcnNJc3N1ZVJlZ2lzdHJ5XCIsXG4gICAgZmV0Y2hSZXBhaXJzSXNzdWVzLFxuICAgIHN1YnNjcmliZVJlcGFpcnNJc3N1ZVVwZGF0ZXMsXG4gICAgY29ubixcbiAgICBvbkNoYW5nZVxuICApO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/repairs.ts\n");

/***/ }),

/***/ "./src/data/ws-area_registry.ts":
/*!**************************************!*\
  !*** ./src/data/ws-area_registry.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   subscribeAreaRegistry: () => (/* binding */ subscribeAreaRegistry)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n\n\nconst fetchAreaRegistry = conn => conn.sendMessagePromise({\n  type: \"config/area_registry/list\"\n});\nconst subscribeAreaRegistryUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_0__.debounce)(() => fetchAreaRegistry(conn).then(areas => store.setState(areas, true)), 500, true), \"area_registry_updated\");\nconst subscribeAreaRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__.createCollection)(\"_areaRegistry\", fetchAreaRegistry, subscribeAreaRegistryUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy1hcmVhX3JlZ2lzdHJ5LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQWdCQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvd3MtYXJlYV9yZWdpc3RyeS50cz8xMzcwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zdG9yZVwiO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vY29tbW9uL3V0aWwvZGVib3VuY2VcIjtcbmltcG9ydCB7IEFyZWFSZWdpc3RyeUVudHJ5IH0gZnJvbSBcIi4vYXJlYV9yZWdpc3RyeVwiO1xuXG5jb25zdCBmZXRjaEFyZWFSZWdpc3RyeSA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTxBcmVhUmVnaXN0cnlFbnRyeVtdPih7XG4gICAgdHlwZTogXCJjb25maWcvYXJlYV9yZWdpc3RyeS9saXN0XCIsXG4gIH0pO1xuXG5jb25zdCBzdWJzY3JpYmVBcmVhUmVnaXN0cnlVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8QXJlYVJlZ2lzdHJ5RW50cnlbXT5cbikgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgZGVib3VuY2UoXG4gICAgICAoKSA9PlxuICAgICAgICBmZXRjaEFyZWFSZWdpc3RyeShjb25uKS50aGVuKChhcmVhczogQXJlYVJlZ2lzdHJ5RW50cnlbXSkgPT5cbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShhcmVhcywgdHJ1ZSlcbiAgICAgICAgKSxcbiAgICAgIDUwMCxcbiAgICAgIHRydWVcbiAgICApLFxuICAgIFwiYXJlYV9yZWdpc3RyeV91cGRhdGVkXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUFyZWFSZWdpc3RyeSA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgb25DaGFuZ2U6IChhcmVhczogQXJlYVJlZ2lzdHJ5RW50cnlbXSkgPT4gdm9pZFxuKSA9PlxuICBjcmVhdGVDb2xsZWN0aW9uPEFyZWFSZWdpc3RyeUVudHJ5W10+KFxuICAgIFwiX2FyZWFSZWdpc3RyeVwiLFxuICAgIGZldGNoQXJlYVJlZ2lzdHJ5LFxuICAgIHN1YnNjcmliZUFyZWFSZWdpc3RyeVVwZGF0ZXMsXG4gICAgY29ubixcbiAgICBvbkNoYW5nZVxuICApO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/ws-area_registry.ts\n");

/***/ }),

/***/ "./src/data/ws-device_registry.ts":
/*!****************************************!*\
  !*** ./src/data/ws-device_registry.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchDeviceRegistry: () => (/* binding */ fetchDeviceRegistry),\n/* harmony export */   subscribeDeviceRegistry: () => (/* binding */ subscribeDeviceRegistry)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n\n\nconst fetchDeviceRegistry = conn => conn.sendMessagePromise({\n  type: \"config/device_registry/list\"\n});\nconst subscribeDeviceRegistryUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_0__.debounce)(() => fetchDeviceRegistry(conn).then(devices => store.setState(devices, true)), 500, true), \"device_registry_updated\");\nconst subscribeDeviceRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__.createCollection)(\"_dr\", fetchDeviceRegistry, subscribeDeviceRegistryUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy1kZXZpY2VfcmVnaXN0cnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQWdCQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvd3MtZGV2aWNlX3JlZ2lzdHJ5LnRzPzEzZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvbiB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3N0b3JlXCI7XG5pbXBvcnQgeyBEZXZpY2VSZWdpc3RyeUVudHJ5IH0gZnJvbSBcIi4vZGV2aWNlX3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuLi9jb21tb24vdXRpbC9kZWJvdW5jZVwiO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hEZXZpY2VSZWdpc3RyeSA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTxEZXZpY2VSZWdpc3RyeUVudHJ5W10+KHtcbiAgICB0eXBlOiBcImNvbmZpZy9kZXZpY2VfcmVnaXN0cnkvbGlzdFwiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlRGV2aWNlUmVnaXN0cnlVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8RGV2aWNlUmVnaXN0cnlFbnRyeVtdPlxuKSA9PlxuICBjb25uLnN1YnNjcmliZUV2ZW50cyhcbiAgICBkZWJvdW5jZShcbiAgICAgICgpID0+XG4gICAgICAgIGZldGNoRGV2aWNlUmVnaXN0cnkoY29ubikudGhlbigoZGV2aWNlcykgPT5cbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShkZXZpY2VzLCB0cnVlKVxuICAgICAgICApLFxuICAgICAgNTAwLFxuICAgICAgdHJ1ZVxuICAgICksXG4gICAgXCJkZXZpY2VfcmVnaXN0cnlfdXBkYXRlZFwiXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVEZXZpY2VSZWdpc3RyeSA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgb25DaGFuZ2U6IChkZXZpY2VzOiBEZXZpY2VSZWdpc3RyeUVudHJ5W10pID0+IHZvaWRcbikgPT5cbiAgY3JlYXRlQ29sbGVjdGlvbjxEZXZpY2VSZWdpc3RyeUVudHJ5W10+KFxuICAgIFwiX2RyXCIsXG4gICAgZmV0Y2hEZXZpY2VSZWdpc3RyeSxcbiAgICBzdWJzY3JpYmVEZXZpY2VSZWdpc3RyeVVwZGF0ZXMsXG4gICAgY29ubixcbiAgICBvbkNoYW5nZVxuICApO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/ws-device_registry.ts\n");

/***/ }),

/***/ "./src/data/ws-entity_registry_display.ts":
/*!************************************************!*\
  !*** ./src/data/ws-entity_registry_display.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   subscribeEntityRegistryDisplay: () => (/* binding */ subscribeEntityRegistryDisplay)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _entity_registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n\n\n\nconst subscribeEntityRegistryDisplayUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_1__.debounce)(() => (0,_entity_registry__WEBPACK_IMPORTED_MODULE_0__.fetchEntityRegistryDisplay)(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\nconst subscribeEntityRegistryDisplay = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_2__.createCollection)(\"_entityRegistryDisplay\", _entity_registry__WEBPACK_IMPORTED_MODULE_0__.fetchEntityRegistryDisplay, subscribeEntityRegistryDisplayUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy1lbnRpdHlfcmVnaXN0cnlfZGlzcGxheS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFFQTtBQUlBO0FBRUE7QUFnQkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL3dzLWVudGl0eV9yZWdpc3RyeV9kaXNwbGF5LnRzPzYzMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvbiB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3N0b3JlXCI7XG5pbXBvcnQge1xuICBFbnRpdHlSZWdpc3RyeURpc3BsYXlFbnRyeVJlc3BvbnNlLFxuICBmZXRjaEVudGl0eVJlZ2lzdHJ5RGlzcGxheSxcbn0gZnJvbSBcIi4vZW50aXR5X3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuLi9jb21tb24vdXRpbC9kZWJvdW5jZVwiO1xuXG5jb25zdCBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeURpc3BsYXlVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8RW50aXR5UmVnaXN0cnlEaXNwbGF5RW50cnlSZXNwb25zZT5cbikgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgZGVib3VuY2UoXG4gICAgICAoKSA9PlxuICAgICAgICBmZXRjaEVudGl0eVJlZ2lzdHJ5RGlzcGxheShjb25uKS50aGVuKChlbnRpdGllcykgPT5cbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShlbnRpdGllcywgdHJ1ZSlcbiAgICAgICAgKSxcbiAgICAgIDUwMCxcbiAgICAgIHRydWVcbiAgICApLFxuICAgIFwiZW50aXR5X3JlZ2lzdHJ5X3VwZGF0ZWRcIlxuICApO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlEaXNwbGF5ID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKGVudGl0aWVzOiBFbnRpdHlSZWdpc3RyeURpc3BsYXlFbnRyeVJlc3BvbnNlKSA9PiB2b2lkXG4pID0+XG4gIGNyZWF0ZUNvbGxlY3Rpb248RW50aXR5UmVnaXN0cnlEaXNwbGF5RW50cnlSZXNwb25zZT4oXG4gICAgXCJfZW50aXR5UmVnaXN0cnlEaXNwbGF5XCIsXG4gICAgZmV0Y2hFbnRpdHlSZWdpc3RyeURpc3BsYXksXG4gICAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlEaXNwbGF5VXBkYXRlcyxcbiAgICBjb25uLFxuICAgIG9uQ2hhbmdlXG4gICk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/ws-entity_registry_display.ts\n");

/***/ }),

/***/ "./src/data/ws-panels.ts":
/*!*******************************!*\
  !*** ./src/data/ws-panels.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   subscribePanels: () => (/* binding */ subscribePanels)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\nconst fetchPanels = conn => conn.sendMessagePromise({\n  type: \"get_panels\"\n});\nconst subscribeUpdates = (conn, store) => conn.subscribeEvents(() => fetchPanels(conn).then(panels => store.setState(panels, true)), \"panels_updated\");\nconst subscribePanels = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.createCollection)(\"_pnl\", fetchPanels, subscribeUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy1wYW5lbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBTUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL3dzLXBhbmVscy50cz83OTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBQYW5lbHMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuY29uc3QgZmV0Y2hQYW5lbHMgPSAoY29ubikgPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2Uoe1xuICAgIHR5cGU6IFwiZ2V0X3BhbmVsc1wiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgKCkgPT4gZmV0Y2hQYW5lbHMoY29ubikudGhlbigocGFuZWxzKSA9PiBzdG9yZS5zZXRTdGF0ZShwYW5lbHMsIHRydWUpKSxcbiAgICBcInBhbmVsc191cGRhdGVkXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVBhbmVscyA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgb25DaGFuZ2U6IChwYW5lbHM6IFBhbmVscykgPT4gdm9pZFxuKSA9PlxuICBjcmVhdGVDb2xsZWN0aW9uPFBhbmVscz4oXG4gICAgXCJfcG5sXCIsXG4gICAgZmV0Y2hQYW5lbHMsXG4gICAgc3Vic2NyaWJlVXBkYXRlcyxcbiAgICBjb25uLFxuICAgIG9uQ2hhbmdlXG4gICk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/ws-panels.ts\n");

/***/ }),

/***/ "./src/data/ws-themes.ts":
/*!*******************************!*\
  !*** ./src/data/ws-themes.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   subscribeThemes: () => (/* binding */ subscribeThemes)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\nconst fetchThemes = conn => conn.sendMessagePromise({\n  type: \"frontend/get_themes\"\n});\nconst subscribeUpdates = (conn, store) => conn.subscribeEvents(() => fetchThemes(conn).then(data => store.setState(data, true)), \"themes_updated\");\nconst subscribeThemes = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.createCollection)(\"_thm\", fetchThemes, subscribeUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy10aGVtZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQTZCQTtBQUVBO0FBQ0E7QUFFQTtBQU1BIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS93cy10aGVtZXMudHM/ZWFiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25uZWN0aW9uLCBjcmVhdGVDb2xsZWN0aW9uIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lVmFycyB7XG4gIC8vIEluY29tcGxldGVcbiAgXCJwcmltYXJ5LWNvbG9yXCI6IHN0cmluZztcbiAgXCJ0ZXh0LXByaW1hcnktY29sb3JcIjogc3RyaW5nO1xuICBcImFjY2VudC1jb2xvclwiOiBzdHJpbmc7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgVGhlbWUgPSBUaGVtZVZhcnMgJiB7XG4gIG1vZGVzPzoge1xuICAgIGxpZ2h0PzogVGhlbWVWYXJzO1xuICAgIGRhcms/OiBUaGVtZVZhcnM7XG4gIH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lcyB7XG4gIGRlZmF1bHRfdGhlbWU6IHN0cmluZztcbiAgZGVmYXVsdF9kYXJrX3RoZW1lOiBzdHJpbmcgfCBudWxsO1xuICB0aGVtZXM6IFJlY29yZDxzdHJpbmcsIFRoZW1lPjtcbiAgLy8gQ3VycmVudGx5IGVmZmVjdGl2ZSBkYXJrIG1vZGUuIFdpbGwgbmV2ZXIgYmUgdW5kZWZpbmVkLiBJZiB1c2VyIHNlbGVjdGVkIFwiYXV0b1wiXG4gIC8vIGluIHRoZW1lIHBpY2tlciwgdGhpcyBwcm9wZXJ0eSB3aWxsIHN0aWxsIGNvbnRhaW4gZWl0aGVyIHRydWUgb3IgZmFsc2UgYmFzZWQgb25cbiAgLy8gd2hhdCBoYXMgYmVlbiBkZXRlcm1pbmVkIHZpYSBzeXN0ZW0gcHJlZmVyZW5jZXMgYW5kIHN1cHBvcnQgZnJvbSB0aGUgc2VsZWN0ZWQgdGhlbWUuXG4gIGRhcmtNb2RlOiBib29sZWFuO1xuICAvLyBDdXJyZW50bHkgZ2xvYmFsbHkgYWN0aXZlIHRoZW1lIG5hbWVcbiAgdGhlbWU6IHN0cmluZztcbn1cblxuY29uc3QgZmV0Y2hUaGVtZXMgPSAoY29ubikgPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2Uoe1xuICAgIHR5cGU6IFwiZnJvbnRlbmQvZ2V0X3RoZW1lc1wiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgKCkgPT4gZmV0Y2hUaGVtZXMoY29ubikudGhlbigoZGF0YSkgPT4gc3RvcmUuc2V0U3RhdGUoZGF0YSwgdHJ1ZSkpLFxuICAgIFwidGhlbWVzX3VwZGF0ZWRcIlxuICApO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVGhlbWVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKHRoZW1lczogVGhlbWVzKSA9PiB2b2lkXG4pID0+XG4gIGNyZWF0ZUNvbGxlY3Rpb248VGhlbWVzPihcbiAgICBcIl90aG1cIixcbiAgICBmZXRjaFRoZW1lcyxcbiAgICBzdWJzY3JpYmVVcGRhdGVzLFxuICAgIGNvbm4sXG4gICAgb25DaGFuZ2VcbiAgKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/ws-themes.ts\n");

/***/ }),

/***/ "./src/data/ws-user.ts":
/*!*****************************!*\
  !*** ./src/data/ws-user.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   subscribeUser: () => (/* binding */ subscribeUser),\n/* harmony export */   userCollection: () => (/* binding */ userCollection)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n\nconst userCollection = conn => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.getCollection)(conn, \"_usr\", () => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__.getUser)(conn), undefined);\nconst subscribeUser = (conn, onChange) => userCollection(conn).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy11c2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQU9BO0FBUUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL3dzLXVzZXIudHM/ZGZhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBnZXRDb2xsZWN0aW9uLFxuICBnZXRVc2VyLFxufSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBDdXJyZW50VXNlciB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgdXNlckNvbGxlY3Rpb24gPSAoY29ubjogQ29ubmVjdGlvbikgPT5cbiAgZ2V0Q29sbGVjdGlvbihcbiAgICBjb25uLFxuICAgIFwiX3VzclwiLFxuICAgICgpID0+IGdldFVzZXIoY29ubikgYXMgUHJvbWlzZTxDdXJyZW50VXNlcj4sXG4gICAgdW5kZWZpbmVkXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVVc2VyID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKHVzZXI6IEN1cnJlbnRVc2VyKSA9PiB2b2lkXG4pID0+IHVzZXJDb2xsZWN0aW9uKGNvbm4pLnN1YnNjcmliZShvbkNoYW5nZSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/ws-user.ts\n");

/***/ }),

/***/ "./src/entrypoints/core.ts":
/*!*********************************!*\
  !*** ./src/entrypoints/core.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/auth.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/index.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/entities.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/config.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/services.js\");\n/* harmony import */ var _common_auth_token_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/auth/token_storage */ \"./src/common/auth/token_storage.ts\");\n/* harmony import */ var _data_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/auth */ \"./src/data/auth.ts\");\n/* harmony import */ var _data_external__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/external */ \"./src/data/external.ts\");\n/* harmony import */ var _data_frontend__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/frontend */ \"./src/data/frontend.ts\");\n/* harmony import */ var _data_lovelace_config_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/lovelace/config/types */ \"./src/data/lovelace/config/types.ts\");\n/* harmony import */ var _data_lovelace_resource__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/lovelace/resource */ \"./src/data/lovelace/resource.ts\");\n/* harmony import */ var _data_main_window__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../data/main_window */ \"./src/data/main_window.ts\");\n/* harmony import */ var _data_recorder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/recorder */ \"./src/data/recorder.ts\");\n/* harmony import */ var _data_repairs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/repairs */ \"./src/data/repairs.ts\");\n/* harmony import */ var _data_ws_area_registry__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/ws-area_registry */ \"./src/data/ws-area_registry.ts\");\n/* harmony import */ var _data_ws_device_registry__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../data/ws-device_registry */ \"./src/data/ws-device_registry.ts\");\n/* harmony import */ var _data_ws_entity_registry_display__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../data/ws-entity_registry_display */ \"./src/data/ws-entity_registry_display.ts\");\n/* harmony import */ var _data_ws_panels__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../data/ws-panels */ \"./src/data/ws-panels.ts\");\n/* harmony import */ var _data_ws_themes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../data/ws-themes */ \"./src/data/ws-themes.ts\");\n/* harmony import */ var _data_ws_user__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../data/ws-user */ \"./src/data/ws-user.ts\");\n/* harmony import */ var _resources_array_flat_polyfill__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../resources/array.flat.polyfill */ \"./src/resources/array.flat.polyfill.ts\");\n/* harmony import */ var _resources_safari_14_attachshadow_patch__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../resources/safari-14-attachshadow-patch */ \"./src/resources/safari-14-attachshadow-patch.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nwindow.name = _data_main_window__WEBPACK_IMPORTED_MODULE_6__.MAIN_WINDOW_NAME;\nwindow.frontendVersion = \"20240202.0\";\nconst clearUrlParams = () => {\n  // Clear auth data from url if we have been able to establish a connection\n  if (location.search.includes(\"auth_callback=1\")) {\n    const searchParams = new URLSearchParams(location.search);\n    // https://github.com/home-assistant/home-assistant-js-websocket/blob/master/lib/auth.ts\n    // Remove all data from QueryCallbackData type\n    searchParams.delete(\"auth_callback\");\n    searchParams.delete(\"code\");\n    searchParams.delete(\"state\");\n    searchParams.delete(\"storeToken\");\n    const search = searchParams.toString();\n    history.replaceState(null, \"\", `${location.pathname}${search ? `?${search}` : \"\"}`);\n  }\n};\nconst authProm = _data_external__WEBPACK_IMPORTED_MODULE_2__.isExternal ? () => __webpack_require__.e(/*! import() */ \"src_external_app_external_auth_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../external_app/external_auth */ \"./src/external_app/external_auth.ts\")).then(({\n  createExternalAuth\n}) => createExternalAuth(_data_auth__WEBPACK_IMPORTED_MODULE_1__.hassUrl)) : () => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_17__.getAuth)({\n  hassUrl: _data_auth__WEBPACK_IMPORTED_MODULE_1__.hassUrl,\n  limitHassInstance: true,\n  saveTokens: _common_auth_token_storage__WEBPACK_IMPORTED_MODULE_0__.saveTokens,\n  loadTokens: () => Promise.resolve((0,_common_auth_token_storage__WEBPACK_IMPORTED_MODULE_0__.loadTokens)())\n});\nconst connProm = async auth => {\n  try {\n    const conn = await (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_18__.createConnection)({\n      auth\n    });\n    clearUrlParams();\n    return {\n      auth,\n      conn\n    };\n  } catch (err) {\n    if (err !== home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_19__.ERR_INVALID_AUTH) {\n      throw err;\n    }\n    // We can get invalid auth if auth tokens were stored that are no longer valid\n    if (_data_external__WEBPACK_IMPORTED_MODULE_2__.isExternal) {\n      // Tell the external app to force refresh the access tokens.\n      // This should trigger their unauthorized handling.\n      await auth.refreshAccessToken(true);\n    } else {\n      // Clear stored tokens.\n      (0,_common_auth_token_storage__WEBPACK_IMPORTED_MODULE_0__.saveTokens)(null);\n    }\n    auth = await authProm();\n    const conn = await (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_18__.createConnection)({\n      auth\n    });\n    clearUrlParams();\n    return {\n      auth,\n      conn\n    };\n  }\n};\nif ( true && \"performance\" in window) {\n  // Remove adoptedStyleSheets so style inspector works on shadow DOM.\n  // @ts-ignore\n  delete Document.prototype.adoptedStyleSheets;\n  performance.mark(\"hass-start\");\n}\nwindow.hassConnection = authProm().then(connProm);\n\n// This is set if app was somehow loaded before core.\nif (window.hassConnectionReady) {\n  window.hassConnectionReady(window.hassConnection);\n}\n\n// Start fetching some of the data that we will need.\nwindow.hassConnection.then(({\n  conn\n}) => {\n  const noop = () => {\n    // do nothing\n  };\n  (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_20__.subscribeEntities)(conn, noop);\n  (0,_data_ws_entity_registry_display__WEBPACK_IMPORTED_MODULE_11__.subscribeEntityRegistryDisplay)(conn, noop);\n  (0,_data_ws_device_registry__WEBPACK_IMPORTED_MODULE_10__.subscribeDeviceRegistry)(conn, noop);\n  (0,_data_ws_area_registry__WEBPACK_IMPORTED_MODULE_9__.subscribeAreaRegistry)(conn, noop);\n  (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_21__.subscribeConfig)(conn, noop);\n  (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_22__.subscribeServices)(conn, noop);\n  (0,_data_ws_panels__WEBPACK_IMPORTED_MODULE_12__.subscribePanels)(conn, noop);\n  (0,_data_ws_themes__WEBPACK_IMPORTED_MODULE_13__.subscribeThemes)(conn, noop);\n  (0,_data_ws_user__WEBPACK_IMPORTED_MODULE_14__.subscribeUser)(conn, noop);\n  (0,_data_frontend__WEBPACK_IMPORTED_MODULE_3__.subscribeFrontendUserData)(conn, \"core\", noop);\n  (0,_data_repairs__WEBPACK_IMPORTED_MODULE_8__.subscribeRepairsIssueRegistry)(conn, noop);\n  const preloadWindow = window;\n  preloadWindow.recorderInfoProm = (0,_data_recorder__WEBPACK_IMPORTED_MODULE_7__.getRecorderInfo)(conn);\n  if (location.pathname === \"/\" || location.pathname.startsWith(\"/lovelace/\")) {\n    preloadWindow.llConfProm = (0,_data_lovelace_config_types__WEBPACK_IMPORTED_MODULE_4__.fetchConfig)(conn, null, false);\n    preloadWindow.llConfProm.catch(() => {\n      // Ignore it, it is handled by Lovelace panel.\n    });\n    preloadWindow.llResProm = (0,_data_lovelace_resource__WEBPACK_IMPORTED_MODULE_5__.fetchResources)(conn);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW50cnlwb2ludHMvY29yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZW50cnlwb2ludHMvY29yZS50cz80YTVlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEF1dGgsXG4gIENvbm5lY3Rpb24sXG4gIGNyZWF0ZUNvbm5lY3Rpb24sXG4gIEVSUl9JTlZBTElEX0FVVEgsXG4gIGdldEF1dGgsXG4gIHN1YnNjcmliZUNvbmZpZyxcbiAgc3Vic2NyaWJlRW50aXRpZXMsXG4gIHN1YnNjcmliZVNlcnZpY2VzLFxufSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBsb2FkVG9rZW5zLCBzYXZlVG9rZW5zIH0gZnJvbSBcIi4uL2NvbW1vbi9hdXRoL3Rva2VuX3N0b3JhZ2VcIjtcbmltcG9ydCB7IGhhc3NVcmwgfSBmcm9tIFwiLi4vZGF0YS9hdXRoXCI7XG5pbXBvcnQgeyBpc0V4dGVybmFsIH0gZnJvbSBcIi4uL2RhdGEvZXh0ZXJuYWxcIjtcbmltcG9ydCB7IHN1YnNjcmliZUZyb250ZW5kVXNlckRhdGEgfSBmcm9tIFwiLi4vZGF0YS9mcm9udGVuZFwiO1xuaW1wb3J0IHsgZmV0Y2hDb25maWcgfSBmcm9tIFwiLi4vZGF0YS9sb3ZlbGFjZS9jb25maWcvdHlwZXNcIjtcbmltcG9ydCB7IGZldGNoUmVzb3VyY2VzIH0gZnJvbSBcIi4uL2RhdGEvbG92ZWxhY2UvcmVzb3VyY2VcIjtcbmltcG9ydCB7IE1BSU5fV0lORE9XX05BTUUgfSBmcm9tIFwiLi4vZGF0YS9tYWluX3dpbmRvd1wiO1xuaW1wb3J0IHsgV2luZG93V2l0aFByZWxvYWRzIH0gZnJvbSBcIi4uL2RhdGEvcHJlbG9hZHNcIjtcbmltcG9ydCB7IGdldFJlY29yZGVySW5mbyB9IGZyb20gXCIuLi9kYXRhL3JlY29yZGVyXCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVSZXBhaXJzSXNzdWVSZWdpc3RyeSB9IGZyb20gXCIuLi9kYXRhL3JlcGFpcnNcIjtcbmltcG9ydCB7IHN1YnNjcmliZUFyZWFSZWdpc3RyeSB9IGZyb20gXCIuLi9kYXRhL3dzLWFyZWFfcmVnaXN0cnlcIjtcbmltcG9ydCB7IHN1YnNjcmliZURldmljZVJlZ2lzdHJ5IH0gZnJvbSBcIi4uL2RhdGEvd3MtZGV2aWNlX3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeURpc3BsYXkgfSBmcm9tIFwiLi4vZGF0YS93cy1lbnRpdHlfcmVnaXN0cnlfZGlzcGxheVwiO1xuaW1wb3J0IHsgc3Vic2NyaWJlUGFuZWxzIH0gZnJvbSBcIi4uL2RhdGEvd3MtcGFuZWxzXCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVUaGVtZXMgfSBmcm9tIFwiLi4vZGF0YS93cy10aGVtZXNcIjtcbmltcG9ydCB7IHN1YnNjcmliZVVzZXIgfSBmcm9tIFwiLi4vZGF0YS93cy11c2VyXCI7XG5pbXBvcnQgdHlwZSB7IEV4dGVybmFsQXV0aCB9IGZyb20gXCIuLi9leHRlcm5hbF9hcHAvZXh0ZXJuYWxfYXV0aFwiO1xuaW1wb3J0IFwiLi4vcmVzb3VyY2VzL2FycmF5LmZsYXQucG9seWZpbGxcIjtcbmltcG9ydCBcIi4uL3Jlc291cmNlcy9zYWZhcmktMTQtYXR0YWNoc2hhZG93LXBhdGNoXCI7XG5cbndpbmRvdy5uYW1lID0gTUFJTl9XSU5ET1dfTkFNRTtcbih3aW5kb3cgYXMgYW55KS5mcm9udGVuZFZlcnNpb24gPSBfX1ZFUlNJT05fXztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBoYXNzQ29ubmVjdGlvbjogUHJvbWlzZTx7IGF1dGg6IEF1dGg7IGNvbm46IENvbm5lY3Rpb24gfT47XG4gICAgaGFzc0Nvbm5lY3Rpb25SZWFkeT86IChoYXNzQ29ubmVjdGlvbjogV2luZG93W1wiaGFzc0Nvbm5lY3Rpb25cIl0pID0+IHZvaWQ7XG4gIH1cbn1cblxuY29uc3QgY2xlYXJVcmxQYXJhbXMgPSAoKSA9PiB7XG4gIC8vIENsZWFyIGF1dGggZGF0YSBmcm9tIHVybCBpZiB3ZSBoYXZlIGJlZW4gYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uXG4gIGlmIChsb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoXCJhdXRoX2NhbGxiYWNrPTFcIikpIHtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2hvbWUtYXNzaXN0YW50L2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9ibG9iL21hc3Rlci9saWIvYXV0aC50c1xuICAgIC8vIFJlbW92ZSBhbGwgZGF0YSBmcm9tIFF1ZXJ5Q2FsbGJhY2tEYXRhIHR5cGVcbiAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwiYXV0aF9jYWxsYmFja1wiKTtcbiAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwiY29kZVwiKTtcbiAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwic3RhdGVcIik7XG4gICAgc2VhcmNoUGFyYW1zLmRlbGV0ZShcInN0b3JlVG9rZW5cIik7XG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoXG4gICAgICBudWxsLFxuICAgICAgXCJcIixcbiAgICAgIGAke2xvY2F0aW9uLnBhdGhuYW1lfSR7c2VhcmNoID8gYD8ke3NlYXJjaH1gIDogXCJcIn1gXG4gICAgKTtcbiAgfVxufTtcblxuY29uc3QgYXV0aFByb20gPSBpc0V4dGVybmFsXG4gID8gKCkgPT5cbiAgICAgIGltcG9ydChcIi4uL2V4dGVybmFsX2FwcC9leHRlcm5hbF9hdXRoXCIpLnRoZW4oKHsgY3JlYXRlRXh0ZXJuYWxBdXRoIH0pID0+XG4gICAgICAgIGNyZWF0ZUV4dGVybmFsQXV0aChoYXNzVXJsKVxuICAgICAgKVxuICA6ICgpID0+XG4gICAgICBnZXRBdXRoKHtcbiAgICAgICAgaGFzc1VybCxcbiAgICAgICAgbGltaXRIYXNzSW5zdGFuY2U6IHRydWUsXG4gICAgICAgIHNhdmVUb2tlbnMsXG4gICAgICAgIGxvYWRUb2tlbnM6ICgpID0+IFByb21pc2UucmVzb2x2ZShsb2FkVG9rZW5zKCkpLFxuICAgICAgfSk7XG5cbmNvbnN0IGNvbm5Qcm9tID0gYXN5bmMgKGF1dGgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25uID0gYXdhaXQgY3JlYXRlQ29ubmVjdGlvbih7IGF1dGggfSk7XG4gICAgY2xlYXJVcmxQYXJhbXMoKTtcbiAgICByZXR1cm4geyBhdXRoLCBjb25uIH07XG4gIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgaWYgKGVyciAhPT0gRVJSX0lOVkFMSURfQVVUSCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICAvLyBXZSBjYW4gZ2V0IGludmFsaWQgYXV0aCBpZiBhdXRoIHRva2VucyB3ZXJlIHN0b3JlZCB0aGF0IGFyZSBubyBsb25nZXIgdmFsaWRcbiAgICBpZiAoaXNFeHRlcm5hbCkge1xuICAgICAgLy8gVGVsbCB0aGUgZXh0ZXJuYWwgYXBwIHRvIGZvcmNlIHJlZnJlc2ggdGhlIGFjY2VzcyB0b2tlbnMuXG4gICAgICAvLyBUaGlzIHNob3VsZCB0cmlnZ2VyIHRoZWlyIHVuYXV0aG9yaXplZCBoYW5kbGluZy5cbiAgICAgIGF3YWl0IGF1dGgucmVmcmVzaEFjY2Vzc1Rva2VuKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDbGVhciBzdG9yZWQgdG9rZW5zLlxuICAgICAgc2F2ZVRva2VucyhudWxsKTtcbiAgICB9XG4gICAgYXV0aCA9IGF3YWl0IGF1dGhQcm9tKCk7XG4gICAgY29uc3QgY29ubiA9IGF3YWl0IGNyZWF0ZUNvbm5lY3Rpb24oeyBhdXRoIH0pO1xuICAgIGNsZWFyVXJsUGFyYW1zKCk7XG4gICAgcmV0dXJuIHsgYXV0aCwgY29ubiB9O1xuICB9XG59O1xuXG5pZiAoX19ERVZfXyAmJiBcInBlcmZvcm1hbmNlXCIgaW4gd2luZG93KSB7XG4gIC8vIFJlbW92ZSBhZG9wdGVkU3R5bGVTaGVldHMgc28gc3R5bGUgaW5zcGVjdG9yIHdvcmtzIG9uIHNoYWRvdyBET00uXG4gIC8vIEB0cy1pZ25vcmVcbiAgZGVsZXRlIERvY3VtZW50LnByb3RvdHlwZS5hZG9wdGVkU3R5bGVTaGVldHM7XG4gIHBlcmZvcm1hbmNlLm1hcmsoXCJoYXNzLXN0YXJ0XCIpO1xufVxud2luZG93Lmhhc3NDb25uZWN0aW9uID0gKGF1dGhQcm9tKCkgYXMgUHJvbWlzZTxBdXRoIHwgRXh0ZXJuYWxBdXRoPikudGhlbihcbiAgY29ublByb21cbik7XG5cbi8vIFRoaXMgaXMgc2V0IGlmIGFwcCB3YXMgc29tZWhvdyBsb2FkZWQgYmVmb3JlIGNvcmUuXG5pZiAod2luZG93Lmhhc3NDb25uZWN0aW9uUmVhZHkpIHtcbiAgd2luZG93Lmhhc3NDb25uZWN0aW9uUmVhZHkod2luZG93Lmhhc3NDb25uZWN0aW9uKTtcbn1cblxuLy8gU3RhcnQgZmV0Y2hpbmcgc29tZSBvZiB0aGUgZGF0YSB0aGF0IHdlIHdpbGwgbmVlZC5cbndpbmRvdy5oYXNzQ29ubmVjdGlvbi50aGVuKCh7IGNvbm4gfSkgPT4ge1xuICBjb25zdCBub29wID0gKCkgPT4ge1xuICAgIC8vIGRvIG5vdGhpbmdcbiAgfTtcbiAgc3Vic2NyaWJlRW50aXRpZXMoY29ubiwgbm9vcCk7XG4gIHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5RGlzcGxheShjb25uLCBub29wKTtcbiAgc3Vic2NyaWJlRGV2aWNlUmVnaXN0cnkoY29ubiwgbm9vcCk7XG4gIHN1YnNjcmliZUFyZWFSZWdpc3RyeShjb25uLCBub29wKTtcbiAgc3Vic2NyaWJlQ29uZmlnKGNvbm4sIG5vb3ApO1xuICBzdWJzY3JpYmVTZXJ2aWNlcyhjb25uLCBub29wKTtcbiAgc3Vic2NyaWJlUGFuZWxzKGNvbm4sIG5vb3ApO1xuICBzdWJzY3JpYmVUaGVtZXMoY29ubiwgbm9vcCk7XG4gIHN1YnNjcmliZVVzZXIoY29ubiwgbm9vcCk7XG4gIHN1YnNjcmliZUZyb250ZW5kVXNlckRhdGEoY29ubiwgXCJjb3JlXCIsIG5vb3ApO1xuICBzdWJzY3JpYmVSZXBhaXJzSXNzdWVSZWdpc3RyeShjb25uLCBub29wKTtcblxuICBjb25zdCBwcmVsb2FkV2luZG93ID0gd2luZG93IGFzIFdpbmRvd1dpdGhQcmVsb2FkcztcbiAgcHJlbG9hZFdpbmRvdy5yZWNvcmRlckluZm9Qcm9tID0gZ2V0UmVjb3JkZXJJbmZvKGNvbm4pO1xuXG4gIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvXCIgfHwgbG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aChcIi9sb3ZlbGFjZS9cIikpIHtcbiAgICBwcmVsb2FkV2luZG93LmxsQ29uZlByb20gPSBmZXRjaENvbmZpZyhjb25uLCBudWxsLCBmYWxzZSk7XG4gICAgcHJlbG9hZFdpbmRvdy5sbENvbmZQcm9tLmNhdGNoKCgpID0+IHtcbiAgICAgIC8vIElnbm9yZSBpdCwgaXQgaXMgaGFuZGxlZCBieSBMb3ZlbGFjZSBwYW5lbC5cbiAgICB9KTtcbiAgICBwcmVsb2FkV2luZG93LmxsUmVzUHJvbSA9IGZldGNoUmVzb3VyY2VzKGNvbm4pO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/entrypoints/core.ts\n");

/***/ }),

/***/ "./src/resources/array.flat.polyfill.ts":
/*!**********************************************!*\
  !*** ./src/resources/array.flat.polyfill.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* eslint-disable no-extend-native */\n\n // for Babel to treat as a module\n\nif (!Array.prototype.flat) {\n  Object.defineProperty(Array.prototype, \"flat\", {\n    configurable: true,\n    writable: true,\n    value: function (...args) {\n      const depth = typeof args[0] === \"undefined\" ? 1 : Number(args[0]) || 0;\n      const result = [];\n      const forEach = result.forEach;\n      const flatDeep = (arr, dpth) => {\n        forEach.call(arr, val => {\n          if (dpth > 0 && Array.isArray(val)) {\n            flatDeep(val, dpth - 1);\n          } else {\n            result.push(val);\n          }\n        });\n      };\n      flatDeep(this, depth);\n      return result;\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL2FycmF5LmZsYXQucG9seWZpbGwudHMiLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcmVzb3VyY2VzL2FycmF5LmZsYXQucG9seWZpbGwudHM/NWZlNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1leHRlbmQtbmF0aXZlICovXG5cbmV4cG9ydCB7fTsgLy8gZm9yIEJhYmVsIHRvIHRyZWF0IGFzIGEgbW9kdWxlXG5cbmlmICghQXJyYXkucHJvdG90eXBlLmZsYXQpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSwgXCJmbGF0XCIsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICBjb25zdCBkZXB0aCA9IHR5cGVvZiBhcmdzWzBdID09PSBcInVuZGVmaW5lZFwiID8gMSA6IE51bWJlcihhcmdzWzBdKSB8fCAwO1xuICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICBjb25zdCBmb3JFYWNoID0gcmVzdWx0LmZvckVhY2g7XG5cbiAgICAgIGNvbnN0IGZsYXREZWVwID0gKGFycjogQXJyYXk8YW55PiwgZHB0aDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGZvckVhY2guY2FsbChhcnIsICh2YWwpID0+IHtcbiAgICAgICAgICBpZiAoZHB0aCA+IDAgJiYgQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICBmbGF0RGVlcCh2YWwsIGRwdGggLSAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZmxhdERlZXAodGhpcywgZGVwdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/array.flat.polyfill.ts\n");

/***/ }),

/***/ "./src/resources/safari-14-attachshadow-patch.ts":
/*!*******************************************************!*\
  !*** ./src/resources/safari-14-attachshadow-patch.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// https://github.com/home-assistant/frontend/pull/7031\n\n // for Babel to treat as a module\n\nconst isSafari14 = /^((?!chrome|android).)*version\\/14\\.0\\s.*safari/i.test(navigator.userAgent);\nif (isSafari14) {\n  const origAttachShadow = window.Element.prototype.attachShadow;\n  window.Element.prototype.attachShadow = function (init) {\n    if (init && init.delegatesFocus) {\n      delete init.delegatesFocus;\n    }\n    return origAttachShadow.apply(this, [init]);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVzb3VyY2VzL3NhZmFyaS0xNC1hdHRhY2hzaGFkb3ctcGF0Y2gudHMiLCJtYXBwaW5ncyI6IjtBQUFBOztBQUVBOztBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcmVzb3VyY2VzL3NhZmFyaS0xNC1hdHRhY2hzaGFkb3ctcGF0Y2gudHM/OWEzMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwczovL2dpdGh1Yi5jb20vaG9tZS1hc3Npc3RhbnQvZnJvbnRlbmQvcHVsbC83MDMxXG5cbmV4cG9ydCB7fTsgLy8gZm9yIEJhYmVsIHRvIHRyZWF0IGFzIGEgbW9kdWxlXG5cbmNvbnN0IGlzU2FmYXJpMTQgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSp2ZXJzaW9uXFwvMTRcXC4wXFxzLipzYWZhcmkvaS50ZXN0KFxuICBuYXZpZ2F0b3IudXNlckFnZW50XG4pO1xuXG5pZiAoaXNTYWZhcmkxNCkge1xuICBjb25zdCBvcmlnQXR0YWNoU2hhZG93ID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdztcbiAgd2luZG93LkVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdyA9IGZ1bmN0aW9uIChpbml0KSB7XG4gICAgaWYgKGluaXQgJiYgaW5pdC5kZWxlZ2F0ZXNGb2N1cykge1xuICAgICAgZGVsZXRlIGluaXQuZGVsZWdhdGVzRm9jdXM7XG4gICAgfVxuICAgIHJldHVybiBvcmlnQXR0YWNoU2hhZG93LmFwcGx5KHRoaXMsIFtpbml0XSk7XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/resources/safari-14-attachshadow-patch.ts\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/auth.js":
/*!***************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/auth.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: () => (/* binding */ Auth),\n/* harmony export */   createLongLivedTokenAuth: () => (/* binding */ createLongLivedTokenAuth),\n/* harmony export */   genClientId: () => (/* binding */ genClientId),\n/* harmony export */   genExpires: () => (/* binding */ genExpires),\n/* harmony export */   getAuth: () => (/* binding */ getAuth)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n\n\nconst genClientId = () => `${location.protocol}//${location.host}/`;\nconst genExpires = expires_in => {\n  return expires_in * 1000 + Date.now();\n};\nfunction genRedirectUrl() {\n  // Get current url but without # part.\n  const {\n    protocol,\n    host,\n    pathname,\n    search\n  } = location;\n  return `${protocol}//${host}${pathname}${search}`;\n}\nfunction genAuthorizeUrl(hassUrl, clientId, redirectUrl, state) {\n  let authorizeUrl = `${hassUrl}/auth/authorize?response_type=code&redirect_uri=${encodeURIComponent(redirectUrl)}`;\n  if (clientId !== null) {\n    authorizeUrl += `&client_id=${encodeURIComponent(clientId)}`;\n  }\n  if (state) {\n    authorizeUrl += `&state=${encodeURIComponent(state)}`;\n  }\n  return authorizeUrl;\n}\nfunction redirectAuthorize(hassUrl, clientId, redirectUrl, state) {\n  // Add either ?auth_callback=1 or &auth_callback=1\n  redirectUrl += (redirectUrl.includes(\"?\") ? \"&\" : \"?\") + \"auth_callback=1\";\n  document.location.href = genAuthorizeUrl(hassUrl, clientId, redirectUrl, state);\n}\nasync function tokenRequest(hassUrl, clientId, data) {\n  // Browsers don't allow fetching tokens from https -> http.\n  // Throw an error because it's a pain to debug this.\n  // Guard against not working in node.\n  const l = typeof location !== \"undefined\" && location;\n  if (l && l.protocol === \"https:\") {\n    // Ensure that the hassUrl is hosted on https.\n    const a = document.createElement(\"a\");\n    a.href = hassUrl;\n    if (a.protocol === \"http:\" && a.hostname !== \"localhost\") {\n      throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_HTTPS_TO_HTTP;\n    }\n  }\n  const formData = new FormData();\n  if (clientId !== null) {\n    formData.append(\"client_id\", clientId);\n  }\n  Object.keys(data).forEach(key => {\n    formData.append(key, data[key]);\n  });\n  const resp = await fetch(`${hassUrl}/auth/token`, {\n    method: \"POST\",\n    credentials: \"same-origin\",\n    body: formData\n  });\n  if (!resp.ok) {\n    throw resp.status === 400 /* auth invalid */ || resp.status === 403 /* user not active */ ? _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH : new Error(\"Unable to fetch tokens\");\n  }\n  const tokens = await resp.json();\n  tokens.hassUrl = hassUrl;\n  tokens.clientId = clientId;\n  tokens.expires = genExpires(tokens.expires_in);\n  return tokens;\n}\nfunction fetchToken(hassUrl, clientId, code) {\n  return tokenRequest(hassUrl, clientId, {\n    code,\n    grant_type: \"authorization_code\"\n  });\n}\nfunction encodeOAuthState(state) {\n  return btoa(JSON.stringify(state));\n}\nfunction decodeOAuthState(encoded) {\n  return JSON.parse(atob(encoded));\n}\nclass Auth {\n  constructor(data, saveTokens) {\n    this.data = data;\n    this._saveTokens = saveTokens;\n  }\n  get wsUrl() {\n    // Convert from http:// -> ws://, https:// -> wss://\n    return `ws${this.data.hassUrl.substr(4)}/api/websocket`;\n  }\n  get accessToken() {\n    return this.data.access_token;\n  }\n  get expired() {\n    return Date.now() > this.data.expires;\n  }\n  /**\n   * Refresh the access token.\n   */\n  async refreshAccessToken() {\n    if (!this.data.refresh_token) throw new Error(\"No refresh_token\");\n    const data = await tokenRequest(this.data.hassUrl, this.data.clientId, {\n      grant_type: \"refresh_token\",\n      refresh_token: this.data.refresh_token\n    });\n    // Access token response does not contain refresh token.\n    data.refresh_token = this.data.refresh_token;\n    this.data = data;\n    if (this._saveTokens) this._saveTokens(data);\n  }\n  /**\n   * Revoke the refresh & access tokens.\n   */\n  async revoke() {\n    if (!this.data.refresh_token) throw new Error(\"No refresh_token to revoke\");\n    const formData = new FormData();\n    formData.append(\"token\", this.data.refresh_token);\n    // There is no error checking, as revoke will always return 200\n    await fetch(`${this.data.hassUrl}/auth/revoke`, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      body: formData\n    });\n    if (this._saveTokens) {\n      this._saveTokens(null);\n    }\n  }\n}\nfunction createLongLivedTokenAuth(hassUrl, access_token) {\n  return new Auth({\n    hassUrl,\n    clientId: null,\n    expires: Date.now() + 1e11,\n    refresh_token: \"\",\n    access_token,\n    expires_in: 1e11\n  });\n}\nasync function getAuth(options = {}) {\n  let data;\n  let hassUrl = options.hassUrl;\n  // Strip trailing slash.\n  if (hassUrl && hassUrl[hassUrl.length - 1] === \"/\") {\n    hassUrl = hassUrl.substr(0, hassUrl.length - 1);\n  }\n  const clientId = options.clientId !== undefined ? options.clientId : genClientId();\n  const limitHassInstance = options.limitHassInstance === true;\n  // Use auth code if it was passed in\n  if (options.authCode && hassUrl) {\n    data = await fetchToken(hassUrl, clientId, options.authCode);\n    if (options.saveTokens) {\n      options.saveTokens(data);\n    }\n  }\n  // Check if we came back from an authorize redirect\n  if (!data) {\n    const query = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.parseQuery)(location.search.substr(1));\n    // Check if we got redirected here from authorize page\n    if (\"auth_callback\" in query) {\n      // Restore state\n      const state = decodeOAuthState(query.state);\n      if (limitHassInstance && (state.hassUrl !== hassUrl || state.clientId !== clientId)) {\n        throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH_CALLBACK;\n      }\n      data = await fetchToken(state.hassUrl, state.clientId, query.code);\n      if (options.saveTokens) {\n        options.saveTokens(data);\n      }\n    }\n  }\n  // Check for stored tokens\n  if (!data && options.loadTokens) {\n    data = await options.loadTokens();\n  }\n  if (data) {\n    return new Auth(data, options.saveTokens);\n  }\n  if (hassUrl === undefined) {\n    throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_HASS_HOST_REQUIRED;\n  }\n  // If no tokens found but a hassUrl was passed in, let's go get some tokens!\n  redirectAuthorize(hassUrl, clientId, options.redirectUrl || genRedirectUrl(), encodeOAuthState({\n    hassUrl,\n    clientId\n  }));\n  // Just don't resolve while we navigate to next page\n  return new Promise(() => {});\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9hdXRoLmpzP2I2ODMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VRdWVyeSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQsIEVSUl9JTlZBTElEX0FVVEgsIEVSUl9JTlZBTElEX0FVVEhfQ0FMTEJBQ0ssIEVSUl9JTlZBTElEX0hUVFBTX1RPX0hUVFAsIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgY29uc3QgZ2VuQ2xpZW50SWQgPSAoKSA9PiBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7bG9jYXRpb24uaG9zdH0vYDtcbmV4cG9ydCBjb25zdCBnZW5FeHBpcmVzID0gKGV4cGlyZXNfaW4pID0+IHtcbiAgICByZXR1cm4gZXhwaXJlc19pbiAqIDEwMDAgKyBEYXRlLm5vdygpO1xufTtcbmZ1bmN0aW9uIGdlblJlZGlyZWN0VXJsKCkge1xuICAgIC8vIEdldCBjdXJyZW50IHVybCBidXQgd2l0aG91dCAjIHBhcnQuXG4gICAgY29uc3QgeyBwcm90b2NvbCwgaG9zdCwgcGF0aG5hbWUsIHNlYXJjaCB9ID0gbG9jYXRpb247XG4gICAgcmV0dXJuIGAke3Byb3RvY29sfS8vJHtob3N0fSR7cGF0aG5hbWV9JHtzZWFyY2h9YDtcbn1cbmZ1bmN0aW9uIGdlbkF1dGhvcml6ZVVybChoYXNzVXJsLCBjbGllbnRJZCwgcmVkaXJlY3RVcmwsIHN0YXRlKSB7XG4gICAgbGV0IGF1dGhvcml6ZVVybCA9IGAke2hhc3NVcmx9L2F1dGgvYXV0aG9yaXplP3Jlc3BvbnNlX3R5cGU9Y29kZSZyZWRpcmVjdF91cmk9JHtlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmwpfWA7XG4gICAgaWYgKGNsaWVudElkICE9PSBudWxsKSB7XG4gICAgICAgIGF1dGhvcml6ZVVybCArPSBgJmNsaWVudF9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjbGllbnRJZCl9YDtcbiAgICB9XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGF1dGhvcml6ZVVybCArPSBgJnN0YXRlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN0YXRlKX1gO1xuICAgIH1cbiAgICByZXR1cm4gYXV0aG9yaXplVXJsO1xufVxuZnVuY3Rpb24gcmVkaXJlY3RBdXRob3JpemUoaGFzc1VybCwgY2xpZW50SWQsIHJlZGlyZWN0VXJsLCBzdGF0ZSkge1xuICAgIC8vIEFkZCBlaXRoZXIgP2F1dGhfY2FsbGJhY2s9MSBvciAmYXV0aF9jYWxsYmFjaz0xXG4gICAgcmVkaXJlY3RVcmwgKz0gKHJlZGlyZWN0VXJsLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCIpICsgXCJhdXRoX2NhbGxiYWNrPTFcIjtcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gZ2VuQXV0aG9yaXplVXJsKGhhc3NVcmwsIGNsaWVudElkLCByZWRpcmVjdFVybCwgc3RhdGUpO1xufVxuYXN5bmMgZnVuY3Rpb24gdG9rZW5SZXF1ZXN0KGhhc3NVcmwsIGNsaWVudElkLCBkYXRhKSB7XG4gICAgLy8gQnJvd3NlcnMgZG9uJ3QgYWxsb3cgZmV0Y2hpbmcgdG9rZW5zIGZyb20gaHR0cHMgLT4gaHR0cC5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBiZWNhdXNlIGl0J3MgYSBwYWluIHRvIGRlYnVnIHRoaXMuXG4gICAgLy8gR3VhcmQgYWdhaW5zdCBub3Qgd29ya2luZyBpbiBub2RlLlxuICAgIGNvbnN0IGwgPSB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb247XG4gICAgaWYgKGwgJiYgbC5wcm90b2NvbCA9PT0gXCJodHRwczpcIikge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgaGFzc1VybCBpcyBob3N0ZWQgb24gaHR0cHMuXG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgYS5ocmVmID0gaGFzc1VybDtcbiAgICAgICAgaWYgKGEucHJvdG9jb2wgPT09IFwiaHR0cDpcIiAmJiBhLmhvc3RuYW1lICE9PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBFUlJfSU5WQUxJRF9IVFRQU19UT19IVFRQO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgaWYgKGNsaWVudElkICE9PSBudWxsKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImNsaWVudF9pZFwiLCBjbGllbnRJZCk7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBkYXRhW2tleV0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChgJHtoYXNzVXJsfS9hdXRoL3Rva2VuYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3Aub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcC5zdGF0dXMgPT09IDQwMCAvKiBhdXRoIGludmFsaWQgKi8gfHxcbiAgICAgICAgICAgIHJlc3Auc3RhdHVzID09PSA0MDMgLyogdXNlciBub3QgYWN0aXZlICovXG4gICAgICAgICAgICA/IEVSUl9JTlZBTElEX0FVVEhcbiAgICAgICAgICAgIDogbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZldGNoIHRva2Vuc1wiKTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgdG9rZW5zLmhhc3NVcmwgPSBoYXNzVXJsO1xuICAgIHRva2Vucy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgIHRva2Vucy5leHBpcmVzID0gZ2VuRXhwaXJlcyh0b2tlbnMuZXhwaXJlc19pbik7XG4gICAgcmV0dXJuIHRva2Vucztcbn1cbmZ1bmN0aW9uIGZldGNoVG9rZW4oaGFzc1VybCwgY2xpZW50SWQsIGNvZGUpIHtcbiAgICByZXR1cm4gdG9rZW5SZXF1ZXN0KGhhc3NVcmwsIGNsaWVudElkLCB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIGdyYW50X3R5cGU6IFwiYXV0aG9yaXphdGlvbl9jb2RlXCIsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBlbmNvZGVPQXV0aFN0YXRlKHN0YXRlKSB7XG4gICAgcmV0dXJuIGJ0b2EoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZU9BdXRoU3RhdGUoZW5jb2RlZCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGF0b2IoZW5jb2RlZCkpO1xufVxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHNhdmVUb2tlbnMpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fc2F2ZVRva2VucyA9IHNhdmVUb2tlbnM7XG4gICAgfVxuICAgIGdldCB3c1VybCgpIHtcbiAgICAgICAgLy8gQ29udmVydCBmcm9tIGh0dHA6Ly8gLT4gd3M6Ly8sIGh0dHBzOi8vIC0+IHdzczovL1xuICAgICAgICByZXR1cm4gYHdzJHt0aGlzLmRhdGEuaGFzc1VybC5zdWJzdHIoNCl9L2FwaS93ZWJzb2NrZXRgO1xuICAgIH1cbiAgICBnZXQgYWNjZXNzVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuYWNjZXNzX3Rva2VuO1xuICAgIH1cbiAgICBnZXQgZXhwaXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgPiB0aGlzLmRhdGEuZXhwaXJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmcmVzaCB0aGUgYWNjZXNzIHRva2VuLlxuICAgICAqL1xuICAgIGFzeW5jIHJlZnJlc2hBY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEucmVmcmVzaF90b2tlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHJlZnJlc2hfdG9rZW5cIik7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0b2tlblJlcXVlc3QodGhpcy5kYXRhLmhhc3NVcmwsIHRoaXMuZGF0YS5jbGllbnRJZCwge1xuICAgICAgICAgICAgZ3JhbnRfdHlwZTogXCJyZWZyZXNoX3Rva2VuXCIsXG4gICAgICAgICAgICByZWZyZXNoX3Rva2VuOiB0aGlzLmRhdGEucmVmcmVzaF90b2tlbixcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFjY2VzcyB0b2tlbiByZXNwb25zZSBkb2VzIG5vdCBjb250YWluIHJlZnJlc2ggdG9rZW4uXG4gICAgICAgIGRhdGEucmVmcmVzaF90b2tlbiA9IHRoaXMuZGF0YS5yZWZyZXNoX3Rva2VuO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICBpZiAodGhpcy5fc2F2ZVRva2VucylcbiAgICAgICAgICAgIHRoaXMuX3NhdmVUb2tlbnMoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldm9rZSB0aGUgcmVmcmVzaCAmIGFjY2VzcyB0b2tlbnMuXG4gICAgICovXG4gICAgYXN5bmMgcmV2b2tlKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGF0YS5yZWZyZXNoX3Rva2VuKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmcmVzaF90b2tlbiB0byByZXZva2VcIik7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcInRva2VuXCIsIHRoaXMuZGF0YS5yZWZyZXNoX3Rva2VuKTtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gZXJyb3IgY2hlY2tpbmcsIGFzIHJldm9rZSB3aWxsIGFsd2F5cyByZXR1cm4gMjAwXG4gICAgICAgIGF3YWl0IGZldGNoKGAke3RoaXMuZGF0YS5oYXNzVXJsfS9hdXRoL3Jldm9rZWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5fc2F2ZVRva2Vucykge1xuICAgICAgICAgICAgdGhpcy5fc2F2ZVRva2VucyhudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb25nTGl2ZWRUb2tlbkF1dGgoaGFzc1VybCwgYWNjZXNzX3Rva2VuKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoKHtcbiAgICAgICAgaGFzc1VybCxcbiAgICAgICAgY2xpZW50SWQ6IG51bGwsXG4gICAgICAgIGV4cGlyZXM6IERhdGUubm93KCkgKyAxZTExLFxuICAgICAgICByZWZyZXNoX3Rva2VuOiBcIlwiLFxuICAgICAgICBhY2Nlc3NfdG9rZW4sXG4gICAgICAgIGV4cGlyZXNfaW46IDFlMTEsXG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aChvcHRpb25zID0ge30pIHtcbiAgICBsZXQgZGF0YTtcbiAgICBsZXQgaGFzc1VybCA9IG9wdGlvbnMuaGFzc1VybDtcbiAgICAvLyBTdHJpcCB0cmFpbGluZyBzbGFzaC5cbiAgICBpZiAoaGFzc1VybCAmJiBoYXNzVXJsW2hhc3NVcmwubGVuZ3RoIC0gMV0gPT09IFwiL1wiKSB7XG4gICAgICAgIGhhc3NVcmwgPSBoYXNzVXJsLnN1YnN0cigwLCBoYXNzVXJsLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBjb25zdCBjbGllbnRJZCA9IG9wdGlvbnMuY2xpZW50SWQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xpZW50SWQgOiBnZW5DbGllbnRJZCgpO1xuICAgIGNvbnN0IGxpbWl0SGFzc0luc3RhbmNlID0gb3B0aW9ucy5saW1pdEhhc3NJbnN0YW5jZSA9PT0gdHJ1ZTtcbiAgICAvLyBVc2UgYXV0aCBjb2RlIGlmIGl0IHdhcyBwYXNzZWQgaW5cbiAgICBpZiAob3B0aW9ucy5hdXRoQ29kZSAmJiBoYXNzVXJsKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBmZXRjaFRva2VuKGhhc3NVcmwsIGNsaWVudElkLCBvcHRpb25zLmF1dGhDb2RlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2F2ZVRva2Vucykge1xuICAgICAgICAgICAgb3B0aW9ucy5zYXZlVG9rZW5zKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHdlIGNhbWUgYmFjayBmcm9tIGFuIGF1dGhvcml6ZSByZWRpcmVjdFxuICAgIGlmICghZGF0YSkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnkobG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGdvdCByZWRpcmVjdGVkIGhlcmUgZnJvbSBhdXRob3JpemUgcGFnZVxuICAgICAgICBpZiAoXCJhdXRoX2NhbGxiYWNrXCIgaW4gcXVlcnkpIHtcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZGVjb2RlT0F1dGhTdGF0ZShxdWVyeS5zdGF0ZSk7XG4gICAgICAgICAgICBpZiAobGltaXRIYXNzSW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICAoc3RhdGUuaGFzc1VybCAhPT0gaGFzc1VybCB8fCBzdGF0ZS5jbGllbnRJZCAhPT0gY2xpZW50SWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRVJSX0lOVkFMSURfQVVUSF9DQUxMQkFDSztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEgPSBhd2FpdCBmZXRjaFRva2VuKHN0YXRlLmhhc3NVcmwsIHN0YXRlLmNsaWVudElkLCBxdWVyeS5jb2RlKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNhdmVUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNhdmVUb2tlbnMoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2hlY2sgZm9yIHN0b3JlZCB0b2tlbnNcbiAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy5sb2FkVG9rZW5zKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBvcHRpb25zLmxvYWRUb2tlbnMoKTtcbiAgICB9XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBdXRoKGRhdGEsIG9wdGlvbnMuc2F2ZVRva2Vucyk7XG4gICAgfVxuICAgIGlmIChoYXNzVXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgRVJSX0hBU1NfSE9TVF9SRVFVSVJFRDtcbiAgICB9XG4gICAgLy8gSWYgbm8gdG9rZW5zIGZvdW5kIGJ1dCBhIGhhc3NVcmwgd2FzIHBhc3NlZCBpbiwgbGV0J3MgZ28gZ2V0IHNvbWUgdG9rZW5zIVxuICAgIHJlZGlyZWN0QXV0aG9yaXplKGhhc3NVcmwsIGNsaWVudElkLCBvcHRpb25zLnJlZGlyZWN0VXJsIHx8IGdlblJlZGlyZWN0VXJsKCksIGVuY29kZU9BdXRoU3RhdGUoe1xuICAgICAgICBoYXNzVXJsLFxuICAgICAgICBjbGllbnRJZCxcbiAgICB9KSk7XG4gICAgLy8gSnVzdCBkb24ndCByZXNvbHZlIHdoaWxlIHdlIG5hdmlnYXRlIHRvIG5leHQgcGFnZVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7IH0pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/auth.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/collection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/collection.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCollection: () => (/* binding */ createCollection),\n/* harmony export */   getCollection: () => (/* binding */ getCollection)\n/* harmony export */ });\n/* harmony import */ var _store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store.js */ \"./node_modules/home-assistant-js-websocket/dist/store.js\");\n\n// Time to wait to unsubscribe from updates after last subscriber unsubscribes\nconst UNSUB_GRACE_PERIOD = 5000; // 5 seconds\nconst DEBUG = false;\n/**\n *\n * @param conn connection\n * @param key the key to store it on the connection. Must be unique for each collection.\n * @param fetchCollection fetch the current state. If undefined assumes subscribeUpdates receives current state\n * @param subscribeUpdates subscribe to updates on the current state\n * @returns\n */\nconst getCollection = (conn, key, fetchCollection, subscribeUpdates, options = {\n  unsubGrace: true\n}) => {\n  if (conn[key]) {\n    return conn[key];\n  }\n  let active = 0;\n  let unsubProm;\n  let unsubTimer;\n  let store = (0,_store_js__WEBPACK_IMPORTED_MODULE_0__.createStore)();\n  const refresh = () => {\n    if (!fetchCollection) {\n      throw new Error(\"Collection does not support refresh\");\n    }\n    return fetchCollection(conn).then(state => store.setState(state, true));\n  };\n  const refreshSwallow = () => refresh().catch(err => {\n    // Swallow errors if socket is connecting, closing or closed.\n    // We will automatically call refresh again when we re-establish the connection.\n    if (conn.connected) {\n      throw err;\n    }\n  });\n  const setupUpdateSubscription = () => {\n    if (unsubTimer !== undefined) {\n      if (DEBUG) {\n        console.log(`Prevented unsubscribe for ${key}`);\n      }\n      clearTimeout(unsubTimer);\n      unsubTimer = undefined;\n      return;\n    }\n    if (DEBUG) {\n      console.log(`Subscribing to ${key}`);\n    }\n    if (subscribeUpdates) {\n      unsubProm = subscribeUpdates(conn, store);\n    }\n    if (fetchCollection) {\n      // Fetch when connection re-established.\n      conn.addEventListener(\"ready\", refreshSwallow);\n      refreshSwallow();\n    }\n    conn.addEventListener(\"disconnected\", handleDisconnect);\n  };\n  const teardownUpdateSubscription = () => {\n    if (DEBUG) {\n      console.log(`Unsubscribing from ${key}`);\n    }\n    unsubTimer = undefined;\n    // Unsubscribe from changes\n    if (unsubProm) unsubProm.then(unsub => {\n      unsub();\n    });\n    store.clearState();\n    conn.removeEventListener(\"ready\", refresh);\n    conn.removeEventListener(\"disconnected\", handleDisconnect);\n  };\n  const scheduleTeardownUpdateSubscription = () => {\n    if (DEBUG) {\n      console.log(`Scheduling unsubscribing from ${key}`);\n    }\n    unsubTimer = setTimeout(teardownUpdateSubscription, UNSUB_GRACE_PERIOD);\n  };\n  const handleDisconnect = () => {\n    // If we're going to unsubscribe and then lose connection,\n    // just unsubscribe immediately.\n    if (unsubTimer) {\n      clearTimeout(unsubTimer);\n      teardownUpdateSubscription();\n    }\n  };\n  conn[key] = {\n    get state() {\n      return store.state;\n    },\n    refresh,\n    subscribe(subscriber) {\n      active++;\n      if (DEBUG) {\n        console.log(`New subscriber for ${key}. Active subscribers: ${active}`);\n      }\n      // If this was the first subscriber, attach collection\n      if (active === 1) {\n        setupUpdateSubscription();\n      }\n      const unsub = store.subscribe(subscriber);\n      if (store.state !== undefined) {\n        // Don't call it right away so that caller has time\n        // to initialize all the things.\n        setTimeout(() => subscriber(store.state), 0);\n      }\n      return () => {\n        unsub();\n        active--;\n        if (DEBUG) {\n          console.log(`Unsubscribe for ${key}. Active subscribers: ${active}`);\n        }\n        if (!active) {\n          options.unsubGrace ? scheduleTeardownUpdateSubscription() : teardownUpdateSubscription();\n        }\n      };\n    }\n  };\n  return conn[key];\n};\n// Legacy name. It gets a collection and subscribes.\nconst createCollection = (key, fetchCollection, subscribeUpdates, conn, onChange) => getCollection(conn, key, fetchCollection, subscribeUpdates).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29sbGVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9jb2xsZWN0aW9uLmpzPzJhZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tIFwiLi9zdG9yZS5qc1wiO1xuLy8gVGltZSB0byB3YWl0IHRvIHVuc3Vic2NyaWJlIGZyb20gdXBkYXRlcyBhZnRlciBsYXN0IHN1YnNjcmliZXIgdW5zdWJzY3JpYmVzXG5jb25zdCBVTlNVQl9HUkFDRV9QRVJJT0QgPSA1MDAwOyAvLyA1IHNlY29uZHNcbmNvbnN0IERFQlVHID0gZmFsc2U7XG4vKipcbiAqXG4gKiBAcGFyYW0gY29ubiBjb25uZWN0aW9uXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gc3RvcmUgaXQgb24gdGhlIGNvbm5lY3Rpb24uIE11c3QgYmUgdW5pcXVlIGZvciBlYWNoIGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0gZmV0Y2hDb2xsZWN0aW9uIGZldGNoIHRoZSBjdXJyZW50IHN0YXRlLiBJZiB1bmRlZmluZWQgYXNzdW1lcyBzdWJzY3JpYmVVcGRhdGVzIHJlY2VpdmVzIGN1cnJlbnQgc3RhdGVcbiAqIEBwYXJhbSBzdWJzY3JpYmVVcGRhdGVzIHN1YnNjcmliZSB0byB1cGRhdGVzIG9uIHRoZSBjdXJyZW50IHN0YXRlXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgY29uc3QgZ2V0Q29sbGVjdGlvbiA9IChjb25uLCBrZXksIGZldGNoQ29sbGVjdGlvbiwgc3Vic2NyaWJlVXBkYXRlcywgb3B0aW9ucyA9IHsgdW5zdWJHcmFjZTogdHJ1ZSB9KSA9PiB7XG4gICAgaWYgKGNvbm5ba2V5XSkge1xuICAgICAgICByZXR1cm4gY29ubltrZXldO1xuICAgIH1cbiAgICBsZXQgYWN0aXZlID0gMDtcbiAgICBsZXQgdW5zdWJQcm9tO1xuICAgIGxldCB1bnN1YlRpbWVyO1xuICAgIGxldCBzdG9yZSA9IGNyZWF0ZVN0b3JlKCk7XG4gICAgY29uc3QgcmVmcmVzaCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFmZXRjaENvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCByZWZyZXNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZXRjaENvbGxlY3Rpb24oY29ubikudGhlbigoc3RhdGUpID0+IHN0b3JlLnNldFN0YXRlKHN0YXRlLCB0cnVlKSk7XG4gICAgfTtcbiAgICBjb25zdCByZWZyZXNoU3dhbGxvdyA9ICgpID0+IHJlZnJlc2goKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIC8vIFN3YWxsb3cgZXJyb3JzIGlmIHNvY2tldCBpcyBjb25uZWN0aW5nLCBjbG9zaW5nIG9yIGNsb3NlZC5cbiAgICAgICAgLy8gV2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGNhbGwgcmVmcmVzaCBhZ2FpbiB3aGVuIHdlIHJlLWVzdGFibGlzaCB0aGUgY29ubmVjdGlvbi5cbiAgICAgICAgaWYgKGNvbm4uY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzZXR1cFVwZGF0ZVN1YnNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKHVuc3ViVGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFByZXZlbnRlZCB1bnN1YnNjcmliZSBmb3IgJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodW5zdWJUaW1lcik7XG4gICAgICAgICAgICB1bnN1YlRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFN1YnNjcmliaW5nIHRvICR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJzY3JpYmVVcGRhdGVzKSB7XG4gICAgICAgICAgICB1bnN1YlByb20gPSBzdWJzY3JpYmVVcGRhdGVzKGNvbm4sIHN0b3JlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmV0Y2hDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBGZXRjaCB3aGVuIGNvbm5lY3Rpb24gcmUtZXN0YWJsaXNoZWQuXG4gICAgICAgICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeVwiLCByZWZyZXNoU3dhbGxvdyk7XG4gICAgICAgICAgICByZWZyZXNoU3dhbGxvdygpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RlZFwiLCBoYW5kbGVEaXNjb25uZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRlYXJkb3duVXBkYXRlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVbnN1YnNjcmliaW5nIGZyb20gJHtrZXl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdW5zdWJUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVW5zdWJzY3JpYmUgZnJvbSBjaGFuZ2VzXG4gICAgICAgIGlmICh1bnN1YlByb20pXG4gICAgICAgICAgICB1bnN1YlByb20udGhlbigodW5zdWIpID0+IHtcbiAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHN0b3JlLmNsZWFyU3RhdGUoKTtcbiAgICAgICAgY29ubi5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVhZHlcIiwgcmVmcmVzaCk7XG4gICAgICAgIGNvbm4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RlZFwiLCBoYW5kbGVEaXNjb25uZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjaGVkdWxlVGVhcmRvd25VcGRhdGVTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFNjaGVkdWxpbmcgdW5zdWJzY3JpYmluZyBmcm9tICR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICAgIHVuc3ViVGltZXIgPSBzZXRUaW1lb3V0KHRlYXJkb3duVXBkYXRlU3Vic2NyaXB0aW9uLCBVTlNVQl9HUkFDRV9QRVJJT0QpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRGlzY29ubmVjdCA9ICgpID0+IHtcbiAgICAgICAgLy8gSWYgd2UncmUgZ29pbmcgdG8gdW5zdWJzY3JpYmUgYW5kIHRoZW4gbG9zZSBjb25uZWN0aW9uLFxuICAgICAgICAvLyBqdXN0IHVuc3Vic2NyaWJlIGltbWVkaWF0ZWx5LlxuICAgICAgICBpZiAodW5zdWJUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHVuc3ViVGltZXIpO1xuICAgICAgICAgICAgdGVhcmRvd25VcGRhdGVTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29ubltrZXldID0ge1xuICAgICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZnJlc2gsXG4gICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBhY3RpdmUrKztcbiAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBOZXcgc3Vic2NyaWJlciBmb3IgJHtrZXl9LiBBY3RpdmUgc3Vic2NyaWJlcnM6ICR7YWN0aXZlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhpcyB3YXMgdGhlIGZpcnN0IHN1YnNjcmliZXIsIGF0dGFjaCBjb2xsZWN0aW9uXG4gICAgICAgICAgICBpZiAoYWN0aXZlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgc2V0dXBVcGRhdGVTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuc3ViID0gc3RvcmUuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgaWYgKHN0b3JlLnN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjYWxsIGl0IHJpZ2h0IGF3YXkgc28gdGhhdCBjYWxsZXIgaGFzIHRpbWVcbiAgICAgICAgICAgICAgICAvLyB0byBpbml0aWFsaXplIGFsbCB0aGUgdGhpbmdzLlxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc3Vic2NyaWJlcihzdG9yZS5zdGF0ZSksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZS0tO1xuICAgICAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVW5zdWJzY3JpYmUgZm9yICR7a2V5fS4gQWN0aXZlIHN1YnNjcmliZXJzOiAke2FjdGl2ZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy51bnN1YkdyYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNjaGVkdWxlVGVhcmRvd25VcGRhdGVTdWJzY3JpcHRpb24oKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0ZWFyZG93blVwZGF0ZVN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gY29ubltrZXldO1xufTtcbi8vIExlZ2FjeSBuYW1lLiBJdCBnZXRzIGEgY29sbGVjdGlvbiBhbmQgc3Vic2NyaWJlcy5cbmV4cG9ydCBjb25zdCBjcmVhdGVDb2xsZWN0aW9uID0gKGtleSwgZmV0Y2hDb2xsZWN0aW9uLCBzdWJzY3JpYmVVcGRhdGVzLCBjb25uLCBvbkNoYW5nZSkgPT4gZ2V0Q29sbGVjdGlvbihjb25uLCBrZXksIGZldGNoQ29sbGVjdGlvbiwgc3Vic2NyaWJlVXBkYXRlcykuc3Vic2NyaWJlKG9uQ2hhbmdlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/collection.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/commands.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/commands.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callService: () => (/* binding */ callService),\n/* harmony export */   getConfig: () => (/* binding */ getConfig),\n/* harmony export */   getServices: () => (/* binding */ getServices),\n/* harmony export */   getStates: () => (/* binding */ getStates),\n/* harmony export */   getUser: () => (/* binding */ getUser)\n/* harmony export */ });\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages.js */ \"./node_modules/home-assistant-js-websocket/dist/messages.js\");\n\nconst getStates = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.states());\nconst getServices = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.services());\nconst getConfig = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.config());\nconst getUser = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.user());\nconst callService = (connection, domain, service, serviceData, target) => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.callService(domain, service, serviceData, target));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29tbWFuZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29tbWFuZHMuanM/NWYyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tIFwiLi9tZXNzYWdlcy5qc1wiO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRlcyA9IChjb25uZWN0aW9uKSA9PiBjb25uZWN0aW9uLnNlbmRNZXNzYWdlUHJvbWlzZShtZXNzYWdlcy5zdGF0ZXMoKSk7XG5leHBvcnQgY29uc3QgZ2V0U2VydmljZXMgPSAoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvbi5zZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZXMuc2VydmljZXMoKSk7XG5leHBvcnQgY29uc3QgZ2V0Q29uZmlnID0gKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24uc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2VzLmNvbmZpZygpKTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyID0gKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24uc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2VzLnVzZXIoKSk7XG5leHBvcnQgY29uc3QgY2FsbFNlcnZpY2UgPSAoY29ubmVjdGlvbiwgZG9tYWluLCBzZXJ2aWNlLCBzZXJ2aWNlRGF0YSwgdGFyZ2V0KSA9PiBjb25uZWN0aW9uLnNlbmRNZXNzYWdlUHJvbWlzZShtZXNzYWdlcy5jYWxsU2VydmljZShkb21haW4sIHNlcnZpY2UsIHNlcnZpY2VEYXRhLCB0YXJnZXQpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/commands.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/config.js":
/*!*****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/config.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   STATE_FINAL_WRITE: () => (/* binding */ STATE_FINAL_WRITE),\n/* harmony export */   STATE_NOT_RUNNING: () => (/* binding */ STATE_NOT_RUNNING),\n/* harmony export */   STATE_RUNNING: () => (/* binding */ STATE_RUNNING),\n/* harmony export */   STATE_STARTING: () => (/* binding */ STATE_STARTING),\n/* harmony export */   STATE_STOPPING: () => (/* binding */ STATE_STOPPING),\n/* harmony export */   configColl: () => (/* binding */ configColl),\n/* harmony export */   subscribeConfig: () => (/* binding */ subscribeConfig)\n/* harmony export */ });\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n\n\nfunction processComponentLoaded(state, event) {\n  if (state === undefined) return null;\n  return {\n    components: state.components.concat(event.data.component)\n  };\n}\nconst fetchConfig = conn => (0,_commands_js__WEBPACK_IMPORTED_MODULE_0__.getConfig)(conn);\nconst subscribeUpdates = (conn, store) => Promise.all([conn.subscribeEvents(store.action(processComponentLoaded), \"component_loaded\"), conn.subscribeEvents(() => fetchConfig(conn).then(config => store.setState(config, true)), \"core_config_updated\")]).then(unsubs => () => unsubs.forEach(unsub => unsub()));\nconst configColl = conn => (0,_collection_js__WEBPACK_IMPORTED_MODULE_1__.getCollection)(conn, \"_cnf\", fetchConfig, subscribeUpdates);\nconst subscribeConfig = (conn, onChange) => configColl(conn).subscribe(onChange);\nconst STATE_NOT_RUNNING = \"NOT_RUNNING\";\nconst STATE_STARTING = \"STARTING\";\nconst STATE_RUNNING = \"RUNNING\";\nconst STATE_STOPPING = \"STOPPING\";\nconst STATE_FINAL_WRITE = \"FINAL_WRITE\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29uZmlnLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9jb25maWcuanM/ODkxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vY29sbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHsgZ2V0Q29uZmlnIH0gZnJvbSBcIi4vY29tbWFuZHMuanNcIjtcbmZ1bmN0aW9uIHByb2Nlc3NDb21wb25lbnRMb2FkZWQoc3RhdGUsIGV2ZW50KSB7XG4gICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbXBvbmVudHM6IHN0YXRlLmNvbXBvbmVudHMuY29uY2F0KGV2ZW50LmRhdGEuY29tcG9uZW50KSxcbiAgICB9O1xufVxuY29uc3QgZmV0Y2hDb25maWcgPSAoY29ubikgPT4gZ2V0Q29uZmlnKGNvbm4pO1xuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT4gUHJvbWlzZS5hbGwoW1xuICAgIGNvbm4uc3Vic2NyaWJlRXZlbnRzKHN0b3JlLmFjdGlvbihwcm9jZXNzQ29tcG9uZW50TG9hZGVkKSwgXCJjb21wb25lbnRfbG9hZGVkXCIpLFxuICAgIGNvbm4uc3Vic2NyaWJlRXZlbnRzKCgpID0+IGZldGNoQ29uZmlnKGNvbm4pLnRoZW4oKGNvbmZpZykgPT4gc3RvcmUuc2V0U3RhdGUoY29uZmlnLCB0cnVlKSksIFwiY29yZV9jb25maWdfdXBkYXRlZFwiKSxcbl0pLnRoZW4oKHVuc3VicykgPT4gKCkgPT4gdW5zdWJzLmZvckVhY2goKHVuc3ViKSA9PiB1bnN1YigpKSk7XG5leHBvcnQgY29uc3QgY29uZmlnQ29sbCA9IChjb25uKSA9PiBnZXRDb2xsZWN0aW9uKGNvbm4sIFwiX2NuZlwiLCBmZXRjaENvbmZpZywgc3Vic2NyaWJlVXBkYXRlcyk7XG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlQ29uZmlnID0gKGNvbm4sIG9uQ2hhbmdlKSA9PiBjb25maWdDb2xsKGNvbm4pLnN1YnNjcmliZShvbkNoYW5nZSk7XG5leHBvcnQgY29uc3QgU1RBVEVfTk9UX1JVTk5JTkcgPSBcIk5PVF9SVU5OSU5HXCI7XG5leHBvcnQgY29uc3QgU1RBVEVfU1RBUlRJTkcgPSBcIlNUQVJUSU5HXCI7XG5leHBvcnQgY29uc3QgU1RBVEVfUlVOTklORyA9IFwiUlVOTklOR1wiO1xuZXhwb3J0IGNvbnN0IFNUQVRFX1NUT1BQSU5HID0gXCJTVE9QUElOR1wiO1xuZXhwb3J0IGNvbnN0IFNUQVRFX0ZJTkFMX1dSSVRFID0gXCJGSU5BTF9XUklURVwiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/config.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/connection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/connection.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Connection: () => (/* binding */ Connection)\n/* harmony export */ });\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages.js */ \"./node_modules/home-assistant-js-websocket/dist/messages.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/**\n * Connection that wraps a socket and provides an interface to interact with\n * the Home Assistant websocket API.\n */\n\n\nconst DEBUG = false;\nclass Connection {\n  constructor(socket, options) {\n    this._handleMessage = event => {\n      let messageGroup = JSON.parse(event.data);\n      if (!Array.isArray(messageGroup)) {\n        messageGroup = [messageGroup];\n      }\n      messageGroup.forEach(message => {\n        if (DEBUG) {\n          console.log(\"Received\", message);\n        }\n        const info = this.commands.get(message.id);\n        switch (message.type) {\n          case \"event\":\n            if (info) {\n              info.callback(message.event);\n            } else {\n              console.warn(`Received event for unknown subscription ${message.id}. Unsubscribing.`);\n              this.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.unsubscribeEvents(message.id)).catch(err => {\n                if (DEBUG) {\n                  console.warn(` Error unsubsribing from unknown subscription ${message.id}`, err);\n                }\n              });\n            }\n            break;\n          case \"result\":\n            // No info is fine. If just sendMessage is used, we did not store promise for result\n            if (info) {\n              if (message.success) {\n                info.resolve(message.result);\n                // Don't remove subscriptions.\n                if (!(\"subscribe\" in info)) {\n                  this.commands.delete(message.id);\n                }\n              } else {\n                info.reject(message.error);\n                this.commands.delete(message.id);\n              }\n            }\n            break;\n          case \"pong\":\n            if (info) {\n              info.resolve();\n              this.commands.delete(message.id);\n            } else {\n              console.warn(`Received unknown pong response ${message.id}`);\n            }\n            break;\n          default:\n            if (DEBUG) {\n              console.warn(\"Unhandled message\", message);\n            }\n        }\n      });\n    };\n    this._handleClose = async () => {\n      const oldCommands = this.commands;\n      // reset to original state except haVersion\n      this.commandId = 1;\n      this.oldSubscriptions = this.commands;\n      this.commands = new Map();\n      this.socket = undefined;\n      // Reject in-flight sendMessagePromise requests\n      oldCommands.forEach(info => {\n        // We don't cancel subscribeEvents commands in flight\n        // as we will be able to recover them.\n        if (!(\"subscribe\" in info)) {\n          info.reject(_messages_js__WEBPACK_IMPORTED_MODULE_0__.error(_errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_CONNECTION_LOST, \"Connection lost\"));\n        }\n      });\n      if (this.closeRequested) {\n        return;\n      }\n      this.fireEvent(\"disconnected\");\n      // Disable setupRetry, we control it here with auto-backoff\n      const options = Object.assign(Object.assign({}, this.options), {\n        setupRetry: 0\n      });\n      const reconnect = tries => {\n        setTimeout(async () => {\n          if (this.closeRequested) {\n            return;\n          }\n          if (DEBUG) {\n            console.log(\"Trying to reconnect\");\n          }\n          try {\n            const socket = await options.createSocket(options);\n            this._setSocket(socket);\n          } catch (err) {\n            if (this._queuedMessages) {\n              const queuedMessages = this._queuedMessages;\n              this._queuedMessages = undefined;\n              for (const msg of queuedMessages) {\n                if (msg.reject) {\n                  msg.reject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_CONNECTION_LOST);\n                }\n              }\n            }\n            if (err === _errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_INVALID_AUTH) {\n              this.fireEvent(\"reconnect-error\", err);\n            } else {\n              reconnect(tries + 1);\n            }\n          }\n        }, Math.min(tries, 5) * 1000);\n      };\n      if (this.suspendReconnectPromise) {\n        await this.suspendReconnectPromise;\n        this.suspendReconnectPromise = undefined;\n        // For the first retry after suspend, we will queue up\n        // all messages.\n        this._queuedMessages = [];\n      }\n      reconnect(0);\n    };\n    // connection options\n    //  - setupRetry: amount of ms to retry when unable to connect on initial setup\n    //  - createSocket: create a new Socket connection\n    this.options = options;\n    // id if next command to send\n    this.commandId = 2; // socket may send 1 at the start to enable features\n    // info about active subscriptions and commands in flight\n    this.commands = new Map();\n    // map of event listeners\n    this.eventListeners = new Map();\n    // true if a close is requested by the user\n    this.closeRequested = false;\n    this._setSocket(socket);\n  }\n  get connected() {\n    // Using conn.socket.OPEN instead of WebSocket for better node support\n    return this.socket !== undefined && this.socket.readyState == this.socket.OPEN;\n  }\n  _setSocket(socket) {\n    this.socket = socket;\n    this.haVersion = socket.haVersion;\n    socket.addEventListener(\"message\", this._handleMessage);\n    socket.addEventListener(\"close\", this._handleClose);\n    const oldSubscriptions = this.oldSubscriptions;\n    if (oldSubscriptions) {\n      this.oldSubscriptions = undefined;\n      oldSubscriptions.forEach(info => {\n        if (\"subscribe\" in info && info.subscribe) {\n          info.subscribe().then(unsub => {\n            info.unsubscribe = unsub;\n            // We need to resolve this in case it wasn't resolved yet.\n            // This allows us to subscribe while we're disconnected\n            // and recover properly.\n            info.resolve();\n          });\n        }\n      });\n    }\n    const queuedMessages = this._queuedMessages;\n    if (queuedMessages) {\n      this._queuedMessages = undefined;\n      for (const queuedMsg of queuedMessages) {\n        queuedMsg.resolve();\n      }\n    }\n    this.fireEvent(\"ready\");\n  }\n  addEventListener(eventType, callback) {\n    let listeners = this.eventListeners.get(eventType);\n    if (!listeners) {\n      listeners = [];\n      this.eventListeners.set(eventType, listeners);\n    }\n    listeners.push(callback);\n  }\n  removeEventListener(eventType, callback) {\n    const listeners = this.eventListeners.get(eventType);\n    if (!listeners) {\n      return;\n    }\n    const index = listeners.indexOf(callback);\n    if (index !== -1) {\n      listeners.splice(index, 1);\n    }\n  }\n  fireEvent(eventType, eventData) {\n    (this.eventListeners.get(eventType) || []).forEach(callback => callback(this, eventData));\n  }\n  suspendReconnectUntil(suspendPromise) {\n    this.suspendReconnectPromise = suspendPromise;\n  }\n  suspend() {\n    if (!this.suspendReconnectPromise) {\n      throw new Error(\"Suspend promise not set\");\n    }\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n  /**\n   * Reconnect the websocket connection.\n   * @param force discard old socket instead of gracefully closing it.\n   */\n  reconnect(force = false) {\n    if (!this.socket) {\n      return;\n    }\n    if (!force) {\n      this.socket.close();\n      return;\n    }\n    this.socket.removeEventListener(\"message\", this._handleMessage);\n    this.socket.removeEventListener(\"close\", this._handleClose);\n    this.socket.close();\n    this._handleClose();\n  }\n  close() {\n    this.closeRequested = true;\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n  /**\n   * Subscribe to a specific or all events.\n   *\n   * @param callback Callback  to be called when a new event fires\n   * @param eventType\n   * @returns promise that resolves to an unsubscribe function\n   */\n  async subscribeEvents(callback, eventType) {\n    return this.subscribeMessage(callback, _messages_js__WEBPACK_IMPORTED_MODULE_0__.subscribeEvents(eventType));\n  }\n  ping() {\n    return this.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.ping());\n  }\n  sendMessage(message, commandId) {\n    if (!this.connected) {\n      throw _errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_CONNECTION_LOST;\n    }\n    if (DEBUG) {\n      console.log(\"Sending\", message);\n    }\n    if (this._queuedMessages) {\n      if (commandId) {\n        throw new Error(\"Cannot queue with commandId\");\n      }\n      this._queuedMessages.push({\n        resolve: () => this.sendMessage(message)\n      });\n      return;\n    }\n    if (!commandId) {\n      commandId = this._genCmdId();\n    }\n    message.id = commandId;\n    this.socket.send(JSON.stringify(message));\n  }\n  sendMessagePromise(message) {\n    return new Promise((resolve, reject) => {\n      if (this._queuedMessages) {\n        this._queuedMessages.push({\n          reject,\n          resolve: async () => {\n            try {\n              resolve(await this.sendMessagePromise(message));\n            } catch (err) {\n              reject(err);\n            }\n          }\n        });\n        return;\n      }\n      const commandId = this._genCmdId();\n      this.commands.set(commandId, {\n        resolve,\n        reject\n      });\n      this.sendMessage(message, commandId);\n    });\n  }\n  /**\n   * Call a websocket command that starts a subscription on the backend.\n   *\n   * @param message the message to start the subscription\n   * @param callback the callback to be called when a new item arrives\n   * @param [options.resubscribe] re-established a subscription after a reconnect. Defaults to true.\n   * @returns promise that resolves to an unsubscribe function\n   */\n  async subscribeMessage(callback, subscribeMessage, options) {\n    if (this._queuedMessages) {\n      await new Promise((resolve, reject) => {\n        this._queuedMessages.push({\n          resolve,\n          reject\n        });\n      });\n    }\n    let info;\n    await new Promise((resolve, reject) => {\n      // Command ID that will be used\n      const commandId = this._genCmdId();\n      // We store unsubscribe on info object. That way we can overwrite it in case\n      // we get disconnected and we have to subscribe again.\n      info = {\n        resolve,\n        reject,\n        callback,\n        subscribe: (options === null || options === void 0 ? void 0 : options.resubscribe) !== false ? () => this.subscribeMessage(callback, subscribeMessage) : undefined,\n        unsubscribe: async () => {\n          // No need to unsubscribe if we're disconnected\n          if (this.connected) {\n            await this.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.unsubscribeEvents(commandId));\n          }\n          this.commands.delete(commandId);\n        }\n      };\n      this.commands.set(commandId, info);\n      try {\n        this.sendMessage(subscribeMessage, commandId);\n      } catch (err) {\n        // Happens when the websocket is already closing.\n        // Don't have to handle the error, reconnect logic will pick it up.\n      }\n    });\n    return () => info.unsubscribe();\n  }\n  _genCmdId() {\n    return ++this.commandId;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29ubmVjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9jb25uZWN0aW9uLmpzP2YxYWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb25uZWN0aW9uIHRoYXQgd3JhcHMgYSBzb2NrZXQgYW5kIHByb3ZpZGVzIGFuIGludGVyZmFjZSB0byBpbnRlcmFjdCB3aXRoXG4gKiB0aGUgSG9tZSBBc3Npc3RhbnQgd2Vic29ja2V0IEFQSS5cbiAqL1xuaW1wb3J0ICogYXMgbWVzc2FnZXMgZnJvbSBcIi4vbWVzc2FnZXMuanNcIjtcbmltcG9ydCB7IEVSUl9JTlZBTElEX0FVVEgsIEVSUl9DT05ORUNUSU9OX0xPU1QgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmNvbnN0IERFQlVHID0gZmFsc2U7XG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbiB7XG4gICAgY29uc3RydWN0b3Ioc29ja2V0LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZU1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlR3JvdXAgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG1lc3NhZ2VHcm91cCkpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlR3JvdXAgPSBbbWVzc2FnZUdyb3VwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2VHcm91cC5mb3JFYWNoKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVjZWl2ZWRcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSB0aGlzLmNvbW1hbmRzLmdldChtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZXZlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5jYWxsYmFjayhtZXNzYWdlLmV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgZXZlbnQgZm9yIHVua25vd24gc3Vic2NyaXB0aW9uICR7bWVzc2FnZS5pZH0uIFVuc3Vic2NyaWJpbmcuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZXMudW5zdWJzY3JpYmVFdmVudHMobWVzc2FnZS5pZCkpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCBFcnJvciB1bnN1YnNyaWJpbmcgZnJvbSB1bmtub3duIHN1YnNjcmlwdGlvbiAke21lc3NhZ2UuaWR9YCwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXN1bHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIGluZm8gaXMgZmluZS4gSWYganVzdCBzZW5kTWVzc2FnZSBpcyB1c2VkLCB3ZSBkaWQgbm90IHN0b3JlIHByb21pc2UgZm9yIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ucmVzb2x2ZShtZXNzYWdlLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlbW92ZSBzdWJzY3JpcHRpb25zLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShcInN1YnNjcmliZVwiIGluIGluZm8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLmRlbGV0ZShtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5yZWplY3QobWVzc2FnZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicG9uZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLmRlbGV0ZShtZXNzYWdlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUmVjZWl2ZWQgdW5rbm93biBwb25nIHJlc3BvbnNlICR7bWVzc2FnZS5pZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5oYW5kbGVkIG1lc3NhZ2VcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb2xkQ29tbWFuZHMgPSB0aGlzLmNvbW1hbmRzO1xuICAgICAgICAgICAgLy8gcmVzZXQgdG8gb3JpZ2luYWwgc3RhdGUgZXhjZXB0IGhhVmVyc2lvblxuICAgICAgICAgICAgdGhpcy5jb21tYW5kSWQgPSAxO1xuICAgICAgICAgICAgdGhpcy5vbGRTdWJzY3JpcHRpb25zID0gdGhpcy5jb21tYW5kcztcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vIFJlamVjdCBpbi1mbGlnaHQgc2VuZE1lc3NhZ2VQcm9taXNlIHJlcXVlc3RzXG4gICAgICAgICAgICBvbGRDb21tYW5kcy5mb3JFYWNoKChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgY2FuY2VsIHN1YnNjcmliZUV2ZW50cyBjb21tYW5kcyBpbiBmbGlnaHRcbiAgICAgICAgICAgICAgICAvLyBhcyB3ZSB3aWxsIGJlIGFibGUgdG8gcmVjb3ZlciB0aGVtLlxuICAgICAgICAgICAgICAgIGlmICghKFwic3Vic2NyaWJlXCIgaW4gaW5mbykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5yZWplY3QobWVzc2FnZXMuZXJyb3IoRVJSX0NPTk5FQ1RJT05fTE9TVCwgXCJDb25uZWN0aW9uIGxvc3RcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VSZXF1ZXN0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZpcmVFdmVudChcImRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgIC8vIERpc2FibGUgc2V0dXBSZXRyeSwgd2UgY29udHJvbCBpdCBoZXJlIHdpdGggYXV0by1iYWNrb2ZmXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLCB7IHNldHVwUmV0cnk6IDAgfSk7XG4gICAgICAgICAgICBjb25zdCByZWNvbm5lY3QgPSAodHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VSZXF1ZXN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIHJlY29ubmVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gYXdhaXQgb3B0aW9ucy5jcmVhdGVTb2NrZXQob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRTb2NrZXQoc29ja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWV1ZWRNZXNzYWdlcyA9IHRoaXMuX3F1ZXVlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlZE1lc3NhZ2VzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbXNnIG9mIHF1ZXVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cucmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2cucmVqZWN0KEVSUl9DT05ORUNUSU9OX0xPU1QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyciA9PT0gRVJSX0lOVkFMSURfQVVUSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFwicmVjb25uZWN0LWVycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvbm5lY3QodHJpZXMgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIE1hdGgubWluKHRyaWVzLCA1KSAqIDEwMDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLnN1c3BlbmRSZWNvbm5lY3RQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdXNwZW5kUmVjb25uZWN0UHJvbWlzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1c3BlbmRSZWNvbm5lY3RQcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIC8vIEZvciB0aGUgZmlyc3QgcmV0cnkgYWZ0ZXIgc3VzcGVuZCwgd2Ugd2lsbCBxdWV1ZSB1cFxuICAgICAgICAgICAgICAgIC8vIGFsbCBtZXNzYWdlcy5cbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZWRNZXNzYWdlcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjb25uZWN0KDApO1xuICAgICAgICB9O1xuICAgICAgICAvLyBjb25uZWN0aW9uIG9wdGlvbnNcbiAgICAgICAgLy8gIC0gc2V0dXBSZXRyeTogYW1vdW50IG9mIG1zIHRvIHJldHJ5IHdoZW4gdW5hYmxlIHRvIGNvbm5lY3Qgb24gaW5pdGlhbCBzZXR1cFxuICAgICAgICAvLyAgLSBjcmVhdGVTb2NrZXQ6IGNyZWF0ZSBhIG5ldyBTb2NrZXQgY29ubmVjdGlvblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvLyBpZCBpZiBuZXh0IGNvbW1hbmQgdG8gc2VuZFxuICAgICAgICB0aGlzLmNvbW1hbmRJZCA9IDI7IC8vIHNvY2tldCBtYXkgc2VuZCAxIGF0IHRoZSBzdGFydCB0byBlbmFibGUgZmVhdHVyZXNcbiAgICAgICAgLy8gaW5mbyBhYm91dCBhY3RpdmUgc3Vic2NyaXB0aW9ucyBhbmQgY29tbWFuZHMgaW4gZmxpZ2h0XG4gICAgICAgIHRoaXMuY29tbWFuZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIG1hcCBvZiBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ1ZSBpZiBhIGNsb3NlIGlzIHJlcXVlc3RlZCBieSB0aGUgdXNlclxuICAgICAgICB0aGlzLmNsb3NlUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldFNvY2tldChzb2NrZXQpO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdGVkKCkge1xuICAgICAgICAvLyBVc2luZyBjb25uLnNvY2tldC5PUEVOIGluc3RlYWQgb2YgV2ViU29ja2V0IGZvciBiZXR0ZXIgbm9kZSBzdXBwb3J0XG4gICAgICAgIHJldHVybiAodGhpcy5zb2NrZXQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlID09IHRoaXMuc29ja2V0Lk9QRU4pO1xuICAgIH1cbiAgICBfc2V0U29ja2V0KHNvY2tldCkge1xuICAgICAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgICAgICAgdGhpcy5oYVZlcnNpb24gPSBzb2NrZXQuaGFWZXJzaW9uO1xuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5faGFuZGxlTWVzc2FnZSk7XG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgdGhpcy5faGFuZGxlQ2xvc2UpO1xuICAgICAgICBjb25zdCBvbGRTdWJzY3JpcHRpb25zID0gdGhpcy5vbGRTdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAob2xkU3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5vbGRTdWJzY3JpcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb2xkU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFwic3Vic2NyaWJlXCIgaW4gaW5mbyAmJiBpbmZvLnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnN1YnNjcmliZSgpLnRoZW4oKHVuc3ViKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnVuc3Vic2NyaWJlID0gdW5zdWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHJlc29sdmUgdGhpcyBpbiBjYXNlIGl0IHdhc24ndCByZXNvbHZlZCB5ZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGFsbG93cyB1cyB0byBzdWJzY3JpYmUgd2hpbGUgd2UncmUgZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcmVjb3ZlciBwcm9wZXJseS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWV1ZWRNZXNzYWdlcyA9IHRoaXMuX3F1ZXVlZE1lc3NhZ2VzO1xuICAgICAgICBpZiAocXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZE1lc3NhZ2VzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZm9yIChjb25zdCBxdWV1ZWRNc2cgb2YgcXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWRNc2cucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KFwicmVhZHlcIik7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnRUeXBlKTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQoZXZlbnRUeXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50VHlwZSk7XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpcmVFdmVudChldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgICAgICAodGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnRUeXBlKSB8fCBbXSkuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKHRoaXMsIGV2ZW50RGF0YSkpO1xuICAgIH1cbiAgICBzdXNwZW5kUmVjb25uZWN0VW50aWwoc3VzcGVuZFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5kUmVjb25uZWN0UHJvbWlzZSA9IHN1c3BlbmRQcm9taXNlO1xuICAgIH1cbiAgICBzdXNwZW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3VzcGVuZFJlY29ubmVjdFByb21pc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN1c3BlbmQgcHJvbWlzZSBub3Qgc2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvbm5lY3QgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBmb3JjZSBkaXNjYXJkIG9sZCBzb2NrZXQgaW5zdGVhZCBvZiBncmFjZWZ1bGx5IGNsb3NpbmcgaXQuXG4gICAgICovXG4gICAgcmVjb25uZWN0KGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5faGFuZGxlTWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCB0aGlzLl9oYW5kbGVDbG9zZSk7XG4gICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlKCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmNsb3NlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBhIHNwZWNpZmljIG9yIGFsbCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgIHRvIGJlIGNhbGxlZCB3aGVuIGEgbmV3IGV2ZW50IGZpcmVzXG4gICAgICogQHBhcmFtIGV2ZW50VHlwZVxuICAgICAqIEByZXR1cm5zIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiB1bnN1YnNjcmliZSBmdW5jdGlvblxuICAgICAqL1xuICAgIGFzeW5jIHN1YnNjcmliZUV2ZW50cyhjYWxsYmFjaywgZXZlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZU1lc3NhZ2UoY2FsbGJhY2ssIG1lc3NhZ2VzLnN1YnNjcmliZUV2ZW50cyhldmVudFR5cGUpKTtcbiAgICB9XG4gICAgcGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2VzLnBpbmcoKSk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UsIGNvbW1hbmRJZCkge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFUlJfQ09OTkVDVElPTl9MT1NUO1xuICAgICAgICB9XG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nXCIsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKGNvbW1hbmRJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBxdWV1ZSB3aXRoIGNvbW1hbmRJZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZE1lc3NhZ2VzLnB1c2goeyByZXNvbHZlOiAoKSA9PiB0aGlzLnNlbmRNZXNzYWdlKG1lc3NhZ2UpIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tbWFuZElkKSB7XG4gICAgICAgICAgICBjb21tYW5kSWQgPSB0aGlzLl9nZW5DbWRJZCgpO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuaWQgPSBjb21tYW5kSWQ7XG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWVkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGF3YWl0IHRoaXMuc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kSWQgPSB0aGlzLl9nZW5DbWRJZCgpO1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5zZXQoY29tbWFuZElkLCB7IHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UobWVzc2FnZSwgY29tbWFuZElkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgYSB3ZWJzb2NrZXQgY29tbWFuZCB0aGF0IHN0YXJ0cyBhIHN1YnNjcmlwdGlvbiBvbiB0aGUgYmFja2VuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHN0YXJ0IHRoZSBzdWJzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIGEgbmV3IGl0ZW0gYXJyaXZlc1xuICAgICAqIEBwYXJhbSBbb3B0aW9ucy5yZXN1YnNjcmliZV0gcmUtZXN0YWJsaXNoZWQgYSBzdWJzY3JpcHRpb24gYWZ0ZXIgYSByZWNvbm5lY3QuIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICogQHJldHVybnMgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uXG4gICAgICovXG4gICAgYXN5bmMgc3Vic2NyaWJlTWVzc2FnZShjYWxsYmFjaywgc3Vic2NyaWJlTWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fcXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZWRNZXNzYWdlcy5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZm87XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIENvbW1hbmQgSUQgdGhhdCB3aWxsIGJlIHVzZWRcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRJZCA9IHRoaXMuX2dlbkNtZElkKCk7XG4gICAgICAgICAgICAvLyBXZSBzdG9yZSB1bnN1YnNjcmliZSBvbiBpbmZvIG9iamVjdC4gVGhhdCB3YXkgd2UgY2FuIG92ZXJ3cml0ZSBpdCBpbiBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBnZXQgZGlzY29ubmVjdGVkIGFuZCB3ZSBoYXZlIHRvIHN1YnNjcmliZSBhZ2Fpbi5cbiAgICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlOiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlc3Vic2NyaWJlKSAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB0aGlzLnN1YnNjcmliZU1lc3NhZ2UoY2FsbGJhY2ssIHN1YnNjcmliZU1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gdW5zdWJzY3JpYmUgaWYgd2UncmUgZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZXMudW5zdWJzY3JpYmVFdmVudHMoY29tbWFuZElkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5kZWxldGUoY29tbWFuZElkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuc2V0KGNvbW1hbmRJZCwgaW5mbyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoc3Vic2NyaWJlTWVzc2FnZSwgY29tbWFuZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBIYXBwZW5zIHdoZW4gdGhlIHdlYnNvY2tldCBpcyBhbHJlYWR5IGNsb3NpbmcuXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgaGF2ZSB0byBoYW5kbGUgdGhlIGVycm9yLCByZWNvbm5lY3QgbG9naWMgd2lsbCBwaWNrIGl0IHVwLlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGluZm8udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgX2dlbkNtZElkKCkge1xuICAgICAgICByZXR1cm4gKyt0aGlzLmNvbW1hbmRJZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/connection.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/entities.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/entities.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   entitiesColl: () => (/* binding */ entitiesColl),\n/* harmony export */   subscribeEntities: () => (/* binding */ subscribeEntities)\n/* harmony export */ });\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n\n\n\nfunction processEvent(store, updates) {\n  const state = Object.assign({}, store.state);\n  if (updates.a) {\n    for (const entityId in updates.a) {\n      const newState = updates.a[entityId];\n      let last_changed = new Date(newState.lc * 1000).toISOString();\n      state[entityId] = {\n        entity_id: entityId,\n        state: newState.s,\n        attributes: newState.a,\n        context: typeof newState.c === \"string\" ? {\n          id: newState.c,\n          parent_id: null,\n          user_id: null\n        } : newState.c,\n        last_changed: last_changed,\n        last_updated: newState.lu ? new Date(newState.lu * 1000).toISOString() : last_changed\n      };\n    }\n  }\n  if (updates.r) {\n    for (const entityId of updates.r) {\n      delete state[entityId];\n    }\n  }\n  if (updates.c) {\n    for (const entityId in updates.c) {\n      let entityState = state[entityId];\n      if (!entityState) {\n        console.warn(\"Received state update for unknown entity\", entityId);\n        continue;\n      }\n      entityState = Object.assign({}, entityState);\n      const {\n        \"+\": toAdd,\n        \"-\": toRemove\n      } = updates.c[entityId];\n      const attributesChanged = (toAdd === null || toAdd === void 0 ? void 0 : toAdd.a) || (toRemove === null || toRemove === void 0 ? void 0 : toRemove.a);\n      const attributes = attributesChanged ? Object.assign({}, entityState.attributes) : entityState.attributes;\n      if (toAdd) {\n        if (toAdd.s !== undefined) {\n          entityState.state = toAdd.s;\n        }\n        if (toAdd.c) {\n          if (typeof toAdd.c === \"string\") {\n            entityState.context = Object.assign(Object.assign({}, entityState.context), {\n              id: toAdd.c\n            });\n          } else {\n            entityState.context = Object.assign(Object.assign({}, entityState.context), toAdd.c);\n          }\n        }\n        if (toAdd.lc) {\n          entityState.last_updated = entityState.last_changed = new Date(toAdd.lc * 1000).toISOString();\n        } else if (toAdd.lu) {\n          entityState.last_updated = new Date(toAdd.lu * 1000).toISOString();\n        }\n        if (toAdd.a) {\n          Object.assign(attributes, toAdd.a);\n        }\n      }\n      if (toRemove === null || toRemove === void 0 ? void 0 : toRemove.a) {\n        for (const key of toRemove.a) {\n          delete attributes[key];\n        }\n      }\n      if (attributesChanged) {\n        entityState.attributes = attributes;\n      }\n      state[entityId] = entityState;\n    }\n  }\n  store.setState(state, true);\n}\nconst subscribeUpdates = (conn, store) => conn.subscribeMessage(ev => processEvent(store, ev), {\n  type: \"subscribe_entities\"\n});\nfunction legacyProcessEvent(store, event) {\n  const state = store.state;\n  if (state === undefined) return;\n  const {\n    entity_id,\n    new_state\n  } = event.data;\n  if (new_state) {\n    store.setState({\n      [new_state.entity_id]: new_state\n    });\n  } else {\n    const newEntities = Object.assign({}, state);\n    delete newEntities[entity_id];\n    store.setState(newEntities, true);\n  }\n}\nasync function legacyFetchEntities(conn) {\n  const states = await (0,_commands_js__WEBPACK_IMPORTED_MODULE_0__.getStates)(conn);\n  const entities = {};\n  for (let i = 0; i < states.length; i++) {\n    const state = states[i];\n    entities[state.entity_id] = state;\n  }\n  return entities;\n}\nconst legacySubscribeUpdates = (conn, store) => conn.subscribeEvents(ev => legacyProcessEvent(store, ev), \"state_changed\");\nconst entitiesColl = conn => (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.atLeastHaVersion)(conn.haVersion, 2022, 4, 0) ? (0,_collection_js__WEBPACK_IMPORTED_MODULE_2__.getCollection)(conn, \"_ent\", undefined, subscribeUpdates) : (0,_collection_js__WEBPACK_IMPORTED_MODULE_2__.getCollection)(conn, \"_ent\", legacyFetchEntities, legacySubscribeUpdates);\nconst subscribeEntities = (conn, onChange) => entitiesColl(conn).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvZW50aXRpZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L2VudGl0aWVzLmpzPzdlMTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiB9IGZyb20gXCIuL2NvbGxlY3Rpb24uanNcIjtcbmltcG9ydCB7IGdldFN0YXRlcyB9IGZyb20gXCIuL2NvbW1hbmRzLmpzXCI7XG5pbXBvcnQgeyBhdExlYXN0SGFWZXJzaW9uIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZnVuY3Rpb24gcHJvY2Vzc0V2ZW50KHN0b3JlLCB1cGRhdGVzKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdG9yZS5zdGF0ZSk7XG4gICAgaWYgKHVwZGF0ZXMuYSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIGluIHVwZGF0ZXMuYSkge1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB1cGRhdGVzLmFbZW50aXR5SWRdO1xuICAgICAgICAgICAgbGV0IGxhc3RfY2hhbmdlZCA9IG5ldyBEYXRlKG5ld1N0YXRlLmxjICogMTAwMCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIHN0YXRlW2VudGl0eUlkXSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBuZXdTdGF0ZS5zLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IG5ld1N0YXRlLmEsXG4gICAgICAgICAgICAgICAgY29udGV4dDogdHlwZW9mIG5ld1N0YXRlLmMgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgPyB7IGlkOiBuZXdTdGF0ZS5jLCBwYXJlbnRfaWQ6IG51bGwsIHVzZXJfaWQ6IG51bGwgfVxuICAgICAgICAgICAgICAgICAgICA6IG5ld1N0YXRlLmMsXG4gICAgICAgICAgICAgICAgbGFzdF9jaGFuZ2VkOiBsYXN0X2NoYW5nZWQsXG4gICAgICAgICAgICAgICAgbGFzdF91cGRhdGVkOiBuZXdTdGF0ZS5sdVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBEYXRlKG5ld1N0YXRlLmx1ICogMTAwMCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICA6IGxhc3RfY2hhbmdlZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZXMucikge1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIHVwZGF0ZXMucikge1xuICAgICAgICAgICAgZGVsZXRlIHN0YXRlW2VudGl0eUlkXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodXBkYXRlcy5jKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5SWQgaW4gdXBkYXRlcy5jKSB7XG4gICAgICAgICAgICBsZXQgZW50aXR5U3RhdGUgPSBzdGF0ZVtlbnRpdHlJZF07XG4gICAgICAgICAgICBpZiAoIWVudGl0eVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiUmVjZWl2ZWQgc3RhdGUgdXBkYXRlIGZvciB1bmtub3duIGVudGl0eVwiLCBlbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnRpdHlTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGVudGl0eVN0YXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHsgXCIrXCI6IHRvQWRkLCBcIi1cIjogdG9SZW1vdmUgfSA9IHVwZGF0ZXMuY1tlbnRpdHlJZF07XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzQ2hhbmdlZCA9ICh0b0FkZCA9PT0gbnVsbCB8fCB0b0FkZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9BZGQuYSkgfHwgKHRvUmVtb3ZlID09PSBudWxsIHx8IHRvUmVtb3ZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b1JlbW92ZS5hKTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzQ2hhbmdlZFxuICAgICAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgZW50aXR5U3RhdGUuYXR0cmlidXRlcykgOiBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgaWYgKHRvQWRkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvQWRkLnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5zdGF0ZSA9IHRvQWRkLnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b0FkZC5jKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG9BZGQuYyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5U3RhdGUuY29udGV4dCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZW50aXR5U3RhdGUuY29udGV4dCksIHsgaWQ6IHRvQWRkLmMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5jb250ZXh0ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBlbnRpdHlTdGF0ZS5jb250ZXh0KSwgdG9BZGQuYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRvQWRkLmxjKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eVN0YXRlLmxhc3RfdXBkYXRlZCA9IGVudGl0eVN0YXRlLmxhc3RfY2hhbmdlZCA9IG5ldyBEYXRlKHRvQWRkLmxjICogMTAwMCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9BZGQubHUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5U3RhdGUubGFzdF91cGRhdGVkID0gbmV3IERhdGUodG9BZGQubHUgKiAxMDAwKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG9BZGQuYSkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGF0dHJpYnV0ZXMsIHRvQWRkLmEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b1JlbW92ZSA9PT0gbnVsbCB8fCB0b1JlbW92ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9SZW1vdmUuYSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHRvUmVtb3ZlLmEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlW2VudGl0eUlkXSA9IGVudGl0eVN0YXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3JlLnNldFN0YXRlKHN0YXRlLCB0cnVlKTtcbn1cbmNvbnN0IHN1YnNjcmliZVVwZGF0ZXMgPSAoY29ubiwgc3RvcmUpID0+IGNvbm4uc3Vic2NyaWJlTWVzc2FnZSgoZXYpID0+IHByb2Nlc3NFdmVudChzdG9yZSwgZXYpLCB7XG4gICAgdHlwZTogXCJzdWJzY3JpYmVfZW50aXRpZXNcIixcbn0pO1xuZnVuY3Rpb24gbGVnYWN5UHJvY2Vzc0V2ZW50KHN0b3JlLCBldmVudCkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuc3RhdGU7XG4gICAgaWYgKHN0YXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGVudGl0eV9pZCwgbmV3X3N0YXRlIH0gPSBldmVudC5kYXRhO1xuICAgIGlmIChuZXdfc3RhdGUpIHtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUoeyBbbmV3X3N0YXRlLmVudGl0eV9pZF06IG5ld19zdGF0ZSB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld0VudGl0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpO1xuICAgICAgICBkZWxldGUgbmV3RW50aXRpZXNbZW50aXR5X2lkXTtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUobmV3RW50aXRpZXMsIHRydWUpO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGxlZ2FjeUZldGNoRW50aXRpZXMoY29ubikge1xuICAgIGNvbnN0IHN0YXRlcyA9IGF3YWl0IGdldFN0YXRlcyhjb25uKTtcbiAgICBjb25zdCBlbnRpdGllcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3RhdGVzW2ldO1xuICAgICAgICBlbnRpdGllc1tzdGF0ZS5lbnRpdHlfaWRdID0gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBlbnRpdGllcztcbn1cbmNvbnN0IGxlZ2FjeVN1YnNjcmliZVVwZGF0ZXMgPSAoY29ubiwgc3RvcmUpID0+IGNvbm4uc3Vic2NyaWJlRXZlbnRzKChldikgPT4gbGVnYWN5UHJvY2Vzc0V2ZW50KHN0b3JlLCBldiksIFwic3RhdGVfY2hhbmdlZFwiKTtcbmV4cG9ydCBjb25zdCBlbnRpdGllc0NvbGwgPSAoY29ubikgPT4gYXRMZWFzdEhhVmVyc2lvbihjb25uLmhhVmVyc2lvbiwgMjAyMiwgNCwgMClcbiAgICA/IGdldENvbGxlY3Rpb24oY29ubiwgXCJfZW50XCIsIHVuZGVmaW5lZCwgc3Vic2NyaWJlVXBkYXRlcylcbiAgICA6IGdldENvbGxlY3Rpb24oY29ubiwgXCJfZW50XCIsIGxlZ2FjeUZldGNoRW50aXRpZXMsIGxlZ2FjeVN1YnNjcmliZVVwZGF0ZXMpO1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUVudGl0aWVzID0gKGNvbm4sIG9uQ2hhbmdlKSA9PiBlbnRpdGllc0NvbGwoY29ubikuc3Vic2NyaWJlKG9uQ2hhbmdlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/entities.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/errors.js":
/*!*****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/errors.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ERR_CANNOT_CONNECT: () => (/* binding */ ERR_CANNOT_CONNECT),\n/* harmony export */   ERR_CONNECTION_LOST: () => (/* binding */ ERR_CONNECTION_LOST),\n/* harmony export */   ERR_HASS_HOST_REQUIRED: () => (/* binding */ ERR_HASS_HOST_REQUIRED),\n/* harmony export */   ERR_INVALID_AUTH: () => (/* binding */ ERR_INVALID_AUTH),\n/* harmony export */   ERR_INVALID_AUTH_CALLBACK: () => (/* binding */ ERR_INVALID_AUTH_CALLBACK),\n/* harmony export */   ERR_INVALID_HTTPS_TO_HTTP: () => (/* binding */ ERR_INVALID_HTTPS_TO_HTTP)\n/* harmony export */ });\nconst ERR_CANNOT_CONNECT = 1;\nconst ERR_INVALID_AUTH = 2;\nconst ERR_CONNECTION_LOST = 3;\nconst ERR_HASS_HOST_REQUIRED = 4;\nconst ERR_INVALID_HTTPS_TO_HTTP = 5;\nconst ERR_INVALID_AUTH_CALLBACK = 6;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvZXJyb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L2Vycm9ycy5qcz8yYjY1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFUlJfQ0FOTk9UX0NPTk5FQ1QgPSAxO1xuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0FVVEggPSAyO1xuZXhwb3J0IGNvbnN0IEVSUl9DT05ORUNUSU9OX0xPU1QgPSAzO1xuZXhwb3J0IGNvbnN0IEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQgPSA0O1xuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0hUVFBTX1RPX0hUVFAgPSA1O1xuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0FVVEhfQ0FMTEJBQ0sgPSA2O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/errors.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.Auth),\n/* harmony export */   Connection: () => (/* reexport safe */ _connection_js__WEBPACK_IMPORTED_MODULE_2__.Connection),\n/* harmony export */   ERR_CANNOT_CONNECT: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_CANNOT_CONNECT),\n/* harmony export */   ERR_CONNECTION_LOST: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_CONNECTION_LOST),\n/* harmony export */   ERR_HASS_HOST_REQUIRED: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_HASS_HOST_REQUIRED),\n/* harmony export */   ERR_INVALID_AUTH: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_INVALID_AUTH),\n/* harmony export */   ERR_INVALID_AUTH_CALLBACK: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_INVALID_AUTH_CALLBACK),\n/* harmony export */   ERR_INVALID_HTTPS_TO_HTTP: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_INVALID_HTTPS_TO_HTTP),\n/* harmony export */   MSG_TYPE_AUTH_INVALID: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.MSG_TYPE_AUTH_INVALID),\n/* harmony export */   MSG_TYPE_AUTH_OK: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.MSG_TYPE_AUTH_OK),\n/* harmony export */   MSG_TYPE_AUTH_REQUIRED: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.MSG_TYPE_AUTH_REQUIRED),\n/* harmony export */   STATE_FINAL_WRITE: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_FINAL_WRITE),\n/* harmony export */   STATE_NOT_RUNNING: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_NOT_RUNNING),\n/* harmony export */   STATE_RUNNING: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_RUNNING),\n/* harmony export */   STATE_STARTING: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_STARTING),\n/* harmony export */   STATE_STOPPING: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_STOPPING),\n/* harmony export */   callService: () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.callService),\n/* harmony export */   configColl: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.configColl),\n/* harmony export */   createCollection: () => (/* reexport safe */ _collection_js__WEBPACK_IMPORTED_MODULE_1__.createCollection),\n/* harmony export */   createConnection: () => (/* binding */ createConnection),\n/* harmony export */   createLongLivedTokenAuth: () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.createLongLivedTokenAuth),\n/* harmony export */   createSocket: () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.createSocket),\n/* harmony export */   entitiesColl: () => (/* reexport safe */ _entities_js__WEBPACK_IMPORTED_MODULE_5__.entitiesColl),\n/* harmony export */   genClientId: () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.genClientId),\n/* harmony export */   genExpires: () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.genExpires),\n/* harmony export */   getAuth: () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.getAuth),\n/* harmony export */   getCollection: () => (/* reexport safe */ _collection_js__WEBPACK_IMPORTED_MODULE_1__.getCollection),\n/* harmony export */   getConfig: () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getConfig),\n/* harmony export */   getServices: () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getServices),\n/* harmony export */   getStates: () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getStates),\n/* harmony export */   getUser: () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getUser),\n/* harmony export */   servicesColl: () => (/* reexport safe */ _services_js__WEBPACK_IMPORTED_MODULE_4__.servicesColl),\n/* harmony export */   subscribeConfig: () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.subscribeConfig),\n/* harmony export */   subscribeEntities: () => (/* reexport safe */ _entities_js__WEBPACK_IMPORTED_MODULE_5__.subscribeEntities),\n/* harmony export */   subscribeServices: () => (/* reexport safe */ _services_js__WEBPACK_IMPORTED_MODULE_4__.subscribeServices)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/home-assistant-js-websocket/dist/socket.js\");\n/* harmony import */ var _connection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connection.js */ \"./node_modules/home-assistant-js-websocket/dist/connection.js\");\n/* harmony import */ var _auth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth.js */ \"./node_modules/home-assistant-js-websocket/dist/auth.js\");\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config.js */ \"./node_modules/home-assistant-js-websocket/dist/config.js\");\n/* harmony import */ var _services_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services.js */ \"./node_modules/home-assistant-js-websocket/dist/services.js\");\n/* harmony import */ var _entities_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./entities.js */ \"./node_modules/home-assistant-js-websocket/dist/entities.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n// JS extensions in imports allow tsc output to be consumed by browsers.\n\n\n\n\n\n\n\n\n\n\n\n\nasync function createConnection(options) {\n  const connOptions = Object.assign({\n    setupRetry: 0,\n    createSocket: _socket_js__WEBPACK_IMPORTED_MODULE_7__.createSocket\n  }, options);\n  const socket = await connOptions.createSocket(connOptions);\n  const conn = new _connection_js__WEBPACK_IMPORTED_MODULE_2__.Connection(socket, connOptions);\n  return conn;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L2luZGV4LmpzPzQ5NjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSlMgZXh0ZW5zaW9ucyBpbiBpbXBvcnRzIGFsbG93IHRzYyBvdXRwdXQgdG8gYmUgY29uc3VtZWQgYnkgYnJvd3NlcnMuXG5pbXBvcnQgeyBjcmVhdGVTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tIFwiLi9jb25uZWN0aW9uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9hdXRoLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb2xsZWN0aW9uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb25uZWN0aW9uLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb25maWcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NlcnZpY2VzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lbnRpdGllcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3R5cGVzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21tYW5kcy5qc1wiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3Rpb24ob3B0aW9ucykge1xuICAgIGNvbnN0IGNvbm5PcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IHNldHVwUmV0cnk6IDAsIGNyZWF0ZVNvY2tldCB9LCBvcHRpb25zKTtcbiAgICBjb25zdCBzb2NrZXQgPSBhd2FpdCBjb25uT3B0aW9ucy5jcmVhdGVTb2NrZXQoY29ubk9wdGlvbnMpO1xuICAgIGNvbnN0IGNvbm4gPSBuZXcgQ29ubmVjdGlvbihzb2NrZXQsIGNvbm5PcHRpb25zKTtcbiAgICByZXR1cm4gY29ubjtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/index.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/messages.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/messages.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   callService: () => (/* binding */ callService),\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   ping: () => (/* binding */ ping),\n/* harmony export */   services: () => (/* binding */ services),\n/* harmony export */   states: () => (/* binding */ states),\n/* harmony export */   subscribeEvents: () => (/* binding */ subscribeEvents),\n/* harmony export */   supportedFeatures: () => (/* binding */ supportedFeatures),\n/* harmony export */   unsubscribeEvents: () => (/* binding */ unsubscribeEvents),\n/* harmony export */   user: () => (/* binding */ user)\n/* harmony export */ });\nfunction auth(accessToken) {\n  return {\n    type: \"auth\",\n    access_token: accessToken\n  };\n}\nfunction supportedFeatures() {\n  return {\n    type: \"supported_features\",\n    id: 1,\n    features: {\n      coalesce_messages: 1\n    }\n  };\n}\nfunction states() {\n  return {\n    type: \"get_states\"\n  };\n}\nfunction config() {\n  return {\n    type: \"get_config\"\n  };\n}\nfunction services() {\n  return {\n    type: \"get_services\"\n  };\n}\nfunction user() {\n  return {\n    type: \"auth/current_user\"\n  };\n}\nfunction callService(domain, service, serviceData, target) {\n  const message = {\n    type: \"call_service\",\n    domain,\n    service,\n    target\n  };\n  if (serviceData) {\n    message.service_data = serviceData;\n  }\n  return message;\n}\nfunction subscribeEvents(eventType) {\n  const message = {\n    type: \"subscribe_events\"\n  };\n  if (eventType) {\n    message.event_type = eventType;\n  }\n  return message;\n}\nfunction unsubscribeEvents(subscription) {\n  return {\n    type: \"unsubscribe_events\",\n    subscription\n  };\n}\nfunction ping() {\n  return {\n    type: \"ping\"\n  };\n}\nfunction error(code, message) {\n  return {\n    type: \"result\",\n    success: false,\n    error: {\n      code,\n      message\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvbWVzc2FnZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvbWVzc2FnZXMuanM/ZDBhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gYXV0aChhY2Nlc3NUb2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYXV0aFwiLFxuICAgICAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydGVkRmVhdHVyZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdXBwb3J0ZWRfZmVhdHVyZXNcIixcbiAgICAgICAgaWQ6IDEsXG4gICAgICAgIGZlYXR1cmVzOiB7IGNvYWxlc2NlX21lc3NhZ2VzOiAxIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdGF0ZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJnZXRfc3RhdGVzXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJnZXRfY29uZmlnXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2aWNlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImdldF9zZXJ2aWNlc1wiLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImF1dGgvY3VycmVudF91c2VyXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxsU2VydmljZShkb21haW4sIHNlcnZpY2UsIHNlcnZpY2VEYXRhLCB0YXJnZXQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0ge1xuICAgICAgICB0eXBlOiBcImNhbGxfc2VydmljZVwiLFxuICAgICAgICBkb21haW4sXG4gICAgICAgIHNlcnZpY2UsXG4gICAgICAgIHRhcmdldCxcbiAgICB9O1xuICAgIGlmIChzZXJ2aWNlRGF0YSkge1xuICAgICAgICBtZXNzYWdlLnNlcnZpY2VfZGF0YSA9IHNlcnZpY2VEYXRhO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVFdmVudHMoZXZlbnRUeXBlKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogXCJzdWJzY3JpYmVfZXZlbnRzXCIsXG4gICAgfTtcbiAgICBpZiAoZXZlbnRUeXBlKSB7XG4gICAgICAgIG1lc3NhZ2UuZXZlbnRfdHlwZSA9IGV2ZW50VHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5zdWJzY3JpYmVFdmVudHMoc3Vic2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJ1bnN1YnNjcmliZV9ldmVudHNcIixcbiAgICAgICAgc3Vic2NyaXB0aW9uLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcGluZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInBpbmdcIixcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKGNvZGUsIG1lc3NhZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInJlc3VsdFwiLFxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/messages.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/services.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/services.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   servicesColl: () => (/* binding */ servicesColl),\n/* harmony export */   subscribeServices: () => (/* binding */ subscribeServices)\n/* harmony export */ });\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n\n\n\nfunction processServiceRegistered(conn, store, event) {\n  var _a;\n  const state = store.state;\n  if (state === undefined) return;\n  const {\n    domain,\n    service\n  } = event.data;\n  if (!((_a = state.domain) === null || _a === void 0 ? void 0 : _a.service)) {\n    const domainInfo = Object.assign(Object.assign({}, state[domain]), {\n      [service]: {\n        description: \"\",\n        fields: {}\n      }\n    });\n    store.setState({\n      [domain]: domainInfo\n    });\n  }\n  debouncedFetchServices(conn, store);\n}\nfunction processServiceRemoved(state, event) {\n  if (state === undefined) return null;\n  const {\n    domain,\n    service\n  } = event.data;\n  const curDomainInfo = state[domain];\n  if (!curDomainInfo || !(service in curDomainInfo)) return null;\n  const domainInfo = {};\n  Object.keys(curDomainInfo).forEach(sKey => {\n    if (sKey !== service) domainInfo[sKey] = curDomainInfo[sKey];\n  });\n  return {\n    [domain]: domainInfo\n  };\n}\nconst debouncedFetchServices = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.debounce)((conn, store) => fetchServices(conn).then(services => store.setState(services, true)), 5000);\nconst fetchServices = conn => (0,_commands_js__WEBPACK_IMPORTED_MODULE_1__.getServices)(conn);\nconst subscribeUpdates = (conn, store) => Promise.all([conn.subscribeEvents(ev => processServiceRegistered(conn, store, ev), \"service_registered\"), conn.subscribeEvents(store.action(processServiceRemoved), \"service_removed\")]).then(unsubs => () => unsubs.forEach(fn => fn()));\nconst servicesColl = conn => (0,_collection_js__WEBPACK_IMPORTED_MODULE_2__.getCollection)(conn, \"_srv\", fetchServices, subscribeUpdates);\nconst subscribeServices = (conn, onChange) => servicesColl(conn).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc2VydmljZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zZXJ2aWNlcy5qcz85NjRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvbGxlY3Rpb24gfSBmcm9tIFwiLi9jb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBnZXRTZXJ2aWNlcyB9IGZyb20gXCIuL2NvbW1hbmRzLmpzXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmZ1bmN0aW9uIHByb2Nlc3NTZXJ2aWNlUmVnaXN0ZXJlZChjb25uLCBzdG9yZSwgZXZlbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5zdGF0ZTtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgZG9tYWluLCBzZXJ2aWNlIH0gPSBldmVudC5kYXRhO1xuICAgIGlmICghKChfYSA9IHN0YXRlLmRvbWFpbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlcnZpY2UpKSB7XG4gICAgICAgIGNvbnN0IGRvbWFpbkluZm8gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlW2RvbWFpbl0pLCB7IFtzZXJ2aWNlXTogeyBkZXNjcmlwdGlvbjogXCJcIiwgZmllbGRzOiB7fSB9IH0pO1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IFtkb21haW5dOiBkb21haW5JbmZvIH0pO1xuICAgIH1cbiAgICBkZWJvdW5jZWRGZXRjaFNlcnZpY2VzKGNvbm4sIHN0b3JlKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NTZXJ2aWNlUmVtb3ZlZChzdGF0ZSwgZXZlbnQpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgeyBkb21haW4sIHNlcnZpY2UgfSA9IGV2ZW50LmRhdGE7XG4gICAgY29uc3QgY3VyRG9tYWluSW5mbyA9IHN0YXRlW2RvbWFpbl07XG4gICAgaWYgKCFjdXJEb21haW5JbmZvIHx8ICEoc2VydmljZSBpbiBjdXJEb21haW5JbmZvKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZG9tYWluSW5mbyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGN1ckRvbWFpbkluZm8pLmZvckVhY2goKHNLZXkpID0+IHtcbiAgICAgICAgaWYgKHNLZXkgIT09IHNlcnZpY2UpXG4gICAgICAgICAgICBkb21haW5JbmZvW3NLZXldID0gY3VyRG9tYWluSW5mb1tzS2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4geyBbZG9tYWluXTogZG9tYWluSW5mbyB9O1xufVxuY29uc3QgZGVib3VuY2VkRmV0Y2hTZXJ2aWNlcyA9IGRlYm91bmNlKChjb25uLCBzdG9yZSkgPT4gZmV0Y2hTZXJ2aWNlcyhjb25uKS50aGVuKChzZXJ2aWNlcykgPT4gc3RvcmUuc2V0U3RhdGUoc2VydmljZXMsIHRydWUpKSwgNTAwMCk7XG5jb25zdCBmZXRjaFNlcnZpY2VzID0gKGNvbm4pID0+IGdldFNlcnZpY2VzKGNvbm4pO1xuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT4gUHJvbWlzZS5hbGwoW1xuICAgIGNvbm4uc3Vic2NyaWJlRXZlbnRzKChldikgPT4gcHJvY2Vzc1NlcnZpY2VSZWdpc3RlcmVkKGNvbm4sIHN0b3JlLCBldiksIFwic2VydmljZV9yZWdpc3RlcmVkXCIpLFxuICAgIGNvbm4uc3Vic2NyaWJlRXZlbnRzKHN0b3JlLmFjdGlvbihwcm9jZXNzU2VydmljZVJlbW92ZWQpLCBcInNlcnZpY2VfcmVtb3ZlZFwiKSxcbl0pLnRoZW4oKHVuc3VicykgPT4gKCkgPT4gdW5zdWJzLmZvckVhY2goKGZuKSA9PiBmbigpKSk7XG5leHBvcnQgY29uc3Qgc2VydmljZXNDb2xsID0gKGNvbm4pID0+IGdldENvbGxlY3Rpb24oY29ubiwgXCJfc3J2XCIsIGZldGNoU2VydmljZXMsIHN1YnNjcmliZVVwZGF0ZXMpO1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVNlcnZpY2VzID0gKGNvbm4sIG9uQ2hhbmdlKSA9PiBzZXJ2aWNlc0NvbGwoY29ubikuc3Vic2NyaWJlKG9uQ2hhbmdlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/services.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/socket.js":
/*!*****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/socket.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MSG_TYPE_AUTH_INVALID: () => (/* binding */ MSG_TYPE_AUTH_INVALID),\n/* harmony export */   MSG_TYPE_AUTH_OK: () => (/* binding */ MSG_TYPE_AUTH_OK),\n/* harmony export */   MSG_TYPE_AUTH_REQUIRED: () => (/* binding */ MSG_TYPE_AUTH_REQUIRED),\n/* harmony export */   createSocket: () => (/* binding */ createSocket)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages.js */ \"./node_modules/home-assistant-js-websocket/dist/messages.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n/**\n * Create a web socket connection with a Home Assistant instance.\n */\n\n\n\nconst DEBUG = false;\nconst MSG_TYPE_AUTH_REQUIRED = \"auth_required\";\nconst MSG_TYPE_AUTH_INVALID = \"auth_invalid\";\nconst MSG_TYPE_AUTH_OK = \"auth_ok\";\nfunction createSocket(options) {\n  if (!options.auth) {\n    throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_HASS_HOST_REQUIRED;\n  }\n  const auth = options.auth;\n  // Start refreshing expired tokens even before the WS connection is open.\n  // We know that we will need auth anyway.\n  let authRefreshTask = auth.expired ? auth.refreshAccessToken().then(() => {\n    authRefreshTask = undefined;\n  }, () => {\n    authRefreshTask = undefined;\n  }) : undefined;\n  // Convert from http:// -> ws://, https:// -> wss://\n  const url = auth.wsUrl;\n  if (DEBUG) {\n    console.log(\"[Auth phase] Initializing\", url);\n  }\n  function connect(triesLeft, promResolve, promReject) {\n    if (DEBUG) {\n      console.log(\"[Auth Phase] New connection\", url);\n    }\n    const socket = new WebSocket(url);\n    // If invalid auth, we will not try to reconnect.\n    let invalidAuth = false;\n    const closeMessage = () => {\n      // If we are in error handler make sure close handler doesn't also fire.\n      socket.removeEventListener(\"close\", closeMessage);\n      if (invalidAuth) {\n        promReject(_errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH);\n        return;\n      }\n      // Reject if we no longer have to retry\n      if (triesLeft === 0) {\n        // We never were connected and will not retry\n        promReject(_errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_CANNOT_CONNECT);\n        return;\n      }\n      const newTries = triesLeft === -1 ? -1 : triesLeft - 1;\n      // Try again in a second\n      setTimeout(() => connect(newTries, promResolve, promReject), 1000);\n    };\n    // Auth is mandatory, so we can send the auth message right away.\n    const handleOpen = async event => {\n      try {\n        if (auth.expired) {\n          await (authRefreshTask ? authRefreshTask : auth.refreshAccessToken());\n        }\n        socket.send(JSON.stringify(_messages_js__WEBPACK_IMPORTED_MODULE_1__.auth(auth.accessToken)));\n      } catch (err) {\n        // Refresh token failed\n        invalidAuth = err === _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH;\n        socket.close();\n      }\n    };\n    const handleMessage = async event => {\n      const message = JSON.parse(event.data);\n      if (DEBUG) {\n        console.log(\"[Auth phase] Received\", message);\n      }\n      switch (message.type) {\n        case MSG_TYPE_AUTH_INVALID:\n          invalidAuth = true;\n          socket.close();\n          break;\n        case MSG_TYPE_AUTH_OK:\n          socket.removeEventListener(\"open\", handleOpen);\n          socket.removeEventListener(\"message\", handleMessage);\n          socket.removeEventListener(\"close\", closeMessage);\n          socket.removeEventListener(\"error\", closeMessage);\n          socket.haVersion = message.ha_version;\n          if ((0,_util_js__WEBPACK_IMPORTED_MODULE_2__.atLeastHaVersion)(socket.haVersion, 2022, 9)) {\n            socket.send(JSON.stringify(_messages_js__WEBPACK_IMPORTED_MODULE_1__.supportedFeatures()));\n          }\n          promResolve(socket);\n          break;\n        default:\n          if (DEBUG) {\n            // We already send response to this message when socket opens\n            if (message.type !== MSG_TYPE_AUTH_REQUIRED) {\n              console.warn(\"[Auth phase] Unhandled message\", message);\n            }\n          }\n      }\n    };\n    socket.addEventListener(\"open\", handleOpen);\n    socket.addEventListener(\"message\", handleMessage);\n    socket.addEventListener(\"close\", closeMessage);\n    socket.addEventListener(\"error\", closeMessage);\n  }\n  return new Promise((resolve, reject) => connect(options.setupRetry, resolve, reject));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc29ja2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc29ja2V0LmpzPzAyNWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGUgYSB3ZWIgc29ja2V0IGNvbm5lY3Rpb24gd2l0aCBhIEhvbWUgQXNzaXN0YW50IGluc3RhbmNlLlxuICovXG5pbXBvcnQgeyBFUlJfSU5WQUxJRF9BVVRILCBFUlJfQ0FOTk9UX0NPTk5FQ1QsIEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQsIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tIFwiLi9tZXNzYWdlcy5qc1wiO1xuaW1wb3J0IHsgYXRMZWFzdEhhVmVyc2lvbiB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmNvbnN0IERFQlVHID0gZmFsc2U7XG5leHBvcnQgY29uc3QgTVNHX1RZUEVfQVVUSF9SRVFVSVJFRCA9IFwiYXV0aF9yZXF1aXJlZFwiO1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFX0FVVEhfSU5WQUxJRCA9IFwiYXV0aF9pbnZhbGlkXCI7XG5leHBvcnQgY29uc3QgTVNHX1RZUEVfQVVUSF9PSyA9IFwiYXV0aF9va1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNvY2tldChvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLmF1dGgpIHtcbiAgICAgICAgdGhyb3cgRVJSX0hBU1NfSE9TVF9SRVFVSVJFRDtcbiAgICB9XG4gICAgY29uc3QgYXV0aCA9IG9wdGlvbnMuYXV0aDtcbiAgICAvLyBTdGFydCByZWZyZXNoaW5nIGV4cGlyZWQgdG9rZW5zIGV2ZW4gYmVmb3JlIHRoZSBXUyBjb25uZWN0aW9uIGlzIG9wZW4uXG4gICAgLy8gV2Uga25vdyB0aGF0IHdlIHdpbGwgbmVlZCBhdXRoIGFueXdheS5cbiAgICBsZXQgYXV0aFJlZnJlc2hUYXNrID0gYXV0aC5leHBpcmVkXG4gICAgICAgID8gYXV0aC5yZWZyZXNoQWNjZXNzVG9rZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGF1dGhSZWZyZXNoVGFzayA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgYXV0aFJlZnJlc2hUYXNrID0gdW5kZWZpbmVkO1xuICAgICAgICB9KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAvLyBDb252ZXJ0IGZyb20gaHR0cDovLyAtPiB3czovLywgaHR0cHM6Ly8gLT4gd3NzOi8vXG4gICAgY29uc3QgdXJsID0gYXV0aC53c1VybDtcbiAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbQXV0aCBwaGFzZV0gSW5pdGlhbGl6aW5nXCIsIHVybCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbm5lY3QodHJpZXNMZWZ0LCBwcm9tUmVzb2x2ZSwgcHJvbVJlamVjdCkge1xuICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0F1dGggUGhhc2VdIE5ldyBjb25uZWN0aW9uXCIsIHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFdlYlNvY2tldCh1cmwpO1xuICAgICAgICAvLyBJZiBpbnZhbGlkIGF1dGgsIHdlIHdpbGwgbm90IHRyeSB0byByZWNvbm5lY3QuXG4gICAgICAgIGxldCBpbnZhbGlkQXV0aCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjbG9zZU1lc3NhZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW4gZXJyb3IgaGFuZGxlciBtYWtlIHN1cmUgY2xvc2UgaGFuZGxlciBkb2Vzbid0IGFsc28gZmlyZS5cbiAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgY2xvc2VNZXNzYWdlKTtcbiAgICAgICAgICAgIGlmIChpbnZhbGlkQXV0aCkge1xuICAgICAgICAgICAgICAgIHByb21SZWplY3QoRVJSX0lOVkFMSURfQVVUSCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVqZWN0IGlmIHdlIG5vIGxvbmdlciBoYXZlIHRvIHJldHJ5XG4gICAgICAgICAgICBpZiAodHJpZXNMZWZ0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbmV2ZXIgd2VyZSBjb25uZWN0ZWQgYW5kIHdpbGwgbm90IHJldHJ5XG4gICAgICAgICAgICAgICAgcHJvbVJlamVjdChFUlJfQ0FOTk9UX0NPTk5FQ1QpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1RyaWVzID0gdHJpZXNMZWZ0ID09PSAtMSA/IC0xIDogdHJpZXNMZWZ0IC0gMTtcbiAgICAgICAgICAgIC8vIFRyeSBhZ2FpbiBpbiBhIHNlY29uZFxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjb25uZWN0KG5ld1RyaWVzLCBwcm9tUmVzb2x2ZSwgcHJvbVJlamVjdCksIDEwMDApO1xuICAgICAgICB9O1xuICAgICAgICAvLyBBdXRoIGlzIG1hbmRhdG9yeSwgc28gd2UgY2FuIHNlbmQgdGhlIGF1dGggbWVzc2FnZSByaWdodCBhd2F5LlxuICAgICAgICBjb25zdCBoYW5kbGVPcGVuID0gYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChhdXRoLmV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgKGF1dGhSZWZyZXNoVGFzayA/IGF1dGhSZWZyZXNoVGFzayA6IGF1dGgucmVmcmVzaEFjY2Vzc1Rva2VuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlcy5hdXRoKGF1dGguYWNjZXNzVG9rZW4pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVmcmVzaCB0b2tlbiBmYWlsZWRcbiAgICAgICAgICAgICAgICBpbnZhbGlkQXV0aCA9IGVyciA9PT0gRVJSX0lOVkFMSURfQVVUSDtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlTWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltBdXRoIHBoYXNlXSBSZWNlaXZlZFwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBNU0dfVFlQRV9BVVRIX0lOVkFMSUQ6XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRBdXRoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTVNHX1RZUEVfQVVUSF9PSzpcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIGhhbmRsZU9wZW4pO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgY2xvc2VNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBjbG9zZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuaGFWZXJzaW9uID0gbWVzc2FnZS5oYV92ZXJzaW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXRMZWFzdEhhVmVyc2lvbihzb2NrZXQuaGFWZXJzaW9uLCAyMDIyLCA5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMuc3VwcG9ydGVkRmVhdHVyZXMoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByb21SZXNvbHZlKHNvY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBzZW5kIHJlc3BvbnNlIHRvIHRoaXMgbWVzc2FnZSB3aGVuIHNvY2tldCBvcGVuc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gTVNHX1RZUEVfQVVUSF9SRVFVSVJFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltBdXRoIHBoYXNlXSBVbmhhbmRsZWQgbWVzc2FnZVwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgaGFuZGxlT3Blbik7XG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBoYW5kbGVNZXNzYWdlKTtcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCBjbG9zZU1lc3NhZ2UpO1xuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGNsb3NlTWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBjb25uZWN0KG9wdGlvbnMuc2V0dXBSZXRyeSwgcmVzb2x2ZSwgcmVqZWN0KSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/socket.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/store.js":
/*!****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/store.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStore: () => (/* binding */ createStore)\n/* harmony export */ });\nconst createStore = state => {\n  let listeners = [];\n  function unsubscribe(listener) {\n    let out = [];\n    for (let i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener) {\n        listener = null;\n      } else {\n        out.push(listeners[i]);\n      }\n    }\n    listeners = out;\n  }\n  function setState(update, overwrite) {\n    state = overwrite ? update : Object.assign(Object.assign({}, state), update);\n    let currentListeners = listeners;\n    for (let i = 0; i < currentListeners.length; i++) {\n      currentListeners[i](state);\n    }\n  }\n  /**\n   * An observable state container, returned from {@link createStore}\n   * @name store\n   */\n  return {\n    get state() {\n      return state;\n    },\n    /**\n     * Create a bound copy of the given action function.\n     * The bound returned function invokes action() and persists the result back to the store.\n     * If the return value of `action` is a Promise, the resolved value will be used as state.\n     * @param {Function} action\tAn action of the form `action(state, ...args) -> stateUpdate`\n     * @returns {Function} boundAction()\n     */\n    action(action) {\n      function apply(result) {\n        setState(result, false);\n      }\n      // Note: perf tests verifying this implementation: https://esbench.com/bench/5a295e6299634800a0349500\n      return function () {\n        let args = [state];\n        for (let i = 0; i < arguments.length; i++) args.push(arguments[i]);\n        // @ts-ignore\n        let ret = action.apply(this, args);\n        if (ret != null) {\n          return ret instanceof Promise ? ret.then(apply) : apply(ret);\n        }\n      };\n    },\n    /**\n     * Apply a partial state object to the current state, invoking registered listeners.\n     * @param {Object} update\t\t\t\tAn object with properties to be merged into state\n     * @param {Boolean} [overwrite=false]\tIf `true`, update will replace state instead of being merged into it\n     */\n    setState,\n    clearState() {\n      state = undefined;\n    },\n    /**\n     * Register a listener function to be called whenever state is changed. Returns an `unsubscribe()` function.\n     * @param {Function} listener\tA function to call when state changes. Gets passed the new state.\n     * @returns {Function} unsubscribe()\n     */\n    subscribe(listener) {\n      listeners.push(listener);\n      return () => {\n        unsubscribe(listener);\n      };\n    }\n    // /**\n    //  * Remove a previously-registered listener function.\n    //  * @param {Function} listener\tThe callback previously passed to `subscribe()` that should be removed.\n    //  * @function\n    //  */\n    // unsubscribe,\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3N0b3JlLmpzPzA5ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNyZWF0ZVN0b3JlID0gKHN0YXRlKSA9PiB7XG4gICAgbGV0IGxpc3RlbmVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgICAgIGxldCBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0gPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0LnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsaXN0ZW5lcnMgPSBvdXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFN0YXRlKHVwZGF0ZSwgb3ZlcndyaXRlKSB7XG4gICAgICAgIHN0YXRlID0gb3ZlcndyaXRlID8gdXBkYXRlIDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHVwZGF0ZSk7XG4gICAgICAgIGxldCBjdXJyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRMaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cnJlbnRMaXN0ZW5lcnNbaV0oc3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFuIG9ic2VydmFibGUgc3RhdGUgY29udGFpbmVyLCByZXR1cm5lZCBmcm9tIHtAbGluayBjcmVhdGVTdG9yZX1cbiAgICAgKiBAbmFtZSBzdG9yZVxuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIGJvdW5kIGNvcHkgb2YgdGhlIGdpdmVuIGFjdGlvbiBmdW5jdGlvbi5cbiAgICAgICAgICogVGhlIGJvdW5kIHJldHVybmVkIGZ1bmN0aW9uIGludm9rZXMgYWN0aW9uKCkgYW5kIHBlcnNpc3RzIHRoZSByZXN1bHQgYmFjayB0byB0aGUgc3RvcmUuXG4gICAgICAgICAqIElmIHRoZSByZXR1cm4gdmFsdWUgb2YgYGFjdGlvbmAgaXMgYSBQcm9taXNlLCB0aGUgcmVzb2x2ZWQgdmFsdWUgd2lsbCBiZSB1c2VkIGFzIHN0YXRlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb25cdEFuIGFjdGlvbiBvZiB0aGUgZm9ybSBgYWN0aW9uKHN0YXRlLCAuLi5hcmdzKSAtPiBzdGF0ZVVwZGF0ZWBcbiAgICAgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBib3VuZEFjdGlvbigpXG4gICAgICAgICAqL1xuICAgICAgICBhY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBhcHBseShyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZShyZXN1bHQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGU6IHBlcmYgdGVzdHMgdmVyaWZ5aW5nIHRoaXMgaW1wbGVtZW50YXRpb246IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNWEyOTVlNjI5OTYzNDgwMGEwMzQ5NTAwXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCBhcmdzID0gW3N0YXRlXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGxldCByZXQgPSBhY3Rpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgaWYgKHJldCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQgaW5zdGFuY2VvZiBQcm9taXNlID8gcmV0LnRoZW4oYXBwbHkpIDogYXBwbHkocmV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbHkgYSBwYXJ0aWFsIHN0YXRlIG9iamVjdCB0byB0aGUgY3VycmVudCBzdGF0ZSwgaW52b2tpbmcgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1cGRhdGVcdFx0XHRcdEFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgdG8gYmUgbWVyZ2VkIGludG8gc3RhdGVcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBbb3ZlcndyaXRlPWZhbHNlXVx0SWYgYHRydWVgLCB1cGRhdGUgd2lsbCByZXBsYWNlIHN0YXRlIGluc3RlYWQgb2YgYmVpbmcgbWVyZ2VkIGludG8gaXRcbiAgICAgICAgICovXG4gICAgICAgIHNldFN0YXRlLFxuICAgICAgICBjbGVhclN0YXRlKCkge1xuICAgICAgICAgICAgc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuZXZlciBzdGF0ZSBpcyBjaGFuZ2VkLiBSZXR1cm5zIGFuIGB1bnN1YnNjcmliZSgpYCBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcdEEgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHN0YXRlIGNoYW5nZXMuIEdldHMgcGFzc2VkIHRoZSBuZXcgc3RhdGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gdW5zdWJzY3JpYmUoKVxuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8vIC8qKlxuICAgICAgICAvLyAgKiBSZW1vdmUgYSBwcmV2aW91c2x5LXJlZ2lzdGVyZWQgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICAgIC8vICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyXHRUaGUgY2FsbGJhY2sgcHJldmlvdXNseSBwYXNzZWQgdG8gYHN1YnNjcmliZSgpYCB0aGF0IHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICAvLyAgKiBAZnVuY3Rpb25cbiAgICAgICAgLy8gICovXG4gICAgICAgIC8vIHVuc3Vic2NyaWJlLFxuICAgIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/store.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/util.js":
/*!***************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/util.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   atLeastHaVersion: () => (/* binding */ atLeastHaVersion),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   parseQuery: () => (/* binding */ parseQuery)\n/* harmony export */ });\nfunction parseQuery(queryString) {\n  const query = {};\n  const items = queryString.split(\"&\");\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i].split(\"=\");\n    const key = decodeURIComponent(item[0]);\n    const value = item.length > 1 ? decodeURIComponent(item[1]) : undefined;\n    query[key] = value;\n  }\n  return query;\n}\n// From: https://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// eslint-disable-next-line: ban-types\nconst debounce = (func, wait, immediate = false) => {\n  let timeout;\n  // @ts-ignore\n  return function (...args) {\n    // @ts-ignore\n    const context = this;\n    const later = () => {\n      timeout = undefined;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\nconst atLeastHaVersion = (version, major, minor, patch) => {\n  const [haMajor, haMinor, haPatch] = version.split(\".\", 3);\n  return Number(haMajor) > major || Number(haMajor) === major && (patch === undefined ? Number(haMinor) >= minor : Number(haMinor) > minor) || patch !== undefined && Number(haMajor) === major && Number(haMinor) === minor && Number(haPatch) >= patch;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvdXRpbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvdXRpbC5qcz80OTNmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5KHF1ZXJ5U3RyaW5nKSB7XG4gICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICBjb25zdCBpdGVtcyA9IHF1ZXJ5U3RyaW5nLnNwbGl0KFwiJlwiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc1tpXS5zcGxpdChcIj1cIik7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChpdGVtWzBdKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpdGVtLmxlbmd0aCA+IDEgPyBkZWNvZGVVUklDb21wb25lbnQoaXRlbVsxXSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xufVxuLy8gRnJvbTogaHR0cHM6Ly9kYXZpZHdhbHNoLm5hbWUvamF2YXNjcmlwdC1kZWJvdW5jZS1mdW5jdGlvblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4vLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lOiBiYW4tdHlwZXNcbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChmdW5jLCB3YWl0LCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgIGxldCB0aW1lb3V0O1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBhdExlYXN0SGFWZXJzaW9uID0gKHZlcnNpb24sIG1ham9yLCBtaW5vciwgcGF0Y2gpID0+IHtcbiAgICBjb25zdCBbaGFNYWpvciwgaGFNaW5vciwgaGFQYXRjaF0gPSB2ZXJzaW9uLnNwbGl0KFwiLlwiLCAzKTtcbiAgICByZXR1cm4gKE51bWJlcihoYU1ham9yKSA+IG1ham9yIHx8XG4gICAgICAgIChOdW1iZXIoaGFNYWpvcikgPT09IG1ham9yICYmXG4gICAgICAgICAgICAocGF0Y2ggPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gTnVtYmVyKGhhTWlub3IpID49IG1pbm9yXG4gICAgICAgICAgICAgICAgOiBOdW1iZXIoaGFNaW5vcikgPiBtaW5vcikpIHx8XG4gICAgICAgIChwYXRjaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBOdW1iZXIoaGFNYWpvcikgPT09IG1ham9yICYmXG4gICAgICAgICAgICBOdW1iZXIoaGFNaW5vcikgPT09IG1pbm9yICYmXG4gICAgICAgICAgICBOdW1iZXIoaGFQYXRjaCkgPj0gcGF0Y2gpKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/util.js\n");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/******/ // expose the modules object (__webpack_modules__)
/******/ __webpack_require__.m = __webpack_modules__;
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/ensure chunk */
/******/ (() => {
/******/ 	__webpack_require__.f = {};
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = (chunkId) => {
/******/ 		return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 			__webpack_require__.f[key](chunkId, promises);
/******/ 			return promises;
/******/ 		}, []));
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/get javascript chunk filename */
/******/ (() => {
/******/ 	// This function allow to reference async chunks
/******/ 	__webpack_require__.u = (chunkId) => {
/******/ 		// return url for filenames based on template
/******/ 		return "" + chunkId + ".js";
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/import chunk loading */
/******/ (() => {
/******/ 	// no baseURI
/******/ 	
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// [resolve, Promise] = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"core": 0
/******/ 	};
/******/ 	
/******/ 	var installChunk = (data) => {
/******/ 		var {ids, modules, runtime} = data;
/******/ 		// add "modules" to the modules object,
/******/ 		// then flag all "ids" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0;
/******/ 		for(moduleId in modules) {
/******/ 			if(__webpack_require__.o(modules, moduleId)) {
/******/ 				__webpack_require__.m[moduleId] = modules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(runtime) runtime(__webpack_require__);
/******/ 		for(;i < ids.length; i++) {
/******/ 			chunkId = ids[i];
/******/ 			if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				installedChunks[chunkId][0]();
/******/ 			}
/******/ 			installedChunks[ids[i]] = 0;
/******/ 		}
/******/ 	
/******/ 	}
/******/ 	
/******/ 	__webpack_require__.f.j = (chunkId, promises) => {
/******/ 			// import() chunk loading for javascript
/******/ 			var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 			if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 	
/******/ 				// a Promise means "currently loading".
/******/ 				if(installedChunkData) {
/******/ 					promises.push(installedChunkData[1]);
/******/ 				} else {
/******/ 					if(true) { // all chunks have JS
/******/ 						// setup Promise in chunk cache
/******/ 						var promise = import("./" + __webpack_require__.u(chunkId)).then(installChunk, (e) => {
/******/ 							if(installedChunks[chunkId] !== 0) installedChunks[chunkId] = undefined;
/******/ 							throw e;
/******/ 						});
/******/ 						var promise = Promise.race([promise, new Promise((resolve) => (installedChunkData = installedChunks[chunkId] = [resolve]))])
/******/ 						promises.push(installedChunkData[1] = promise);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 	};
/******/ 	
/******/ 	// no external install chunk
/******/ 	
/******/ 	// no on chunks loaded
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval-source-map devtool is used.
/******/ var __webpack_exports__ = __webpack_require__("./src/entrypoints/core.ts");
/******/ 
