/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const id = "src_common_color_colors_ts-src_components_ha-relative-time_ts-src_components_trace_ha-trace-b-f75b7c";
export const ids = ["src_common_color_colors_ts-src_components_ha-relative-time_ts-src_components_trace_ha-trace-b-f75b7c"];
export const modules = {

/***/ "./src/common/color/colors.ts":
/*!************************************!*\
  !*** ./src/common/color/colors.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLORS: () => (/* binding */ COLORS),\n/* harmony export */   getColorByIndex: () => (/* binding */ getColorByIndex),\n/* harmony export */   getGraphColorByIndex: () => (/* binding */ getGraphColorByIndex)\n/* harmony export */ });\nconst COLORS = [\"#44739e\", \"#984ea3\", \"#00d2d5\", \"#ff7f00\", \"#af8d00\", \"#7f80cd\", \"#b3e900\", \"#c42e60\", \"#a65628\", \"#f781bf\", \"#8dd3c7\", \"#bebada\", \"#fb8072\", \"#80b1d3\", \"#fdb462\", \"#fccde5\", \"#bc80bd\", \"#ffed6f\", \"#c4eaff\", \"#cf8c00\", \"#1b9e77\", \"#d95f02\", \"#e7298a\", \"#e6ab02\", \"#a6761d\", \"#0097ff\", \"#00d067\", \"#f43600\", \"#4ba93b\", \"#5779bb\", \"#927acc\", \"#97ee3f\", \"#bf3947\", \"#9f5b00\", \"#f48758\", \"#8caed6\", \"#f2b94f\", \"#eff26e\", \"#e43872\", \"#d9b100\", \"#9d7a00\", \"#698cff\", \"#d9d9d9\", \"#00d27e\", \"#d06800\", \"#009f82\", \"#c49200\", \"#cbe8ff\", \"#fecddf\", \"#c27eb6\", \"#8cd2ce\", \"#c4b8d9\", \"#f883b0\", \"#a49100\", \"#f48800\", \"#27d0df\", \"#a04a9b\"];\nfunction getColorByIndex(index) {\n  return COLORS[index % COLORS.length];\n}\nfunction getGraphColorByIndex(index, style) {\n  // The CSS vars for the colors use range 1..n, so we need to adjust the index from the internal 0..n color index range.\n  return style.getPropertyValue(`--graph-color-${index + 1}`) || getColorByIndex(index);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2NvbG9yL2NvbG9ycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQTREQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFJQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9jb2xvci9jb2xvcnMudHM/MzRkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQ09MT1JTID0gW1xuICBcIiM0NDczOWVcIixcbiAgXCIjOTg0ZWEzXCIsXG4gIFwiIzAwZDJkNVwiLFxuICBcIiNmZjdmMDBcIixcbiAgXCIjYWY4ZDAwXCIsXG4gIFwiIzdmODBjZFwiLFxuICBcIiNiM2U5MDBcIixcbiAgXCIjYzQyZTYwXCIsXG4gIFwiI2E2NTYyOFwiLFxuICBcIiNmNzgxYmZcIixcbiAgXCIjOGRkM2M3XCIsXG4gIFwiI2JlYmFkYVwiLFxuICBcIiNmYjgwNzJcIixcbiAgXCIjODBiMWQzXCIsXG4gIFwiI2ZkYjQ2MlwiLFxuICBcIiNmY2NkZTVcIixcbiAgXCIjYmM4MGJkXCIsXG4gIFwiI2ZmZWQ2ZlwiLFxuICBcIiNjNGVhZmZcIixcbiAgXCIjY2Y4YzAwXCIsXG4gIFwiIzFiOWU3N1wiLFxuICBcIiNkOTVmMDJcIixcbiAgXCIjZTcyOThhXCIsXG4gIFwiI2U2YWIwMlwiLFxuICBcIiNhNjc2MWRcIixcbiAgXCIjMDA5N2ZmXCIsXG4gIFwiIzAwZDA2N1wiLFxuICBcIiNmNDM2MDBcIixcbiAgXCIjNGJhOTNiXCIsXG4gIFwiIzU3NzliYlwiLFxuICBcIiM5MjdhY2NcIixcbiAgXCIjOTdlZTNmXCIsXG4gIFwiI2JmMzk0N1wiLFxuICBcIiM5ZjViMDBcIixcbiAgXCIjZjQ4NzU4XCIsXG4gIFwiIzhjYWVkNlwiLFxuICBcIiNmMmI5NGZcIixcbiAgXCIjZWZmMjZlXCIsXG4gIFwiI2U0Mzg3MlwiLFxuICBcIiNkOWIxMDBcIixcbiAgXCIjOWQ3YTAwXCIsXG4gIFwiIzY5OGNmZlwiLFxuICBcIiNkOWQ5ZDlcIixcbiAgXCIjMDBkMjdlXCIsXG4gIFwiI2QwNjgwMFwiLFxuICBcIiMwMDlmODJcIixcbiAgXCIjYzQ5MjAwXCIsXG4gIFwiI2NiZThmZlwiLFxuICBcIiNmZWNkZGZcIixcbiAgXCIjYzI3ZWI2XCIsXG4gIFwiIzhjZDJjZVwiLFxuICBcIiNjNGI4ZDlcIixcbiAgXCIjZjg4M2IwXCIsXG4gIFwiI2E0OTEwMFwiLFxuICBcIiNmNDg4MDBcIixcbiAgXCIjMjdkMGRmXCIsXG4gIFwiI2EwNGE5YlwiLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbG9yQnlJbmRleChpbmRleDogbnVtYmVyKSB7XG4gIHJldHVybiBDT0xPUlNbaW5kZXggJSBDT0xPUlMubGVuZ3RoXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdyYXBoQ29sb3JCeUluZGV4KFxuICBpbmRleDogbnVtYmVyLFxuICBzdHlsZTogQ1NTU3R5bGVEZWNsYXJhdGlvblxuKSB7XG4gIC8vIFRoZSBDU1MgdmFycyBmb3IgdGhlIGNvbG9ycyB1c2UgcmFuZ2UgMS4ubiwgc28gd2UgbmVlZCB0byBhZGp1c3QgdGhlIGluZGV4IGZyb20gdGhlIGludGVybmFsIDAuLm4gY29sb3IgaW5kZXggcmFuZ2UuXG4gIHJldHVybiAoXG4gICAgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShgLS1ncmFwaC1jb2xvci0ke2luZGV4ICsgMX1gKSB8fFxuICAgIGdldENvbG9yQnlJbmRleChpbmRleClcbiAgKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/color/colors.ts\n");

/***/ }),

/***/ "./src/components/ha-relative-time.ts":
/*!********************************************!*\
  !*** ./src/components/ha-relative-time.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/datetime/relative_time */ \"./src/common/datetime/relative_time.ts\");\n/* harmony import */ var _common_string_capitalize_first_letter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/string/capitalize-first-letter */ \"./src/common/string/capitalize-first-letter.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__]);\n_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\nlet HaRelativeTime = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-relative-time\")], function (_initialize, _ReactiveElement) {\n  class HaRelativeTime extends _ReactiveElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaRelativeTime,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"datetime\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean\n      })],\n      key: \"capitalize\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_interval\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"disconnectedCallback\", this).call(this);\n        this._clearInterval();\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"connectedCallback\", this).call(this);\n        if (this.datetime) {\n          this._startInterval();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"createRenderRoot\",\n      value: function createRenderRoot() {\n        return this;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this._updateRelative();\n      }\n    }, {\n      kind: \"method\",\n      key: \"update\",\n      value: function update(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaRelativeTime.prototype), \"update\", this).call(this, changedProps);\n        this._updateRelative();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_clearInterval\",\n      value: function _clearInterval() {\n        if (this._interval) {\n          window.clearInterval(this._interval);\n          this._interval = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startInterval\",\n      value: function _startInterval() {\n        this._clearInterval();\n\n        // update every 60 seconds\n        this._interval = window.setInterval(() => this._updateRelative(), 60000);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateRelative\",\n      value: function _updateRelative() {\n        if (!this.datetime) {\n          this.innerHTML = this.hass.localize(\"ui.components.relative_time.never\");\n        } else {\n          const relTime = (0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_5__.relativeTime)(new Date(this.datetime), this.hass.locale);\n          this.innerHTML = this.capitalize ? (0,_common_string_capitalize_first_letter__WEBPACK_IMPORTED_MODULE_6__.capitalizeFirstLetter)(relTime) : relTime;\n        }\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.ReactiveElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1yZWxhdGl2ZS10aW1lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEyREE7QUFBQTtBQUFBO0FBM0RBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvaGEtcmVsYXRpdmUtdGltZS50cz9jYWFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3BlcnR5VmFsdWVzLCBSZWFjdGl2ZUVsZW1lbnQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgcmVsYXRpdmVUaW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9kYXRldGltZS9yZWxhdGl2ZV90aW1lXCI7XG5pbXBvcnQgeyBjYXBpdGFsaXplRmlyc3RMZXR0ZXIgfSBmcm9tIFwiLi4vY29tbW9uL3N0cmluZy9jYXBpdGFsaXplLWZpcnN0LWxldHRlclwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtcmVsYXRpdmUtdGltZVwiKVxuY2xhc3MgSGFSZWxhdGl2ZVRpbWUgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBkYXRldGltZT86IHN0cmluZyB8IERhdGU7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgY2FwaXRhbGl6ZSA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2ludGVydmFsPzogbnVtYmVyO1xuXG4gIHB1YmxpYyBkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgfVxuXG4gIHB1YmxpYyBjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICh0aGlzLmRhdGV0aW1lKSB7XG4gICAgICB0aGlzLl9zdGFydEludGVydmFsKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBzdXBlci5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcbiAgICB0aGlzLl91cGRhdGVSZWxhdGl2ZSgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIudXBkYXRlKGNoYW5nZWRQcm9wcyk7XG4gICAgdGhpcy5fdXBkYXRlUmVsYXRpdmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFySW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2ludGVydmFsKSB7XG4gICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCk7XG4gICAgICB0aGlzLl9pbnRlcnZhbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zdGFydEludGVydmFsKCk6IHZvaWQge1xuICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcblxuICAgIC8vIHVwZGF0ZSBldmVyeSA2MCBzZWNvbmRzXG4gICAgdGhpcy5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5fdXBkYXRlUmVsYXRpdmUoKSwgNjAwMDApO1xuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlUmVsYXRpdmUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmRhdGV0aW1lKSB7XG4gICAgICB0aGlzLmlubmVySFRNTCA9IHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLmNvbXBvbmVudHMucmVsYXRpdmVfdGltZS5uZXZlclwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVsVGltZSA9IHJlbGF0aXZlVGltZShuZXcgRGF0ZSh0aGlzLmRhdGV0aW1lKSwgdGhpcy5oYXNzLmxvY2FsZSk7XG4gICAgICB0aGlzLmlubmVySFRNTCA9IHRoaXMuY2FwaXRhbGl6ZVxuICAgICAgICA/IGNhcGl0YWxpemVGaXJzdExldHRlcihyZWxUaW1lKVxuICAgICAgICA6IHJlbFRpbWU7XG4gICAgfVxuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1yZWxhdGl2ZS10aW1lXCI6IEhhUmVsYXRpdmVUaW1lO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-relative-time.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-timeline.ts":
/*!*********************************************!*\
  !*** ./src/components/trace/ha-timeline.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTimeline: () => (/* binding */ HaTimeline)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_svg_icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n\nconst mdiCircleOutline = \"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\n\n\n\n\nlet HaTimeline = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-timeline\")], function (_initialize, _LitElement) {\n  class HaTimeline extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTimeline,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"label\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"raised\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"notEnabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"lastItem\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: String\n      })],\n      key: \"icon\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"moreItems\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_showMore\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <div class=\"timeline-start\">\n        ${this.label ? \"\" : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n              <ha-svg-icon .path=${this.icon || mdiCircleOutline}></ha-svg-icon>\n            `}\n        ${this.lastItem ? \"\" : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=\"line\"></div>`}\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n        ${!this.moreItems ? \"\" : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n              <div>\n                ${this._showMore ||\n        // If there is only 1 item hidden behind \"show more\", just show it\n        // instead of showing the more info link. We're not animals.\n        this.moreItems.length === 1 ? this.moreItems : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n                      <button class=\"link\" @click=${this._handleShowMore}>\n                        Show ${this.moreItems.length} more items\n                      </button>\n                    `}\n              </div>\n            `}\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleShowMore\",\n      value: function _handleShowMore() {\n        this._showMore = true;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n        :host {\n          display: flex;\n          flex-direction: row;\n        }\n        :host(:not([lastItem])) {\n          min-height: 50px;\n        }\n        :host([label]) {\n          margin-top: -8px;\n          font-style: italic;\n          color: var(--timeline-label-color, var(--secondary-text-color));\n        }\n        .timeline-start {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          margin-right: 8px;\n          margin-inline-end: 8px;\n          margin-inline-start: initial;\n          width: 24px;\n        }\n        :host([notEnabled]) ha-svg-icon {\n          opacity: 0.5;\n        }\n        ha-svg-icon {\n          color: var(\n            --timeline-ball-color,\n            var(--timeline-color, var(--secondary-text-color))\n          );\n          border-radius: 50%;\n        }\n        :host([raised]) ha-svg-icon {\n          transform: scale(1.3);\n        }\n        .line {\n          flex: 1;\n          width: 2px;\n          background-color: var(\n            --timeline-line-color,\n            var(--timeline-color, var(--secondary-text-color))\n          );\n          margin: 4px 0;\n        }\n        .content {\n          margin-top: 2px;\n        }\n        :host(:not([lastItem])) .content {\n          padding-bottom: 16px;\n        }\n        :host([label]) .content {\n          margin-top: 0;\n          padding-top: 6px;\n        }\n      `, _resources_styles__WEBPACK_IMPORTED_MODULE_3__.buttonLinkStyle];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10aW1lbGluZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBK0dBO0FBQUE7QUFBQTtBQS9HQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10aW1lbGluZS50cz85ZjY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1kaUNpcmNsZU91dGxpbmUgfSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IHsgY3NzLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgYnV0dG9uTGlua1N0eWxlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCBcIi4uL2hhLXN2Zy1pY29uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtdGltZWxpbmVcIilcbmV4cG9ydCBjbGFzcyBIYVRpbWVsaW5lIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSkgcHVibGljIGxhYmVsID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KSBwdWJsaWMgcmFpc2VkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgcmVmbGVjdDogdHJ1ZSwgdHlwZTogQm9vbGVhbiB9KSBub3RFbmFibGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgbGFzdEl0ZW0gPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcgfSkgcHVibGljIGljb24/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgbW9yZUl0ZW1zPzogVGVtcGxhdGVSZXN1bHRbXTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9zaG93TW9yZSA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2IGNsYXNzPVwidGltZWxpbmUtc3RhcnRcIj5cbiAgICAgICAgJHt0aGlzLmxhYmVsXG4gICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICA8aGEtc3ZnLWljb24gLnBhdGg9JHt0aGlzLmljb24gfHwgbWRpQ2lyY2xlT3V0bGluZX0+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgIGB9XG4gICAgICAgICR7dGhpcy5sYXN0SXRlbSA/IFwiXCIgOiBodG1sYDxkaXYgY2xhc3M9XCJsaW5lXCI+PC9kaXY+YH1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgPHNsb3Q+PC9zbG90PlxuICAgICAgICAkeyF0aGlzLm1vcmVJdGVtc1xuICAgICAgICAgID8gXCJcIlxuICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAke3RoaXMuX3Nob3dNb3JlIHx8XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25seSAxIGl0ZW0gaGlkZGVuIGJlaGluZCBcInNob3cgbW9yZVwiLCBqdXN0IHNob3cgaXRcbiAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIHNob3dpbmcgdGhlIG1vcmUgaW5mbyBsaW5rLiBXZSdyZSBub3QgYW5pbWFscy5cbiAgICAgICAgICAgICAgICB0aGlzLm1vcmVJdGVtcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICAgID8gdGhpcy5tb3JlSXRlbXNcbiAgICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibGlua1wiIEBjbGljaz0ke3RoaXMuX2hhbmRsZVNob3dNb3JlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgJHt0aGlzLm1vcmVJdGVtcy5sZW5ndGh9IG1vcmUgaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZVNob3dNb3JlKCkge1xuICAgIHRoaXMuX3Nob3dNb3JlID0gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICBjc3NgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoOm5vdChbbGFzdEl0ZW1dKSkge1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2xhYmVsXSkge1xuICAgICAgICAgIG1hcmdpbi10b3A6IC04cHg7XG4gICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS10aW1lbGluZS1sYWJlbC1jb2xvciwgdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpKTtcbiAgICAgICAgfVxuICAgICAgICAudGltZWxpbmUtc3RhcnQge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICAgICAgICAgIG1hcmdpbi1pbmxpbmUtZW5kOiA4cHg7XG4gICAgICAgICAgbWFyZ2luLWlubGluZS1zdGFydDogaW5pdGlhbDtcbiAgICAgICAgICB3aWR0aDogMjRweDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdChbbm90RW5hYmxlZF0pIGhhLXN2Zy1pY29uIHtcbiAgICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgIH1cbiAgICAgICAgaGEtc3ZnLWljb24ge1xuICAgICAgICAgIGNvbG9yOiB2YXIoXG4gICAgICAgICAgICAtLXRpbWVsaW5lLWJhbGwtY29sb3IsXG4gICAgICAgICAgICB2YXIoLS10aW1lbGluZS1jb2xvciwgdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpKVxuICAgICAgICAgICk7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICB9XG4gICAgICAgIDpob3N0KFtyYWlzZWRdKSBoYS1zdmctaWNvbiB7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjMpO1xuICAgICAgICB9XG4gICAgICAgIC5saW5lIHtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIHdpZHRoOiAycHg7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKFxuICAgICAgICAgICAgLS10aW1lbGluZS1saW5lLWNvbG9yLFxuICAgICAgICAgICAgdmFyKC0tdGltZWxpbmUtY29sb3IsIHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIG1hcmdpbjogNHB4IDA7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRlbnQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICAgICAgfVxuICAgICAgICA6aG9zdCg6bm90KFtsYXN0SXRlbV0pKSAuY29udGVudCB7XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgOmhvc3QoW2xhYmVsXSkgLmNvbnRlbnQge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgICAgICAgcGFkZGluZy10b3A6IDZweDtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgIGJ1dHRvbkxpbmtTdHlsZSxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS10aW1lbGluZVwiOiBIYVRpbWVsaW5lO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/ha-timeline.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-blueprint-config.ts":
/*!***********************************************************!*\
  !*** ./src/components/trace/ha-trace-blueprint-config.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceBlueprintConfig: () => (/* binding */ HaTraceBlueprintConfig)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n\n\n\n\n\n\nlet HaTraceBlueprintConfig = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-trace-blueprint-config\")], function (_initialize, _LitElement) {\n  class HaTraceBlueprintConfig extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceBlueprintConfig,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n      <ha-code-editor\n        .value=${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(this.trace.blueprint_inputs || \"\").trimRight()}\n        readOnly\n        dir=\"ltr\"\n      ></ha-code-editor>\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1ibHVlcHJpbnQtY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWNBO0FBQUE7QUFBQTtBQWRBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLWJsdWVwcmludC1jb25maWcudHM/NTY3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkdW1wIH0gZnJvbSBcImpzLXlhbWxcIjtcbmltcG9ydCB7IGh0bWwsIExpdEVsZW1lbnQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCBcIi4uL2hhLWNvZGUtZWRpdG9yXCI7XG5pbXBvcnQgXCIuLi9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IHsgVHJhY2VFeHRlbmRlZCB9IGZyb20gXCIuLi8uLi9kYXRhL3RyYWNlXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtdHJhY2UtYmx1ZXByaW50LWNvbmZpZ1wiKVxuZXhwb3J0IGNsYXNzIEhhVHJhY2VCbHVlcHJpbnRDb25maWcgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgdHJhY2UhOiBUcmFjZUV4dGVuZGVkO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhLWNvZGUtZWRpdG9yXG4gICAgICAgIC52YWx1ZT0ke2R1bXAodGhpcy50cmFjZS5ibHVlcHJpbnRfaW5wdXRzIHx8IFwiXCIpLnRyaW1SaWdodCgpfVxuICAgICAgICByZWFkT25seVxuICAgICAgICBkaXI9XCJsdHJcIlxuICAgICAgPjwvaGEtY29kZS1lZGl0b3I+XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtdHJhY2UtYmx1ZXByaW50LWNvbmZpZ1wiOiBIYVRyYWNlQmx1ZXByaW50Q29uZmlnO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-blueprint-config.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-config.ts":
/*!*************************************************!*\
  !*** ./src/components/trace/ha-trace-config.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceConfig: () => (/* binding */ HaTraceConfig)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n\n\n\n\n\n\nlet HaTraceConfig = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-trace-config\")], function (_initialize, _LitElement) {\n  class HaTraceConfig extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceConfig,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n      <ha-code-editor\n        .value=${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(this.trace.config).trimRight()}\n        readOnly\n        dir=\"ltr\"\n      ></ha-code-editor>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_2__.css)``];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBa0JBO0FBQUE7QUFBQTtBQWxCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLWNvbmZpZy50cz81ZDQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGR1bXAgfSBmcm9tIFwianMteWFtbFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IFwiLi4vaGEtY29kZS1lZGl0b3JcIjtcbmltcG9ydCBcIi4uL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyBUcmFjZUV4dGVuZGVkIH0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS10cmFjZS1jb25maWdcIilcbmV4cG9ydCBjbGFzcyBIYVRyYWNlQ29uZmlnIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHRyYWNlITogVHJhY2VFeHRlbmRlZDtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jb2RlLWVkaXRvclxuICAgICAgICAudmFsdWU9JHtkdW1wKHRoaXMudHJhY2UuY29uZmlnKS50cmltUmlnaHQoKX1cbiAgICAgICAgcmVhZE9ubHlcbiAgICAgICAgZGlyPVwibHRyXCJcbiAgICAgID48L2hhLWNvZGUtZWRpdG9yPlxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtjc3NgYF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXRyYWNlLWNvbmZpZ1wiOiBIYVRyYWNlQ29uZmlnO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-config.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-logbook.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/ha-trace-logbook.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceLogbook: () => (/* binding */ HaTraceLogbook)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_logbook_note__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-logbook-note */ \"./src/components/trace/hat-logbook-note.ts\");\n/* harmony import */ var _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../panels/logbook/ha-logbook-renderer */ \"./src/panels/logbook/ha-logbook-renderer.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_4__]);\n_panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet HaTraceLogbook = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-trace-logbook\")], function (_initialize, _LitElement) {\n  class HaTraceLogbook extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceLogbook,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return this.logbookEntries.length ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n          <ha-logbook-renderer\n            relative-time\n            .hass=${this.hass}\n            .entries=${this.logbookEntries}\n            .narrow=${this.narrow}\n          ></ha-logbook-renderer>\n          <hat-logbook-note .domain=${this.trace.domain}></hat-logbook-note>\n        ` : (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=\"padded-box\">\n          No Logbook entries found for this step.\n        </div>`;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n        .padded-box {\n          padding: 16px;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1sb2dib29rLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWtDQTtBQUFBO0FBQUE7QUFsQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLWxvZ2Jvb2sudHM/NGE4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBMb2dib29rRW50cnkgfSBmcm9tIFwiLi4vLi4vZGF0YS9sb2dib29rXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhdC1sb2dib29rLW5vdGVcIjtcbmltcG9ydCBcIi4uLy4uL3BhbmVscy9sb2dib29rL2hhLWxvZ2Jvb2stcmVuZGVyZXJcIjtcbmltcG9ydCB7IFRyYWNlRXh0ZW5kZWQgfSBmcm9tIFwiLi4vLi4vZGF0YS90cmFjZVwiO1xuXG5AY3VzdG9tRWxlbWVudChcImhhLXRyYWNlLWxvZ2Jvb2tcIilcbmV4cG9ydCBjbGFzcyBIYVRyYWNlTG9nYm9vayBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pIHB1YmxpYyBuYXJyb3cgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyB0cmFjZSE6IFRyYWNlRXh0ZW5kZWQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgbG9nYm9va0VudHJpZXMhOiBMb2dib29rRW50cnlbXTtcblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5sb2dib29rRW50cmllcy5sZW5ndGhcbiAgICAgID8gaHRtbGBcbiAgICAgICAgICA8aGEtbG9nYm9vay1yZW5kZXJlclxuICAgICAgICAgICAgcmVsYXRpdmUtdGltZVxuICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAuZW50cmllcz0ke3RoaXMubG9nYm9va0VudHJpZXN9XG4gICAgICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgICAgPjwvaGEtbG9nYm9vay1yZW5kZXJlcj5cbiAgICAgICAgICA8aGF0LWxvZ2Jvb2stbm90ZSAuZG9tYWluPSR7dGhpcy50cmFjZS5kb21haW59PjwvaGF0LWxvZ2Jvb2stbm90ZT5cbiAgICAgICAgYFxuICAgICAgOiBodG1sYDxkaXYgY2xhc3M9XCJwYWRkZWQtYm94XCI+XG4gICAgICAgICAgTm8gTG9nYm9vayBlbnRyaWVzIGZvdW5kIGZvciB0aGlzIHN0ZXAuXG4gICAgICAgIDwvZGl2PmA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGNzc2BcbiAgICAgICAgLnBhZGRlZC1ib3gge1xuICAgICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtdHJhY2UtbG9nYm9va1wiOiBIYVRyYWNlTG9nYm9vaztcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-logbook.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-path-details.ts":
/*!*******************************************************!*\
  !*** ./src/components/trace/ha-trace-path-details.ts ***!
  \*******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTracePathDetails: () => (/* binding */ HaTracePathDetails)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var js_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! js-yaml */ \"./node_modules/js-yaml/dist/js-yaml.mjs\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _ha_code_editor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ha-code-editor */ \"./src/components/ha-code-editor.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _hat_logbook_note__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hat-logbook-note */ \"./src/components/trace/hat-logbook-note.ts\");\n/* harmony import */ var _data_trace__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../data/trace */ \"./src/data/trace.ts\");\n/* harmony import */ var _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../panels/logbook/ha-logbook-renderer */ \"./src/panels/logbook/ha-logbook-renderer.ts\");\n/* harmony import */ var _trace_tab_styles__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./trace-tab-styles */ \"./src/components/trace/trace-tab-styles.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__, _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_10__]);\n([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__, _panels_logbook_ha_logbook_renderer__WEBPACK_IMPORTED_MODULE_10__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\nconst TRACE_PATH_TABS = [\"step_config\", \"changed_variables\", \"logbook\"];\nlet HaTracePathDetails = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-trace-path-details\")], function (_initialize, _LitElement) {\n  class HaTracePathDetails extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTracePathDetails,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"renderedNodes\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"trackedNodes\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.state)()],\n      key: \"_view\",\n      value() {\n        return \"step_config\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n      <div class=\"padded-box trace-info\">\n        ${this._renderSelectedTraceInfo()}\n      </div>\n\n      <div class=\"tabs top\">\n        ${TRACE_PATH_TABS.map(view => (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n            <button\n              .view=${view}\n              class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_4__.classMap)({\n          active: this._view === view\n        })}\n              @click=${this._showTab}\n            >\n              ${this.hass.localize(`ui.panel.config.automation.trace.tabs.${view}`)}\n            </button>\n          `)}\n      </div>\n      ${this._view === \"step_config\" ? this._renderSelectedConfig() : this._view === \"changed_variables\" ? this._renderChangedVars() : this._renderLogbook()}\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderSelectedTraceInfo\",\n      value: function _renderSelectedTraceInfo() {\n        var _this$selected;\n        const paths = this.trace.trace;\n        if (!((_this$selected = this.selected) !== null && _this$selected !== void 0 && _this$selected.path)) {\n          return this.hass.localize(\"ui.panel.config.automation.trace.path.choose\");\n        }\n\n        // HACK: default choice node is not part of paths. We filter them out here by checking parent.\n        const pathParts = this.selected.path.split(\"/\");\n        if (pathParts[pathParts.length - 1] === \"default\") {\n          var _parentTraceInfo$;\n          const parentTraceInfo = paths[pathParts.slice(0, pathParts.length - 1).join(\"/\")];\n          if (parentTraceInfo && ((_parentTraceInfo$ = parentTraceInfo[0]) === null || _parentTraceInfo$ === void 0 || (_parentTraceInfo$ = _parentTraceInfo$.result) === null || _parentTraceInfo$ === void 0 ? void 0 : _parentTraceInfo$.choice) === \"default\") {\n            return this.hass.localize(\"ui.panel.config.automation.trace.path.default_action_executed\");\n          }\n        }\n        if (!(this.selected.path in paths)) {\n          return this.hass.localize(\"ui.panel.config.automation.trace.path.no_further_execution\");\n        }\n        const parts = [];\n        let active = false;\n        for (const curPath of Object.keys(this.trace.trace)) {\n          // Include all trace results until the next rendered node.\n          // Rendered nodes also include non-chosen choose paths.\n          if (active) {\n            if (curPath in this.renderedNodes) {\n              break;\n            }\n          } else if (curPath === this.selected.path) {\n            active = true;\n          } else {\n            continue;\n          }\n          const data = paths[curPath];\n          parts.push(data.map((trace, idx) => {\n            const {\n              path,\n              timestamp,\n              result,\n              error,\n              changed_variables,\n              ...rest\n            } = trace;\n            if ((result === null || result === void 0 ? void 0 : result.enabled) === false) {\n              return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`${this.hass.localize(\"ui.panel.config.automation.trace.path.disabled_step\")}`;\n            }\n            return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n            ${curPath === this.selected.path ? \"\" : (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<h2>\n                  ${curPath.substring(this.selected.path.length + 1)}\n                </h2>`}\n            ${data.length === 1 ? lit__WEBPACK_IMPORTED_MODULE_2__.nothing : (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<h3>\n                  ${this.hass.localize(\"ui.panel.config.automation.trace.path.iteration\", {\n              number: idx + 1\n            })}\n                </h3>`}\n            ${this.hass.localize(\"ui.panel.config.automation.trace.path.executed\", {\n              time: (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_5__.formatDateTimeWithSeconds)(new Date(timestamp), this.hass.locale, this.hass.config)\n            })}\n            <br />\n            ${result ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`${this.hass.localize(\"ui.panel.config.automation.trace.path.result\")}\n                  <pre>${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(result)}</pre>` : error ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=\"error\">\n                    ${this.hass.localize(\"ui.panel.config.automation.trace.path.error\", {\n              error: error\n            })}\n                  </div>` : lit__WEBPACK_IMPORTED_MODULE_2__.nothing}\n            ${Object.keys(rest).length === 0 ? lit__WEBPACK_IMPORTED_MODULE_2__.nothing : (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<pre>${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(rest)}</pre>`}\n          `;\n          }));\n        }\n        return parts;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderSelectedConfig\",\n      value: function _renderSelectedConfig() {\n        var _this$selected2;\n        if (!((_this$selected2 = this.selected) !== null && _this$selected2 !== void 0 && _this$selected2.path)) {\n          return lit__WEBPACK_IMPORTED_MODULE_2__.nothing;\n        }\n        const config = (0,_data_trace__WEBPACK_IMPORTED_MODULE_9__.getDataFromPath)(this.trace.config, this.selected.path);\n        return config ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<ha-code-editor\n          .value=${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(config).trimEnd()}\n          readOnly\n          dir=\"ltr\"\n        ></ha-code-editor>` : this.hass.localize(\"ui.panel.config.automation.trace.path.unable_to_find_config\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderChangedVars\",\n      value: function _renderChangedVars() {\n        const paths = this.trace.trace;\n        const data = paths[this.selected.path];\n        if (data === undefined) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=\"padded-box\">\n        ${this.hass.localize(\"ui.panel.config.automation.trace.path.step_not_executed\")}\n      </div>`;\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n      <div class=\"padded-box\">\n        ${data.map((trace, idx) => (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n            ${data.length > 1 ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<p>\n                  ${this.hass.localize(\"ui.panel.config.automation.trace.path.iteration\", {\n          number: idx + 1\n        })}\n                </p>` : \"\"}\n            ${Object.keys(trace.changed_variables || {}).length === 0 ? this.hass.localize(\"ui.panel.config.automation.trace.path.no_variables_changed\") : (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<pre>${(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.dump)(trace.changed_variables).trimEnd()}</pre>`}\n          `)}\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderLogbook\",\n      value: function _renderLogbook() {\n        const paths = this.trace.trace;\n        const startTrace = paths[this.selected.path];\n        const trackedPaths = Object.keys(this.trackedNodes);\n        const index = trackedPaths.indexOf(this.selected.path);\n        if (index === -1) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=\"padded-box\">\n        ${this.hass.localize(\"ui.panel.config.automation.trace.path.step_not_executed\")}\n      </div>`;\n        }\n        let entries;\n        if (index === trackedPaths.length - 1) {\n          // it's the last entry. Find all logbook entries after start.\n          const startTime = new Date(startTrace[0].timestamp);\n          const idx = this.logbookEntries.findIndex(entry => new Date(entry.when * 1000) >= startTime);\n          if (idx === -1) {\n            entries = [];\n          } else {\n            entries = this.logbookEntries.slice(idx);\n          }\n        } else {\n          const nextTrace = paths[trackedPaths[index + 1]];\n          const startTime = new Date(startTrace[0].timestamp);\n          const endTime = new Date(nextTrace[0].timestamp);\n          entries = [];\n          for (const entry of this.logbookEntries || []) {\n            const entryDate = new Date(entry.when * 1000);\n            if (entryDate >= startTime) {\n              if (entryDate < endTime) {\n                entries.push(entry);\n              } else {\n                // All following entries are no longer valid.\n                break;\n              }\n            }\n          }\n        }\n        return entries.length ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n          <ha-logbook-renderer\n            relative-time\n            .hass=${this.hass}\n            .entries=${entries}\n            .narrow=${this.narrow}\n          ></ha-logbook-renderer>\n          <hat-logbook-note .domain=${this.trace.domain}></hat-logbook-note>\n        ` : (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=\"padded-box\">\n          ${this.hass.localize(\"ui.panel.config.automation.trace.path.no_logbook_entries\")}\n        </div>`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showTab\",\n      value: function _showTab(ev) {\n        this._view = ev.target.view;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_trace_tab_styles__WEBPACK_IMPORTED_MODULE_11__.traceTabStyles, (0,lit__WEBPACK_IMPORTED_MODULE_2__.css)`\n        .padded-box {\n          margin: 16px;\n        }\n\n        :host(:not([narrow])) .trace-info {\n          min-height: 250px;\n        }\n\n        pre {\n          margin: 0;\n        }\n\n        .error {\n          color: var(--error-color);\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS1wYXRoLWRldGFpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBSUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEyU0E7QUFBQTtBQUFBO0FBM1NBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQUtBO0FBRUE7QUFDQTtBQUlBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLXBhdGgtZGV0YWlscy50cz8zYmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGR1bXAgfSBmcm9tIFwianMteWFtbFwiO1xuaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgbm90aGluZyxcbiAgVGVtcGxhdGVSZXN1bHQsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kYXRldGltZS9mb3JtYXRfZGF0ZV90aW1lXCI7XG5pbXBvcnQgXCIuLi9oYS1jb2RlLWVkaXRvclwiO1xuaW1wb3J0IFwiLi4vaGEtaWNvbi1idXR0b25cIjtcbmltcG9ydCBcIi4vaGF0LWxvZ2Jvb2stbm90ZVwiO1xuaW1wb3J0IHsgTG9nYm9va0VudHJ5IH0gZnJvbSBcIi4uLy4uL2RhdGEvbG9nYm9va1wiO1xuaW1wb3J0IHtcbiAgQWN0aW9uVHJhY2VTdGVwLFxuICBDaG9vc2VBY3Rpb25UcmFjZVN0ZXAsXG4gIGdldERhdGFGcm9tUGF0aCxcbiAgVHJhY2VFeHRlbmRlZCxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCBcIi4uLy4uL3BhbmVscy9sb2dib29rL2hhLWxvZ2Jvb2stcmVuZGVyZXJcIjtcbmltcG9ydCB7IHRyYWNlVGFiU3R5bGVzIH0gZnJvbSBcIi4vdHJhY2UtdGFiLXN0eWxlc1wiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBOb2RlSW5mbyB9IGZyb20gXCIuL2hhdC1zY3JpcHQtZ3JhcGhcIjtcblxuY29uc3QgVFJBQ0VfUEFUSF9UQUJTID0gW1xuICBcInN0ZXBfY29uZmlnXCIsXG4gIFwiY2hhbmdlZF92YXJpYWJsZXNcIixcbiAgXCJsb2dib29rXCIsXG5dIGFzIGNvbnN0O1xuXG5AY3VzdG9tRWxlbWVudChcImhhLXRyYWNlLXBhdGgtZGV0YWlsc1wiKVxuZXhwb3J0IGNsYXNzIEhhVHJhY2VQYXRoRGV0YWlscyBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pIHB1YmxpYyBuYXJyb3cgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyB0cmFjZSE6IFRyYWNlRXh0ZW5kZWQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgbG9nYm9va0VudHJpZXMhOiBMb2dib29rRW50cnlbXTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzZWxlY3RlZCE6IE5vZGVJbmZvO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSlcbiAgcHVibGljIHJlbmRlcmVkTm9kZXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyB0cmFja2VkTm9kZXMhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3ZpZXc6ICh0eXBlb2YgVFJBQ0VfUEFUSF9UQUJTKVtudW1iZXJdID0gXCJzdGVwX2NvbmZpZ1wiO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdiBjbGFzcz1cInBhZGRlZC1ib3ggdHJhY2UtaW5mb1wiPlxuICAgICAgICAke3RoaXMuX3JlbmRlclNlbGVjdGVkVHJhY2VJbmZvKCl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInRhYnMgdG9wXCI+XG4gICAgICAgICR7VFJBQ0VfUEFUSF9UQUJTLm1hcChcbiAgICAgICAgICAodmlldykgPT4gaHRtbGBcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgLnZpZXc9JHt2aWV3fVxuICAgICAgICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHsgYWN0aXZlOiB0aGlzLl92aWV3ID09PSB2aWV3IH0pfVxuICAgICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9zaG93VGFifVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgYHVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnRyYWNlLnRhYnMuJHt2aWV3fWBcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIGBcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgJHt0aGlzLl92aWV3ID09PSBcInN0ZXBfY29uZmlnXCJcbiAgICAgICAgPyB0aGlzLl9yZW5kZXJTZWxlY3RlZENvbmZpZygpXG4gICAgICAgIDogdGhpcy5fdmlldyA9PT0gXCJjaGFuZ2VkX3ZhcmlhYmxlc1wiXG4gICAgICAgICAgPyB0aGlzLl9yZW5kZXJDaGFuZ2VkVmFycygpXG4gICAgICAgICAgOiB0aGlzLl9yZW5kZXJMb2dib29rKCl9XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlclNlbGVjdGVkVHJhY2VJbmZvKCkge1xuICAgIGNvbnN0IHBhdGhzID0gdGhpcy50cmFjZS50cmFjZTtcblxuICAgIGlmICghdGhpcy5zZWxlY3RlZD8ucGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC5jaG9vc2VcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBIQUNLOiBkZWZhdWx0IGNob2ljZSBub2RlIGlzIG5vdCBwYXJ0IG9mIHBhdGhzLiBXZSBmaWx0ZXIgdGhlbSBvdXQgaGVyZSBieSBjaGVja2luZyBwYXJlbnQuXG4gICAgY29uc3QgcGF0aFBhcnRzID0gdGhpcy5zZWxlY3RlZC5wYXRoLnNwbGl0KFwiL1wiKTtcbiAgICBpZiAocGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXSA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgIGNvbnN0IHBhcmVudFRyYWNlSW5mbyA9IHBhdGhzW1xuICAgICAgICBwYXRoUGFydHMuc2xpY2UoMCwgcGF0aFBhcnRzLmxlbmd0aCAtIDEpLmpvaW4oXCIvXCIpXG4gICAgICBdIGFzIENob29zZUFjdGlvblRyYWNlU3RlcFtdO1xuXG4gICAgICBpZiAocGFyZW50VHJhY2VJbmZvICYmIHBhcmVudFRyYWNlSW5mb1swXT8ucmVzdWx0Py5jaG9pY2UgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC5kZWZhdWx0X2FjdGlvbl9leGVjdXRlZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCEodGhpcy5zZWxlY3RlZC5wYXRoIGluIHBhdGhzKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC5ub19mdXJ0aGVyX2V4ZWN1dGlvblwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcnRzOiBUZW1wbGF0ZVJlc3VsdFtdW10gPSBbXTtcblxuICAgIGxldCBhY3RpdmUgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgY3VyUGF0aCBvZiBPYmplY3Qua2V5cyh0aGlzLnRyYWNlLnRyYWNlKSkge1xuICAgICAgLy8gSW5jbHVkZSBhbGwgdHJhY2UgcmVzdWx0cyB1bnRpbCB0aGUgbmV4dCByZW5kZXJlZCBub2RlLlxuICAgICAgLy8gUmVuZGVyZWQgbm9kZXMgYWxzbyBpbmNsdWRlIG5vbi1jaG9zZW4gY2hvb3NlIHBhdGhzLlxuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBpZiAoY3VyUGF0aCBpbiB0aGlzLnJlbmRlcmVkTm9kZXMpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjdXJQYXRoID09PSB0aGlzLnNlbGVjdGVkLnBhdGgpIHtcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhOiBBY3Rpb25UcmFjZVN0ZXBbXSA9IHBhdGhzW2N1clBhdGhdO1xuXG4gICAgICBwYXJ0cy5wdXNoKFxuICAgICAgICBkYXRhLm1hcCgodHJhY2UsIGlkeCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgcGF0aCwgdGltZXN0YW1wLCByZXN1bHQsIGVycm9yLCBjaGFuZ2VkX3ZhcmlhYmxlcywgLi4ucmVzdCB9ID1cbiAgICAgICAgICAgIHRyYWNlIGFzIGFueTtcblxuICAgICAgICAgIGlmIChyZXN1bHQ/LmVuYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbGAke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC5kaXNhYmxlZF9zdGVwXCJcbiAgICAgICAgICAgICl9YDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICR7Y3VyUGF0aCA9PT0gdGhpcy5zZWxlY3RlZC5wYXRoXG4gICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICA6IGh0bWxgPGgyPlxuICAgICAgICAgICAgICAgICAgJHtjdXJQYXRoLnN1YnN0cmluZyh0aGlzLnNlbGVjdGVkLnBhdGgubGVuZ3RoICsgMSl9XG4gICAgICAgICAgICAgICAgPC9oMj5gfVxuICAgICAgICAgICAgJHtkYXRhLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICA/IG5vdGhpbmdcbiAgICAgICAgICAgICAgOiBodG1sYDxoMz5cbiAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi50cmFjZS5wYXRoLml0ZXJhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICB7IG51bWJlcjogaWR4ICsgMSB9XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvaDM+YH1cbiAgICAgICAgICAgICR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi50cmFjZS5wYXRoLmV4ZWN1dGVkXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aW1lOiBmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzKFxuICAgICAgICAgICAgICAgICAgbmV3IERhdGUodGltZXN0YW1wKSxcbiAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICB0aGlzLmhhc3MuY29uZmlnXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgJHtyZXN1bHRcbiAgICAgICAgICAgICAgPyBodG1sYCR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi50cmFjZS5wYXRoLnJlc3VsdFwiXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPHByZT4ke2R1bXAocmVzdWx0KX08L3ByZT5gXG4gICAgICAgICAgICAgIDogZXJyb3JcbiAgICAgICAgICAgICAgICA/IGh0bWxgPGRpdiBjbGFzcz1cImVycm9yXCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnRyYWNlLnBhdGguZXJyb3JcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgICAgIDogbm90aGluZ31cbiAgICAgICAgICAgICR7T2JqZWN0LmtleXMocmVzdCkubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgID8gbm90aGluZ1xuICAgICAgICAgICAgICA6IGh0bWxgPHByZT4ke2R1bXAocmVzdCl9PC9wcmU+YH1cbiAgICAgICAgICBgO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFydHM7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJTZWxlY3RlZENvbmZpZygpIHtcbiAgICBpZiAoIXRoaXMuc2VsZWN0ZWQ/LnBhdGgpIHtcbiAgICAgIHJldHVybiBub3RoaW5nO1xuICAgIH1cbiAgICBjb25zdCBjb25maWcgPSBnZXREYXRhRnJvbVBhdGgodGhpcy50cmFjZSEuY29uZmlnLCB0aGlzLnNlbGVjdGVkLnBhdGgpO1xuICAgIHJldHVybiBjb25maWdcbiAgICAgID8gaHRtbGA8aGEtY29kZS1lZGl0b3JcbiAgICAgICAgICAudmFsdWU9JHtkdW1wKGNvbmZpZykudHJpbUVuZCgpfVxuICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgZGlyPVwibHRyXCJcbiAgICAgICAgPjwvaGEtY29kZS1lZGl0b3I+YFxuICAgICAgOiB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC51bmFibGVfdG9fZmluZF9jb25maWdcIlxuICAgICAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyQ2hhbmdlZFZhcnMoKSB7XG4gICAgY29uc3QgcGF0aHMgPSB0aGlzLnRyYWNlLnRyYWNlO1xuICAgIGNvbnN0IGRhdGE6IEFjdGlvblRyYWNlU3RlcFtdID0gcGF0aHNbdGhpcy5zZWxlY3RlZC5wYXRoXTtcblxuICAgIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBodG1sYDxkaXYgY2xhc3M9XCJwYWRkZWQtYm94XCI+XG4gICAgICAgICR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnRyYWNlLnBhdGguc3RlcF9ub3RfZXhlY3V0ZWRcIlxuICAgICAgICApfVxuICAgICAgPC9kaXY+YDtcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9XCJwYWRkZWQtYm94XCI+XG4gICAgICAgICR7ZGF0YS5tYXAoXG4gICAgICAgICAgKHRyYWNlLCBpZHgpID0+IGh0bWxgXG4gICAgICAgICAgICAke2RhdGEubGVuZ3RoID4gMVxuICAgICAgICAgICAgICA/IGh0bWxgPHA+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC5pdGVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgeyBudW1iZXI6IGlkeCArIDEgfVxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L3A+YFxuICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAke09iamVjdC5rZXlzKHRyYWNlLmNoYW5nZWRfdmFyaWFibGVzIHx8IHt9KS5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgPyB0aGlzLmhhc3MhLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi50cmFjZS5wYXRoLm5vX3ZhcmlhYmxlc19jaGFuZ2VkXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogaHRtbGA8cHJlPiR7ZHVtcCh0cmFjZS5jaGFuZ2VkX3ZhcmlhYmxlcykudHJpbUVuZCgpfTwvcHJlPmB9XG4gICAgICAgICAgYFxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckxvZ2Jvb2soKSB7XG4gICAgY29uc3QgcGF0aHMgPSB0aGlzLnRyYWNlLnRyYWNlO1xuICAgIGNvbnN0IHN0YXJ0VHJhY2UgPSBwYXRoc1t0aGlzLnNlbGVjdGVkLnBhdGhdO1xuICAgIGNvbnN0IHRyYWNrZWRQYXRocyA9IE9iamVjdC5rZXlzKHRoaXMudHJhY2tlZE5vZGVzKTtcbiAgICBjb25zdCBpbmRleCA9IHRyYWNrZWRQYXRocy5pbmRleE9mKHRoaXMuc2VsZWN0ZWQucGF0aCk7XG5cbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwicGFkZGVkLWJveFwiPlxuICAgICAgICAke3RoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi50cmFjZS5wYXRoLnN0ZXBfbm90X2V4ZWN1dGVkXCJcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuXG4gICAgbGV0IGVudHJpZXM6IExvZ2Jvb2tFbnRyeVtdO1xuXG4gICAgaWYgKGluZGV4ID09PSB0cmFja2VkUGF0aHMubGVuZ3RoIC0gMSkge1xuICAgICAgLy8gaXQncyB0aGUgbGFzdCBlbnRyeS4gRmluZCBhbGwgbG9nYm9vayBlbnRyaWVzIGFmdGVyIHN0YXJ0LlxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoc3RhcnRUcmFjZVswXS50aW1lc3RhbXApO1xuICAgICAgY29uc3QgaWR4ID0gdGhpcy5sb2dib29rRW50cmllcy5maW5kSW5kZXgoXG4gICAgICAgIChlbnRyeSkgPT4gbmV3IERhdGUoZW50cnkud2hlbiAqIDEwMDApID49IHN0YXJ0VGltZVxuICAgICAgKTtcbiAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgIGVudHJpZXMgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVudHJpZXMgPSB0aGlzLmxvZ2Jvb2tFbnRyaWVzLnNsaWNlKGlkeCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5leHRUcmFjZSA9IHBhdGhzW3RyYWNrZWRQYXRoc1tpbmRleCArIDFdXTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoc3RhcnRUcmFjZVswXS50aW1lc3RhbXApO1xuICAgICAgY29uc3QgZW5kVGltZSA9IG5ldyBEYXRlKG5leHRUcmFjZVswXS50aW1lc3RhbXApO1xuXG4gICAgICBlbnRyaWVzID0gW107XG5cbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5sb2dib29rRW50cmllcyB8fCBbXSkge1xuICAgICAgICBjb25zdCBlbnRyeURhdGUgPSBuZXcgRGF0ZShlbnRyeS53aGVuICogMTAwMCk7XG4gICAgICAgIGlmIChlbnRyeURhdGUgPj0gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgaWYgKGVudHJ5RGF0ZSA8IGVuZFRpbWUpIHtcbiAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFsbCBmb2xsb3dpbmcgZW50cmllcyBhcmUgbm8gbG9uZ2VyIHZhbGlkLlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudHJpZXMubGVuZ3RoXG4gICAgICA/IGh0bWxgXG4gICAgICAgICAgPGhhLWxvZ2Jvb2stcmVuZGVyZXJcbiAgICAgICAgICAgIHJlbGF0aXZlLXRpbWVcbiAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgLmVudHJpZXM9JHtlbnRyaWVzfVxuICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgID48L2hhLWxvZ2Jvb2stcmVuZGVyZXI+XG4gICAgICAgICAgPGhhdC1sb2dib29rLW5vdGUgLmRvbWFpbj0ke3RoaXMudHJhY2UuZG9tYWlufT48L2hhdC1sb2dib29rLW5vdGU+XG4gICAgICAgIGBcbiAgICAgIDogaHRtbGA8ZGl2IGNsYXNzPVwicGFkZGVkLWJveFwiPlxuICAgICAgICAgICR7dGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24udHJhY2UucGF0aC5ub19sb2dib29rX2VudHJpZXNcIlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PmA7XG4gIH1cblxuICBwcml2YXRlIF9zaG93VGFiKGV2KSB7XG4gICAgdGhpcy5fdmlldyA9IGV2LnRhcmdldC52aWV3O1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICB0cmFjZVRhYlN0eWxlcyxcbiAgICAgIGNzc2BcbiAgICAgICAgLnBhZGRlZC1ib3gge1xuICAgICAgICAgIG1hcmdpbjogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KDpub3QoW25hcnJvd10pKSAudHJhY2UtaW5mbyB7XG4gICAgICAgICAgbWluLWhlaWdodDogMjUwcHg7XG4gICAgICAgIH1cblxuICAgICAgICBwcmUge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS10cmFjZS1wYXRoLWRldGFpbHNcIjogSGFUcmFjZVBhdGhEZXRhaWxzO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-path-details.ts\n");

/***/ }),

/***/ "./src/components/trace/ha-trace-timeline.ts":
/*!***************************************************!*\
  !*** ./src/components/trace/ha-trace-timeline.ts ***!
  \***************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaTraceTimeline: () => (/* binding */ HaTraceTimeline)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_logbook_note__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-logbook-note */ \"./src/components/trace/hat-logbook-note.ts\");\n/* harmony import */ var _hat_trace_timeline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hat-trace-timeline */ \"./src/components/trace/hat-trace-timeline.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_hat_trace_timeline__WEBPACK_IMPORTED_MODULE_4__]);\n_hat_trace_timeline__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nlet HaTraceTimeline = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-trace-timeline\")], function (_initialize, _LitElement) {\n  class HaTraceTimeline extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaTraceTimeline,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <hat-trace-timeline\n        .hass=${this.hass}\n        .trace=${this.trace}\n        .logbookEntries=${this.logbookEntries}\n        .selectedPath=${this.selected.path}\n        allowPick\n      >\n      </hat-trace-timeline>\n      <hat-logbook-note .domain=${this.trace.domain}></hat-logbook-note>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n        :host {\n          display: block;\n          padding: 16px;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYS10cmFjZS10aW1lbGluZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFpQ0E7QUFBQTtBQUFBO0FBakNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21wb25lbnRzL3RyYWNlL2hhLXRyYWNlLXRpbWVsaW5lLnRzP2I3MjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IFwiLi9oYXQtbG9nYm9vay1ub3RlXCI7XG5pbXBvcnQgXCIuL2hhdC10cmFjZS10aW1lbGluZVwiO1xuaW1wb3J0IHR5cGUgeyBMb2dib29rRW50cnkgfSBmcm9tIFwiLi4vLi4vZGF0YS9sb2dib29rXCI7XG5pbXBvcnQgdHlwZSB7IFRyYWNlRXh0ZW5kZWQgfSBmcm9tIFwiLi4vLi4vZGF0YS90cmFjZVwiO1xuaW1wb3J0IHR5cGUgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgdHlwZSB7IE5vZGVJbmZvIH0gZnJvbSBcIi4vaGF0LXNjcmlwdC1ncmFwaFwiO1xuXG5AY3VzdG9tRWxlbWVudChcImhhLXRyYWNlLXRpbWVsaW5lXCIpXG5leHBvcnQgY2xhc3MgSGFUcmFjZVRpbWVsaW5lIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHRyYWNlITogVHJhY2VFeHRlbmRlZDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBsb2dib29rRW50cmllcyE6IExvZ2Jvb2tFbnRyeVtdO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHNlbGVjdGVkITogTm9kZUluZm87XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LXRyYWNlLXRpbWVsaW5lXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAudHJhY2U9JHt0aGlzLnRyYWNlfVxuICAgICAgICAubG9nYm9va0VudHJpZXM9JHt0aGlzLmxvZ2Jvb2tFbnRyaWVzfVxuICAgICAgICAuc2VsZWN0ZWRQYXRoPSR7dGhpcy5zZWxlY3RlZC5wYXRofVxuICAgICAgICBhbGxvd1BpY2tcbiAgICAgID5cbiAgICAgIDwvaGF0LXRyYWNlLXRpbWVsaW5lPlxuICAgICAgPGhhdC1sb2dib29rLW5vdGUgLmRvbWFpbj0ke3RoaXMudHJhY2UuZG9tYWlufT48L2hhdC1sb2dib29rLW5vdGU+XG4gICAgYDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgY3NzYFxuICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS10cmFjZS10aW1lbGluZVwiOiBIYVRyYWNlVGltZWxpbmU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/ha-trace-timeline.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-branch.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-graph-branch.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatGraphBranch: () => (/* binding */ HatGraphBranch)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n\n\n\n\n\n/**\n * @attribute active\n * @attribute track\n */\nlet HatGraphBranch = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-graph-branch\")], function (_initialize, _LitElement) {\n  class HatGraphBranch extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatGraphBranch,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"selected\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"start\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean\n      })],\n      key: \"short\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_branches\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_totalWidth\",\n      value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_maxHeight\",\n      value() {\n        return 0;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateBranches\",\n      value: function _updateBranches(ev) {\n        let total_width = 0;\n        const heights = [];\n        const branches = [];\n        ev.target.assignedElements().forEach(c => {\n          const width = c.clientWidth;\n          const height = c.clientHeight;\n          branches.push({\n            x: width / 2 + total_width,\n            height,\n            start: c.hasAttribute(\"graphStart\"),\n            end: c.hasAttribute(\"graphEnd\"),\n            track: c.hasAttribute(\"track\")\n          });\n          total_width += width;\n          heights.push(height);\n        });\n        this._totalWidth = total_width;\n        this._maxHeight = Math.max(...heights);\n        this._branches = branches.sort((a, b) => {\n          if (a.track && !b.track) {\n            return 1;\n          }\n          if (a.track && b.track) {\n            return 0;\n          }\n          return -1;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <slot name=\"head\"></slot>\n      ${!this.start ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n            <svg\n              id=\"top\"\n              width=\"${this._totalWidth}\"\n            >\n              ${this._branches.map(branch => branch.start ? \"\" : (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n                  <path\n                    class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n          track: branch.track\n        })}\n                    d=\"\n                      M ${this._totalWidth / 2} 0\n                      L ${branch.x} ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.BRANCH_HEIGHT}\n                      \"/>\n                `)}\n            </svg>\n          ` : \"\"}\n      <div id=\"branches\">\n        <svg id=\"lines\" width=${this._totalWidth} height=${this._maxHeight}>\n          ${this._branches.map(branch => {\n          if (branch.end) return \"\";\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n                    <path\n                      class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            track: branch.track\n          })}\n                      d=\"\n                        M ${branch.x} ${branch.height}\n                        v ${this._maxHeight - branch.height}\n                        \"/>\n                  `;\n        })}\n        </svg>\n        <slot @slotchange=${this._updateBranches}></slot>\n      </div>\n\n      ${!this.short ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n            <svg\n              id=\"bottom\"\n              width=\"${this._totalWidth}\"\n            >\n              ${this._branches.map(branch => {\n          if (branch.end) return \"\";\n          return (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n                  <path\n                    class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n            track: branch.track\n          })}\n                    d=\"\n                      M ${branch.x} 0\n                      V ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.SPACING}\n                      L ${this._totalWidth / 2} ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.BRANCH_HEIGHT + _hat_graph_const__WEBPACK_IMPORTED_MODULE_4__.SPACING}\n                      \"/>\n                `;\n        })}\n            </svg>\n          ` : \"\"}\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n      :host {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      :host(:focus) {\n        outline: none;\n      }\n      #branches {\n        position: relative;\n        display: flex;\n        flex-direction: row;\n        align-items: start;\n      }\n      ::slotted(*) {\n        z-index: 1;\n      }\n      ::slotted([slot=\"head\"]) {\n        margin-bottom: calc(var(--hat-graph-branch-height) / -2);\n      }\n      #lines {\n        position: absolute;\n      }\n      #top {\n        height: var(--hat-graph-branch-height);\n      }\n      #bottom {\n        height: calc(var(--hat-graph-branch-height) + var(--hat-graph-spacing));\n      }\n      path {\n        stroke: var(--stroke-clr);\n        stroke-width: 2;\n        fill: none;\n      }\n      path.track {\n        stroke: var(--track-clr);\n      }\n      :host([disabled]) path {\n        stroke: var(--disabled-clr);\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtYnJhbmNoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBaUtBO0FBQUE7QUFBQTtBQWpLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvdHJhY2UvaGF0LWdyYXBoLWJyYW5jaC50cz84ZTYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcywgaHRtbCwgTGl0RWxlbWVudCwgc3ZnIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXBcIjtcbmltcG9ydCB7IEJSQU5DSF9IRUlHSFQsIFNQQUNJTkcgfSBmcm9tIFwiLi9oYXQtZ3JhcGgtY29uc3RcIjtcblxuaW50ZXJmYWNlIEJyYW5jaENvbmZpZyB7XG4gIHg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHN0YXJ0OiBib29sZWFuO1xuICBlbmQ6IGJvb2xlYW47XG4gIHRyYWNrOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBhdHRyaWJ1dGUgYWN0aXZlXG4gKiBAYXR0cmlidXRlIHRyYWNrXG4gKi9cbkBjdXN0b21FbGVtZW50KFwiaGF0LWdyYXBoLWJyYW5jaFwiKVxuZXhwb3J0IGNsYXNzIEhhdEdyYXBoQnJhbmNoIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWUgfSkgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuIH0pIHNlbGVjdGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBzdGFydCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgc2hvcnQgPSBmYWxzZTtcblxuICBAc3RhdGUoKSBfYnJhbmNoZXM6IEJyYW5jaENvbmZpZ1tdID0gW107XG5cbiAgcHJpdmF0ZSBfdG90YWxXaWR0aCA9IDA7XG5cbiAgcHJpdmF0ZSBfbWF4SGVpZ2h0ID0gMDtcblxuICBwcml2YXRlIF91cGRhdGVCcmFuY2hlcyhldjogRXZlbnQpIHtcbiAgICBsZXQgdG90YWxfd2lkdGggPSAwO1xuICAgIGNvbnN0IGhlaWdodHM6IG51bWJlcltdID0gW107XG4gICAgY29uc3QgYnJhbmNoZXM6IEJyYW5jaENvbmZpZ1tdID0gW107XG4gICAgKGV2LnRhcmdldCBhcyBIVE1MU2xvdEVsZW1lbnQpLmFzc2lnbmVkRWxlbWVudHMoKS5mb3JFYWNoKChjKSA9PiB7XG4gICAgICBjb25zdCB3aWR0aCA9IGMuY2xpZW50V2lkdGg7XG4gICAgICBjb25zdCBoZWlnaHQgPSBjLmNsaWVudEhlaWdodDtcbiAgICAgIGJyYW5jaGVzLnB1c2goe1xuICAgICAgICB4OiB3aWR0aCAvIDIgKyB0b3RhbF93aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBzdGFydDogYy5oYXNBdHRyaWJ1dGUoXCJncmFwaFN0YXJ0XCIpLFxuICAgICAgICBlbmQ6IGMuaGFzQXR0cmlidXRlKFwiZ3JhcGhFbmRcIiksXG4gICAgICAgIHRyYWNrOiBjLmhhc0F0dHJpYnV0ZShcInRyYWNrXCIpLFxuICAgICAgfSk7XG4gICAgICB0b3RhbF93aWR0aCArPSB3aWR0aDtcbiAgICAgIGhlaWdodHMucHVzaChoZWlnaHQpO1xuICAgIH0pO1xuICAgIHRoaXMuX3RvdGFsV2lkdGggPSB0b3RhbF93aWR0aDtcbiAgICB0aGlzLl9tYXhIZWlnaHQgPSBNYXRoLm1heCguLi5oZWlnaHRzKTtcbiAgICB0aGlzLl9icmFuY2hlcyA9IGJyYW5jaGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGlmIChhLnRyYWNrICYmICFiLnRyYWNrKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaWYgKGEudHJhY2sgJiYgYi50cmFjaykge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzbG90IG5hbWU9XCJoZWFkXCI+PC9zbG90PlxuICAgICAgJHshdGhpcy5zdGFydFxuICAgICAgICA/IHN2Z2BcbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgaWQ9XCJ0b3BcIlxuICAgICAgICAgICAgICB3aWR0aD1cIiR7dGhpcy5fdG90YWxXaWR0aH1cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAke3RoaXMuX2JyYW5jaGVzLm1hcCgoYnJhbmNoKSA9PlxuICAgICAgICAgICAgICAgIGJyYW5jaC5zdGFydFxuICAgICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgICA6IHN2Z2BcbiAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgIHRyYWNrOiBicmFuY2gudHJhY2ssXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICBkPVwiXG4gICAgICAgICAgICAgICAgICAgICAgTSAke3RoaXMuX3RvdGFsV2lkdGggLyAyfSAwXG4gICAgICAgICAgICAgICAgICAgICAgTCAke2JyYW5jaC54fSAke0JSQU5DSF9IRUlHSFR9XG4gICAgICAgICAgICAgICAgICAgICAgXCIvPlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGBcbiAgICAgICAgOiBcIlwifVxuICAgICAgPGRpdiBpZD1cImJyYW5jaGVzXCI+XG4gICAgICAgIDxzdmcgaWQ9XCJsaW5lc1wiIHdpZHRoPSR7dGhpcy5fdG90YWxXaWR0aH0gaGVpZ2h0PSR7dGhpcy5fbWF4SGVpZ2h0fT5cbiAgICAgICAgICAke3RoaXMuX2JyYW5jaGVzLm1hcCgoYnJhbmNoKSA9PiB7XG4gICAgICAgICAgICBpZiAoYnJhbmNoLmVuZCkgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gc3ZnYFxuICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2s6IGJyYW5jaC50cmFjayxcbiAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICBkPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBNICR7YnJhbmNoLnh9ICR7YnJhbmNoLmhlaWdodH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHYgJHt0aGlzLl9tYXhIZWlnaHQgLSBicmFuY2guaGVpZ2h0fVxuICAgICAgICAgICAgICAgICAgICAgICAgXCIvPlxuICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIDxzbG90IEBzbG90Y2hhbmdlPSR7dGhpcy5fdXBkYXRlQnJhbmNoZXN9Pjwvc2xvdD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICAkeyF0aGlzLnNob3J0XG4gICAgICAgID8gc3ZnYFxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICBpZD1cImJvdHRvbVwiXG4gICAgICAgICAgICAgIHdpZHRoPVwiJHt0aGlzLl90b3RhbFdpZHRofVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICR7dGhpcy5fYnJhbmNoZXMubWFwKChicmFuY2gpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYnJhbmNoLmVuZCkgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN2Z2BcbiAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPSR7Y2xhc3NNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgIHRyYWNrOiBicmFuY2gudHJhY2ssXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICBkPVwiXG4gICAgICAgICAgICAgICAgICAgICAgTSAke2JyYW5jaC54fSAwXG4gICAgICAgICAgICAgICAgICAgICAgViAke1NQQUNJTkd9XG4gICAgICAgICAgICAgICAgICAgICAgTCAke3RoaXMuX3RvdGFsV2lkdGggLyAyfSAke0JSQU5DSF9IRUlHSFQgKyBTUEFDSU5HfVxuICAgICAgICAgICAgICAgICAgICAgIFwiLz5cbiAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIGBcbiAgICAgICAgOiBcIlwifVxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICA6aG9zdCg6Zm9jdXMpIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cbiAgICAgICNicmFuY2hlcyB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgICAgfVxuICAgICAgOjpzbG90dGVkKCopIHtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgIH1cbiAgICAgIDo6c2xvdHRlZChbc2xvdD1cImhlYWRcIl0pIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogY2FsYyh2YXIoLS1oYXQtZ3JhcGgtYnJhbmNoLWhlaWdodCkgLyAtMik7XG4gICAgICB9XG4gICAgICAjbGluZXMge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB9XG4gICAgICAjdG9wIHtcbiAgICAgICAgaGVpZ2h0OiB2YXIoLS1oYXQtZ3JhcGgtYnJhbmNoLWhlaWdodCk7XG4gICAgICB9XG4gICAgICAjYm90dG9tIHtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKHZhcigtLWhhdC1ncmFwaC1icmFuY2gtaGVpZ2h0KSArIHZhcigtLWhhdC1ncmFwaC1zcGFjaW5nKSk7XG4gICAgICB9XG4gICAgICBwYXRoIHtcbiAgICAgICAgc3Ryb2tlOiB2YXIoLS1zdHJva2UtY2xyKTtcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiAyO1xuICAgICAgICBmaWxsOiBub25lO1xuICAgICAgfVxuICAgICAgcGF0aC50cmFjayB7XG4gICAgICAgIHN0cm9rZTogdmFyKC0tdHJhY2stY2xyKTtcbiAgICAgIH1cbiAgICAgIDpob3N0KFtkaXNhYmxlZF0pIHBhdGgge1xuICAgICAgICBzdHJva2U6IHZhcigtLWRpc2FibGVkLWNscik7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGF0LWdyYXBoLWJyYW5jaFwiOiBIYXRHcmFwaEJyYW5jaDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-branch.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-const.ts":
/*!*************************************************!*\
  !*** ./src/components/trace/hat-graph-const.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BRANCH_HEIGHT: () => (/* binding */ BRANCH_HEIGHT),\n/* harmony export */   NODE_SIZE: () => (/* binding */ NODE_SIZE),\n/* harmony export */   SPACING: () => (/* binding */ SPACING)\n/* harmony export */ });\nconst SPACING = 10;\nconst NODE_SIZE = 30;\nconst BRANCH_HEIGHT = 20;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtY29uc3QudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtY29uc3QudHM/ZDYyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgU1BBQ0lORyA9IDEwO1xuZXhwb3J0IGNvbnN0IE5PREVfU0laRSA9IDMwO1xuZXhwb3J0IGNvbnN0IEJSQU5DSF9IRUlHSFQgPSAyMDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-const.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-node.ts":
/*!************************************************!*\
  !*** ./src/components/trace/hat-graph-node.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatGraphNode: () => (/* binding */ HatGraphNode)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n/* harmony import */ var _util_is_safari__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/is_safari */ \"./src/util/is_safari.ts\");\n\n\n\n\n\n\n/**\n * @attribute active\n * @attribute track\n */\nlet HatGraphNode = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-graph-node\")], function (_initialize, _LitElement) {\n  class HatGraphNode extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatGraphNode,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"iconPath\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"notEnabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"graphStart\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        type: Boolean,\n        attribute: \"nofocus\"\n      })],\n      key: \"noFocus\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Number\n      })],\n      key: \"badge\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        if (changedProps.has(\"noFocus\")) {\n          if (!this.hasAttribute(\"tabindex\") && !this.noFocus) {\n            this.setAttribute(\"tabindex\", \"0\");\n          } else if (changedProps.get(\"noFocus\") !== undefined && this.noFocus) {\n            this.removeAttribute(\"tabindex\");\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        const height = _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + (this.graphStart ? 2 : _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + 1);\n        const width = _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <svg\n        class=${_util_is_safari__WEBPACK_IMPORTED_MODULE_4__.isSafari ? \"safari\" : \"\"}\n        width=\"${width}px\"\n        height=\"${height}px\"\n        viewBox=\"-${Math.ceil(width / 2)} -${this.graphStart ? Math.ceil(height / 2) : Math.ceil((_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING * 2) / 2)} ${width} ${height}\"\n      >\n        ${this.graphStart ? `` : (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n          <path\n            class=\"connector\"\n            d=\"\n              M 0 ${-_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING - _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2}\n              L 0 0\n            \"\n            line-caps=\"round\"\n          />\n          `}\n        <g class=\"node\">\n          <circle cx=\"0\" cy=\"0\" r=${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2} />\n          }\n          ${this.badge ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`\n        <g class=\"number\">\n          <circle\n            cx=\"8\"\n            cy=${-_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2}\n            r=\"8\"\n          ></circle>\n          <text\n            x=\"8\"\n            y=${-_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE / 2}\n            text-anchor=\"middle\"\n            alignment-baseline=\"middle\"\n          >${this.badge > 9 ? \"9+\" : this.badge}</text>\n        </g>\n      ` : \"\"}\n          <g style=\"pointer-events: none\" transform=\"translate(${-12} ${-12})\">\n            ${this.iconPath ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.svg)`<path class=\"icon\" d=${this.iconPath}/>` : \"\"}\n          </g>\n        </g>\n      </svg>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n      :host {\n        display: flex;\n        flex-direction: column;\n        min-width: calc(var(--hat-graph-node-size) + var(--hat-graph-spacing));\n        height: calc(\n          var(--hat-graph-node-size) + var(--hat-graph-spacing) + 1px\n        );\n      }\n      :host([graphStart]) {\n        height: calc(var(--hat-graph-node-size) + 2px);\n      }\n      :host([track]) {\n        --stroke-clr: var(--track-clr);\n        --icon-clr: var(--default-icon-clr);\n      }\n      :host([active]) circle {\n        --stroke-clr: var(--active-clr);\n        --icon-clr: var(--default-icon-clr);\n      }\n      :host(:focus) {\n        outline: none;\n      }\n      :host(:hover) circle {\n        --stroke-clr: var(--hover-clr);\n        --icon-clr: var(--default-icon-clr);\n      }\n      :host([notEnabled]) circle {\n        --stroke-clr: var(--disabled-clr);\n      }\n      :host([notEnabled][active]) circle {\n        --stroke-clr: var(--disabled-active-clr);\n      }\n      :host([notEnabled]:hover) circle {\n        --stroke-clr: var(--disabled-hover-clr);\n      }\n      svg:not(.safari) {\n        width: 100%;\n        height: 100%;\n      }\n      circle,\n      path.connector {\n        stroke: var(--stroke-clr);\n        stroke-width: 2;\n        fill: none;\n      }\n      circle {\n        fill: var(--background-clr);\n        stroke: var(--circle-clr, var(--stroke-clr));\n      }\n      .number circle {\n        fill: var(--track-clr);\n        stroke: none;\n        stroke-width: 0;\n      }\n      .number text {\n        font-size: smaller;\n      }\n      path.icon {\n        fill: var(--icon-clr);\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtbm9kZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFRQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEySUE7QUFBQTtBQUFBO0FBM0lBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtbm9kZS50cz8zYjc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNzcyxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIGh0bWwsXG4gIFRlbXBsYXRlUmVzdWx0LFxuICBzdmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBOT0RFX1NJWkUsIFNQQUNJTkcgfSBmcm9tIFwiLi9oYXQtZ3JhcGgtY29uc3RcIjtcbmltcG9ydCB7IGlzU2FmYXJpIH0gZnJvbSBcIi4uLy4uL3V0aWwvaXNfc2FmYXJpXCI7XG5cbi8qKlxuICogQGF0dHJpYnV0ZSBhY3RpdmVcbiAqIEBhdHRyaWJ1dGUgdHJhY2tcbiAqL1xuQGN1c3RvbUVsZW1lbnQoXCJoYXQtZ3JhcGgtbm9kZVwiKVxuZXhwb3J0IGNsYXNzIEhhdEdyYXBoTm9kZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoKSBpY29uUGF0aD86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pIHB1YmxpYyBkaXNhYmxlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgbm90RW5hYmxlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgZ3JhcGhTdGFydCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJub2ZvY3VzXCIgfSkgbm9Gb2N1cyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IE51bWJlciB9KSBiYWRnZT86IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJub0ZvY3VzXCIpKSB7XG4gICAgICBpZiAoIXRoaXMuaGFzQXR0cmlidXRlKFwidGFiaW5kZXhcIikgJiYgIXRoaXMubm9Gb2N1cykge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZFByb3BzLmdldChcIm5vRm9jdXNcIikgIT09IHVuZGVmaW5lZCAmJiB0aGlzLm5vRm9jdXMpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICBjb25zdCBoZWlnaHQgPSBOT0RFX1NJWkUgKyAodGhpcy5ncmFwaFN0YXJ0ID8gMiA6IFNQQUNJTkcgKyAxKTtcbiAgICBjb25zdCB3aWR0aCA9IFNQQUNJTkcgKyBOT0RFX1NJWkU7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c3ZnXG4gICAgICAgIGNsYXNzPSR7aXNTYWZhcmkgPyBcInNhZmFyaVwiIDogXCJcIn1cbiAgICAgICAgd2lkdGg9XCIke3dpZHRofXB4XCJcbiAgICAgICAgaGVpZ2h0PVwiJHtoZWlnaHR9cHhcIlxuICAgICAgICB2aWV3Qm94PVwiLSR7TWF0aC5jZWlsKHdpZHRoIC8gMil9IC0ke3RoaXMuZ3JhcGhTdGFydFxuICAgICAgICAgID8gTWF0aC5jZWlsKGhlaWdodCAvIDIpXG4gICAgICAgICAgOiBNYXRoLmNlaWwoKE5PREVfU0laRSArIFNQQUNJTkcgKiAyKSAvIDIpfSAke3dpZHRofSAke2hlaWdodH1cIlxuICAgICAgPlxuICAgICAgICAke3RoaXMuZ3JhcGhTdGFydFxuICAgICAgICAgID8gYGBcbiAgICAgICAgICA6IHN2Z2BcbiAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgY2xhc3M9XCJjb25uZWN0b3JcIlxuICAgICAgICAgICAgZD1cIlxuICAgICAgICAgICAgICBNIDAgJHstU1BBQ0lORyAtIE5PREVfU0laRSAvIDJ9XG4gICAgICAgICAgICAgIEwgMCAwXG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgbGluZS1jYXBzPVwicm91bmRcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgYH1cbiAgICAgICAgPGcgY2xhc3M9XCJub2RlXCI+XG4gICAgICAgICAgPGNpcmNsZSBjeD1cIjBcIiBjeT1cIjBcIiByPSR7Tk9ERV9TSVpFIC8gMn0gLz5cbiAgICAgICAgICB9XG4gICAgICAgICAgJHt0aGlzLmJhZGdlXG4gICAgICAgICAgICA/IHN2Z2BcbiAgICAgICAgPGcgY2xhc3M9XCJudW1iZXJcIj5cbiAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICBjeD1cIjhcIlxuICAgICAgICAgICAgY3k9JHstTk9ERV9TSVpFIC8gMn1cbiAgICAgICAgICAgIHI9XCI4XCJcbiAgICAgICAgICA+PC9jaXJjbGU+XG4gICAgICAgICAgPHRleHRcbiAgICAgICAgICAgIHg9XCI4XCJcbiAgICAgICAgICAgIHk9JHstTk9ERV9TSVpFIC8gMn1cbiAgICAgICAgICAgIHRleHQtYW5jaG9yPVwibWlkZGxlXCJcbiAgICAgICAgICAgIGFsaWdubWVudC1iYXNlbGluZT1cIm1pZGRsZVwiXG4gICAgICAgICAgPiR7dGhpcy5iYWRnZSA+IDkgPyBcIjkrXCIgOiB0aGlzLmJhZGdlfTwvdGV4dD5cbiAgICAgICAgPC9nPlxuICAgICAgYFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgIDxnIHN0eWxlPVwicG9pbnRlci1ldmVudHM6IG5vbmVcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoJHstMTJ9ICR7LTEyfSlcIj5cbiAgICAgICAgICAgICR7dGhpcy5pY29uUGF0aCA/IHN2Z2A8cGF0aCBjbGFzcz1cImljb25cIiBkPSR7dGhpcy5pY29uUGF0aH0vPmAgOiBcIlwifVxuICAgICAgICAgIDwvZz5cbiAgICAgICAgPC9nPlxuICAgICAgPC9zdmc+XG4gICAgYDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIG1pbi13aWR0aDogY2FsYyh2YXIoLS1oYXQtZ3JhcGgtbm9kZS1zaXplKSArIHZhcigtLWhhdC1ncmFwaC1zcGFjaW5nKSk7XG4gICAgICAgIGhlaWdodDogY2FsYyhcbiAgICAgICAgICB2YXIoLS1oYXQtZ3JhcGgtbm9kZS1zaXplKSArIHZhcigtLWhhdC1ncmFwaC1zcGFjaW5nKSArIDFweFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgOmhvc3QoW2dyYXBoU3RhcnRdKSB7XG4gICAgICAgIGhlaWdodDogY2FsYyh2YXIoLS1oYXQtZ3JhcGgtbm9kZS1zaXplKSArIDJweCk7XG4gICAgICB9XG4gICAgICA6aG9zdChbdHJhY2tdKSB7XG4gICAgICAgIC0tc3Ryb2tlLWNscjogdmFyKC0tdHJhY2stY2xyKTtcbiAgICAgICAgLS1pY29uLWNscjogdmFyKC0tZGVmYXVsdC1pY29uLWNscik7XG4gICAgICB9XG4gICAgICA6aG9zdChbYWN0aXZlXSkgY2lyY2xlIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1hY3RpdmUtY2xyKTtcbiAgICAgICAgLS1pY29uLWNscjogdmFyKC0tZGVmYXVsdC1pY29uLWNscik7XG4gICAgICB9XG4gICAgICA6aG9zdCg6Zm9jdXMpIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cbiAgICAgIDpob3N0KDpob3ZlcikgY2lyY2xlIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1ob3Zlci1jbHIpO1xuICAgICAgICAtLWljb24tY2xyOiB2YXIoLS1kZWZhdWx0LWljb24tY2xyKTtcbiAgICAgIH1cbiAgICAgIDpob3N0KFtub3RFbmFibGVkXSkgY2lyY2xlIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1kaXNhYmxlZC1jbHIpO1xuICAgICAgfVxuICAgICAgOmhvc3QoW25vdEVuYWJsZWRdW2FjdGl2ZV0pIGNpcmNsZSB7XG4gICAgICAgIC0tc3Ryb2tlLWNscjogdmFyKC0tZGlzYWJsZWQtYWN0aXZlLWNscik7XG4gICAgICB9XG4gICAgICA6aG9zdChbbm90RW5hYmxlZF06aG92ZXIpIGNpcmNsZSB7XG4gICAgICAgIC0tc3Ryb2tlLWNscjogdmFyKC0tZGlzYWJsZWQtaG92ZXItY2xyKTtcbiAgICAgIH1cbiAgICAgIHN2Zzpub3QoLnNhZmFyaSkge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuICAgICAgY2lyY2xlLFxuICAgICAgcGF0aC5jb25uZWN0b3Ige1xuICAgICAgICBzdHJva2U6IHZhcigtLXN0cm9rZS1jbHIpO1xuICAgICAgICBzdHJva2Utd2lkdGg6IDI7XG4gICAgICAgIGZpbGw6IG5vbmU7XG4gICAgICB9XG4gICAgICBjaXJjbGUge1xuICAgICAgICBmaWxsOiB2YXIoLS1iYWNrZ3JvdW5kLWNscik7XG4gICAgICAgIHN0cm9rZTogdmFyKC0tY2lyY2xlLWNsciwgdmFyKC0tc3Ryb2tlLWNscikpO1xuICAgICAgfVxuICAgICAgLm51bWJlciBjaXJjbGUge1xuICAgICAgICBmaWxsOiB2YXIoLS10cmFjay1jbHIpO1xuICAgICAgICBzdHJva2U6IG5vbmU7XG4gICAgICAgIHN0cm9rZS13aWR0aDogMDtcbiAgICAgIH1cbiAgICAgIC5udW1iZXIgdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogc21hbGxlcjtcbiAgICAgIH1cbiAgICAgIHBhdGguaWNvbiB7XG4gICAgICAgIGZpbGw6IHZhcigtLWljb24tY2xyKTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtZ3JhcGgtbm9kZVwiOiBIYXRHcmFwaE5vZGU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-node.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-graph-spacer.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-graph-spacer.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatGraphSpacer: () => (/* binding */ HatGraphSpacer)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n\n\n\n\n\n/**\n * @attribute active\n * @attribute track\n */\nlet HatGraphSpacer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-graph-spacer\")], function (_initialize, _LitElement) {\n  class HatGraphSpacer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatGraphSpacer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        reflect: true,\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <svg viewBox=\"-${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING / 2} 0 10 ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + 1}\">\n        <path\n          d=\"\n              M 0 ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.SPACING + _hat_graph_const__WEBPACK_IMPORTED_MODULE_3__.NODE_SIZE + 1}\n              V 0\n            \"\n          line-caps=\"round\"\n        />\n        }\n      </svg>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n      :host {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      svg {\n        width: var(--hat-graph-spacing);\n        height: calc(\n          var(--hat-graph-spacing) + var(--hat-graph-node-size) + 1px\n        );\n      }\n      :host([track]) {\n        --stroke-clr: var(--track-clr);\n      }\n      :host-context([disabled]) {\n        --stroke-clr: var(--disabled-clr);\n      }\n      path {\n        stroke: var(--stroke-clr);\n        stroke-width: 2;\n        fill: none;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtc3BhY2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQTRDQTtBQUFBO0FBQUE7QUE1Q0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtZ3JhcGgtc3BhY2VyLnRzP2UyMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IFNQQUNJTkcsIE5PREVfU0laRSB9IGZyb20gXCIuL2hhdC1ncmFwaC1jb25zdFwiO1xuXG4vKipcbiAqIEBhdHRyaWJ1dGUgYWN0aXZlXG4gKiBAYXR0cmlidXRlIHRyYWNrXG4gKi9cbkBjdXN0b21FbGVtZW50KFwiaGF0LWdyYXBoLXNwYWNlclwiKVxuZXhwb3J0IGNsYXNzIEhhdEdyYXBoU3BhY2VyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IHJlZmxlY3Q6IHRydWUsIHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIGRpc2FibGVkID0gZmFsc2U7XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPHN2ZyB2aWV3Qm94PVwiLSR7U1BBQ0lORyAvIDJ9IDAgMTAgJHtTUEFDSU5HICsgTk9ERV9TSVpFICsgMX1cIj5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBkPVwiXG4gICAgICAgICAgICAgIE0gMCAke1NQQUNJTkcgKyBOT0RFX1NJWkUgKyAxfVxuICAgICAgICAgICAgICBWIDBcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgbGluZS1jYXBzPVwicm91bmRcIlxuICAgICAgICAvPlxuICAgICAgICB9XG4gICAgICA8L3N2Zz5cbiAgICBgO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIHN2ZyB7XG4gICAgICAgIHdpZHRoOiB2YXIoLS1oYXQtZ3JhcGgtc3BhY2luZyk7XG4gICAgICAgIGhlaWdodDogY2FsYyhcbiAgICAgICAgICB2YXIoLS1oYXQtZ3JhcGgtc3BhY2luZykgKyB2YXIoLS1oYXQtZ3JhcGgtbm9kZS1zaXplKSArIDFweFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgOmhvc3QoW3RyYWNrXSkge1xuICAgICAgICAtLXN0cm9rZS1jbHI6IHZhcigtLXRyYWNrLWNscik7XG4gICAgICB9XG4gICAgICA6aG9zdC1jb250ZXh0KFtkaXNhYmxlZF0pIHtcbiAgICAgICAgLS1zdHJva2UtY2xyOiB2YXIoLS1kaXNhYmxlZC1jbHIpO1xuICAgICAgfVxuICAgICAgcGF0aCB7XG4gICAgICAgIHN0cm9rZTogdmFyKC0tc3Ryb2tlLWNscik7XG4gICAgICAgIHN0cm9rZS13aWR0aDogMjtcbiAgICAgICAgZmlsbDogbm9uZTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtZ3JhcGgtc3BhY2VyXCI6IEhhdEdyYXBoU3BhY2VyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-graph-spacer.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-logbook-note.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-logbook-note.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\nlet HatLogbookNote = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hat-logbook-note\")], function (_initialize, _LitElement) {\n  class HatLogbookNote extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatLogbookNote,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)()],\n      key: \"domain\",\n      value() {\n        return \"automation\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      Not all shown logbook entries might be related to this ${this.domain}.\n    `;\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n    :host {\n      display: block;\n      text-align: center;\n      font-style: italic;\n      padding: 16px;\n      margin-top: 8px;\n    }\n  `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtbG9nYm9vay1ub3RlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWtCQTtBQUFBO0FBQUE7QUFsQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtbG9nYm9vay1ub3RlLnRzP2E4ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzLCBodG1sLCBMaXRFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHkgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYXQtbG9nYm9vay1ub3RlXCIpXG5jbGFzcyBIYXRMb2dib29rTm90ZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoKSBwdWJsaWMgZG9tYWluID0gXCJhdXRvbWF0aW9uXCI7XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgTm90IGFsbCBzaG93biBsb2dib29rIGVudHJpZXMgbWlnaHQgYmUgcmVsYXRlZCB0byB0aGlzICR7dGhpcy5kb21haW59LlxuICAgIGA7XG4gIH1cblxuICBzdGF0aWMgc3R5bGVzID0gY3NzYFxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICB9XG4gIGA7XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtbG9nYm9vay1ub3RlXCI6IEhhdExvZ2Jvb2tOb3RlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-logbook-note.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-script-graph.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/hat-script-graph.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HatScriptGraph: () => (/* binding */ HatScriptGraph)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/array/ensure-array */ \"./src/common/array/ensure-array.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _data_action__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../data/action */ \"./src/data/action.ts\");\n/* harmony import */ var _data_script__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../data/script */ \"./src/data/script.ts\");\n/* harmony import */ var _ha_icon_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _hat_graph_branch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./hat-graph-branch */ \"./src/components/trace/hat-graph-branch.ts\");\n/* harmony import */ var _hat_graph_const__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hat-graph-const */ \"./src/components/trace/hat-graph-const.ts\");\n/* harmony import */ var _hat_graph_node__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./hat-graph-node */ \"./src/components/trace/hat-graph-node.ts\");\n/* harmony import */ var _hat_graph_spacer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./hat-graph-spacer */ \"./src/components/trace/hat-graph-spacer.ts\");\n\n\n\nconst mdiAbTesting = \"M4 2A2 2 0 0 0 2 4V12H4V8H6V12H8V4A2 2 0 0 0 6 2H4M4 4H6V6H4M22 15.5V14A2 2 0 0 0 20 12H16V22H20A2 2 0 0 0 22 20V18.5A1.54 1.54 0 0 0 20.5 17A1.54 1.54 0 0 0 22 15.5M20 20H18V18H20V20M20 16H18V14H20M5.79 21.61L4.21 20.39L18.21 2.39L19.79 3.61Z\";\nconst mdiArrowDecision = \"M11,5H8L12,1L16,5H13V9.43C12.25,9.89 11.58,10.46 11,11.12V5M22,11L18,7V10C14.39,9.85 11.31,12.57 11,16.17C9.44,16.72 8.62,18.44 9.17,20C9.72,21.56 11.44,22.38 13,21.83C14.56,21.27 15.38,19.56 14.83,18C14.53,17.14 13.85,16.47 13,16.17C13.47,12.17 17.47,11.97 17.95,11.97V14.97L22,11M10.63,11.59C9.3,10.57 7.67,10 6,10V7L2,11L6,15V12C7.34,12.03 8.63,12.5 9.64,13.4C9.89,12.76 10.22,12.15 10.63,11.59Z\";\nconst mdiArrowUp = \"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z\";\nconst mdiAsterisk = \"M21 13H14.4L19.1 17.7L17.7 19.1L13 14.4V21H11V14.3L6.3 19L4.9 17.6L9.4 13H3V11H9.6L4.9 6.3L6.3 4.9L11 9.6V3H13V9.4L17.6 4.8L19 6.3L14.3 11H21V13Z\";\nconst mdiCallMissed = \"M19.59,7L12,14.59L6.41,9H11V7H3V15H5V10.41L12,17.41L21,8.41\";\nconst mdiCallReceived = \"M20,5.41L18.59,4L7,15.59V9H5V19H15V17H8.41\";\nconst mdiCallSplit = \"M14,4L16.29,6.29L13.41,9.17L14.83,10.59L17.71,7.71L20,10V4M10,4H4V10L6.29,7.71L11,12.41V20H13V11.59L7.71,6.29\";\nconst mdiCheckboxBlankOutline = \"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z\";\nconst mdiCheckboxMarkedOutline = \"M19,19H5V5H15V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V11H19M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\";\nconst mdiChevronDown = \"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\";\nconst mdiChevronUp = \"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\";\nconst mdiClose = \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\";\nconst mdiCodeBraces = \"M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z\";\nconst mdiCodeBrackets = \"M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z\";\nconst mdiRefresh = \"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z\";\nconst mdiRoomService = \"M12,5A2,2 0 0,1 14,7C14,7.24 13.96,7.47 13.88,7.69C17.95,8.5 21,11.91 21,16H3C3,11.91 6.05,8.5 10.12,7.69C10.04,7.47 10,7.24 10,7A2,2 0 0,1 12,5M22,19H2V17H22V19Z\";\nconst mdiShuffleDisabled = \"M16,4.5V7H5V9H16V11.5L19.5,8M16,12.5V15H5V17H16V19.5L19.5,16\";\n\n\n\n\n\n\n\n\n\n\n\nlet HatScriptGraph = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"hat-script-graph\")], function (_initialize, _LitElement) {\n  class HatScriptGraph extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HatScriptGraph,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"selected\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"renderedNodes\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      key: \"trackedNodes\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"method\",\n      key: \"selectNode\",\n      value: function selectNode(config, path) {\n        return () => {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"graph-node-selected\", {\n            config,\n            path\n          });\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_trigger\",\n      value: function render_trigger(config, i) {\n        const path = `trigger/${i}`;\n        const track = this.trace && path in this.trace.trace;\n        this.renderedNodes[path] = {\n          config,\n          path\n        };\n        if (track) {\n          this.trackedNodes[path] = this.renderedNodes[path];\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-node\n        graphStart\n        ?track=${track}\n        @focus=${this.selectNode(config, path)}\n        ?active=${this.selected === path}\n        .iconPath=${mdiAsterisk}\n        .notEnabled=${config.enabled === false}\n        tabindex=${track ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_condition\",\n      value: function render_condition(config, i) {\n        const path = `condition/${i}`;\n        this.renderedNodes[path] = {\n          config,\n          path\n        };\n        if (this.trace && path in this.trace.trace) {\n          this.trackedNodes[path] = this.renderedNodes[path];\n        }\n        return this.render_condition_node(config, path);\n      }\n    }, {\n      kind: \"field\",\n      key: \"typeRenderers\",\n      value() {\n        return {\n          condition: this.render_condition_node,\n          and: this.render_condition_node,\n          or: this.render_condition_node,\n          not: this.render_condition_node,\n          service: this.render_service_node,\n          wait_template: this.render_wait_node,\n          wait_for_trigger: this.render_wait_node,\n          repeat: this.render_repeat_node,\n          choose: this.render_choose_node,\n          if: this.render_if_node,\n          parallel: this.render_parallel_node,\n          other: this.render_other_node\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_action_node\",\n      value: function render_action_node(node, path, graphStart = false, disabled = false) {\n        const type = Object.keys(this.typeRenderers).find(key => key in node) || \"other\";\n        this.renderedNodes[path] = {\n          config: node,\n          path\n        };\n        if (this.trace && path in this.trace.trace) {\n          this.trackedNodes[path] = this.renderedNodes[path];\n        }\n        return this.typeRenderers[type].bind(this)(node, path, graphStart, disabled);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_choose_node\",\n      value: function render_choose_node(config, path, graphStart = false, disabled = false) {\n        var _ensureArray, _ensureArray2;\n        const trace = this.trace.trace[path];\n        const trace_path = trace ? trace.map(trc => trc.result === undefined || trc.result.choice === \"default\" ? \"default\" : trc.result.choice) : [];\n        const track_default = trace_path.includes(\"default\");\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(config, path)}\n        ?track=${trace !== undefined}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || config.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiArrowDecision}\n          ?track=${trace !== undefined}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || config.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n\n        ${config.choose ? (_ensureArray = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(config.choose)) === null || _ensureArray === void 0 ? void 0 : _ensureArray.map((branch, i) => {\n          const branch_path = `${path}/choose/${i}`;\n          const track_this = trace_path.includes(i);\n          this.renderedNodes[branch_path] = {\n            config,\n            path: branch_path\n          };\n          if (track_this) {\n            this.trackedNodes[branch_path] = this.renderedNodes[branch_path];\n          }\n          return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n                <div class=\"graph-container\" ?track=${track_this}>\n                  <hat-graph-node\n                    .iconPath=${!trace || track_this ? mdiCheckboxMarkedOutline : mdiCheckboxBlankOutline}\n                    @focus=${this.selectNode(config, branch_path)}\n                    ?track=${track_this}\n                    ?active=${this.selected === branch_path}\n                    .notEnabled=${disabled || config.enabled === false}\n                  ></hat-graph-node>\n                  ${branch.sequence !== null ? (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(branch.sequence).map((action, j) => this.render_action_node(action, `${branch_path}/sequence/${j}`, false, disabled || config.enabled === false)) : \"\"}\n                </div>\n              `;\n        }) : \"\"}\n        <div ?track=${track_default}>\n          <hat-graph-spacer ?track=${track_default}></hat-graph-spacer>\n          ${config.default !== null ? (_ensureArray2 = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(config.default)) === null || _ensureArray2 === void 0 ? void 0 : _ensureArray2.map((action, i) => this.render_action_node(action, `${path}/default/${i}`, false, disabled || config.enabled === false)) : \"\"}\n        </div>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_if_node\",\n      value: function render_if_node(config, path, graphStart = false, disabled = false) {\n        var _config$then;\n        const trace = this.trace.trace[path];\n        let trackThen = false;\n        let trackElse = false;\n        for (const trc of trace || []) {\n          var _trc$result, _trc$result2;\n          if (!trackThen && ((_trc$result = trc.result) === null || _trc$result === void 0 ? void 0 : _trc$result.choice) === \"then\") {\n            trackThen = true;\n          }\n          if (!trackElse && ((_trc$result2 = trc.result) === null || _trc$result2 === void 0 ? void 0 : _trc$result2.choice) === \"else\" || !trc.result) {\n            trackElse = true;\n          }\n          if (trackElse && trackThen) {\n            break;\n          }\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(config, path)}\n        ?track=${trace !== undefined}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || config.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiCallSplit}\n          ?track=${trace !== undefined}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || config.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n        ${config.else ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<div class=\"graph-container\" ?track=${trackElse}>\n              <hat-graph-node\n                .iconPath=${mdiCallMissed}\n                ?track=${trackElse}\n                ?active=${this.selected === path}\n                .notEnabled=${disabled || config.enabled === false}\n                nofocus\n              ></hat-graph-node\n              >${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(config.else).map((action, j) => this.render_action_node(action, `${path}/else/${j}`, false, disabled || config.enabled === false))}\n            </div>` : (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<hat-graph-spacer ?track=${trackElse}></hat-graph-spacer>`}\n        <div class=\"graph-container\" ?track=${trackThen}>\n          <hat-graph-node\n            .iconPath=${mdiCallReceived}\n            ?track=${trackThen}\n            ?active=${this.selected === path}\n            .notEnabled=${disabled || config.enabled === false}\n            nofocus\n          ></hat-graph-node>\n          ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)((_config$then = config.then) !== null && _config$then !== void 0 ? _config$then : []).map((action, j) => this.render_action_node(action, `${path}/then/${j}`, false, disabled || config.enabled === false))}\n        </div>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_condition_node\",\n      value: function render_condition_node(node, path, graphStart = false, disabled = false) {\n        const trace = this.trace.trace[path];\n        let track = false;\n        let trackPass = false;\n        let trackFailed = false;\n        if (trace) {\n          for (const trc of trace) {\n            if (trc.result) {\n              track = true;\n              if (trc.result.result) {\n                trackPass = true;\n              } else {\n                trackFailed = true;\n              }\n            }\n            if (trackPass && trackFailed) {\n              break;\n            }\n          }\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-branch\n        @focus=${this.selectNode(node, path)}\n        ?track=${track}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        short\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          slot=\"head\"\n          ?track=${track}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          .iconPath=${mdiAbTesting}\n          nofocus\n        ></hat-graph-node>\n        <div\n          style=${`width: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_11__.NODE_SIZE + _hat_graph_const__WEBPACK_IMPORTED_MODULE_11__.SPACING}px;`}\n          graphStart\n          graphEnd\n        ></div>\n        <div ?track=${trackPass}></div>\n        <hat-graph-node\n          .iconPath=${mdiClose}\n          nofocus\n          ?track=${trackFailed}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n        ></hat-graph-node>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_repeat_node\",\n      value: function render_repeat_node(node, path, graphStart = false, disabled = false) {\n        var _this$trace;\n        const trace = this.trace.trace[path];\n        const repeats = (_this$trace = this.trace) === null || _this$trace === void 0 || (_this$trace = _this$trace.trace[`${path}/repeat/sequence/0`]) === null || _this$trace === void 0 ? void 0 : _this$trace.length;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiRefresh}\n          ?track=${path in this.trace.trace}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n        <hat-graph-node\n          .iconPath=${mdiArrowUp}\n          ?track=${repeats > 1}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          nofocus\n          .badge=${repeats > 1 ? repeats : undefined}\n        ></hat-graph-node>\n        <div ?track=${trace}>\n          ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(node.repeat.sequence).map((action, i) => this.render_action_node(action, `${path}/repeat/sequence/${i}`, false, disabled || node.enabled === false))}\n        </div>\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_service_node\",\n      value: function render_service_node(node, path, graphStart = false, disabled = false) {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiRoomService}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_wait_node\",\n      value: function render_wait_node(node, path, graphStart = false, disabled = false) {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${mdiCodeBraces}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n        tabindex=${this.trace && path in this.trace.trace ? \"0\" : \"-1\"}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_parallel_node\",\n      value: function render_parallel_node(node, path, graphStart = false, disabled = false) {\n        const trace = this.trace.trace[path];\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-branch\n        tabindex=${trace === undefined ? \"-1\" : \"0\"}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      >\n        <hat-graph-node\n          .graphStart=${graphStart}\n          .iconPath=${mdiShuffleDisabled}\n          ?track=${path in this.trace.trace}\n          ?active=${this.selected === path}\n          .notEnabled=${disabled || node.enabled === false}\n          slot=\"head\"\n          nofocus\n        ></hat-graph-node>\n        ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(node.parallel).map((action, i) => \"sequence\" in action ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<div ?track=${path in this.trace.trace}>\n                ${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(action.sequence).map((sAction, j) => this.render_action_node(sAction, `${path}/parallel/${i}/sequence/${j}`, false, disabled || node.enabled === false))}\n              </div>` : this.render_action_node(action, `${path}/parallel/${i}/sequence/0`, false, disabled || node.enabled === false))}\n      </hat-graph-branch>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render_other_node\",\n      value: function render_other_node(node, path, graphStart = false, disabled = false) {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <hat-graph-node\n        .graphStart=${graphStart}\n        .iconPath=${_data_action__WEBPACK_IMPORTED_MODULE_7__.ACTION_ICONS[(0,_data_script__WEBPACK_IMPORTED_MODULE_8__.getActionType)(node)] || mdiCodeBrackets}\n        @focus=${this.selectNode(node, path)}\n        ?track=${path in this.trace.trace}\n        ?active=${this.selected === path}\n        .notEnabled=${disabled || node.enabled === false}\n      ></hat-graph-node>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        const paths = Object.keys(this.trackedNodes);\n        const trigger_nodes = \"trigger\" in this.trace.config ? (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(this.trace.config.trigger).map((trigger, i) => this.render_trigger(trigger, i)) : undefined;\n        try {\n          var _ensureArray3;\n          return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n        <div class=\"parent graph-container\">\n          ${trigger_nodes ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<hat-graph-branch start .short=${trigger_nodes.length < 2}>\n                ${trigger_nodes}\n              </hat-graph-branch>` : \"\"}\n          ${\"condition\" in this.trace.config ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`${(_ensureArray3 = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(this.trace.config.condition)) === null || _ensureArray3 === void 0 ? void 0 : _ensureArray3.map((condition, i) => this.render_condition(condition, i))}` : \"\"}\n          ${\"action\" in this.trace.config ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(this.trace.config.action).map((action, i) => this.render_action_node(action, `action/${i}`))}` : \"\"}\n          ${\"sequence\" in this.trace.config ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`${(0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_5__.ensureArray)(this.trace.config.sequence).map((action, i) => this.render_action_node(action, `sequence/${i}`, i === 0))}` : \"\"}\n        </div>\n        <div class=\"actions\">\n          <ha-icon-button\n            .disabled=${paths.length === 0 || paths[0] === this.selected}\n            @click=${this._previousTrackedNode}\n            .path=${mdiChevronUp}\n          ></ha-icon-button>\n          <ha-icon-button\n            .disabled=${paths.length === 0 || paths[paths.length - 1] === this.selected}\n            @click=${this._nextTrackedNode}\n            .path=${mdiChevronDown}\n          ></ha-icon-button>\n        </div>\n      `;\n        } catch (err) {\n          if (true) {\n            // eslint-disable-next-line no-console\n            console.log(\"Error creating script graph:\", err);\n          }\n          return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n        <div class=\"error\">\n          Error rendering graph. Please download trace and share with the\n          developers.\n        </div>\n      `;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HatScriptGraph.prototype), \"willUpdate\", this).call(this, changedProps);\n        if (changedProps.has(\"trace\")) {\n          this.renderedNodes = {};\n          this.trackedNodes = {};\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HatScriptGraph.prototype), \"updated\", this).call(this, changedProps);\n        if (!changedProps.has(\"trace\")) {\n          return;\n        }\n\n        // If trace changed and we have no or an invalid selection, select first option.\n        if (!this.selected || !(this.selected in this.trackedNodes)) {\n          const firstNode = this.trackedNodes[Object.keys(this.trackedNodes)[0]];\n          if (firstNode) {\n            (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"graph-node-selected\", firstNode);\n          }\n        }\n        if (this.trace) {\n          const sortKeys = Object.keys(this.trace.trace);\n          const keys = Object.keys(this.renderedNodes).sort((a, b) => sortKeys.indexOf(a) - sortKeys.indexOf(b));\n          const sortedTrackedNodes = {};\n          const sortedRenderedNodes = {};\n          for (const key of keys) {\n            sortedRenderedNodes[key] = this.renderedNodes[key];\n            if (key in this.trackedNodes) {\n              sortedTrackedNodes[key] = this.trackedNodes[key];\n            }\n          }\n          this.renderedNodes = sortedRenderedNodes;\n          this.trackedNodes = sortedTrackedNodes;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_previousTrackedNode\",\n      value: function _previousTrackedNode() {\n        const nodes = Object.keys(this.trackedNodes);\n        const prevIndex = nodes.indexOf(this.selected) - 1;\n        if (prevIndex >= 0) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"graph-node-selected\", this.trackedNodes[nodes[prevIndex]]);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_nextTrackedNode\",\n      value: function _nextTrackedNode() {\n        const nodes = Object.keys(this.trackedNodes);\n        const nextIndex = nodes.indexOf(this.selected) + 1;\n        if (nextIndex < nodes.length) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"graph-node-selected\", this.trackedNodes[nodes[nextIndex]]);\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.css)`\n      :host {\n        display: flex;\n        --stroke-clr: var(--stroke-color, var(--secondary-text-color));\n        --active-clr: var(--active-color, var(--primary-color));\n        --track-clr: var(--track-color, var(--accent-color));\n        --hover-clr: var(--hover-color, var(--primary-color));\n        --disabled-clr: var(--disabled-color, var(--disabled-text-color));\n        --disabled-active-clr: rgba(var(--rgb-primary-color), 0.5);\n        --disabled-hover-clr: rgba(var(--rgb-primary-color), 0.7);\n        --default-trigger-color: 3, 169, 244;\n        --rgb-trigger-color: var(--trigger-color, var(--default-trigger-color));\n        --background-clr: var(--background-color, white);\n        --default-icon-clr: var(--icon-color, black);\n        --icon-clr: var(--stroke-clr);\n\n        --hat-graph-spacing: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_11__.SPACING}px;\n        --hat-graph-node-size: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_11__.NODE_SIZE}px;\n        --hat-graph-branch-height: ${_hat_graph_const__WEBPACK_IMPORTED_MODULE_11__.BRANCH_HEIGHT}px;\n      }\n      .graph-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      .actions {\n        display: flex;\n        flex-direction: column;\n      }\n      .parent {\n        margin-left: 8px;\n        margin-inline-start: 8px;\n        margin-inline-end: initial;\n        margin-top: 16px;\n      }\n      .error {\n        padding: 16px;\n        max-width: 300px;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtc2NyaXB0LWdyYXBoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBMG1CQTtBQUFBO0FBQUE7QUExbUJBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBU0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvdHJhY2UvaGF0LXNjcmlwdC1ncmFwaC50cz9iOWFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIG1kaUFiVGVzdGluZyxcbiAgbWRpQXJyb3dEZWNpc2lvbixcbiAgbWRpQXJyb3dVcCxcbiAgbWRpQXN0ZXJpc2ssXG4gIG1kaUNhbGxNaXNzZWQsXG4gIG1kaUNhbGxSZWNlaXZlZCxcbiAgbWRpQ2FsbFNwbGl0LFxuICBtZGlDaGVja2JveEJsYW5rT3V0bGluZSxcbiAgbWRpQ2hlY2tib3hNYXJrZWRPdXRsaW5lLFxuICBtZGlDaGV2cm9uRG93bixcbiAgbWRpQ2hldnJvblVwLFxuICBtZGlDbG9zZSxcbiAgbWRpQ29kZUJyYWNlcyxcbiAgbWRpQ29kZUJyYWNrZXRzLFxuICBtZGlSZWZyZXNoLFxuICBtZGlSb29tU2VydmljZSxcbiAgbWRpU2h1ZmZsZURpc2FibGVkLFxufSBmcm9tIFwiQG1kaS9qc1wiO1xuaW1wb3J0IHsgTGl0RWxlbWVudCwgUHJvcGVydHlWYWx1ZXMsIGNzcywgaHRtbCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBlbnN1cmVBcnJheSB9IGZyb20gXCIuLi8uLi9jb21tb24vYXJyYXkvZW5zdXJlLWFycmF5XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBBQ1RJT05fSUNPTlMgfSBmcm9tIFwiLi4vLi4vZGF0YS9hY3Rpb25cIjtcbmltcG9ydCB7IENvbmRpdGlvbiwgVHJpZ2dlciB9IGZyb20gXCIuLi8uLi9kYXRhL2F1dG9tYXRpb25cIjtcbmltcG9ydCB7XG4gIEFjdGlvbixcbiAgQ2hvb3NlQWN0aW9uLFxuICBJZkFjdGlvbixcbiAgTWFudWFsU2NyaXB0Q29uZmlnLFxuICBQYXJhbGxlbEFjdGlvbixcbiAgUmVwZWF0QWN0aW9uLFxuICBTZXJ2aWNlQWN0aW9uLFxuICBXYWl0QWN0aW9uLFxuICBXYWl0Rm9yVHJpZ2dlckFjdGlvbixcbiAgZ2V0QWN0aW9uVHlwZSxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvc2NyaXB0XCI7XG5pbXBvcnQge1xuICBDaG9vc2VBY3Rpb25UcmFjZVN0ZXAsXG4gIENvbmRpdGlvblRyYWNlU3RlcCxcbiAgSWZBY3Rpb25UcmFjZVN0ZXAsXG4gIFRyYWNlRXh0ZW5kZWQsXG59IGZyb20gXCIuLi8uLi9kYXRhL3RyYWNlXCI7XG5pbXBvcnQgXCIuLi9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IFwiLi9oYXQtZ3JhcGgtYnJhbmNoXCI7XG5pbXBvcnQgeyBCUkFOQ0hfSEVJR0hULCBOT0RFX1NJWkUsIFNQQUNJTkcgfSBmcm9tIFwiLi9oYXQtZ3JhcGgtY29uc3RcIjtcbmltcG9ydCBcIi4vaGF0LWdyYXBoLW5vZGVcIjtcbmltcG9ydCBcIi4vaGF0LWdyYXBoLXNwYWNlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVJbmZvIHtcbiAgcGF0aDogc3RyaW5nO1xuICBjb25maWc6IGFueTtcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSEFTU0RvbUV2ZW50cyB7XG4gICAgXCJncmFwaC1ub2RlLXNlbGVjdGVkXCI6IE5vZGVJbmZvO1xuICB9XG59XG5cbkBjdXN0b21FbGVtZW50KFwiaGF0LXNjcmlwdC1ncmFwaFwiKVxuZXhwb3J0IGNsYXNzIEhhdFNjcmlwdEdyYXBoIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHRyYWNlITogVHJhY2VFeHRlbmRlZDtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzZWxlY3RlZD86IHN0cmluZztcblxuICBwdWJsaWMgcmVuZGVyZWROb2RlczogUmVjb3JkPHN0cmluZywgTm9kZUluZm8+ID0ge307XG5cbiAgcHVibGljIHRyYWNrZWROb2RlczogUmVjb3JkPHN0cmluZywgTm9kZUluZm8+ID0ge307XG5cbiAgcHJpdmF0ZSBzZWxlY3ROb2RlKGNvbmZpZywgcGF0aCkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmaXJlRXZlbnQodGhpcywgXCJncmFwaC1ub2RlLXNlbGVjdGVkXCIsIHsgY29uZmlnLCBwYXRoIH0pO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl90cmlnZ2VyKGNvbmZpZzogVHJpZ2dlciwgaTogbnVtYmVyKSB7XG4gICAgY29uc3QgcGF0aCA9IGB0cmlnZ2VyLyR7aX1gO1xuICAgIGNvbnN0IHRyYWNrID0gdGhpcy50cmFjZSAmJiBwYXRoIGluIHRoaXMudHJhY2UudHJhY2U7XG4gICAgdGhpcy5yZW5kZXJlZE5vZGVzW3BhdGhdID0geyBjb25maWcsIHBhdGggfTtcbiAgICBpZiAodHJhY2spIHtcbiAgICAgIHRoaXMudHJhY2tlZE5vZGVzW3BhdGhdID0gdGhpcy5yZW5kZXJlZE5vZGVzW3BhdGhdO1xuICAgIH1cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICBncmFwaFN0YXJ0XG4gICAgICAgID90cmFjaz0ke3RyYWNrfVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUoY29uZmlnLCBwYXRoKX1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5pY29uUGF0aD0ke21kaUFzdGVyaXNrfVxuICAgICAgICAubm90RW5hYmxlZD0ke2NvbmZpZy5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgdGFiaW5kZXg9JHt0cmFjayA/IFwiMFwiIDogXCItMVwifVxuICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX2NvbmRpdGlvbihjb25maWc6IENvbmRpdGlvbiwgaTogbnVtYmVyKSB7XG4gICAgY29uc3QgcGF0aCA9IGBjb25kaXRpb24vJHtpfWA7XG4gICAgdGhpcy5yZW5kZXJlZE5vZGVzW3BhdGhdID0geyBjb25maWcsIHBhdGggfTtcbiAgICBpZiAodGhpcy50cmFjZSAmJiBwYXRoIGluIHRoaXMudHJhY2UudHJhY2UpIHtcbiAgICAgIHRoaXMudHJhY2tlZE5vZGVzW3BhdGhdID0gdGhpcy5yZW5kZXJlZE5vZGVzW3BhdGhdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJfY29uZGl0aW9uX25vZGUoY29uZmlnLCBwYXRoKTtcbiAgfVxuXG4gIHByaXZhdGUgdHlwZVJlbmRlcmVycyA9IHtcbiAgICBjb25kaXRpb246IHRoaXMucmVuZGVyX2NvbmRpdGlvbl9ub2RlLFxuICAgIGFuZDogdGhpcy5yZW5kZXJfY29uZGl0aW9uX25vZGUsXG4gICAgb3I6IHRoaXMucmVuZGVyX2NvbmRpdGlvbl9ub2RlLFxuICAgIG5vdDogdGhpcy5yZW5kZXJfY29uZGl0aW9uX25vZGUsXG4gICAgc2VydmljZTogdGhpcy5yZW5kZXJfc2VydmljZV9ub2RlLFxuICAgIHdhaXRfdGVtcGxhdGU6IHRoaXMucmVuZGVyX3dhaXRfbm9kZSxcbiAgICB3YWl0X2Zvcl90cmlnZ2VyOiB0aGlzLnJlbmRlcl93YWl0X25vZGUsXG4gICAgcmVwZWF0OiB0aGlzLnJlbmRlcl9yZXBlYXRfbm9kZSxcbiAgICBjaG9vc2U6IHRoaXMucmVuZGVyX2Nob29zZV9ub2RlLFxuICAgIGlmOiB0aGlzLnJlbmRlcl9pZl9ub2RlLFxuICAgIHBhcmFsbGVsOiB0aGlzLnJlbmRlcl9wYXJhbGxlbF9ub2RlLFxuICAgIG90aGVyOiB0aGlzLnJlbmRlcl9vdGhlcl9ub2RlLFxuICB9O1xuXG4gIHByaXZhdGUgcmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgIG5vZGU6IEFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgY29uc3QgdHlwZSA9XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLnR5cGVSZW5kZXJlcnMpLmZpbmQoKGtleSkgPT4ga2V5IGluIG5vZGUpIHx8IFwib3RoZXJcIjtcbiAgICB0aGlzLnJlbmRlcmVkTm9kZXNbcGF0aF0gPSB7IGNvbmZpZzogbm9kZSwgcGF0aCB9O1xuICAgIGlmICh0aGlzLnRyYWNlICYmIHBhdGggaW4gdGhpcy50cmFjZS50cmFjZSkge1xuICAgICAgdGhpcy50cmFja2VkTm9kZXNbcGF0aF0gPSB0aGlzLnJlbmRlcmVkTm9kZXNbcGF0aF07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnR5cGVSZW5kZXJlcnNbdHlwZV0uYmluZCh0aGlzKShcbiAgICAgIG5vZGUsXG4gICAgICBwYXRoLFxuICAgICAgZ3JhcGhTdGFydCxcbiAgICAgIGRpc2FibGVkXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX2Nob29zZV9ub2RlKFxuICAgIGNvbmZpZzogQ2hvb3NlQWN0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICBjb25zdCB0cmFjZSA9IHRoaXMudHJhY2UudHJhY2VbcGF0aF0gYXMgQ2hvb3NlQWN0aW9uVHJhY2VTdGVwW10gfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgdHJhY2VfcGF0aCA9IHRyYWNlXG4gICAgICA/IHRyYWNlLm1hcCgodHJjKSA9PlxuICAgICAgICAgIHRyYy5yZXN1bHQgPT09IHVuZGVmaW5lZCB8fCB0cmMucmVzdWx0LmNob2ljZSA9PT0gXCJkZWZhdWx0XCJcbiAgICAgICAgICAgID8gXCJkZWZhdWx0XCJcbiAgICAgICAgICAgIDogdHJjLnJlc3VsdC5jaG9pY2VcbiAgICAgICAgKVxuICAgICAgOiBbXTtcbiAgICBjb25zdCB0cmFja19kZWZhdWx0ID0gdHJhY2VfcGF0aC5pbmNsdWRlcyhcImRlZmF1bHRcIik7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLWJyYW5jaFxuICAgICAgICB0YWJpbmRleD0ke3RyYWNlID09PSB1bmRlZmluZWQgPyBcIi0xXCIgOiBcIjBcIn1cbiAgICAgICAgQGZvY3VzPSR7dGhpcy5zZWxlY3ROb2RlKGNvbmZpZywgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3RyYWNlICE9PSB1bmRlZmluZWR9XG4gICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgID5cbiAgICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAgIC5pY29uUGF0aD0ke21kaUFycm93RGVjaXNpb259XG4gICAgICAgICAgP3RyYWNrPSR7dHJhY2UgIT09IHVuZGVmaW5lZH1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgICBzbG90PVwiaGVhZFwiXG4gICAgICAgICAgbm9mb2N1c1xuICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cblxuICAgICAgICAke2NvbmZpZy5jaG9vc2VcbiAgICAgICAgICA/IGVuc3VyZUFycmF5KGNvbmZpZy5jaG9vc2UpPy5tYXAoKGJyYW5jaCwgaSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBicmFuY2hfcGF0aCA9IGAke3BhdGh9L2Nob29zZS8ke2l9YDtcbiAgICAgICAgICAgICAgY29uc3QgdHJhY2tfdGhpcyA9IHRyYWNlX3BhdGguaW5jbHVkZXMoaSk7XG4gICAgICAgICAgICAgIHRoaXMucmVuZGVyZWROb2Rlc1ticmFuY2hfcGF0aF0gPSB7IGNvbmZpZywgcGF0aDogYnJhbmNoX3BhdGggfTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNrX3RoaXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrZWROb2Rlc1ticmFuY2hfcGF0aF0gPVxuICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlZE5vZGVzW2JyYW5jaF9wYXRoXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JhcGgtY29udGFpbmVyXCIgP3RyYWNrPSR7dHJhY2tfdGhpc30+XG4gICAgICAgICAgICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAgICAgICAgICAgLmljb25QYXRoPSR7IXRyYWNlIHx8IHRyYWNrX3RoaXNcbiAgICAgICAgICAgICAgICAgICAgICA/IG1kaUNoZWNrYm94TWFya2VkT3V0bGluZVxuICAgICAgICAgICAgICAgICAgICAgIDogbWRpQ2hlY2tib3hCbGFua091dGxpbmV9XG4gICAgICAgICAgICAgICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShjb25maWcsIGJyYW5jaF9wYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgP3RyYWNrPSR7dHJhY2tfdGhpc31cbiAgICAgICAgICAgICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IGJyYW5jaF9wYXRofVxuICAgICAgICAgICAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgICAgICAgICAgID48L2hhdC1ncmFwaC1ub2RlPlxuICAgICAgICAgICAgICAgICAgJHticmFuY2guc2VxdWVuY2UgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyBlbnN1cmVBcnJheShicmFuY2guc2VxdWVuY2UpLm1hcCgoYWN0aW9uLCBqKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJfYWN0aW9uX25vZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7YnJhbmNoX3BhdGh9L3NlcXVlbmNlLyR7an1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgfHwgY29uZmlnLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgPGRpdiA/dHJhY2s9JHt0cmFja19kZWZhdWx0fT5cbiAgICAgICAgICA8aGF0LWdyYXBoLXNwYWNlciA/dHJhY2s9JHt0cmFja19kZWZhdWx0fT48L2hhdC1ncmFwaC1zcGFjZXI+XG4gICAgICAgICAgJHtjb25maWcuZGVmYXVsdCAhPT0gbnVsbFxuICAgICAgICAgICAgPyBlbnN1cmVBcnJheShjb25maWcuZGVmYXVsdCk/Lm1hcCgoYWN0aW9uLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgYCR7cGF0aH0vZGVmYXVsdC8ke2l9YCxcbiAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQgfHwgY29uZmlnLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYXQtZ3JhcGgtYnJhbmNoPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9pZl9ub2RlKFxuICAgIGNvbmZpZzogSWZBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHRyYWNlID0gdGhpcy50cmFjZS50cmFjZVtwYXRoXSBhcyBJZkFjdGlvblRyYWNlU3RlcFtdIHwgdW5kZWZpbmVkO1xuICAgIGxldCB0cmFja1RoZW4gPSBmYWxzZTtcbiAgICBsZXQgdHJhY2tFbHNlID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCB0cmMgb2YgdHJhY2UgfHwgW10pIHtcbiAgICAgIGlmICghdHJhY2tUaGVuICYmIHRyYy5yZXN1bHQ/LmNob2ljZSA9PT0gXCJ0aGVuXCIpIHtcbiAgICAgICAgdHJhY2tUaGVuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICgoIXRyYWNrRWxzZSAmJiB0cmMucmVzdWx0Py5jaG9pY2UgPT09IFwiZWxzZVwiKSB8fCAhdHJjLnJlc3VsdCkge1xuICAgICAgICB0cmFja0Vsc2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRyYWNrRWxzZSAmJiB0cmFja1RoZW4pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhdC1ncmFwaC1icmFuY2hcbiAgICAgICAgdGFiaW5kZXg9JHt0cmFjZSA9PT0gdW5kZWZpbmVkID8gXCItMVwiIDogXCIwXCJ9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShjb25maWcsIHBhdGgpfVxuICAgICAgICA/dHJhY2s9JHt0cmFjZSAhPT0gdW5kZWZpbmVkfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgIC5ncmFwaFN0YXJ0PSR7Z3JhcGhTdGFydH1cbiAgICAgICAgICAuaWNvblBhdGg9JHttZGlDYWxsU3BsaXR9XG4gICAgICAgICAgP3RyYWNrPSR7dHJhY2UgIT09IHVuZGVmaW5lZH1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgICBzbG90PVwiaGVhZFwiXG4gICAgICAgICAgbm9mb2N1c1xuICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICAgICAgJHtjb25maWcuZWxzZVxuICAgICAgICAgID8gaHRtbGA8ZGl2IGNsYXNzPVwiZ3JhcGgtY29udGFpbmVyXCIgP3RyYWNrPSR7dHJhY2tFbHNlfT5cbiAgICAgICAgICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgICAgICAgICAgLmljb25QYXRoPSR7bWRpQ2FsbE1pc3NlZH1cbiAgICAgICAgICAgICAgICA/dHJhY2s9JHt0cmFja0Vsc2V9XG4gICAgICAgICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgICAgICAgbm9mb2N1c1xuICAgICAgICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgICAgICA+JHtlbnN1cmVBcnJheShjb25maWcuZWxzZSkubWFwKChhY3Rpb24sIGopID0+XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJfYWN0aW9uX25vZGUoXG4gICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICBgJHtwYXRofS9lbHNlLyR7an1gLFxuICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgOiBodG1sYDxoYXQtZ3JhcGgtc3BhY2VyID90cmFjaz0ke3RyYWNrRWxzZX0+PC9oYXQtZ3JhcGgtc3BhY2VyPmB9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJncmFwaC1jb250YWluZXJcIiA/dHJhY2s9JHt0cmFja1RoZW59PlxuICAgICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgICAgLmljb25QYXRoPSR7bWRpQ2FsbFJlY2VpdmVkfVxuICAgICAgICAgICAgP3RyYWNrPSR7dHJhY2tUaGVufVxuICAgICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IGNvbmZpZy5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICAgICAgICAke2Vuc3VyZUFycmF5KGNvbmZpZy50aGVuID8/IFtdKS5tYXAoKGFjdGlvbiwgaikgPT5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgIGAke3BhdGh9L3RoZW4vJHtqfWAsXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBkaXNhYmxlZCB8fCBjb25maWcuZW5hYmxlZCA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGF0LWdyYXBoLWJyYW5jaD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfY29uZGl0aW9uX25vZGUoXG4gICAgbm9kZTogQ29uZGl0aW9uLFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBncmFwaFN0YXJ0ID0gZmFsc2UsXG4gICAgZGlzYWJsZWQgPSBmYWxzZVxuICApIHtcbiAgICBjb25zdCB0cmFjZSA9IHRoaXMudHJhY2UudHJhY2VbcGF0aF0gYXMgQ29uZGl0aW9uVHJhY2VTdGVwW10gfCB1bmRlZmluZWQ7XG4gICAgbGV0IHRyYWNrID0gZmFsc2U7XG4gICAgbGV0IHRyYWNrUGFzcyA9IGZhbHNlO1xuICAgIGxldCB0cmFja0ZhaWxlZCA9IGZhbHNlO1xuICAgIGlmICh0cmFjZSkge1xuICAgICAgZm9yIChjb25zdCB0cmMgb2YgdHJhY2UpIHtcbiAgICAgICAgaWYgKHRyYy5yZXN1bHQpIHtcbiAgICAgICAgICB0cmFjayA9IHRydWU7XG4gICAgICAgICAgaWYgKHRyYy5yZXN1bHQucmVzdWx0KSB7XG4gICAgICAgICAgICB0cmFja1Bhc3MgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cmFja0ZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFja1Bhc3MgJiYgdHJhY2tGYWlsZWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYXQtZ3JhcGgtYnJhbmNoXG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7dHJhY2t9XG4gICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgIHRhYmluZGV4PSR7dHJhY2UgPT09IHVuZGVmaW5lZCA/IFwiLTFcIiA6IFwiMFwifVxuICAgICAgICBzaG9ydFxuICAgICAgPlxuICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgICAgc2xvdD1cImhlYWRcIlxuICAgICAgICAgID90cmFjaz0ke3RyYWNrfVxuICAgICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgICAuaWNvblBhdGg9JHttZGlBYlRlc3Rpbmd9XG4gICAgICAgICAgbm9mb2N1c1xuICAgICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPSR7YHdpZHRoOiAke05PREVfU0laRSArIFNQQUNJTkd9cHg7YH1cbiAgICAgICAgICBncmFwaFN0YXJ0XG4gICAgICAgICAgZ3JhcGhFbmRcbiAgICAgICAgPjwvZGl2PlxuICAgICAgICA8ZGl2ID90cmFjaz0ke3RyYWNrUGFzc30+PC9kaXY+XG4gICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgIC5pY29uUGF0aD0ke21kaUNsb3NlfVxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgICA/dHJhY2s9JHt0cmFja0ZhaWxlZH1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgID48L2hhdC1ncmFwaC1ub2RlPlxuICAgICAgPC9oYXQtZ3JhcGgtYnJhbmNoPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9yZXBlYXRfbm9kZShcbiAgICBub2RlOiBSZXBlYXRBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHRyYWNlOiBhbnkgPSB0aGlzLnRyYWNlLnRyYWNlW3BhdGhdO1xuICAgIGNvbnN0IHJlcGVhdHMgPSB0aGlzLnRyYWNlPy50cmFjZVtgJHtwYXRofS9yZXBlYXQvc2VxdWVuY2UvMGBdPy5sZW5ndGg7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLWJyYW5jaFxuICAgICAgICB0YWJpbmRleD0ke3RyYWNlID09PSB1bmRlZmluZWQgPyBcIi0xXCIgOiBcIjBcIn1cbiAgICAgICAgQGZvY3VzPSR7dGhpcy5zZWxlY3ROb2RlKG5vZGUsIHBhdGgpfVxuICAgICAgICA/dHJhY2s9JHtwYXRoIGluIHRoaXMudHJhY2UudHJhY2V9XG4gICAgICAgID9hY3RpdmU9JHt0aGlzLnNlbGVjdGVkID09PSBwYXRofVxuICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgIC5ncmFwaFN0YXJ0PSR7Z3JhcGhTdGFydH1cbiAgICAgICAgICAuaWNvblBhdGg9JHttZGlSZWZyZXNofVxuICAgICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgc2xvdD1cImhlYWRcIlxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgIDxoYXQtZ3JhcGgtbm9kZVxuICAgICAgICAgIC5pY29uUGF0aD0ke21kaUFycm93VXB9XG4gICAgICAgICAgP3RyYWNrPSR7cmVwZWF0cyA+IDF9XG4gICAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgICAuYmFkZ2U9JHtyZXBlYXRzID4gMSA/IHJlcGVhdHMgOiB1bmRlZmluZWR9XG4gICAgICAgID48L2hhdC1ncmFwaC1ub2RlPlxuICAgICAgICA8ZGl2ID90cmFjaz0ke3RyYWNlfT5cbiAgICAgICAgICAke2Vuc3VyZUFycmF5KG5vZGUucmVwZWF0LnNlcXVlbmNlKS5tYXAoKGFjdGlvbiwgaSkgPT5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgIGAke3BhdGh9L3JlcGVhdC9zZXF1ZW5jZS8ke2l9YCxcbiAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgIGRpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGF0LWdyYXBoLWJyYW5jaD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfc2VydmljZV9ub2RlKFxuICAgIG5vZGU6IFNlcnZpY2VBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhdC1ncmFwaC1ub2RlXG4gICAgICAgIC5ncmFwaFN0YXJ0PSR7Z3JhcGhTdGFydH1cbiAgICAgICAgLmljb25QYXRoPSR7bWRpUm9vbVNlcnZpY2V9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgICB0YWJpbmRleD0ke3RoaXMudHJhY2UgJiYgcGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlID8gXCIwXCIgOiBcIi0xXCJ9XG4gICAgICA+PC9oYXQtZ3JhcGgtbm9kZT5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSByZW5kZXJfd2FpdF9ub2RlKFxuICAgIG5vZGU6IFdhaXRBY3Rpb24gfCBXYWl0Rm9yVHJpZ2dlckFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAuaWNvblBhdGg9JHttZGlDb2RlQnJhY2VzfVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUobm9kZSwgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgICAgdGFiaW5kZXg9JHt0aGlzLnRyYWNlICYmIHBhdGggaW4gdGhpcy50cmFjZS50cmFjZSA/IFwiMFwiIDogXCItMVwifVxuICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgYDtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyX3BhcmFsbGVsX25vZGUoXG4gICAgbm9kZTogUGFyYWxsZWxBY3Rpb24sXG4gICAgcGF0aDogc3RyaW5nLFxuICAgIGdyYXBoU3RhcnQgPSBmYWxzZSxcbiAgICBkaXNhYmxlZCA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IHRyYWNlOiBhbnkgPSB0aGlzLnRyYWNlLnRyYWNlW3BhdGhdO1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhdC1ncmFwaC1icmFuY2hcbiAgICAgICAgdGFiaW5kZXg9JHt0cmFjZSA9PT0gdW5kZWZpbmVkID8gXCItMVwiIDogXCIwXCJ9XG4gICAgICAgIEBmb2N1cz0ke3RoaXMuc2VsZWN0Tm9kZShub2RlLCBwYXRoKX1cbiAgICAgICAgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfVxuICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgLm5vdEVuYWJsZWQ9JHtkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlfVxuICAgICAgPlxuICAgICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgICAuZ3JhcGhTdGFydD0ke2dyYXBoU3RhcnR9XG4gICAgICAgICAgLmljb25QYXRoPSR7bWRpU2h1ZmZsZURpc2FibGVkfVxuICAgICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgICA/YWN0aXZlPSR7dGhpcy5zZWxlY3RlZCA9PT0gcGF0aH1cbiAgICAgICAgICAubm90RW5hYmxlZD0ke2Rpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2V9XG4gICAgICAgICAgc2xvdD1cImhlYWRcIlxuICAgICAgICAgIG5vZm9jdXNcbiAgICAgICAgPjwvaGF0LWdyYXBoLW5vZGU+XG4gICAgICAgICR7ZW5zdXJlQXJyYXkobm9kZS5wYXJhbGxlbCkubWFwKChhY3Rpb24sIGkpID0+XG4gICAgICAgICAgXCJzZXF1ZW5jZVwiIGluIGFjdGlvblxuICAgICAgICAgICAgPyBodG1sYDxkaXYgP3RyYWNrPSR7cGF0aCBpbiB0aGlzLnRyYWNlLnRyYWNlfT5cbiAgICAgICAgICAgICAgICAke2Vuc3VyZUFycmF5KChhY3Rpb24gYXMgTWFudWFsU2NyaXB0Q29uZmlnKS5zZXF1ZW5jZSkubWFwKFxuICAgICAgICAgICAgICAgICAgKHNBY3Rpb24sIGopID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgICAgICAgIHNBY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgYCR7cGF0aH0vcGFyYWxsZWwvJHtpfS9zZXF1ZW5jZS8ke2p9YCxcbiAgICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCB8fCBub2RlLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICA6IHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKFxuICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICBgJHtwYXRofS9wYXJhbGxlbC8ke2l9L3NlcXVlbmNlLzBgLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkIHx8IG5vZGUuZW5hYmxlZCA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICApfVxuICAgICAgPC9oYXQtZ3JhcGgtYnJhbmNoPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlcl9vdGhlcl9ub2RlKFxuICAgIG5vZGU6IEFjdGlvbixcbiAgICBwYXRoOiBzdHJpbmcsXG4gICAgZ3JhcGhTdGFydCA9IGZhbHNlLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGF0LWdyYXBoLW5vZGVcbiAgICAgICAgLmdyYXBoU3RhcnQ9JHtncmFwaFN0YXJ0fVxuICAgICAgICAuaWNvblBhdGg9JHtBQ1RJT05fSUNPTlNbZ2V0QWN0aW9uVHlwZShub2RlKV0gfHwgbWRpQ29kZUJyYWNrZXRzfVxuICAgICAgICBAZm9jdXM9JHt0aGlzLnNlbGVjdE5vZGUobm9kZSwgcGF0aCl9XG4gICAgICAgID90cmFjaz0ke3BhdGggaW4gdGhpcy50cmFjZS50cmFjZX1cbiAgICAgICAgP2FjdGl2ZT0ke3RoaXMuc2VsZWN0ZWQgPT09IHBhdGh9XG4gICAgICAgIC5ub3RFbmFibGVkPSR7ZGlzYWJsZWQgfHwgbm9kZS5lbmFibGVkID09PSBmYWxzZX1cbiAgICAgID48L2hhdC1ncmFwaC1ub2RlPlxuICAgIGA7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGNvbnN0IHBhdGhzID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkTm9kZXMpO1xuICAgIGNvbnN0IHRyaWdnZXJfbm9kZXMgPVxuICAgICAgXCJ0cmlnZ2VyXCIgaW4gdGhpcy50cmFjZS5jb25maWdcbiAgICAgICAgPyBlbnN1cmVBcnJheSh0aGlzLnRyYWNlLmNvbmZpZy50cmlnZ2VyKS5tYXAoKHRyaWdnZXIsIGkpID0+XG4gICAgICAgICAgICB0aGlzLnJlbmRlcl90cmlnZ2VyKHRyaWdnZXIsIGkpXG4gICAgICAgICAgKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYXJlbnQgZ3JhcGgtY29udGFpbmVyXCI+XG4gICAgICAgICAgJHt0cmlnZ2VyX25vZGVzXG4gICAgICAgICAgICA/IGh0bWxgPGhhdC1ncmFwaC1icmFuY2ggc3RhcnQgLnNob3J0PSR7dHJpZ2dlcl9ub2Rlcy5sZW5ndGggPCAyfT5cbiAgICAgICAgICAgICAgICAke3RyaWdnZXJfbm9kZXN9XG4gICAgICAgICAgICAgIDwvaGF0LWdyYXBoLWJyYW5jaD5gXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgJHtcImNvbmRpdGlvblwiIGluIHRoaXMudHJhY2UuY29uZmlnXG4gICAgICAgICAgICA/IGh0bWxgJHtlbnN1cmVBcnJheSh0aGlzLnRyYWNlLmNvbmZpZy5jb25kaXRpb24pPy5tYXAoXG4gICAgICAgICAgICAgICAgKGNvbmRpdGlvbiwgaSkgPT4gdGhpcy5yZW5kZXJfY29uZGl0aW9uKGNvbmRpdGlvbiwgaSlcbiAgICAgICAgICAgICAgKX1gXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgJHtcImFjdGlvblwiIGluIHRoaXMudHJhY2UuY29uZmlnXG4gICAgICAgICAgICA/IGh0bWxgJHtlbnN1cmVBcnJheSh0aGlzLnRyYWNlLmNvbmZpZy5hY3Rpb24pLm1hcCgoYWN0aW9uLCBpKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyX2FjdGlvbl9ub2RlKGFjdGlvbiwgYGFjdGlvbi8ke2l9YClcbiAgICAgICAgICAgICAgKX1gXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgJHtcInNlcXVlbmNlXCIgaW4gdGhpcy50cmFjZS5jb25maWdcbiAgICAgICAgICAgID8gaHRtbGAke2Vuc3VyZUFycmF5KHRoaXMudHJhY2UuY29uZmlnLnNlcXVlbmNlKS5tYXAoKGFjdGlvbiwgaSkgPT5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcl9hY3Rpb25fbm9kZShhY3Rpb24sIGBzZXF1ZW5jZS8ke2l9YCwgaSA9PT0gMClcbiAgICAgICAgICAgICAgKX1gXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uc1wiPlxuICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgLmRpc2FibGVkPSR7cGF0aHMubGVuZ3RoID09PSAwIHx8IHBhdGhzWzBdID09PSB0aGlzLnNlbGVjdGVkfVxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fcHJldmlvdXNUcmFja2VkTm9kZX1cbiAgICAgICAgICAgIC5wYXRoPSR7bWRpQ2hldnJvblVwfVxuICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgIDxoYS1pY29uLWJ1dHRvblxuICAgICAgICAgICAgLmRpc2FibGVkPSR7cGF0aHMubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICBwYXRoc1twYXRocy5sZW5ndGggLSAxXSA9PT0gdGhpcy5zZWxlY3RlZH1cbiAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX25leHRUcmFja2VkTm9kZX1cbiAgICAgICAgICAgIC5wYXRoPSR7bWRpQ2hldnJvbkRvd259XG4gICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBjcmVhdGluZyBzY3JpcHQgZ3JhcGg6XCIsIGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImVycm9yXCI+XG4gICAgICAgICAgRXJyb3IgcmVuZGVyaW5nIGdyYXBoLiBQbGVhc2UgZG93bmxvYWQgdHJhY2UgYW5kIHNoYXJlIHdpdGggdGhlXG4gICAgICAgICAgZGV2ZWxvcGVycy5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXM8dGhpcz4pIHtcbiAgICBzdXBlci53aWxsVXBkYXRlKGNoYW5nZWRQcm9wcyk7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJ0cmFjZVwiKSkge1xuICAgICAgdGhpcy5yZW5kZXJlZE5vZGVzID0ge307XG4gICAgICB0aGlzLnRyYWNrZWROb2RlcyA9IHt9O1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXM8dGhpcz4pIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG5cbiAgICBpZiAoIWNoYW5nZWRQcm9wcy5oYXMoXCJ0cmFjZVwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHRyYWNlIGNoYW5nZWQgYW5kIHdlIGhhdmUgbm8gb3IgYW4gaW52YWxpZCBzZWxlY3Rpb24sIHNlbGVjdCBmaXJzdCBvcHRpb24uXG4gICAgaWYgKCF0aGlzLnNlbGVjdGVkIHx8ICEodGhpcy5zZWxlY3RlZCBpbiB0aGlzLnRyYWNrZWROb2RlcykpIHtcbiAgICAgIGNvbnN0IGZpcnN0Tm9kZSA9IHRoaXMudHJhY2tlZE5vZGVzW09iamVjdC5rZXlzKHRoaXMudHJhY2tlZE5vZGVzKVswXV07XG4gICAgICBpZiAoZmlyc3ROb2RlKSB7XG4gICAgICAgIGZpcmVFdmVudCh0aGlzLCBcImdyYXBoLW5vZGUtc2VsZWN0ZWRcIiwgZmlyc3ROb2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy50cmFjZSkge1xuICAgICAgY29uc3Qgc29ydEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnRyYWNlLnRyYWNlKTtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnJlbmRlcmVkTm9kZXMpLnNvcnQoXG4gICAgICAgIChhLCBiKSA9PiBzb3J0S2V5cy5pbmRleE9mKGEpIC0gc29ydEtleXMuaW5kZXhPZihiKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNvcnRlZFRyYWNrZWROb2RlcyA9IHt9O1xuICAgICAgY29uc3Qgc29ydGVkUmVuZGVyZWROb2RlcyA9IHt9O1xuICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICBzb3J0ZWRSZW5kZXJlZE5vZGVzW2tleV0gPSB0aGlzLnJlbmRlcmVkTm9kZXNba2V5XTtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLnRyYWNrZWROb2Rlcykge1xuICAgICAgICAgIHNvcnRlZFRyYWNrZWROb2Rlc1trZXldID0gdGhpcy50cmFja2VkTm9kZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZW5kZXJlZE5vZGVzID0gc29ydGVkUmVuZGVyZWROb2RlcztcbiAgICAgIHRoaXMudHJhY2tlZE5vZGVzID0gc29ydGVkVHJhY2tlZE5vZGVzO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3ByZXZpb3VzVHJhY2tlZE5vZGUoKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBPYmplY3Qua2V5cyh0aGlzLnRyYWNrZWROb2Rlcyk7XG4gICAgY29uc3QgcHJldkluZGV4ID0gbm9kZXMuaW5kZXhPZih0aGlzLnNlbGVjdGVkISkgLSAxO1xuICAgIGlmIChwcmV2SW5kZXggPj0gMCkge1xuICAgICAgZmlyZUV2ZW50KFxuICAgICAgICB0aGlzLFxuICAgICAgICBcImdyYXBoLW5vZGUtc2VsZWN0ZWRcIixcbiAgICAgICAgdGhpcy50cmFja2VkTm9kZXNbbm9kZXNbcHJldkluZGV4XV1cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbmV4dFRyYWNrZWROb2RlKCkge1xuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmtleXModGhpcy50cmFja2VkTm9kZXMpO1xuICAgIGNvbnN0IG5leHRJbmRleCA9IG5vZGVzLmluZGV4T2YodGhpcy5zZWxlY3RlZCEpICsgMTtcbiAgICBpZiAobmV4dEluZGV4IDwgbm9kZXMubGVuZ3RoKSB7XG4gICAgICBmaXJlRXZlbnQoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwiZ3JhcGgtbm9kZS1zZWxlY3RlZFwiLFxuICAgICAgICB0aGlzLnRyYWNrZWROb2Rlc1tub2Rlc1tuZXh0SW5kZXhdXVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAtLXN0cm9rZS1jbHI6IHZhcigtLXN0cm9rZS1jb2xvciwgdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpKTtcbiAgICAgICAgLS1hY3RpdmUtY2xyOiB2YXIoLS1hY3RpdmUtY29sb3IsIHZhcigtLXByaW1hcnktY29sb3IpKTtcbiAgICAgICAgLS10cmFjay1jbHI6IHZhcigtLXRyYWNrLWNvbG9yLCB2YXIoLS1hY2NlbnQtY29sb3IpKTtcbiAgICAgICAgLS1ob3Zlci1jbHI6IHZhcigtLWhvdmVyLWNvbG9yLCB2YXIoLS1wcmltYXJ5LWNvbG9yKSk7XG4gICAgICAgIC0tZGlzYWJsZWQtY2xyOiB2YXIoLS1kaXNhYmxlZC1jb2xvciwgdmFyKC0tZGlzYWJsZWQtdGV4dC1jb2xvcikpO1xuICAgICAgICAtLWRpc2FibGVkLWFjdGl2ZS1jbHI6IHJnYmEodmFyKC0tcmdiLXByaW1hcnktY29sb3IpLCAwLjUpO1xuICAgICAgICAtLWRpc2FibGVkLWhvdmVyLWNscjogcmdiYSh2YXIoLS1yZ2ItcHJpbWFyeS1jb2xvciksIDAuNyk7XG4gICAgICAgIC0tZGVmYXVsdC10cmlnZ2VyLWNvbG9yOiAzLCAxNjksIDI0NDtcbiAgICAgICAgLS1yZ2ItdHJpZ2dlci1jb2xvcjogdmFyKC0tdHJpZ2dlci1jb2xvciwgdmFyKC0tZGVmYXVsdC10cmlnZ2VyLWNvbG9yKSk7XG4gICAgICAgIC0tYmFja2dyb3VuZC1jbHI6IHZhcigtLWJhY2tncm91bmQtY29sb3IsIHdoaXRlKTtcbiAgICAgICAgLS1kZWZhdWx0LWljb24tY2xyOiB2YXIoLS1pY29uLWNvbG9yLCBibGFjayk7XG4gICAgICAgIC0taWNvbi1jbHI6IHZhcigtLXN0cm9rZS1jbHIpO1xuXG4gICAgICAgIC0taGF0LWdyYXBoLXNwYWNpbmc6ICR7U1BBQ0lOR31weDtcbiAgICAgICAgLS1oYXQtZ3JhcGgtbm9kZS1zaXplOiAke05PREVfU0laRX1weDtcbiAgICAgICAgLS1oYXQtZ3JhcGgtYnJhbmNoLWhlaWdodDogJHtCUkFOQ0hfSEVJR0hUfXB4O1xuICAgICAgfVxuICAgICAgLmdyYXBoLWNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG4gICAgICAuYWN0aW9ucyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG4gICAgICAucGFyZW50IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDhweDtcbiAgICAgICAgbWFyZ2luLWlubGluZS1zdGFydDogOHB4O1xuICAgICAgICBtYXJnaW4taW5saW5lLWVuZDogaW5pdGlhbDtcbiAgICAgICAgbWFyZ2luLXRvcDogMTZweDtcbiAgICAgIH1cbiAgICAgIC5lcnJvciB7XG4gICAgICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgICAgIG1heC13aWR0aDogMzAwcHg7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGF0LXNjcmlwdC1ncmFwaFwiOiBIYXRTY3JpcHRHcmFwaDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/trace/hat-script-graph.ts\n");

/***/ }),

/***/ "./src/components/trace/hat-trace-timeline.ts":
/*!****************************************************!*\
  !*** ./src/components/trace/hat-trace-timeline.ts ***!
  \****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaAutomationTracer: () => (/* binding */ HaAutomationTracer)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_if_defined__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/if-defined */ \"./node_modules/lit/directives/if-defined.js\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/datetime/relative_time */ \"./src/common/datetime/relative_time.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_dom_toggle_attribute__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/dom/toggle_attribute */ \"./src/common/dom/toggle_attribute.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _data_script__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../data/script */ \"./src/data/script.ts\");\n/* harmony import */ var _data_script_i18n__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../data/script_i18n */ \"./src/data/script_i18n.ts\");\n/* harmony import */ var _data_trace__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../data/trace */ \"./src/data/trace.ts\");\n/* harmony import */ var _ha_timeline__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ha-timeline */ \"./src/components/trace/ha-timeline.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__, _data_script_i18n__WEBPACK_IMPORTED_MODULE_12__]);\n([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__, _data_script_i18n__WEBPACK_IMPORTED_MODULE_12__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst mdiAlertCircle = \"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiCircle = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiCircleOutline = \"M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiProgressClock = \"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M12.5,7V12.25L17,14.92L16.25,16.15L11,13V7H12.5Z\";\nconst mdiProgressWrench = \"M13,2.03V2.05L13,4.05C17.39,4.59 20.5,8.58 19.96,12.97C19.5,16.61 16.64,19.5 13,19.93V21.93C18.5,21.38 22.5,16.5 21.95,11C21.5,6.25 17.73,2.5 13,2.03M11,2.06C9.05,2.25 7.19,3 5.67,4.26L7.1,5.74C8.22,4.84 9.57,4.26 11,4.06V2.06M4.26,5.67C3,7.19 2.25,9.04 2.05,11H4.05C4.24,9.58 4.8,8.23 5.69,7.1L4.26,5.67M2.06,13C2.26,14.96 3.03,16.81 4.27,18.33L5.69,16.9C4.81,15.77 4.24,14.42 4.06,13H2.06M7.1,18.37L5.67,19.74C7.18,21 9.04,21.79 11,22V20C9.58,19.82 8.23,19.25 7.1,18.37M16.82,15.19L12.71,11.08C13.12,10.04 12.89,8.82 12.03,7.97C11.13,7.06 9.78,6.88 8.69,7.38L10.63,9.32L9.28,10.68L7.29,8.73C6.75,9.82 7,11.17 7.88,12.08C8.74,12.94 9.96,13.16 11,12.76L15.11,16.86C15.29,17.05 15.56,17.05 15.74,16.86L16.78,15.83C17,15.65 17,15.33 16.82,15.19Z\";\nconst mdiRecordCircleOutline = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z\";\n\n\n\n\n\n\n\n\n\n\n\n\nconst LOGBOOK_ENTRIES_BEFORE_FOLD = 2;\n\n/* eslint max-classes-per-file: \"off\" */\n\n// Report time entry when more than this time has passed\nconst SIGNIFICANT_TIME_CHANGE = 1000; // 1 seconds\n\nconst isSignificantTimeChange = (a, b) => Math.abs(b.getTime() - a.getTime()) > SIGNIFICANT_TIME_CHANGE;\nclass RenderedTimeTracker {\n  constructor(hass, entries, trace) {\n    this.hass = hass;\n    this.entries = entries;\n    this.lastReportedTime = void 0;\n    this.lastReportedTime = new Date(trace.timestamp.start);\n  }\n  setLastReportedTime(date) {\n    this.lastReportedTime = date;\n  }\n  renderTime(from, to) {\n    this.entries.push((0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <ha-timeline label>\n        ${(0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__.relativeTime)(from, this.hass.locale, to, false)} later\n      </ha-timeline>\n    `);\n    this.lastReportedTime = to;\n  }\n  maybeRenderTime(timestamp) {\n    if (!isSignificantTimeChange(timestamp, this.lastReportedTime)) {\n      this.lastReportedTime = timestamp;\n      return false;\n    }\n    this.renderTime(this.lastReportedTime, timestamp);\n    return true;\n  }\n}\nclass LogbookRenderer {\n  constructor(entries, timeTracker, logbookEntries) {\n    this.entries = entries;\n    this.timeTracker = timeTracker;\n    this.logbookEntries = logbookEntries;\n    this.curIndex = void 0;\n    this.pendingItems = [];\n    // Skip the \"automation got triggered item\"\n    this.curIndex = logbookEntries.length > 0 && logbookEntries[0].domain === \"automation\" ? 1 : 0;\n  }\n  get curItem() {\n    return this.logbookEntries[this.curIndex];\n  }\n  get hasNext() {\n    return this.curIndex < this.logbookEntries.length;\n  }\n  maybeRenderItem() {\n    const logbookEntry = this.curItem;\n    this.curIndex++;\n    const entryDate = new Date(logbookEntry.when * 1000);\n    if (this.pendingItems.length === 0) {\n      this.pendingItems.push([entryDate, logbookEntry]);\n      return;\n    }\n    const previousEntryDate = this.pendingItems[this.pendingItems.length - 1][0];\n\n    // If logbook entry is too long after the last one,\n    // add a time passed label\n    if (isSignificantTimeChange(previousEntryDate, entryDate)) {\n      this._renderLogbookEntries();\n      this.timeTracker.renderTime(previousEntryDate, entryDate);\n    }\n    this.pendingItems.push([entryDate, logbookEntry]);\n  }\n  flush() {\n    if (this.pendingItems.length > 0) {\n      this._renderLogbookEntries();\n    }\n  }\n  _renderLogbookEntries() {\n    this.timeTracker.maybeRenderTime(this.pendingItems[0][0]);\n    const parts = [];\n    let i;\n    for (i = 0; i < Math.min(this.pendingItems.length, LOGBOOK_ENTRIES_BEFORE_FOLD); i++) {\n      parts.push(this._renderLogbookEntryHelper(this.pendingItems[i][1]));\n    }\n    let moreItems;\n\n    // If we didn't render all items, push rest into `moreItems`\n    if (i < this.pendingItems.length) {\n      moreItems = [];\n      for (; i < this.pendingItems.length; i++) {\n        moreItems.push(this._renderLogbookEntryHelper(this.pendingItems[i][1]));\n      }\n    }\n    this.entries.push((0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <ha-timeline .icon=${mdiCircleOutline} .moreItems=${moreItems}>\n        ${parts}\n      </ha-timeline>\n    `);\n\n    // Clear rendered items.\n    this.timeTracker.setLastReportedTime(this.pendingItems[this.pendingItems.length - 1][0]);\n    this.pendingItems = [];\n  }\n  _renderLogbookEntryHelper(entry) {\n    return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`${entry.name} (${entry.entity_id})\n      ${entry.message || `turned ${entry.state}`}<br />`;\n  }\n}\nclass ActionRenderer {\n  constructor(hass, entityReg, entries, trace, logbookRenderer, timeTracker) {\n    this.hass = hass;\n    this.entityReg = entityReg;\n    this.entries = entries;\n    this.trace = trace;\n    this.logbookRenderer = logbookRenderer;\n    this.timeTracker = timeTracker;\n    this.curIndex = 0;\n    this.keys = void 0;\n    this.keys = Object.keys(trace.trace);\n  }\n  get curItem() {\n    return this._getItem(this.curIndex);\n  }\n  get hasNext() {\n    return this.curIndex < this.keys.length;\n  }\n  renderItem() {\n    this.curIndex = this._renderItem(this.curIndex);\n  }\n  _getItem(index) {\n    return this.trace.trace[this.keys[index]];\n  }\n  _renderItem(index, actionType, renderAllIterations) {\n    const value = this._getItem(index);\n    if (renderAllIterations) {\n      let i;\n      value.forEach(item => {\n        i = this._renderIteration(index, item, actionType);\n      });\n      return i;\n    }\n    return this._renderIteration(index, value[0], actionType);\n  }\n  _renderIteration(index, value, actionType) {\n    if ((0,_data_trace__WEBPACK_IMPORTED_MODULE_13__.isTriggerPath)(value.path)) {\n      return this._handleTrigger(index, value);\n    }\n    const timestamp = new Date(value.timestamp);\n\n    // Render all logbook items that are in front of this item.\n    while (this.logbookRenderer.hasNext && new Date(this.logbookRenderer.curItem.when * 1000) < timestamp) {\n      this.logbookRenderer.maybeRenderItem();\n    }\n    this.logbookRenderer.flush();\n    this.timeTracker.maybeRenderTime(timestamp);\n    const path = value.path;\n    let data;\n    try {\n      data = (0,_data_trace__WEBPACK_IMPORTED_MODULE_13__.getDataFromPath)(this.trace.config, path);\n    } catch (err) {\n      this._renderEntry(path, `Unable to extract path ${path}. Download trace and report as bug`);\n      return index + 1;\n    }\n    const parts = path.split(\"/\");\n    const isTopLevel = parts.length === 2;\n    if (!isTopLevel && !actionType) {\n      this._renderEntry(path, path.replace(/\\//g, \" \"));\n      return index + 1;\n    }\n    if (!actionType) {\n      actionType = (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(data);\n    }\n    if (actionType === \"choose\") {\n      return this._handleChoose(index);\n    }\n    if (actionType === \"repeat\") {\n      return this._handleRepeat(index);\n    }\n    if (actionType === \"if\") {\n      return this._handleIf(index);\n    }\n    if (actionType === \"parallel\") {\n      return this._handleParallel(index);\n    }\n    this._renderEntry(path, (0,_data_script_i18n__WEBPACK_IMPORTED_MODULE_12__.describeAction)(this.hass, this.entityReg, data, actionType), undefined, data.enabled === false);\n    let i = index + 1;\n    for (; i < this.keys.length; i++) {\n      if (this.keys[i].split(\"/\").length === parts.length) {\n        break;\n      }\n    }\n    return i;\n  }\n  _handleTrigger(index, triggerStep) {\n    this._renderEntry(triggerStep.path, `${triggerStep.changed_variables.trigger.alias ? `${triggerStep.changed_variables.trigger.alias} triggered` : \"Triggered\"} ${triggerStep.path === \"trigger\" ? \"manually\" : `by the ${this.trace.trigger}`} at\n    ${(0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__.formatDateTimeWithSeconds)(new Date(triggerStep.timestamp), this.hass.locale, this.hass.config)}`, mdiCircle);\n    return index + 1;\n  }\n  _handleChoose(index) {\n    var _chooseTrace$result;\n    // startLevel: choose root config\n\n    // +1: 'default\n    // +2: executed sequence\n\n    // +1: 'choose'\n    // +2: current choice\n\n    // +3: 'conditions'\n    // +4: evaluated condition\n\n    // +3: 'sequence'\n    // +4: executed sequence\n\n    const choosePath = this.keys[index];\n    const startLevel = choosePath.split(\"/\").length;\n    const chooseTrace = this._getItem(index)[0];\n    const defaultExecuted = ((_chooseTrace$result = chooseTrace.result) === null || _chooseTrace$result === void 0 ? void 0 : _chooseTrace$result.choice) === \"default\";\n    const chooseConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = chooseConfig.enabled === false;\n    const name = chooseConfig.alias || \"Choose\";\n    if (defaultExecuted) {\n      this._renderEntry(choosePath, `${name}: Default action executed`, undefined, disabled);\n    } else if (chooseTrace.result) {\n      const choiceNumeric = chooseTrace.result.choice !== \"default\" ? chooseTrace.result.choice + 1 : undefined;\n      const choiceConfig = this._getDataFromPath(`${this.keys[index]}/choose/${chooseTrace.result.choice}`);\n      const choiceName = choiceConfig ? `${choiceConfig.alias || `Option ${choiceNumeric}`} executed` : `Error: ${chooseTrace.error}`;\n      this._renderEntry(choosePath, `${name}: ${choiceName}`, undefined, disabled);\n    } else {\n      this._renderEntry(choosePath, `${name}: No action taken`, undefined, disabled);\n    }\n    let i;\n\n    // Skip over conditions\n    for (i = index + 1; i < this.keys.length; i++) {\n      const parts = this.keys[i].split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n\n      // We're going to skip all conditions\n      if (defaultExecuted && parts[startLevel + 1] === \"default\" || !defaultExecuted && parts[startLevel + 3] === \"sequence\") {\n        break;\n      }\n    }\n\n    // Render choice\n    while (i < this.keys.length) {\n      const path = this.keys[i];\n      const parts = path.split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n\n      // We know it's an action sequence, so force the type like that\n      // for rendering.\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)));\n    }\n    return i;\n  }\n  _handleRepeat(index) {\n    const repeatPath = this.keys[index];\n    const startLevel = repeatPath.split(\"/\").length;\n    const repeatConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = repeatConfig.enabled === false;\n    const name = repeatConfig.alias || (0,_data_script_i18n__WEBPACK_IMPORTED_MODULE_12__.describeAction)(this.hass, this.entityReg, repeatConfig);\n    this._renderEntry(repeatPath, name, undefined, disabled);\n    let i;\n    for (i = index + 1; i < this.keys.length; i++) {\n      const path = this.keys[i];\n      const parts = path.split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)), true);\n    }\n    return i;\n  }\n  _handleIf(index) {\n    var _ifTrace$result;\n    const ifPath = this.keys[index];\n    const startLevel = ifPath.split(\"/\").length;\n    const ifTrace = this._getItem(index)[0];\n    const ifConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = ifConfig.enabled === false;\n    const name = ifConfig.alias || \"If\";\n    if ((_ifTrace$result = ifTrace.result) !== null && _ifTrace$result !== void 0 && _ifTrace$result.choice) {\n      const choiceConfig = this._getDataFromPath(`${this.keys[index]}/${ifTrace.result.choice}/`);\n      const choiceName = choiceConfig ? `${choiceConfig.alias || `${ifTrace.result.choice} action executed`}` : `Error: ${ifTrace.error}`;\n      this._renderEntry(ifPath, `${name}: ${choiceName}`, undefined, disabled);\n    } else {\n      this._renderEntry(ifPath, `${name}: No action taken`, undefined, disabled);\n    }\n    let i;\n\n    // Skip over conditions\n    for (i = index + 1; i < this.keys.length; i++) {\n      const path = this.keys[i];\n      const parts = this.keys[i].split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n\n      // We're going to skip all conditions\n      if (parts[startLevel + 1] === \"condition\" || parts.length < startLevel + 2) {\n        continue;\n      }\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)));\n    }\n    return i;\n  }\n  _handleParallel(index) {\n    const parallelPath = this.keys[index];\n    const startLevel = parallelPath.split(\"/\").length;\n    const parallelConfig = this._getDataFromPath(this.keys[index]);\n    const disabled = parallelConfig.enabled === false;\n    const name = parallelConfig.alias || \"Execute in parallel\";\n    this._renderEntry(parallelPath, name, undefined, disabled);\n    let i;\n    for (i = index + 1; i < this.keys.length; i++) {\n      const path = this.keys[i];\n      const parts = path.split(\"/\");\n\n      // We're done if no more sequence in current level\n      if (parts.length <= startLevel) {\n        return i;\n      }\n      i = this._renderItem(i, (0,_data_script__WEBPACK_IMPORTED_MODULE_11__.getActionType)(this._getDataFromPath(path)));\n    }\n    return i;\n  }\n  _renderEntry(path, description, icon = mdiRecordCircleOutline, disabled = false) {\n    this.entries.push((0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <ha-timeline .icon=${icon} data-path=${path} .notEnabled=${disabled}>\n        ${description}${disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<span class=\"disabled\"> (disabled)</span>` : \"\"}\n      </ha-timeline>\n    `);\n  }\n  _getDataFromPath(path) {\n    return (0,_data_trace__WEBPACK_IMPORTED_MODULE_13__.getDataFromPath)(this.trace.config, path);\n  }\n}\nlet HaAutomationTracer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"hat-trace-timeline\")], function (_initialize, _LitElement) {\n  class HaAutomationTracer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaAutomationTracer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"trace\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"logbookEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"selectedPath\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean\n      })],\n      key: \"allowPick\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_entityReg\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [(0,_data_entity_registry__WEBPACK_IMPORTED_MODULE_10__.subscribeEntityRegistry)(this.hass.connection, entities => {\n          this._entityReg = entities;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.trace) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n        }\n        const entries = [];\n        const timeTracker = new RenderedTimeTracker(this.hass, entries, this.trace);\n        const logbookRenderer = new LogbookRenderer(entries, timeTracker, this.logbookEntries || []);\n        const actionRenderer = new ActionRenderer(this.hass, this._entityReg, entries, this.trace, logbookRenderer, timeTracker);\n        while (actionRenderer.hasNext) {\n          actionRenderer.renderItem();\n        }\n        while (logbookRenderer.hasNext) {\n          logbookRenderer.maybeRenderItem();\n        }\n        logbookRenderer.flush();\n\n        // Render footer\n        const renderFinishedAt = () => (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__.formatDateTimeWithSeconds)(new Date(this.trace.timestamp.finish), this.hass.locale, this.hass.config);\n        const renderRuntime = () => `(runtime:\n      ${((new Date(this.trace.timestamp.finish).getTime() - new Date(this.trace.timestamp.start).getTime()) / 1000).toFixed(2)}\n      seconds)`;\n        let entry;\n        if (this.trace.state === \"running\") {\n          entry = {\n            description: \"Still running\",\n            icon: mdiProgressClock\n          };\n        } else if (this.trace.state === \"debugged\") {\n          entry = {\n            description: \"Debugged\",\n            icon: mdiProgressWrench\n          };\n        } else if (this.trace.script_execution === \"finished\") {\n          entry = {\n            description: `Finished at ${renderFinishedAt()} ${renderRuntime()}`,\n            icon: mdiCircle\n          };\n        } else if (this.trace.script_execution === \"aborted\") {\n          entry = {\n            description: `Aborted at ${renderFinishedAt()} ${renderRuntime()}`,\n            icon: mdiAlertCircle\n          };\n        } else if (this.trace.script_execution === \"cancelled\") {\n          entry = {\n            description: `Cancelled at ${renderFinishedAt()} ${renderRuntime()}`,\n            icon: mdiAlertCircle\n          };\n        } else {\n          let reason;\n          let isError = false;\n          let extra;\n          switch (this.trace.script_execution) {\n            case \"failed_conditions\":\n              reason = \"a condition failed\";\n              break;\n            case \"failed_single\":\n              reason = \"only a single execution is allowed\";\n              break;\n            case \"failed_max_runs\":\n              reason = \"maximum number of parallel runs reached\";\n              break;\n            case \"error\":\n              reason = \"an error was encountered\";\n              isError = true;\n              extra = (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<br /><br />${this.trace.error}`;\n              break;\n            default:\n              reason = `of unknown reason \"${this.trace.script_execution}\"`;\n              isError = true;\n          }\n          entry = {\n            description: (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`Stopped because ${reason} at ${renderFinishedAt()}\n        ${renderRuntime()}${extra || \"\"}`,\n            icon: mdiAlertCircle,\n            className: isError ? \"error\" : undefined\n          };\n        }\n        entries.push((0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <ha-timeline\n        lastItem\n        .icon=${entry.icon}\n        class=${(0,lit_directives_if_defined__WEBPACK_IMPORTED_MODULE_5__.ifDefined)(entry.className)}\n      >\n        ${entry.description}\n      </ha-timeline>\n    `);\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`${entries}`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(props) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaAutomationTracer.prototype), \"updated\", this).call(this, props);\n\n        // Pick first path when we load a new trace.\n        if (this.allowPick && props.has(\"trace\") && this.trace && this.selectedPath && !(this.selectedPath in this.trace.trace)) {\n          const element = this.shadowRoot.querySelector(\"ha-timeline[data-path]\");\n          if (element) {\n            (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__.fireEvent)(this, \"value-changed\", {\n              value: element.dataset.path\n            });\n            this.selectedPath = element.dataset.path;\n          }\n        }\n        if (props.has(\"trace\") || props.has(\"selectedPath\")) {\n          this.shadowRoot.querySelectorAll(\"ha-timeline[data-path]\").forEach(el => {\n            (0,_common_dom_toggle_attribute__WEBPACK_IMPORTED_MODULE_9__.toggleAttribute)(el, \"selected\", this.selectedPath === el.dataset.path);\n            if (!this.allowPick || el.tabIndex === 0) {\n              return;\n            }\n            el.tabIndex = 0;\n            const selectEl = () => {\n              this.selectedPath = el.dataset.path;\n              (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__.fireEvent)(this, \"value-changed\", {\n                value: el.dataset.path\n              });\n            };\n            el.addEventListener(\"click\", selectEl);\n            el.addEventListener(\"keydown\", ev => {\n              if (ev.key === \"Enter\" || ev.key === \" \") {\n                selectEl();\n              }\n            });\n            el.addEventListener(\"mouseover\", () => {\n              el.raised = true;\n            });\n            el.addEventListener(\"mouseout\", () => {\n              el.raised = false;\n            });\n          });\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_3__.css)`\n        ha-timeline[lastItem].condition {\n          --timeline-ball-color: var(--error-color);\n        }\n        ha-timeline[data-path] {\n          cursor: pointer;\n        }\n        ha-timeline[selected] {\n          --timeline-ball-color: var(--primary-color);\n        }\n        ha-timeline:focus {\n          outline: none;\n          --timeline-ball-color: var(--accent-color);\n        }\n        .error {\n          --timeline-ball-color: var(--error-color);\n          color: var(--error-color);\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS9oYXQtdHJhY2UtdGltZWxpbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQVFBO0FBQ0E7QUFVQTtBQUdBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFHQTtBQUdBO0FBSUE7QUFIQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBSUE7QUFIQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFPQTtBQU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBWUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBV0E7QUFPQTtBQUNBO0FBRUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUlBO0FBR0E7QUFHQTtBQU1BO0FBQ0E7QUFNQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFNQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBeU5BO0FBQUE7QUFBQTtBQXpOQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUtBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBOztBQUVBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvdHJhY2UvaGF0LXRyYWNlLXRpbWVsaW5lLnRzP2Y3NjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgbWRpQWxlcnRDaXJjbGUsXG4gIG1kaUNpcmNsZSxcbiAgbWRpQ2lyY2xlT3V0bGluZSxcbiAgbWRpUHJvZ3Jlc3NDbG9jayxcbiAgbWRpUHJvZ3Jlc3NXcmVuY2gsXG4gIG1kaVJlY29yZENpcmNsZU91dGxpbmUsXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBQcm9wZXJ0eVZhbHVlcyxcbiAgVGVtcGxhdGVSZXN1bHQsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgaWZEZWZpbmVkIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2lmLWRlZmluZWRcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVUaW1lV2l0aFNlY29uZHMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RhdGV0aW1lL2Zvcm1hdF9kYXRlX3RpbWVcIjtcbmltcG9ydCB7IHJlbGF0aXZlVGltZSB9IGZyb20gXCIuLi8uLi9jb21tb24vZGF0ZXRpbWUvcmVsYXRpdmVfdGltZVwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgdG9nZ2xlQXR0cmlidXRlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vdG9nZ2xlX2F0dHJpYnV0ZVwiO1xuaW1wb3J0IHtcbiAgRW50aXR5UmVnaXN0cnlFbnRyeSxcbiAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnksXG59IGZyb20gXCIuLi8uLi9kYXRhL2VudGl0eV9yZWdpc3RyeVwiO1xuaW1wb3J0IHsgTG9nYm9va0VudHJ5IH0gZnJvbSBcIi4uLy4uL2RhdGEvbG9nYm9va1wiO1xuaW1wb3J0IHtcbiAgQ2hvb3NlQWN0aW9uLFxuICBDaG9vc2VBY3Rpb25DaG9pY2UsXG4gIGdldEFjdGlvblR5cGUsXG4gIElmQWN0aW9uLFxuICBQYXJhbGxlbEFjdGlvbixcbiAgUmVwZWF0QWN0aW9uLFxufSBmcm9tIFwiLi4vLi4vZGF0YS9zY3JpcHRcIjtcbmltcG9ydCB7IGRlc2NyaWJlQWN0aW9uIH0gZnJvbSBcIi4uLy4uL2RhdGEvc2NyaXB0X2kxOG5cIjtcbmltcG9ydCB7XG4gIEFjdGlvblRyYWNlU3RlcCxcbiAgQXV0b21hdGlvblRyYWNlRXh0ZW5kZWQsXG4gIENob29zZUFjdGlvblRyYWNlU3RlcCxcbiAgZ2V0RGF0YUZyb21QYXRoLFxuICBJZkFjdGlvblRyYWNlU3RlcCxcbiAgaXNUcmlnZ2VyUGF0aCxcbiAgVHJpZ2dlclRyYWNlU3RlcCxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvdHJhY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4vaGEtdGltZWxpbmVcIjtcbmltcG9ydCB0eXBlIHsgSGFUaW1lbGluZSB9IGZyb20gXCIuL2hhLXRpbWVsaW5lXCI7XG5cbmNvbnN0IExPR0JPT0tfRU5UUklFU19CRUZPUkVfRk9MRCA9IDI7XG5cbi8qIGVzbGludCBtYXgtY2xhc3Nlcy1wZXItZmlsZTogXCJvZmZcIiAqL1xuXG4vLyBSZXBvcnQgdGltZSBlbnRyeSB3aGVuIG1vcmUgdGhhbiB0aGlzIHRpbWUgaGFzIHBhc3NlZFxuY29uc3QgU0lHTklGSUNBTlRfVElNRV9DSEFOR0UgPSAxMDAwOyAvLyAxIHNlY29uZHNcblxuY29uc3QgaXNTaWduaWZpY2FudFRpbWVDaGFuZ2UgPSAoYTogRGF0ZSwgYjogRGF0ZSkgPT5cbiAgTWF0aC5hYnMoYi5nZXRUaW1lKCkgLSBhLmdldFRpbWUoKSkgPiBTSUdOSUZJQ0FOVF9USU1FX0NIQU5HRTtcblxuY2xhc3MgUmVuZGVyZWRUaW1lVHJhY2tlciB7XG4gIHByaXZhdGUgbGFzdFJlcG9ydGVkVGltZTogRGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gICAgcHJpdmF0ZSBlbnRyaWVzOiBUZW1wbGF0ZVJlc3VsdFtdLFxuICAgIHRyYWNlOiBBdXRvbWF0aW9uVHJhY2VFeHRlbmRlZFxuICApIHtcbiAgICB0aGlzLmxhc3RSZXBvcnRlZFRpbWUgPSBuZXcgRGF0ZSh0cmFjZS50aW1lc3RhbXAuc3RhcnQpO1xuICB9XG5cbiAgc2V0TGFzdFJlcG9ydGVkVGltZShkYXRlOiBEYXRlKSB7XG4gICAgdGhpcy5sYXN0UmVwb3J0ZWRUaW1lID0gZGF0ZTtcbiAgfVxuXG4gIHJlbmRlclRpbWUoZnJvbTogRGF0ZSwgdG86IERhdGUpOiB2b2lkIHtcbiAgICB0aGlzLmVudHJpZXMucHVzaChodG1sYFxuICAgICAgPGhhLXRpbWVsaW5lIGxhYmVsPlxuICAgICAgICAke3JlbGF0aXZlVGltZShmcm9tLCB0aGlzLmhhc3MubG9jYWxlLCB0bywgZmFsc2UpfSBsYXRlclxuICAgICAgPC9oYS10aW1lbGluZT5cbiAgICBgKTtcbiAgICB0aGlzLmxhc3RSZXBvcnRlZFRpbWUgPSB0bztcbiAgfVxuXG4gIG1heWJlUmVuZGVyVGltZSh0aW1lc3RhbXA6IERhdGUpOiBib29sZWFuIHtcbiAgICBpZiAoIWlzU2lnbmlmaWNhbnRUaW1lQ2hhbmdlKHRpbWVzdGFtcCwgdGhpcy5sYXN0UmVwb3J0ZWRUaW1lKSkge1xuICAgICAgdGhpcy5sYXN0UmVwb3J0ZWRUaW1lID0gdGltZXN0YW1wO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMucmVuZGVyVGltZSh0aGlzLmxhc3RSZXBvcnRlZFRpbWUsIHRpbWVzdGFtcCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuY2xhc3MgTG9nYm9va1JlbmRlcmVyIHtcbiAgcHJpdmF0ZSBjdXJJbmRleDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcGVuZGluZ0l0ZW1zOiBBcnJheTxbRGF0ZSwgTG9nYm9va0VudHJ5XT4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGVudHJpZXM6IFRlbXBsYXRlUmVzdWx0W10sXG4gICAgcHJpdmF0ZSB0aW1lVHJhY2tlcjogUmVuZGVyZWRUaW1lVHJhY2tlcixcbiAgICBwcml2YXRlIGxvZ2Jvb2tFbnRyaWVzOiBMb2dib29rRW50cnlbXVxuICApIHtcbiAgICAvLyBTa2lwIHRoZSBcImF1dG9tYXRpb24gZ290IHRyaWdnZXJlZCBpdGVtXCJcbiAgICB0aGlzLmN1ckluZGV4ID1cbiAgICAgIGxvZ2Jvb2tFbnRyaWVzLmxlbmd0aCA+IDAgJiYgbG9nYm9va0VudHJpZXNbMF0uZG9tYWluID09PSBcImF1dG9tYXRpb25cIlxuICAgICAgICA/IDFcbiAgICAgICAgOiAwO1xuICB9XG5cbiAgZ2V0IGN1ckl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMubG9nYm9va0VudHJpZXNbdGhpcy5jdXJJbmRleF07XG4gIH1cblxuICBnZXQgaGFzTmV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJJbmRleCA8IHRoaXMubG9nYm9va0VudHJpZXMubGVuZ3RoO1xuICB9XG5cbiAgbWF5YmVSZW5kZXJJdGVtKCkge1xuICAgIGNvbnN0IGxvZ2Jvb2tFbnRyeSA9IHRoaXMuY3VySXRlbTtcbiAgICB0aGlzLmN1ckluZGV4Kys7XG4gICAgY29uc3QgZW50cnlEYXRlID0gbmV3IERhdGUobG9nYm9va0VudHJ5LndoZW4gKiAxMDAwKTtcblxuICAgIGlmICh0aGlzLnBlbmRpbmdJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMucGVuZGluZ0l0ZW1zLnB1c2goW2VudHJ5RGF0ZSwgbG9nYm9va0VudHJ5XSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJldmlvdXNFbnRyeURhdGUgPVxuICAgICAgdGhpcy5wZW5kaW5nSXRlbXNbdGhpcy5wZW5kaW5nSXRlbXMubGVuZ3RoIC0gMV1bMF07XG5cbiAgICAvLyBJZiBsb2dib29rIGVudHJ5IGlzIHRvbyBsb25nIGFmdGVyIHRoZSBsYXN0IG9uZSxcbiAgICAvLyBhZGQgYSB0aW1lIHBhc3NlZCBsYWJlbFxuICAgIGlmIChpc1NpZ25pZmljYW50VGltZUNoYW5nZShwcmV2aW91c0VudHJ5RGF0ZSwgZW50cnlEYXRlKSkge1xuICAgICAgdGhpcy5fcmVuZGVyTG9nYm9va0VudHJpZXMoKTtcbiAgICAgIHRoaXMudGltZVRyYWNrZXIucmVuZGVyVGltZShwcmV2aW91c0VudHJ5RGF0ZSwgZW50cnlEYXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLnBlbmRpbmdJdGVtcy5wdXNoKFtlbnRyeURhdGUsIGxvZ2Jvb2tFbnRyeV0pO1xuICB9XG5cbiAgZmx1c2goKSB7XG4gICAgaWYgKHRoaXMucGVuZGluZ0l0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX3JlbmRlckxvZ2Jvb2tFbnRyaWVzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyTG9nYm9va0VudHJpZXMoKSB7XG4gICAgdGhpcy50aW1lVHJhY2tlci5tYXliZVJlbmRlclRpbWUodGhpcy5wZW5kaW5nSXRlbXNbMF1bMF0pO1xuXG4gICAgY29uc3QgcGFydHM6IFRlbXBsYXRlUmVzdWx0W10gPSBbXTtcblxuICAgIGxldCBpO1xuXG4gICAgZm9yIChcbiAgICAgIGkgPSAwO1xuICAgICAgaSA8IE1hdGgubWluKHRoaXMucGVuZGluZ0l0ZW1zLmxlbmd0aCwgTE9HQk9PS19FTlRSSUVTX0JFRk9SRV9GT0xEKTtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgcGFydHMucHVzaCh0aGlzLl9yZW5kZXJMb2dib29rRW50cnlIZWxwZXIodGhpcy5wZW5kaW5nSXRlbXNbaV1bMV0pKTtcbiAgICB9XG5cbiAgICBsZXQgbW9yZUl0ZW1zOiBUZW1wbGF0ZVJlc3VsdFtdIHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gSWYgd2UgZGlkbid0IHJlbmRlciBhbGwgaXRlbXMsIHB1c2ggcmVzdCBpbnRvIGBtb3JlSXRlbXNgXG4gICAgaWYgKGkgPCB0aGlzLnBlbmRpbmdJdGVtcy5sZW5ndGgpIHtcbiAgICAgIG1vcmVJdGVtcyA9IFtdO1xuICAgICAgZm9yICg7IGkgPCB0aGlzLnBlbmRpbmdJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3JlSXRlbXMucHVzaCh0aGlzLl9yZW5kZXJMb2dib29rRW50cnlIZWxwZXIodGhpcy5wZW5kaW5nSXRlbXNbaV1bMV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVudHJpZXMucHVzaChodG1sYFxuICAgICAgPGhhLXRpbWVsaW5lIC5pY29uPSR7bWRpQ2lyY2xlT3V0bGluZX0gLm1vcmVJdGVtcz0ke21vcmVJdGVtc30+XG4gICAgICAgICR7cGFydHN9XG4gICAgICA8L2hhLXRpbWVsaW5lPlxuICAgIGApO1xuXG4gICAgLy8gQ2xlYXIgcmVuZGVyZWQgaXRlbXMuXG4gICAgdGhpcy50aW1lVHJhY2tlci5zZXRMYXN0UmVwb3J0ZWRUaW1lKFxuICAgICAgdGhpcy5wZW5kaW5nSXRlbXNbdGhpcy5wZW5kaW5nSXRlbXMubGVuZ3RoIC0gMV1bMF1cbiAgICApO1xuICAgIHRoaXMucGVuZGluZ0l0ZW1zID0gW107XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJMb2dib29rRW50cnlIZWxwZXIoZW50cnk6IExvZ2Jvb2tFbnRyeSkge1xuICAgIHJldHVybiBodG1sYCR7ZW50cnkubmFtZX0gKCR7ZW50cnkuZW50aXR5X2lkfSlcbiAgICAgICR7ZW50cnkubWVzc2FnZSB8fCBgdHVybmVkICR7ZW50cnkuc3RhdGV9YH08YnIgLz5gO1xuICB9XG59XG5cbmNsYXNzIEFjdGlvblJlbmRlcmVyIHtcbiAgcHJpdmF0ZSBjdXJJbmRleCA9IDA7XG5cbiAgcHJpdmF0ZSBrZXlzOiBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gICAgcHJpdmF0ZSBlbnRpdHlSZWc6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSxcbiAgICBwcml2YXRlIGVudHJpZXM6IFRlbXBsYXRlUmVzdWx0W10sXG4gICAgcHJpdmF0ZSB0cmFjZTogQXV0b21hdGlvblRyYWNlRXh0ZW5kZWQsXG4gICAgcHJpdmF0ZSBsb2dib29rUmVuZGVyZXI6IExvZ2Jvb2tSZW5kZXJlcixcbiAgICBwcml2YXRlIHRpbWVUcmFja2VyOiBSZW5kZXJlZFRpbWVUcmFja2VyXG4gICkge1xuICAgIHRoaXMua2V5cyA9IE9iamVjdC5rZXlzKHRyYWNlLnRyYWNlKTtcbiAgfVxuXG4gIGdldCBjdXJJdGVtKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRJdGVtKHRoaXMuY3VySW5kZXgpO1xuICB9XG5cbiAgZ2V0IGhhc05leHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VySW5kZXggPCB0aGlzLmtleXMubGVuZ3RoO1xuICB9XG5cbiAgcmVuZGVySXRlbSgpIHtcbiAgICB0aGlzLmN1ckluZGV4ID0gdGhpcy5fcmVuZGVySXRlbSh0aGlzLmN1ckluZGV4KTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldEl0ZW0oaW5kZXg6IG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLnRyYWNlLnRyYWNlW3RoaXMua2V5c1tpbmRleF1dO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVySXRlbShcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGFjdGlvblR5cGU/OiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRBY3Rpb25UeXBlPixcbiAgICByZW5kZXJBbGxJdGVyYXRpb25zPzogYm9vbGVhblxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0SXRlbShpbmRleCk7XG5cbiAgICBpZiAocmVuZGVyQWxsSXRlcmF0aW9ucykge1xuICAgICAgbGV0IGk7XG4gICAgICB2YWx1ZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGkgPSB0aGlzLl9yZW5kZXJJdGVyYXRpb24oaW5kZXgsIGl0ZW0sIGFjdGlvblR5cGUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlckl0ZXJhdGlvbihpbmRleCwgdmFsdWVbMF0sIGFjdGlvblR5cGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVySXRlcmF0aW9uKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmFsdWU6IEFjdGlvblRyYWNlU3RlcCxcbiAgICBhY3Rpb25UeXBlPzogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0QWN0aW9uVHlwZT5cbiAgKSB7XG4gICAgaWYgKGlzVHJpZ2dlclBhdGgodmFsdWUucGF0aCkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVUcmlnZ2VyKGluZGV4LCB2YWx1ZSBhcyBUcmlnZ2VyVHJhY2VTdGVwKTtcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSh2YWx1ZS50aW1lc3RhbXApO1xuXG4gICAgLy8gUmVuZGVyIGFsbCBsb2dib29rIGl0ZW1zIHRoYXQgYXJlIGluIGZyb250IG9mIHRoaXMgaXRlbS5cbiAgICB3aGlsZSAoXG4gICAgICB0aGlzLmxvZ2Jvb2tSZW5kZXJlci5oYXNOZXh0ICYmXG4gICAgICBuZXcgRGF0ZSh0aGlzLmxvZ2Jvb2tSZW5kZXJlci5jdXJJdGVtLndoZW4gKiAxMDAwKSA8IHRpbWVzdGFtcFxuICAgICkge1xuICAgICAgdGhpcy5sb2dib29rUmVuZGVyZXIubWF5YmVSZW5kZXJJdGVtKCk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dib29rUmVuZGVyZXIuZmx1c2goKTtcbiAgICB0aGlzLnRpbWVUcmFja2VyLm1heWJlUmVuZGVyVGltZSh0aW1lc3RhbXApO1xuXG4gICAgY29uc3QgcGF0aCA9IHZhbHVlLnBhdGg7XG4gICAgbGV0IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBnZXREYXRhRnJvbVBhdGgodGhpcy50cmFjZS5jb25maWcsIHBhdGgpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0aGlzLl9yZW5kZXJFbnRyeShcbiAgICAgICAgcGF0aCxcbiAgICAgICAgYFVuYWJsZSB0byBleHRyYWN0IHBhdGggJHtwYXRofS4gRG93bmxvYWQgdHJhY2UgYW5kIHJlcG9ydCBhcyBidWdgXG4gICAgICApO1xuICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICAgIGNvbnN0IGlzVG9wTGV2ZWwgPSBwYXJ0cy5sZW5ndGggPT09IDI7XG5cbiAgICBpZiAoIWlzVG9wTGV2ZWwgJiYgIWFjdGlvblR5cGUpIHtcbiAgICAgIHRoaXMuX3JlbmRlckVudHJ5KHBhdGgsIHBhdGgucmVwbGFjZSgvXFwvL2csIFwiIFwiKSk7XG4gICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cblxuICAgIGlmICghYWN0aW9uVHlwZSkge1xuICAgICAgYWN0aW9uVHlwZSA9IGdldEFjdGlvblR5cGUoZGF0YSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvblR5cGUgPT09IFwiY2hvb3NlXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVDaG9vc2UoaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25UeXBlID09PSBcInJlcGVhdFwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlUmVwZWF0KGluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uVHlwZSA9PT0gXCJpZlwiKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFuZGxlSWYoaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25UeXBlID09PSBcInBhcmFsbGVsXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVQYXJhbGxlbChpbmRleCk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICBwYXRoLFxuICAgICAgZGVzY3JpYmVBY3Rpb24odGhpcy5oYXNzLCB0aGlzLmVudGl0eVJlZywgZGF0YSwgYWN0aW9uVHlwZSksXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBkYXRhLmVuYWJsZWQgPT09IGZhbHNlXG4gICAgKTtcblxuICAgIGxldCBpID0gaW5kZXggKyAxO1xuXG4gICAgZm9yICg7IGkgPCB0aGlzLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLmtleXNbaV0uc3BsaXQoXCIvXCIpLmxlbmd0aCA9PT0gcGFydHMubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlVHJpZ2dlcihpbmRleDogbnVtYmVyLCB0cmlnZ2VyU3RlcDogVHJpZ2dlclRyYWNlU3RlcCk6IG51bWJlciB7XG4gICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICB0cmlnZ2VyU3RlcC5wYXRoLFxuICAgICAgYCR7XG4gICAgICAgIHRyaWdnZXJTdGVwLmNoYW5nZWRfdmFyaWFibGVzLnRyaWdnZXIuYWxpYXNcbiAgICAgICAgICA/IGAke3RyaWdnZXJTdGVwLmNoYW5nZWRfdmFyaWFibGVzLnRyaWdnZXIuYWxpYXN9IHRyaWdnZXJlZGBcbiAgICAgICAgICA6IFwiVHJpZ2dlcmVkXCJcbiAgICAgIH0gJHtcbiAgICAgICAgdHJpZ2dlclN0ZXAucGF0aCA9PT0gXCJ0cmlnZ2VyXCJcbiAgICAgICAgICA/IFwibWFudWFsbHlcIlxuICAgICAgICAgIDogYGJ5IHRoZSAke3RoaXMudHJhY2UudHJpZ2dlcn1gXG4gICAgICB9IGF0XG4gICAgJHtmb3JtYXREYXRlVGltZVdpdGhTZWNvbmRzKFxuICAgICAgbmV3IERhdGUodHJpZ2dlclN0ZXAudGltZXN0YW1wKSxcbiAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICB0aGlzLmhhc3MuY29uZmlnXG4gICAgKX1gLFxuICAgICAgbWRpQ2lyY2xlXG4gICAgKTtcbiAgICByZXR1cm4gaW5kZXggKyAxO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlQ2hvb3NlKGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIC8vIHN0YXJ0TGV2ZWw6IGNob29zZSByb290IGNvbmZpZ1xuXG4gICAgLy8gKzE6ICdkZWZhdWx0XG4gICAgLy8gKzI6IGV4ZWN1dGVkIHNlcXVlbmNlXG5cbiAgICAvLyArMTogJ2Nob29zZSdcbiAgICAvLyArMjogY3VycmVudCBjaG9pY2VcblxuICAgIC8vICszOiAnY29uZGl0aW9ucydcbiAgICAvLyArNDogZXZhbHVhdGVkIGNvbmRpdGlvblxuXG4gICAgLy8gKzM6ICdzZXF1ZW5jZSdcbiAgICAvLyArNDogZXhlY3V0ZWQgc2VxdWVuY2VcblxuICAgIGNvbnN0IGNob29zZVBhdGggPSB0aGlzLmtleXNbaW5kZXhdO1xuICAgIGNvbnN0IHN0YXJ0TGV2ZWwgPSBjaG9vc2VQYXRoLnNwbGl0KFwiL1wiKS5sZW5ndGg7XG5cbiAgICBjb25zdCBjaG9vc2VUcmFjZSA9IHRoaXMuX2dldEl0ZW0oaW5kZXgpWzBdIGFzIENob29zZUFjdGlvblRyYWNlU3RlcDtcbiAgICBjb25zdCBkZWZhdWx0RXhlY3V0ZWQgPSBjaG9vc2VUcmFjZS5yZXN1bHQ/LmNob2ljZSA9PT0gXCJkZWZhdWx0XCI7XG4gICAgY29uc3QgY2hvb3NlQ29uZmlnID0gdGhpcy5fZ2V0RGF0YUZyb21QYXRoKFxuICAgICAgdGhpcy5rZXlzW2luZGV4XVxuICAgICkgYXMgQ2hvb3NlQWN0aW9uO1xuICAgIGNvbnN0IGRpc2FibGVkID0gY2hvb3NlQ29uZmlnLmVuYWJsZWQgPT09IGZhbHNlO1xuICAgIGNvbnN0IG5hbWUgPSBjaG9vc2VDb25maWcuYWxpYXMgfHwgXCJDaG9vc2VcIjtcblxuICAgIGlmIChkZWZhdWx0RXhlY3V0ZWQpIHtcbiAgICAgIHRoaXMuX3JlbmRlckVudHJ5KFxuICAgICAgICBjaG9vc2VQYXRoLFxuICAgICAgICBgJHtuYW1lfTogRGVmYXVsdCBhY3Rpb24gZXhlY3V0ZWRgLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoY2hvb3NlVHJhY2UucmVzdWx0KSB7XG4gICAgICBjb25zdCBjaG9pY2VOdW1lcmljID1cbiAgICAgICAgY2hvb3NlVHJhY2UucmVzdWx0LmNob2ljZSAhPT0gXCJkZWZhdWx0XCJcbiAgICAgICAgICA/IGNob29zZVRyYWNlLnJlc3VsdC5jaG9pY2UgKyAxXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBjaG9pY2VDb25maWcgPSB0aGlzLl9nZXREYXRhRnJvbVBhdGgoXG4gICAgICAgIGAke3RoaXMua2V5c1tpbmRleF19L2Nob29zZS8ke2Nob29zZVRyYWNlLnJlc3VsdC5jaG9pY2V9YFxuICAgICAgKSBhcyBDaG9vc2VBY3Rpb25DaG9pY2UgfCB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBjaG9pY2VOYW1lID0gY2hvaWNlQ29uZmlnXG4gICAgICAgID8gYCR7Y2hvaWNlQ29uZmlnLmFsaWFzIHx8IGBPcHRpb24gJHtjaG9pY2VOdW1lcmljfWB9IGV4ZWN1dGVkYFxuICAgICAgICA6IGBFcnJvcjogJHtjaG9vc2VUcmFjZS5lcnJvcn1gO1xuICAgICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICAgIGNob29zZVBhdGgsXG4gICAgICAgIGAke25hbWV9OiAke2Nob2ljZU5hbWV9YCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVuZGVyRW50cnkoXG4gICAgICAgIGNob29zZVBhdGgsXG4gICAgICAgIGAke25hbWV9OiBObyBhY3Rpb24gdGFrZW5gLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBpO1xuXG4gICAgLy8gU2tpcCBvdmVyIGNvbmRpdGlvbnNcbiAgICBmb3IgKGkgPSBpbmRleCArIDE7IGkgPCB0aGlzLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnRzID0gdGhpcy5rZXlzW2ldLnNwbGl0KFwiL1wiKTtcblxuICAgICAgLy8gV2UncmUgZG9uZSBpZiBubyBtb3JlIHNlcXVlbmNlIGluIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPD0gc3RhcnRMZXZlbCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UncmUgZ29pbmcgdG8gc2tpcCBhbGwgY29uZGl0aW9uc1xuICAgICAgaWYgKFxuICAgICAgICAoZGVmYXVsdEV4ZWN1dGVkICYmIHBhcnRzW3N0YXJ0TGV2ZWwgKyAxXSA9PT0gXCJkZWZhdWx0XCIpIHx8XG4gICAgICAgICghZGVmYXVsdEV4ZWN1dGVkICYmIHBhcnRzW3N0YXJ0TGV2ZWwgKyAzXSA9PT0gXCJzZXF1ZW5jZVwiKVxuICAgICAgKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbmRlciBjaG9pY2VcbiAgICB3aGlsZSAoaSA8IHRoaXMua2V5cy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmtleXNbaV07XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuXG4gICAgICAvLyBXZSdyZSBkb25lIGlmIG5vIG1vcmUgc2VxdWVuY2UgaW4gY3VycmVudCBsZXZlbFxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8PSBzdGFydExldmVsKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBrbm93IGl0J3MgYW4gYWN0aW9uIHNlcXVlbmNlLCBzbyBmb3JjZSB0aGUgdHlwZSBsaWtlIHRoYXRcbiAgICAgIC8vIGZvciByZW5kZXJpbmcuXG4gICAgICBpID0gdGhpcy5fcmVuZGVySXRlbShpLCBnZXRBY3Rpb25UeXBlKHRoaXMuX2dldERhdGFGcm9tUGF0aChwYXRoKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlUmVwZWF0KGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IHJlcGVhdFBhdGggPSB0aGlzLmtleXNbaW5kZXhdO1xuICAgIGNvbnN0IHN0YXJ0TGV2ZWwgPSByZXBlYXRQYXRoLnNwbGl0KFwiL1wiKS5sZW5ndGg7XG5cbiAgICBjb25zdCByZXBlYXRDb25maWcgPSB0aGlzLl9nZXREYXRhRnJvbVBhdGgoXG4gICAgICB0aGlzLmtleXNbaW5kZXhdXG4gICAgKSBhcyBSZXBlYXRBY3Rpb247XG4gICAgY29uc3QgZGlzYWJsZWQgPSByZXBlYXRDb25maWcuZW5hYmxlZCA9PT0gZmFsc2U7XG5cbiAgICBjb25zdCBuYW1lID1cbiAgICAgIHJlcGVhdENvbmZpZy5hbGlhcyB8fFxuICAgICAgZGVzY3JpYmVBY3Rpb24odGhpcy5oYXNzLCB0aGlzLmVudGl0eVJlZywgcmVwZWF0Q29uZmlnKTtcblxuICAgIHRoaXMuX3JlbmRlckVudHJ5KHJlcGVhdFBhdGgsIG5hbWUsIHVuZGVmaW5lZCwgZGlzYWJsZWQpO1xuXG4gICAgbGV0IGk7XG5cbiAgICBmb3IgKGkgPSBpbmRleCArIDE7IGkgPCB0aGlzLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmtleXNbaV07XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuXG4gICAgICAvLyBXZSdyZSBkb25lIGlmIG5vIG1vcmUgc2VxdWVuY2UgaW4gY3VycmVudCBsZXZlbFxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8PSBzdGFydExldmVsKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuXG4gICAgICBpID0gdGhpcy5fcmVuZGVySXRlbShpLCBnZXRBY3Rpb25UeXBlKHRoaXMuX2dldERhdGFGcm9tUGF0aChwYXRoKSksIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlSWYoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3QgaWZQYXRoID0gdGhpcy5rZXlzW2luZGV4XTtcbiAgICBjb25zdCBzdGFydExldmVsID0gaWZQYXRoLnNwbGl0KFwiL1wiKS5sZW5ndGg7XG5cbiAgICBjb25zdCBpZlRyYWNlID0gdGhpcy5fZ2V0SXRlbShpbmRleClbMF0gYXMgSWZBY3Rpb25UcmFjZVN0ZXA7XG4gICAgY29uc3QgaWZDb25maWcgPSB0aGlzLl9nZXREYXRhRnJvbVBhdGgodGhpcy5rZXlzW2luZGV4XSkgYXMgSWZBY3Rpb247XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpZkNvbmZpZy5lbmFibGVkID09PSBmYWxzZTtcbiAgICBjb25zdCBuYW1lID0gaWZDb25maWcuYWxpYXMgfHwgXCJJZlwiO1xuXG4gICAgaWYgKGlmVHJhY2UucmVzdWx0Py5jaG9pY2UpIHtcbiAgICAgIGNvbnN0IGNob2ljZUNvbmZpZyA9IHRoaXMuX2dldERhdGFGcm9tUGF0aChcbiAgICAgICAgYCR7dGhpcy5rZXlzW2luZGV4XX0vJHtpZlRyYWNlLnJlc3VsdC5jaG9pY2V9L2BcbiAgICAgICkgYXMgYW55O1xuICAgICAgY29uc3QgY2hvaWNlTmFtZSA9IGNob2ljZUNvbmZpZ1xuICAgICAgICA/IGAke2Nob2ljZUNvbmZpZy5hbGlhcyB8fCBgJHtpZlRyYWNlLnJlc3VsdC5jaG9pY2V9IGFjdGlvbiBleGVjdXRlZGB9YFxuICAgICAgICA6IGBFcnJvcjogJHtpZlRyYWNlLmVycm9yfWA7XG4gICAgICB0aGlzLl9yZW5kZXJFbnRyeShpZlBhdGgsIGAke25hbWV9OiAke2Nob2ljZU5hbWV9YCwgdW5kZWZpbmVkLCBkaXNhYmxlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JlbmRlckVudHJ5KFxuICAgICAgICBpZlBhdGgsXG4gICAgICAgIGAke25hbWV9OiBObyBhY3Rpb24gdGFrZW5gLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkXG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBpO1xuXG4gICAgLy8gU2tpcCBvdmVyIGNvbmRpdGlvbnNcbiAgICBmb3IgKGkgPSBpbmRleCArIDE7IGkgPCB0aGlzLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmtleXNbaV07XG4gICAgICBjb25zdCBwYXJ0cyA9IHRoaXMua2V5c1tpXS5zcGxpdChcIi9cIik7XG5cbiAgICAgIC8vIFdlJ3JlIGRvbmUgaWYgbm8gbW9yZSBzZXF1ZW5jZSBpbiBjdXJyZW50IGxldmVsXG4gICAgICBpZiAocGFydHMubGVuZ3RoIDw9IHN0YXJ0TGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlJ3JlIGdvaW5nIHRvIHNraXAgYWxsIGNvbmRpdGlvbnNcbiAgICAgIGlmIChcbiAgICAgICAgcGFydHNbc3RhcnRMZXZlbCArIDFdID09PSBcImNvbmRpdGlvblwiIHx8XG4gICAgICAgIHBhcnRzLmxlbmd0aCA8IHN0YXJ0TGV2ZWwgKyAyXG4gICAgICApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGkgPSB0aGlzLl9yZW5kZXJJdGVtKGksIGdldEFjdGlvblR5cGUodGhpcy5fZ2V0RGF0YUZyb21QYXRoKHBhdGgpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBwcml2YXRlIF9oYW5kbGVQYXJhbGxlbChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBwYXJhbGxlbFBhdGggPSB0aGlzLmtleXNbaW5kZXhdO1xuICAgIGNvbnN0IHN0YXJ0TGV2ZWwgPSBwYXJhbGxlbFBhdGguc3BsaXQoXCIvXCIpLmxlbmd0aDtcblxuICAgIGNvbnN0IHBhcmFsbGVsQ29uZmlnID0gdGhpcy5fZ2V0RGF0YUZyb21QYXRoKFxuICAgICAgdGhpcy5rZXlzW2luZGV4XVxuICAgICkgYXMgUGFyYWxsZWxBY3Rpb247XG5cbiAgICBjb25zdCBkaXNhYmxlZCA9IHBhcmFsbGVsQ29uZmlnLmVuYWJsZWQgPT09IGZhbHNlO1xuXG4gICAgY29uc3QgbmFtZSA9IHBhcmFsbGVsQ29uZmlnLmFsaWFzIHx8IFwiRXhlY3V0ZSBpbiBwYXJhbGxlbFwiO1xuXG4gICAgdGhpcy5fcmVuZGVyRW50cnkocGFyYWxsZWxQYXRoLCBuYW1lLCB1bmRlZmluZWQsIGRpc2FibGVkKTtcblxuICAgIGxldCBpO1xuXG4gICAgZm9yIChpID0gaW5kZXggKyAxOyBpIDwgdGhpcy5rZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwYXRoID0gdGhpcy5rZXlzW2ldO1xuICAgICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcblxuICAgICAgLy8gV2UncmUgZG9uZSBpZiBubyBtb3JlIHNlcXVlbmNlIGluIGN1cnJlbnQgbGV2ZWxcbiAgICAgIGlmIChwYXJ0cy5sZW5ndGggPD0gc3RhcnRMZXZlbCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cblxuICAgICAgaSA9IHRoaXMuX3JlbmRlckl0ZW0oaSwgZ2V0QWN0aW9uVHlwZSh0aGlzLl9nZXREYXRhRnJvbVBhdGgocGF0aCkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlbmRlckVudHJ5KFxuICAgIHBhdGg6IHN0cmluZyxcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgIGljb24gPSBtZGlSZWNvcmRDaXJjbGVPdXRsaW5lLFxuICAgIGRpc2FibGVkID0gZmFsc2VcbiAgKSB7XG4gICAgdGhpcy5lbnRyaWVzLnB1c2goaHRtbGBcbiAgICAgIDxoYS10aW1lbGluZSAuaWNvbj0ke2ljb259IGRhdGEtcGF0aD0ke3BhdGh9IC5ub3RFbmFibGVkPSR7ZGlzYWJsZWR9PlxuICAgICAgICAke2Rlc2NyaXB0aW9ufSR7ZGlzYWJsZWRcbiAgICAgICAgICA/IGh0bWxgPHNwYW4gY2xhc3M9XCJkaXNhYmxlZFwiPiAoZGlzYWJsZWQpPC9zcGFuPmBcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICA8L2hhLXRpbWVsaW5lPlxuICAgIGApO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0RGF0YUZyb21QYXRoKHBhdGg6IHN0cmluZykge1xuICAgIHJldHVybiBnZXREYXRhRnJvbVBhdGgodGhpcy50cmFjZS5jb25maWcsIHBhdGgpO1xuICB9XG59XG5cbkBjdXN0b21FbGVtZW50KFwiaGF0LXRyYWNlLXRpbWVsaW5lXCIpXG5leHBvcnQgY2xhc3MgSGFBdXRvbWF0aW9uVHJhY2VyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHRyYWNlPzogQXV0b21hdGlvblRyYWNlRXh0ZW5kZWQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgbG9nYm9va0VudHJpZXM/OiBMb2dib29rRW50cnlbXTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzZWxlY3RlZFBhdGg/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgYWxsb3dQaWNrID0gZmFsc2U7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZW50aXR5UmVnOiBFbnRpdHlSZWdpc3RyeUVudHJ5W10gPSBbXTtcblxuICBwdWJsaWMgaGFzc1N1YnNjcmliZSgpOiBVbnN1YnNjcmliZUZ1bmNbXSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5KHRoaXMuaGFzcy5jb25uZWN0aW9uISwgKGVudGl0aWVzKSA9PiB7XG4gICAgICAgIHRoaXMuX2VudGl0eVJlZyA9IGVudGl0aWVzO1xuICAgICAgfSksXG4gICAgXTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnRyYWNlKSB7XG4gICAgICByZXR1cm4gbm90aGluZztcbiAgICB9XG5cbiAgICBjb25zdCBlbnRyaWVzOiBUZW1wbGF0ZVJlc3VsdFtdID0gW107XG5cbiAgICBjb25zdCB0aW1lVHJhY2tlciA9IG5ldyBSZW5kZXJlZFRpbWVUcmFja2VyKHRoaXMuaGFzcywgZW50cmllcywgdGhpcy50cmFjZSk7XG4gICAgY29uc3QgbG9nYm9va1JlbmRlcmVyID0gbmV3IExvZ2Jvb2tSZW5kZXJlcihcbiAgICAgIGVudHJpZXMsXG4gICAgICB0aW1lVHJhY2tlcixcbiAgICAgIHRoaXMubG9nYm9va0VudHJpZXMgfHwgW11cbiAgICApO1xuICAgIGNvbnN0IGFjdGlvblJlbmRlcmVyID0gbmV3IEFjdGlvblJlbmRlcmVyKFxuICAgICAgdGhpcy5oYXNzLFxuICAgICAgdGhpcy5fZW50aXR5UmVnLFxuICAgICAgZW50cmllcyxcbiAgICAgIHRoaXMudHJhY2UsXG4gICAgICBsb2dib29rUmVuZGVyZXIsXG4gICAgICB0aW1lVHJhY2tlclxuICAgICk7XG5cbiAgICB3aGlsZSAoYWN0aW9uUmVuZGVyZXIuaGFzTmV4dCkge1xuICAgICAgYWN0aW9uUmVuZGVyZXIucmVuZGVySXRlbSgpO1xuICAgIH1cblxuICAgIHdoaWxlIChsb2dib29rUmVuZGVyZXIuaGFzTmV4dCkge1xuICAgICAgbG9nYm9va1JlbmRlcmVyLm1heWJlUmVuZGVySXRlbSgpO1xuICAgIH1cblxuICAgIGxvZ2Jvb2tSZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgLy8gUmVuZGVyIGZvb3RlclxuICAgIGNvbnN0IHJlbmRlckZpbmlzaGVkQXQgPSAoKSA9PlxuICAgICAgZm9ybWF0RGF0ZVRpbWVXaXRoU2Vjb25kcyhcbiAgICAgICAgbmV3IERhdGUodGhpcy50cmFjZSEudGltZXN0YW1wLmZpbmlzaCEpLFxuICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICB0aGlzLmhhc3MuY29uZmlnXG4gICAgICApO1xuICAgIGNvbnN0IHJlbmRlclJ1bnRpbWUgPSAoKSA9PiBgKHJ1bnRpbWU6XG4gICAgICAkeyhcbiAgICAgICAgKG5ldyBEYXRlKHRoaXMudHJhY2UhLnRpbWVzdGFtcC5maW5pc2ghKS5nZXRUaW1lKCkgLVxuICAgICAgICAgIG5ldyBEYXRlKHRoaXMudHJhY2UhLnRpbWVzdGFtcC5zdGFydCkuZ2V0VGltZSgpKSAvXG4gICAgICAgIDEwMDBcbiAgICAgICkudG9GaXhlZCgyKX1cbiAgICAgIHNlY29uZHMpYDtcblxuICAgIGxldCBlbnRyeToge1xuICAgICAgZGVzY3JpcHRpb246IFRlbXBsYXRlUmVzdWx0IHwgc3RyaW5nO1xuICAgICAgaWNvbjogc3RyaW5nO1xuICAgICAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy50cmFjZS5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBkZXNjcmlwdGlvbjogXCJTdGlsbCBydW5uaW5nXCIsXG4gICAgICAgIGljb246IG1kaVByb2dyZXNzQ2xvY2ssXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGhpcy50cmFjZS5zdGF0ZSA9PT0gXCJkZWJ1Z2dlZFwiKSB7XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRGVidWdnZWRcIixcbiAgICAgICAgaWNvbjogbWRpUHJvZ3Jlc3NXcmVuY2gsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGhpcy50cmFjZS5zY3JpcHRfZXhlY3V0aW9uID09PSBcImZpbmlzaGVkXCIpIHtcbiAgICAgIGVudHJ5ID0ge1xuICAgICAgICBkZXNjcmlwdGlvbjogYEZpbmlzaGVkIGF0ICR7cmVuZGVyRmluaXNoZWRBdCgpfSAke3JlbmRlclJ1bnRpbWUoKX1gLFxuICAgICAgICBpY29uOiBtZGlDaXJjbGUsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGhpcy50cmFjZS5zY3JpcHRfZXhlY3V0aW9uID09PSBcImFib3J0ZWRcIikge1xuICAgICAgZW50cnkgPSB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBgQWJvcnRlZCBhdCAke3JlbmRlckZpbmlzaGVkQXQoKX0gJHtyZW5kZXJSdW50aW1lKCl9YCxcbiAgICAgICAgaWNvbjogbWRpQWxlcnRDaXJjbGUsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGhpcy50cmFjZS5zY3JpcHRfZXhlY3V0aW9uID09PSBcImNhbmNlbGxlZFwiKSB7XG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGBDYW5jZWxsZWQgYXQgJHtyZW5kZXJGaW5pc2hlZEF0KCl9ICR7cmVuZGVyUnVudGltZSgpfWAsXG4gICAgICAgIGljb246IG1kaUFsZXJ0Q2lyY2xlLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlYXNvbjogc3RyaW5nO1xuICAgICAgbGV0IGlzRXJyb3IgPSBmYWxzZTtcbiAgICAgIGxldCBleHRyYTogVGVtcGxhdGVSZXN1bHQgfCB1bmRlZmluZWQ7XG5cbiAgICAgIHN3aXRjaCAodGhpcy50cmFjZS5zY3JpcHRfZXhlY3V0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJmYWlsZWRfY29uZGl0aW9uc1wiOlxuICAgICAgICAgIHJlYXNvbiA9IFwiYSBjb25kaXRpb24gZmFpbGVkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmYWlsZWRfc2luZ2xlXCI6XG4gICAgICAgICAgcmVhc29uID0gXCJvbmx5IGEgc2luZ2xlIGV4ZWN1dGlvbiBpcyBhbGxvd2VkXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJmYWlsZWRfbWF4X3J1bnNcIjpcbiAgICAgICAgICByZWFzb24gPSBcIm1heGltdW0gbnVtYmVyIG9mIHBhcmFsbGVsIHJ1bnMgcmVhY2hlZFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICByZWFzb24gPSBcImFuIGVycm9yIHdhcyBlbmNvdW50ZXJlZFwiO1xuICAgICAgICAgIGlzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIGV4dHJhID0gaHRtbGA8YnIgLz48YnIgLz4ke3RoaXMudHJhY2UuZXJyb3IhfWA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhc29uID0gYG9mIHVua25vd24gcmVhc29uIFwiJHt0aGlzLnRyYWNlLnNjcmlwdF9leGVjdXRpb259XCJgO1xuICAgICAgICAgIGlzRXJyb3IgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBlbnRyeSA9IHtcbiAgICAgICAgZGVzY3JpcHRpb246IGh0bWxgU3RvcHBlZCBiZWNhdXNlICR7cmVhc29ufSBhdCAke3JlbmRlckZpbmlzaGVkQXQoKX1cbiAgICAgICAgJHtyZW5kZXJSdW50aW1lKCl9JHtleHRyYSB8fCBcIlwifWAsXG4gICAgICAgIGljb246IG1kaUFsZXJ0Q2lyY2xlLFxuICAgICAgICBjbGFzc05hbWU6IGlzRXJyb3IgPyBcImVycm9yXCIgOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGVudHJpZXMucHVzaChodG1sYFxuICAgICAgPGhhLXRpbWVsaW5lXG4gICAgICAgIGxhc3RJdGVtXG4gICAgICAgIC5pY29uPSR7ZW50cnkuaWNvbn1cbiAgICAgICAgY2xhc3M9JHtpZkRlZmluZWQoZW50cnkuY2xhc3NOYW1lKX1cbiAgICAgID5cbiAgICAgICAgJHtlbnRyeS5kZXNjcmlwdGlvbn1cbiAgICAgIDwvaGEtdGltZWxpbmU+XG4gICAgYCk7XG5cbiAgICByZXR1cm4gaHRtbGAke2VudHJpZXN9YDtcbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVkKHByb3BzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHN1cGVyLnVwZGF0ZWQocHJvcHMpO1xuXG4gICAgLy8gUGljayBmaXJzdCBwYXRoIHdoZW4gd2UgbG9hZCBhIG5ldyB0cmFjZS5cbiAgICBpZiAoXG4gICAgICB0aGlzLmFsbG93UGljayAmJlxuICAgICAgcHJvcHMuaGFzKFwidHJhY2VcIikgJiZcbiAgICAgIHRoaXMudHJhY2UgJiZcbiAgICAgIHRoaXMuc2VsZWN0ZWRQYXRoICYmXG4gICAgICAhKHRoaXMuc2VsZWN0ZWRQYXRoIGluIHRoaXMudHJhY2UudHJhY2UpXG4gICAgKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yPEhhVGltZWxpbmU+KFxuICAgICAgICBcImhhLXRpbWVsaW5lW2RhdGEtcGF0aF1cIlxuICAgICAgKTtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwgeyB2YWx1ZTogZWxlbWVudC5kYXRhc2V0LnBhdGggfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRQYXRoID0gZWxlbWVudC5kYXRhc2V0LnBhdGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmhhcyhcInRyYWNlXCIpIHx8IHByb3BzLmhhcyhcInNlbGVjdGVkUGF0aFwiKSkge1xuICAgICAgdGhpcy5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yQWxsPEhhVGltZWxpbmU+KFxuICAgICAgICBcImhhLXRpbWVsaW5lW2RhdGEtcGF0aF1cIlxuICAgICAgKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICB0b2dnbGVBdHRyaWJ1dGUoZWwsIFwic2VsZWN0ZWRcIiwgdGhpcy5zZWxlY3RlZFBhdGggPT09IGVsLmRhdGFzZXQucGF0aCk7XG4gICAgICAgIGlmICghdGhpcy5hbGxvd1BpY2sgfHwgZWwudGFiSW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWwudGFiSW5kZXggPSAwO1xuICAgICAgICBjb25zdCBzZWxlY3RFbCA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkUGF0aCA9IGVsLmRhdGFzZXQucGF0aDtcbiAgICAgICAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHsgdmFsdWU6IGVsLmRhdGFzZXQucGF0aCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNlbGVjdEVsKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2LmtleSA9PT0gXCJFbnRlclwiIHx8IGV2LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICAgIHNlbGVjdEVsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgICAgZWwucmFpc2VkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICAgICAgZWwucmFpc2VkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBjc3NgXG4gICAgICAgIGhhLXRpbWVsaW5lW2xhc3RJdGVtXS5jb25kaXRpb24ge1xuICAgICAgICAgIC0tdGltZWxpbmUtYmFsbC1jb2xvcjogdmFyKC0tZXJyb3ItY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIGhhLXRpbWVsaW5lW2RhdGEtcGF0aF0ge1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgfVxuICAgICAgICBoYS10aW1lbGluZVtzZWxlY3RlZF0ge1xuICAgICAgICAgIC0tdGltZWxpbmUtYmFsbC1jb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaGEtdGltZWxpbmU6Zm9jdXMge1xuICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgLS10aW1lbGluZS1iYWxsLWNvbG9yOiB2YXIoLS1hY2NlbnQtY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvciB7XG4gICAgICAgICAgLS10aW1lbGluZS1iYWxsLWNvbG9yOiB2YXIoLS1lcnJvci1jb2xvcik7XG4gICAgICAgICAgY29sb3I6IHZhcigtLWVycm9yLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYXQtdHJhY2UtdGltZWxpbmVcIjogSGFBdXRvbWF0aW9uVHJhY2VyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/trace/hat-trace-timeline.ts\n");

/***/ }),

/***/ "./src/components/trace/trace-tab-styles.ts":
/*!**************************************************!*\
  !*** ./src/components/trace/trace-tab-styles.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   traceTabStyles: () => (/* binding */ traceTabStyles)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n\nconst traceTabStyles = (0,lit__WEBPACK_IMPORTED_MODULE_0__.css)`\n  .tabs {\n    background-color: var(--primary-background-color);\n    border-top: 1px solid var(--divider-color);\n    border-bottom: 1px solid var(--divider-color);\n    display: flex;\n    padding-left: 4px;\n    padding-inline-start: 4px;\n    padding-inline-end: initial;\n  }\n\n  .tabs.top {\n    border-top: none;\n  }\n\n  .tabs > * {\n    padding: 2px 16px;\n    cursor: pointer;\n    position: relative;\n    bottom: -1px;\n    border: none;\n    border-bottom: 2px solid transparent;\n    user-select: none;\n    background: none;\n    color: var(--primary-text-color);\n    outline: none;\n    transition: background 15ms linear;\n  }\n\n  .tabs > *.active {\n    border-bottom-color: var(--primary-color);\n  }\n\n  .tabs > *:focus,\n  .tabs > *:hover {\n    background: var(--secondary-background-color);\n  }\n`;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy90cmFjZS90cmFjZS10YWItc3R5bGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy90cmFjZS90cmFjZS10YWItc3R5bGVzLnRzPzhjZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSBcImxpdFwiO1xuXG5leHBvcnQgY29uc3QgdHJhY2VUYWJTdHlsZXMgPSBjc3NgXG4gIC50YWJzIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWJhY2tncm91bmQtY29sb3IpO1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBwYWRkaW5nLWxlZnQ6IDRweDtcbiAgICBwYWRkaW5nLWlubGluZS1zdGFydDogNHB4O1xuICAgIHBhZGRpbmctaW5saW5lLWVuZDogaW5pdGlhbDtcbiAgfVxuXG4gIC50YWJzLnRvcCB7XG4gICAgYm9yZGVyLXRvcDogbm9uZTtcbiAgfVxuXG4gIC50YWJzID4gKiB7XG4gICAgcGFkZGluZzogMnB4IDE2cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBib3R0b206IC0xcHg7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAxNW1zIGxpbmVhcjtcbiAgfVxuXG4gIC50YWJzID4gKi5hY3RpdmUge1xuICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLXByaW1hcnktY29sb3IpO1xuICB9XG5cbiAgLnRhYnMgPiAqOmZvY3VzLFxuICAudGFicyA+ICo6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeS1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgfVxuYDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/trace/trace-tab-styles.ts\n");

/***/ }),

/***/ "./src/util/is_safari.ts":
/*!*******************************!*\
  !*** ./src/util/is_safari.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSafari: () => (/* binding */ isSafari)\n/* harmony export */ });\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbC9pc19zYWZhcmkudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvdXRpbC9pc19zYWZhcmkudHM/MDA0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaXNTYWZhcmkgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KFxuICBuYXZpZ2F0b3IudXNlckFnZW50XG4pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/util/is_safari.ts\n");

/***/ })

};
