/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const id = "src_panels_config_automation_ha-config-automation_ts";
export const ids = ["src_panels_config_automation_ha-config-automation_ts"];
export const modules = {

/***/ "./src/components/ha-label.ts":
/*!************************************!*\
  !*** ./src/components/ha-label.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\nlet HaLabel = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"ha-label\")], function (_initialize, _LitElement) {\n  class HaLabel extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaLabel,\n    d: [{\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <span class=\"label\">\n        <slot name=\"icon\"></slot>\n        <slot></slot>\n      </span>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [(0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n        :host {\n          --ha-label-text-color: var(--primary-text-color);\n          --ha-label-icon-color: var(--primary-text-color);\n          --ha-label-background-color: rgba(\n            var(--rgb-primary-text-color),\n            0.15\n          );\n        }\n        .label {\n          display: inline-flex;\n          flex-direction: row;\n          align-items: center;\n          font-size: 12px;\n          font-weight: 500;\n          line-height: 16px;\n          letter-spacing: 0.1px;\n          vertical-align: middle;\n          height: 32px;\n          padding: 0 16px;\n          border-radius: 18px;\n          background-color: var(--ha-label-background-color);\n          color: var(--ha-label-text-color);\n          --mdc-icon-size: 18px;\n        }\n        ::slotted([slot=\"icon\"]) {\n          margin-right: 8px;\n          margin-left: -8px;\n          margin-inline-start: -8px;\n          margin-inline-end: 8px;\n          display: flex;\n          color: var(--ha-label-icon-color);\n        }\n        span {\n          display: inline-flex;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_1__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1sYWJlbC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFtREE7QUFBQTtBQUFBO0FBbkRBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvaGEtbGFiZWwudHM/Yjc3MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50LCBUZW1wbGF0ZVJlc3VsdCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1sYWJlbFwiKVxuY2xhc3MgSGFMYWJlbCBleHRlbmRzIExpdEVsZW1lbnQge1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImljb25cIj48L3Nsb3Q+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgIDwvc3Bhbj5cbiAgICBgO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBjc3NgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICAtLWhhLWxhYmVsLXRleHQtY29sb3I6IHZhcigtLXByaW1hcnktdGV4dC1jb2xvcik7XG4gICAgICAgICAgLS1oYS1sYWJlbC1pY29uLWNvbG9yOiB2YXIoLS1wcmltYXJ5LXRleHQtY29sb3IpO1xuICAgICAgICAgIC0taGEtbGFiZWwtYmFja2dyb3VuZC1jb2xvcjogcmdiYShcbiAgICAgICAgICAgIHZhcigtLXJnYi1wcmltYXJ5LXRleHQtY29sb3IpLFxuICAgICAgICAgICAgMC4xNVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLmxhYmVsIHtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHg7XG4gICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMXB4O1xuICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICAgIHBhZGRpbmc6IDAgMTZweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxOHB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWhhLWxhYmVsLWJhY2tncm91bmQtY29sb3IpO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1oYS1sYWJlbC10ZXh0LWNvbG9yKTtcbiAgICAgICAgICAtLW1kYy1pY29uLXNpemU6IDE4cHg7XG4gICAgICAgIH1cbiAgICAgICAgOjpzbG90dGVkKFtzbG90PVwiaWNvblwiXSkge1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogOHB4O1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAtOHB4O1xuICAgICAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IC04cHg7XG4gICAgICAgICAgbWFyZ2luLWlubGluZS1lbmQ6IDhweDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1oYS1sYWJlbC1pY29uLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBzcGFuIHtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgICAgfVxuICAgICAgYCxcbiAgICBdO1xuICB9XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgXCJoYS1sYWJlbFwiOiBIYUxhYmVsO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-label.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/automation-mode-dialog/show-dialog-automation-mode.ts":
/*!********************************************************************************************!*\
  !*** ./src/panels/config/automation/automation-mode-dialog/show-dialog-automation-mode.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadAutomationModeDialog: () => (/* binding */ loadAutomationModeDialog),\n/* harmony export */   showAutomationModeDialog: () => (/* binding */ showAutomationModeDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst loadAutomationModeDialog = () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-d2aa54\"), __webpack_require__.e(\"src_panels_config_automation_automation-mode-dialog_dialog-automation-mode_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-automation-mode */ \"./src/panels/config/automation/automation-mode-dialog/dialog-automation-mode.ts\"));\nconst showAutomationModeDialog = (element, dialogParams) => {\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"ha-dialog-automation-mode\",\n    dialogImport: loadAutomationModeDialog,\n    dialogParams\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2F1dG9tYXRpb24tbW9kZS1kaWFsb2cvc2hvdy1kaWFsb2ctYXV0b21hdGlvbi1tb2RlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBR0E7QUFTQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9jb25maWcvYXV0b21hdGlvbi9hdXRvbWF0aW9uLW1vZGUtZGlhbG9nL3Nob3ctZGlhbG9nLWF1dG9tYXRpb24tbW9kZS50cz82ZTMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB0eXBlIHsgQXV0b21hdGlvbkNvbmZpZyB9IGZyb20gXCIuLi8uLi8uLi8uLi9kYXRhL2F1dG9tYXRpb25cIjtcblxuZXhwb3J0IGNvbnN0IGxvYWRBdXRvbWF0aW9uTW9kZURpYWxvZyA9ICgpID0+XG4gIGltcG9ydChcIi4vZGlhbG9nLWF1dG9tYXRpb24tbW9kZVwiKTtcblxuZXhwb3J0IGludGVyZmFjZSBBdXRvbWF0aW9uTW9kZURpYWxvZyB7XG4gIGNvbmZpZzogQXV0b21hdGlvbkNvbmZpZztcbiAgdXBkYXRlQXV0b21hdGlvbjogKGNvbmZpZzogQXV0b21hdGlvbkNvbmZpZykgPT4gdm9pZDtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IHNob3dBdXRvbWF0aW9uTW9kZURpYWxvZyA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIGRpYWxvZ1BhcmFtczogQXV0b21hdGlvbk1vZGVEaWFsb2dcbik6IHZvaWQgPT4ge1xuICBmaXJlRXZlbnQoZWxlbWVudCwgXCJzaG93LWRpYWxvZ1wiLCB7XG4gICAgZGlhbG9nVGFnOiBcImhhLWRpYWxvZy1hdXRvbWF0aW9uLW1vZGVcIixcbiAgICBkaWFsb2dJbXBvcnQ6IGxvYWRBdXRvbWF0aW9uTW9kZURpYWxvZyxcbiAgICBkaWFsb2dQYXJhbXMsXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/config/automation/automation-mode-dialog/show-dialog-automation-mode.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/automation-rename-dialog/show-dialog-automation-rename.ts":
/*!************************************************************************************************!*\
  !*** ./src/panels/config/automation/automation-rename-dialog/show-dialog-automation-rename.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   loadAutomationRenameDialog: () => (/* binding */ loadAutomationRenameDialog),\n/* harmony export */   showAutomationRenameDialog: () => (/* binding */ showAutomationRenameDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst loadAutomationRenameDialog = () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-d2aa54\"), __webpack_require__.e(\"src_panels_config_automation_automation-rename-dialog_dialog-automation-rename_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-automation-rename */ \"./src/panels/config/automation/automation-rename-dialog/dialog-automation-rename.ts\"));\nconst showAutomationRenameDialog = (element, dialogParams) => {\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"ha-dialog-automation-rename\",\n    dialogImport: loadAutomationRenameDialog,\n    dialogParams\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2F1dG9tYXRpb24tcmVuYW1lLWRpYWxvZy9zaG93LWRpYWxvZy1hdXRvbWF0aW9uLXJlbmFtZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUdBO0FBU0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2F1dG9tYXRpb24vYXV0b21hdGlvbi1yZW5hbWUtZGlhbG9nL3Nob3ctZGlhbG9nLWF1dG9tYXRpb24tcmVuYW1lLnRzPzlhMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHR5cGUgeyBBdXRvbWF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuXG5leHBvcnQgY29uc3QgbG9hZEF1dG9tYXRpb25SZW5hbWVEaWFsb2cgPSAoKSA9PlxuICBpbXBvcnQoXCIuL2RpYWxvZy1hdXRvbWF0aW9uLXJlbmFtZVwiKTtcblxuZXhwb3J0IGludGVyZmFjZSBBdXRvbWF0aW9uUmVuYW1lRGlhbG9nIHtcbiAgY29uZmlnOiBBdXRvbWF0aW9uQ29uZmlnO1xuICB1cGRhdGVBdXRvbWF0aW9uOiAoY29uZmlnOiBBdXRvbWF0aW9uQ29uZmlnKSA9PiB2b2lkO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3Qgc2hvd0F1dG9tYXRpb25SZW5hbWVEaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IEF1dG9tYXRpb25SZW5hbWVEaWFsb2dcbik6IHZvaWQgPT4ge1xuICBmaXJlRXZlbnQoZWxlbWVudCwgXCJzaG93LWRpYWxvZ1wiLCB7XG4gICAgZGlhbG9nVGFnOiBcImhhLWRpYWxvZy1hdXRvbWF0aW9uLXJlbmFtZVwiLFxuICAgIGRpYWxvZ0ltcG9ydDogbG9hZEF1dG9tYXRpb25SZW5hbWVEaWFsb2csXG4gICAgZGlhbG9nUGFyYW1zLFxuICB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/automation-rename-dialog/show-dialog-automation-rename.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/blueprint-automation-editor.ts":
/*!*********************************************************************!*\
  !*** ./src/panels/config/automation/blueprint-automation-editor.ts ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaBlueprintAutomationEditor: () => (/* binding */ HaBlueprintAutomationEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_util_array_move__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/util/array-move */ \"./src/common/util/array-move.ts\");\n/* harmony import */ var _components_ha_alert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/ha-alert */ \"./src/components/ha-alert.ts\");\n/* harmony import */ var _components_ha_blueprint_picker__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/ha-blueprint-picker */ \"./src/components/ha-blueprint-picker.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_markdown__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/ha-markdown */ \"./src/components/ha-markdown.ts\");\n/* harmony import */ var _components_ha_selector_ha_selector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/ha-selector/ha-selector */ \"./src/components/ha-selector/ha-selector.ts\");\n/* harmony import */ var _components_ha_settings_row__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/ha-settings-row */ \"./src/components/ha-settings-row.ts\");\n/* harmony import */ var _data_blueprint__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../data/blueprint */ \"./src/data/blueprint.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_config_section__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ha-config-section */ \"./src/panels/config/ha-config-section.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HaBlueprintAutomationEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.customElement)(\"blueprint-automation-editor\")], function (_initialize, _LitElement) {\n  class HaBlueprintAutomationEditor extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaBlueprintAutomationEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_blueprints\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaBlueprintAutomationEditor.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this._getBlueprints();\n      }\n    }, {\n      kind: \"get\",\n      key: \"_blueprint\",\n      value: function _blueprint() {\n        if (!this._blueprints) {\n          return undefined;\n        }\n        return this._blueprints[this.config.use_blueprint.path];\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$stateObj, _blueprint$metadata;\n        const blueprint = this._blueprint;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n      ${this.disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-alert alert-type=\"warning\">\n            ${this.hass.localize(\"ui.panel.config.automation.editor.read_only\")}\n            <mwc-button slot=\"action\" @click=${this._duplicate}>\n              ${this.hass.localize(\"ui.panel.config.automation.editor.migrate\")}\n            </mwc-button>\n          </ha-alert>` : \"\"}\n      ${((_this$stateObj = this.stateObj) === null || _this$stateObj === void 0 ? void 0 : _this$stateObj.state) === \"off\" ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n            <ha-alert alert-type=\"info\">\n              ${this.hass.localize(\"ui.panel.config.automation.editor.disabled\")}\n              <mwc-button slot=\"action\" @click=${this._enable}>\n                ${this.hass.localize(\"ui.panel.config.automation.editor.enable\")}\n              </mwc-button>\n            </ha-alert>\n          ` : \"\"}\n      ${this.config.description ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<p class=\"description\">${this.config.description}</p>` : \"\"}\n      <ha-card\n        outlined\n        class=\"blueprint\"\n        .header=${this.hass.localize(\"ui.panel.config.automation.editor.blueprint.header\")}\n      >\n        <div class=\"blueprint-picker-container\">\n          ${this._blueprints ? Object.keys(this._blueprints).length ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n                  <ha-blueprint-picker\n                    .hass=${this.hass}\n                    .label=${this.hass.localize(\"ui.panel.config.automation.editor.blueprint.blueprint_to_use\")}\n                    .blueprints=${this._blueprints}\n                    .value=${this.config.use_blueprint.path}\n                    .disabled=${this.disabled}\n                    @value-changed=${this._blueprintChanged}\n                  ></ha-blueprint-picker>\n                ` : this.hass.localize(\"ui.panel.config.automation.editor.blueprint.no_blueprints\") : (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-circular-progress indeterminate></ha-circular-progress>`}\n        </div>\n\n        ${this.config.use_blueprint.path ? blueprint && \"error\" in blueprint ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<p class=\"warning padding\">\n                There is an error in this Blueprint: ${blueprint.error}\n              </p>` : (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`${blueprint !== null && blueprint !== void 0 && blueprint.metadata.description ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-markdown\n                    class=\"card-content\"\n                    breaks\n                    .content=${blueprint.metadata.description}\n                  ></ha-markdown>` : \"\"}\n              ${blueprint !== null && blueprint !== void 0 && (_blueprint$metadata = blueprint.metadata) !== null && _blueprint$metadata !== void 0 && _blueprint$metadata.input && Object.keys(blueprint.metadata.input).length ? Object.entries(blueprint.metadata.input).map(([key, value]) => {\n          var _value$selector;\n          const selector = (_value$selector = value === null || value === void 0 ? void 0 : value.selector) !== null && _value$selector !== void 0 ? _value$selector : {\n            text: undefined\n          };\n          const type = Object.keys(selector)[0];\n          const enhancedSelector = [\"action\", \"condition\", \"trigger\"].includes(type) ? {\n            [type]: {\n              ...selector[type],\n              path: [key]\n            }\n          } : selector;\n          return (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-settings-row .narrow=${this.narrow}>\n                        <span slot=\"heading\">${(value === null || value === void 0 ? void 0 : value.name) || key}</span>\n                        <ha-markdown\n                          slot=\"description\"\n                          class=\"card-content\"\n                          breaks\n                          .content=${value === null || value === void 0 ? void 0 : value.description}\n                        ></ha-markdown>\n                        ${(0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-selector\n                          .hass=${this.hass}\n                          .selector=${enhancedSelector}\n                          .key=${key}\n                          .disabled=${this.disabled}\n                          .required=${(value === null || value === void 0 ? void 0 : value.default) === undefined}\n                          .placeholder=${value === null || value === void 0 ? void 0 : value.default}\n                          .value=${this.config.use_blueprint.input && key in this.config.use_blueprint.input ? this.config.use_blueprint.input[key] : value === null || value === void 0 ? void 0 : value.default}\n                          @value-changed=${this._inputChanged}\n                          @item-moved=${this._itemMoved}\n                        ></ha-selector>`}\n                      </ha-settings-row>`;\n        }) : (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<p class=\"padding\">\n                    ${this.hass.localize(\"ui.panel.config.automation.editor.blueprint.no_inputs\")}\n                  </p>`}` : \"\"}\n      </ha-card>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getBlueprints\",\n      value: async function _getBlueprints() {\n        this._blueprints = await (0,_data_blueprint__WEBPACK_IMPORTED_MODULE_15__.fetchBlueprints)(this.hass, \"automation\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_blueprintChanged\",\n      value: function _blueprintChanged(ev) {\n        ev.stopPropagation();\n        if (this.config.use_blueprint.path === ev.detail.value) {\n          return;\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this.config,\n            use_blueprint: {\n              path: ev.detail.value\n            }\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_inputChanged\",\n      value: function _inputChanged(ev) {\n        ev.stopPropagation();\n        const target = ev.target;\n        const key = target.key;\n        const value = ev.detail ? ev.detail.value : target.value;\n        if (this.config.use_blueprint.input && this.config.use_blueprint.input[key] === value || !this.config.use_blueprint.input && value === \"\") {\n          return;\n        }\n        const input = {\n          ...this.config.use_blueprint.input,\n          [key]: value\n        };\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this.config,\n            use_blueprint: {\n              ...this.config.use_blueprint,\n              input\n            }\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_itemMoved\",\n      value: function _itemMoved(ev) {\n        ev.stopPropagation();\n        const {\n          oldIndex,\n          newIndex,\n          oldPath,\n          newPath\n        } = ev.detail;\n        const input = (0,_common_util_array_move__WEBPACK_IMPORTED_MODULE_7__.nestedArrayMove)(this.config.use_blueprint.input, oldIndex, newIndex, oldPath, newPath);\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this.config,\n            use_blueprint: {\n              ...this.config.use_blueprint,\n              input\n            }\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_enable\",\n      value: async function _enable() {\n        if (!this.hass || !this.stateObj) {\n          return;\n        }\n        await this.hass.callService(\"automation\", \"turn_on\", {\n          entity_id: this.stateObj.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function _duplicate() {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"duplicate\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_16__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_4__.css)`\n        :host {\n          display: block;\n        }\n        ha-card.blueprint {\n          margin: 0 auto;\n        }\n        .padding {\n          padding: 16px;\n        }\n        .link-button-row {\n          padding: 14px;\n        }\n        .blueprint-picker-container {\n          padding: 0 16px 16px;\n        }\n        ha-textfield,\n        ha-blueprint-picker {\n          display: block;\n        }\n        h3 {\n          margin: 16px;\n        }\n        .introduction {\n          margin-top: 0;\n          margin-bottom: 12px;\n        }\n        .introduction a {\n          color: var(--primary-color);\n        }\n        p {\n          margin-bottom: 0;\n        }\n        .description {\n          margin-bottom: 16px;\n        }\n        ha-settings-row {\n          --paper-time-input-justify-content: flex-end;\n          --settings-row-content-width: 100%;\n          --settings-row-prefix-display: contents;\n          border-top: 1px solid var(--divider-color);\n        }\n        ha-alert {\n          margin-bottom: 16px;\n          display: block;\n        }\n        ha-alert.re-order {\n          border-radius: var(--ha-card-border-radius, 12px);\n          overflow: hidden;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_4__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2JsdWVwcmludC1hdXRvbWF0aW9uLWVkaXRvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBNlJBO0FBQUE7QUFBQTtBQTdSQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2JsdWVwcmludC1hdXRvbWF0aW9uLWVkaXRvci50cz9iYzhjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIkBtYXRlcmlhbC9td2MtYnV0dG9uL213Yy1idXR0b25cIjtcbmltcG9ydCB7IEhhc3NFbnRpdHkgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBjc3MsIENTU1Jlc3VsdEdyb3VwLCBodG1sLCBMaXRFbGVtZW50IH0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBuZXN0ZWRBcnJheU1vdmUgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3V0aWwvYXJyYXktbW92ZVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1hbGVydFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1ibHVlcHJpbnQtcGlja2VyXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWNhcmRcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtY2lyY3VsYXItcHJvZ3Jlc3NcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtbWFya2Rvd25cIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtc2VsZWN0b3IvaGEtc2VsZWN0b3JcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtc2V0dGluZ3Mtcm93XCI7XG5pbXBvcnQgeyBCbHVlcHJpbnRBdXRvbWF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHtcbiAgQmx1ZXByaW50T3JFcnJvcixcbiAgQmx1ZXByaW50cyxcbiAgZmV0Y2hCbHVlcHJpbnRzLFxufSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9ibHVlcHJpbnRcIjtcbmltcG9ydCB7IGhhU3R5bGUgfSBmcm9tIFwiLi4vLi4vLi4vcmVzb3VyY2VzL3N0eWxlc1wiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IFwiLi4vaGEtY29uZmlnLXNlY3Rpb25cIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJibHVlcHJpbnQtYXV0b21hdGlvbi1lZGl0b3JcIilcbmV4cG9ydCBjbGFzcyBIYUJsdWVwcmludEF1dG9tYXRpb25FZGl0b3IgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgaXNXaWRlID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgZGlzYWJsZWQgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCByZWZsZWN0OiB0cnVlIH0pIHB1YmxpYyBuYXJyb3cgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBjb25maWchOiBCbHVlcHJpbnRBdXRvbWF0aW9uQ29uZmlnO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHN0YXRlT2JqPzogSGFzc0VudGl0eTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9ibHVlcHJpbnRzPzogQmx1ZXByaW50cztcblxuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcykge1xuICAgIHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcHMpO1xuICAgIHRoaXMuX2dldEJsdWVwcmludHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9ibHVlcHJpbnQoKTogQmx1ZXByaW50T3JFcnJvciB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKCF0aGlzLl9ibHVlcHJpbnRzKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYmx1ZXByaW50c1t0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LnBhdGhdO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBjb25zdCBibHVlcHJpbnQgPSB0aGlzLl9ibHVlcHJpbnQ7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICAke3RoaXMuZGlzYWJsZWRcbiAgICAgICAgPyBodG1sYDxoYS1hbGVydCBhbGVydC10eXBlPVwid2FybmluZ1wiPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IucmVhZF9vbmx5XCIpfVxuICAgICAgICAgICAgPG13Yy1idXR0b24gc2xvdD1cImFjdGlvblwiIEBjbGljaz0ke3RoaXMuX2R1cGxpY2F0ZX0+XG4gICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLm1pZ3JhdGVcIil9XG4gICAgICAgICAgICA8L213Yy1idXR0b24+XG4gICAgICAgICAgPC9oYS1hbGVydD5gXG4gICAgICAgIDogXCJcIn1cbiAgICAgICR7dGhpcy5zdGF0ZU9iaj8uc3RhdGUgPT09IFwib2ZmXCJcbiAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgPGhhLWFsZXJ0IGFsZXJ0LXR5cGU9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmRpc2FibGVkXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPG13Yy1idXR0b24gc2xvdD1cImFjdGlvblwiIEBjbGljaz0ke3RoaXMuX2VuYWJsZX0+XG4gICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5lbmFibGVcIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICAgIDwvaGEtYWxlcnQ+XG4gICAgICAgICAgYFxuICAgICAgICA6IFwiXCJ9XG4gICAgICAke3RoaXMuY29uZmlnLmRlc2NyaXB0aW9uXG4gICAgICAgID8gaHRtbGA8cCBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JHt0aGlzLmNvbmZpZy5kZXNjcmlwdGlvbn08L3A+YFxuICAgICAgICA6IFwiXCJ9XG4gICAgICA8aGEtY2FyZFxuICAgICAgICBvdXRsaW5lZFxuICAgICAgICBjbGFzcz1cImJsdWVwcmludFwiXG4gICAgICAgIC5oZWFkZXI9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYmx1ZXByaW50LmhlYWRlclwiXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJibHVlcHJpbnQtcGlja2VyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICR7dGhpcy5fYmx1ZXByaW50c1xuICAgICAgICAgICAgPyBPYmplY3Qua2V5cyh0aGlzLl9ibHVlcHJpbnRzKS5sZW5ndGhcbiAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgPGhhLWJsdWVwcmludC1waWNrZXJcbiAgICAgICAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5ibHVlcHJpbnQuYmx1ZXByaW50X3RvX3VzZVwiXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIC5ibHVlcHJpbnRzPSR7dGhpcy5fYmx1ZXByaW50c31cbiAgICAgICAgICAgICAgICAgICAgLnZhbHVlPSR7dGhpcy5jb25maWcudXNlX2JsdWVwcmludC5wYXRofVxuICAgICAgICAgICAgICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2JsdWVwcmludENoYW5nZWR9XG4gICAgICAgICAgICAgICAgICA+PC9oYS1ibHVlcHJpbnQtcGlja2VyPlxuICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5ibHVlcHJpbnQubm9fYmx1ZXByaW50c1wiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBodG1sYDxoYS1jaXJjdWxhci1wcm9ncmVzcyBpbmRldGVybWluYXRlPjwvaGEtY2lyY3VsYXItcHJvZ3Jlc3M+YH1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgJHt0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LnBhdGhcbiAgICAgICAgICA/IGJsdWVwcmludCAmJiBcImVycm9yXCIgaW4gYmx1ZXByaW50XG4gICAgICAgICAgICA/IGh0bWxgPHAgY2xhc3M9XCJ3YXJuaW5nIHBhZGRpbmdcIj5cbiAgICAgICAgICAgICAgICBUaGVyZSBpcyBhbiBlcnJvciBpbiB0aGlzIEJsdWVwcmludDogJHtibHVlcHJpbnQuZXJyb3J9XG4gICAgICAgICAgICAgIDwvcD5gXG4gICAgICAgICAgICA6IGh0bWxgJHtibHVlcHJpbnQ/Lm1ldGFkYXRhLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgPyBodG1sYDxoYS1tYXJrZG93blxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNhcmQtY29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrc1xuICAgICAgICAgICAgICAgICAgICAuY29udGVudD0ke2JsdWVwcmludC5tZXRhZGF0YS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgID48L2hhLW1hcmtkb3duPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7Ymx1ZXByaW50Py5tZXRhZGF0YT8uaW5wdXQgJiZcbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYmx1ZXByaW50Lm1ldGFkYXRhLmlucHV0KS5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5lbnRyaWVzKGJsdWVwcmludC5tZXRhZGF0YS5pbnB1dCkubWFwKFxuICAgICAgICAgICAgICAgICAgICAoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSB2YWx1ZT8uc2VsZWN0b3IgPz8geyB0ZXh0OiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gT2JqZWN0LmtleXMoc2VsZWN0b3IpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuaGFuY2VkU2VsZWN0b3IgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjb25kaXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHJpZ2dlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIF0uaW5jbHVkZXModHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt0eXBlXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc2VsZWN0b3JbdHlwZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdG9yO1xuXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPGhhLXNldHRpbmdzLXJvdyAubmFycm93PSR7dGhpcy5uYXJyb3d9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc2xvdD1cImhlYWRpbmdcIj4ke3ZhbHVlPy5uYW1lIHx8IGtleX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aGEtbWFya2Rvd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xvdD1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjYXJkLWNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQ9JHt2YWx1ZT8uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1tYXJrZG93bj5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7aHRtbGA8aGEtc2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3Rvcj0ke2VuaGFuY2VkU2VsZWN0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5rZXk9JHtrZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXF1aXJlZD0ke3ZhbHVlPy5kZWZhdWx0ID09PSB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5wbGFjZWhvbGRlcj0ke3ZhbHVlPy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsdWU9JHt0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleSBpbiB0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0W2tleV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlPy5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX2lucHV0Q2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQGl0ZW0tbW92ZWQ9JHt0aGlzLl9pdGVtTW92ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zZWxlY3Rvcj5gfVxuICAgICAgICAgICAgICAgICAgICAgIDwvaGEtc2V0dGluZ3Mtcm93PmA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGh0bWxgPHAgY2xhc3M9XCJwYWRkaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmJsdWVwcmludC5ub19pbnB1dHNcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9wPmB9YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgIDwvaGEtY2FyZD5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0Qmx1ZXByaW50cygpIHtcbiAgICB0aGlzLl9ibHVlcHJpbnRzID0gYXdhaXQgZmV0Y2hCbHVlcHJpbnRzKHRoaXMuaGFzcywgXCJhdXRvbWF0aW9uXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfYmx1ZXByaW50Q2hhbmdlZChldikge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LnBhdGggPT09IGV2LmRldGFpbC52YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIC4uLnRoaXMuY29uZmlnLFxuICAgICAgICB1c2VfYmx1ZXByaW50OiB7XG4gICAgICAgICAgcGF0aDogZXYuZGV0YWlsLnZhbHVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2lucHV0Q2hhbmdlZChldikge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldCBhcyBhbnk7XG4gICAgY29uc3Qga2V5ID0gdGFyZ2V0LmtleTtcbiAgICBjb25zdCB2YWx1ZSA9IGV2LmRldGFpbCA/IGV2LmRldGFpbC52YWx1ZSA6IHRhcmdldC52YWx1ZTtcbiAgICBpZiAoXG4gICAgICAodGhpcy5jb25maWcudXNlX2JsdWVwcmludC5pbnB1dCAmJlxuICAgICAgICB0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0W2tleV0gPT09IHZhbHVlKSB8fFxuICAgICAgKCF0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0ICYmIHZhbHVlID09PSBcIlwiKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbnB1dCA9IHsgLi4udGhpcy5jb25maWcudXNlX2JsdWVwcmludC5pbnB1dCwgW2tleV06IHZhbHVlIH07XG5cbiAgICBmaXJlRXZlbnQodGhpcywgXCJ2YWx1ZS1jaGFuZ2VkXCIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIC4uLnRoaXMuY29uZmlnLFxuICAgICAgICB1c2VfYmx1ZXByaW50OiB7XG4gICAgICAgICAgLi4udGhpcy5jb25maWcudXNlX2JsdWVwcmludCxcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9pdGVtTW92ZWQoZXYpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCB7IG9sZEluZGV4LCBuZXdJbmRleCwgb2xkUGF0aCwgbmV3UGF0aCB9ID0gZXYuZGV0YWlsO1xuXG4gICAgY29uc3QgaW5wdXQgPSBuZXN0ZWRBcnJheU1vdmUoXG4gICAgICB0aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LmlucHV0LFxuICAgICAgb2xkSW5kZXgsXG4gICAgICBuZXdJbmRleCxcbiAgICAgIG9sZFBhdGgsXG4gICAgICBuZXdQYXRoXG4gICAgKTtcblxuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgIHVzZV9ibHVlcHJpbnQ6IHtcbiAgICAgICAgICAuLi50aGlzLmNvbmZpZy51c2VfYmx1ZXByaW50LFxuICAgICAgICAgIGlucHV0LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2VuYWJsZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5zdGF0ZU9iaikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoXCJhdXRvbWF0aW9uXCIsIFwidHVybl9vblwiLCB7XG4gICAgICBlbnRpdHlfaWQ6IHRoaXMuc3RhdGVPYmouZW50aXR5X2lkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfZHVwbGljYXRlKCkge1xuICAgIGZpcmVFdmVudCh0aGlzLCBcImR1cGxpY2F0ZVwiKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgaGFTdHlsZSxcbiAgICAgIGNzc2BcbiAgICAgICAgOmhvc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIGhhLWNhcmQuYmx1ZXByaW50IHtcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgfVxuICAgICAgICAucGFkZGluZyB7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgfVxuICAgICAgICAubGluay1idXR0b24tcm93IHtcbiAgICAgICAgICBwYWRkaW5nOiAxNHB4O1xuICAgICAgICB9XG4gICAgICAgIC5ibHVlcHJpbnQtcGlja2VyLWNvbnRhaW5lciB7XG4gICAgICAgICAgcGFkZGluZzogMCAxNnB4IDE2cHg7XG4gICAgICAgIH1cbiAgICAgICAgaGEtdGV4dGZpZWxkLFxuICAgICAgICBoYS1ibHVlcHJpbnQtcGlja2VyIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBoMyB7XG4gICAgICAgICAgbWFyZ2luOiAxNnB4O1xuICAgICAgICB9XG4gICAgICAgIC5pbnRyb2R1Y3Rpb24ge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgICAgfVxuICAgICAgICAuaW50cm9kdWN0aW9uIGEge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBwIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICB9XG4gICAgICAgIC5kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgfVxuICAgICAgICBoYS1zZXR0aW5ncy1yb3cge1xuICAgICAgICAgIC0tcGFwZXItdGltZS1pbnB1dC1qdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgIC0tc2V0dGluZ3Mtcm93LWNvbnRlbnQtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgLS1zZXR0aW5ncy1yb3ctcHJlZml4LWRpc3BsYXk6IGNvbnRlbnRzO1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBoYS1hbGVydCB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBoYS1hbGVydC5yZS1vcmRlciB7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0taGEtY2FyZC1ib3JkZXItcmFkaXVzLCAxMnB4KTtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImJsdWVwcmludC1hdXRvbWF0aW9uLWVkaXRvclwiOiBIYUJsdWVwcmludEF1dG9tYXRpb25FZGl0b3I7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/config/automation/blueprint-automation-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/ha-automation-editor.ts":
/*!**************************************************************!*\
  !*** ./src/panels/config/automation/ha-automation-editor.ts ***!
  \**************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaAutomationEditor: () => (/* binding */ HaAutomationEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _material_mwc_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _common_util_render_status__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/util/render-status */ \"./src/common/util/render-status.ts\");\n/* harmony import */ var _components_ha_button_menu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/ha-button-menu */ \"./src/components/ha-button-menu.ts\");\n/* harmony import */ var _components_ha_fab__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-fab */ \"./src/components/ha-fab.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _components_ha_yaml_editor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/ha-yaml-editor */ \"./src/components/ha-yaml-editor.ts\");\n/* harmony import */ var _components_ha_list_item__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../components/ha-list-item */ \"./src/components/ha-list-item.ts\");\n/* harmony import */ var _data_automation__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../data/automation */ \"./src/data/automation.ts\");\n/* harmony import */ var _data_config__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../data/config */ \"./src/data/config.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _layouts_hass_subpage__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layouts/hass-subpage */ \"./src/layouts/hass-subpage.ts\");\n/* harmony import */ var _mixins_keyboard_shortcut_mixin__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../mixins/keyboard-shortcut-mixin */ \"./src/mixins/keyboard-shortcut-mixin.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_toast__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../util/toast */ \"./src/util/toast.ts\");\n/* harmony import */ var _ha_config_section__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../ha-config-section */ \"./src/panels/config/ha-config-section.ts\");\n/* harmony import */ var _automation_mode_dialog_show_dialog_automation_mode__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./automation-mode-dialog/show-dialog-automation-mode */ \"./src/panels/config/automation/automation-mode-dialog/show-dialog-automation-mode.ts\");\n/* harmony import */ var _automation_rename_dialog_show_dialog_automation_rename__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./automation-rename-dialog/show-dialog-automation-rename */ \"./src/panels/config/automation/automation-rename-dialog/show-dialog-automation-rename.ts\");\n/* harmony import */ var _blueprint_automation_editor__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./blueprint-automation-editor */ \"./src/panels/config/automation/blueprint-automation-editor.ts\");\n/* harmony import */ var _manual_automation_editor__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./manual-automation-editor */ \"./src/panels/config/automation/manual-automation-editor.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_manual_automation_editor__WEBPACK_IMPORTED_MODULE_29__]);\n_manual_automation_editor__WEBPACK_IMPORTED_MODULE_29__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst mdiCheck = \"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\";\nconst mdiContentDuplicate = \"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z\";\nconst mdiContentSave = \"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z\";\nconst mdiDebugStepOver = \"M12,14A2,2 0 0,1 14,16A2,2 0 0,1 12,18A2,2 0 0,1 10,16A2,2 0 0,1 12,14M23.46,8.86L21.87,15.75L15,14.16L18.8,11.78C17.39,9.5 14.87,8 12,8C8.05,8 4.77,10.86 4.12,14.63L2.15,14.28C2.96,9.58 7.06,6 12,6C15.58,6 18.73,7.89 20.5,10.72L23.46,8.86Z\";\nconst mdiDelete = \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\";\nconst mdiDotsVertical = \"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z\";\nconst mdiInformationOutline = \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\";\nconst mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nconst mdiPlayCircleOutline = \"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z\";\nconst mdiRenameBox = \"M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\";\nconst mdiRobotConfused = \"M20 4H18V3H20.5C20.78 3 21 3.22 21 3.5V5.5C21 5.78 20.78 6 20.5 6H20V7H19V5H20V4M19 9H20V8H19V9M17 3H16V7H17V3M23 15V18C23 18.55 22.55 19 22 19H21V20C21 21.11 20.11 22 19 22H5C3.9 22 3 21.11 3 20V19H2C1.45 19 1 18.55 1 18V15C1 14.45 1.45 14 2 14H3C3 10.13 6.13 7 10 7H11V5.73C10.4 5.39 10 4.74 10 4C10 2.9 10.9 2 12 2S14 2.9 14 4C14 4.74 13.6 5.39 13 5.73V7H14C14.34 7 14.67 7.03 15 7.08V10H19.74C20.53 11.13 21 12.5 21 14H22C22.55 14 23 14.45 23 15M10 15.5C10 14.12 8.88 13 7.5 13S5 14.12 5 15.5 6.12 18 7.5 18 10 16.88 10 15.5M19 15.5C19 14.12 17.88 13 16.5 13S14 14.12 14 15.5 15.12 18 16.5 18 19 16.88 19 15.5M17 8H16V9H17V8Z\";\nconst mdiStopCircleOutline = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9\";\nconst mdiTransitConnection = \"M15,12C15,10.7 14.16,9.6 13,9.18V6.82C14.16,6.4 15,5.3 15,4A3,3 0 0,0 12,1A3,3 0 0,0 9,4C9,5.3 9.84,6.4 11,6.82V9.19C9.84,9.6 9,10.7 9,12C9,13.3 9.84,14.4 11,14.82V17.18C9.84,17.6 9,18.7 9,20A3,3 0 0,0 12,23A3,3 0 0,0 15,20C15,18.7 14.16,17.6 13,17.18V14.82C14.16,14.4 15,13.3 15,12M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M12,21A1,1 0 0,1 11,20A1,1 0 0,1 12,19A1,1 0 0,1 13,20A1,1 0 0,1 12,21Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HaAutomationEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null, function (_initialize, _KeyboardShortcutMixi) {\n  class HaAutomationEditor extends _KeyboardShortcutMixi {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaAutomationEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"automationId\",\n      value() {\n        return null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)()],\n      key: \"entityId\",\n      value() {\n        return null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"automations\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.property)({\n        attribute: false\n      })],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_dirty\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_errors\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_mode\",\n      value() {\n        return \"gui\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_readOnly\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_5__.state)()],\n      key: \"_validationErrors\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_configSubscriptions\",\n      value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      key: \"_configSubscriptionsId\",\n      value() {\n        return 1;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_config;\n        const stateObj = this._entityId ? this.hass.states[this._entityId] : undefined;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n      <hass-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .route=${this.route}\n        .backCallback=${this._backTapped}\n        .header=${!this._config ? \"\" : this._config.alias || this.hass.localize(\"ui.panel.config.automation.editor.default_name\")}\n      >\n        ${(_this$_config = this._config) !== null && _this$_config !== void 0 && _this$_config.id && !this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n              <mwc-button @click=${this._showTrace} slot=\"toolbar-icon\">\n                ${this.hass.localize(\"ui.panel.config.automation.editor.show_trace\")}\n              </mwc-button>\n            ` : \"\"}\n        <ha-button-menu slot=\"toolbar-icon\">\n          <ha-icon-button\n            slot=\"trigger\"\n            .label=${this.hass.localize(\"ui.common.menu\")}\n            .path=${mdiDotsVertical}\n          ></ha-icon-button>\n\n          <ha-list-item\n            graphic=\"icon\"\n            .disabled=${!stateObj}\n            @click=${this._showInfo}\n          >\n            ${this.hass.localize(\"ui.panel.config.automation.editor.show_info\")}\n            <ha-svg-icon\n              slot=\"graphic\"\n              .path=${mdiInformationOutline}\n            ></ha-svg-icon>\n          </ha-list-item>\n\n          <ha-list-item\n            graphic=\"icon\"\n            .disabled=${!stateObj}\n            @click=${this._runActions}\n          >\n            ${this.hass.localize(\"ui.panel.config.automation.editor.run\")}\n            <ha-svg-icon slot=\"graphic\" .path=${mdiPlay}></ha-svg-icon>\n          </ha-list-item>\n\n          ${stateObj && this._config && this.narrow ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<a href=\"/config/automation/trace/${this._config.id}\">\n                <ha-list-item graphic=\"icon\">\n                  ${this.hass.localize(\"ui.panel.config.automation.editor.show_trace\")}\n                  <ha-svg-icon\n                    slot=\"graphic\"\n                    .path=${mdiTransitConnection}\n                  ></ha-svg-icon>\n                </ha-list-item>\n              </a>` : \"\"}\n\n          <ha-list-item\n            graphic=\"icon\"\n            @click=${this._promptAutomationAlias}\n            .disabled=${!this.automationId || this._mode === \"yaml\"}\n          >\n            ${this.hass.localize(\"ui.panel.config.automation.editor.rename\")}\n            <ha-svg-icon slot=\"graphic\" .path=${mdiRenameBox}></ha-svg-icon>\n          </ha-list-item>\n\n          ${this._config && !(\"use_blueprint\" in this._config) ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n                <ha-list-item\n                  graphic=\"icon\"\n                  @click=${this._promptAutomationMode}\n                  .disabled=${this._readOnly || this._mode === \"yaml\"}\n                >\n                  ${this.hass.localize(\"ui.panel.config.automation.editor.change_mode\")}\n                  <ha-svg-icon\n                    slot=\"graphic\"\n                    .path=${mdiDebugStepOver}\n                  ></ha-svg-icon>\n                </ha-list-item>\n              ` : \"\"}\n\n          <ha-list-item\n            .disabled=${!this._readOnly && !this.automationId}\n            graphic=\"icon\"\n            @click=${this._duplicate}\n          >\n            ${this.hass.localize(this._readOnly ? \"ui.panel.config.automation.editor.migrate\" : \"ui.panel.config.automation.editor.duplicate\")}\n            <ha-svg-icon\n              slot=\"graphic\"\n              .path=${mdiContentDuplicate}\n            ></ha-svg-icon>\n          </ha-list-item>\n\n          <li divider role=\"separator\"></li>\n\n          <ha-list-item graphic=\"icon\" @click=${this._switchUiMode}>\n            ${this.hass.localize(\"ui.panel.config.automation.editor.edit_ui\")}\n            ${this._mode === \"gui\" ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-svg-icon\n                  class=\"selected_menu_item\"\n                  slot=\"graphic\"\n                  .path=${mdiCheck}\n                ></ha-svg-icon>` : ``}\n          </ha-list-item>\n          <ha-list-item graphic=\"icon\" @click=${this._switchYamlMode}>\n            ${this.hass.localize(\"ui.panel.config.automation.editor.edit_yaml\")}\n            ${this._mode === \"yaml\" ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-svg-icon\n                  class=\"selected_menu_item\"\n                  slot=\"graphic\"\n                  .path=${mdiCheck}\n                ></ha-svg-icon>` : ``}\n          </ha-list-item>\n\n          <li divider role=\"separator\"></li>\n\n          <ha-list-item\n            graphic=\"icon\"\n            .disabled=${!stateObj}\n            @click=${this._toggle}\n          >\n            ${(stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === \"off\" ? this.hass.localize(\"ui.panel.config.automation.editor.enable\") : this.hass.localize(\"ui.panel.config.automation.editor.disable\")}\n            <ha-svg-icon\n              slot=\"graphic\"\n              .path=${(stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === \"off\" ? mdiPlayCircleOutline : mdiStopCircleOutline}\n            ></ha-svg-icon>\n          </ha-list-item>\n\n          <ha-list-item\n            .disabled=${!this.automationId}\n            class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__.classMap)({\n          warning: Boolean(this.automationId)\n        })}\n            graphic=\"icon\"\n            @click=${this._deleteConfirm}\n          >\n            ${this.hass.localize(\"ui.panel.config.automation.picker.delete\")}\n            <ha-svg-icon\n              class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__.classMap)({\n          warning: Boolean(this.automationId)\n        })}\n              slot=\"graphic\"\n              .path=${mdiDelete}\n            >\n            </ha-svg-icon>\n          </ha-list-item>\n        </ha-button-menu>\n\n        ${this._config ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n              <div\n                class=\"content ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__.classMap)({\n          \"yaml-mode\": this._mode === \"yaml\"\n        })}\"\n                @subscribe-automation-config=${this._subscribeAutomationConfig}\n              >\n                ${this._errors || (stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === _data_entity__WEBPACK_IMPORTED_MODULE_18__.UNAVAILABLE ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-alert\n                      alert-type=\"error\"\n                      .title=${(stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === _data_entity__WEBPACK_IMPORTED_MODULE_18__.UNAVAILABLE ? this.hass.localize(\"ui.panel.config.automation.editor.unavailable\") : undefined}\n                    >\n                      ${this._errors || this._validationErrors}\n                      ${(stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === _data_entity__WEBPACK_IMPORTED_MODULE_18__.UNAVAILABLE ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-svg-icon\n                            slot=\"icon\"\n                            .path=${mdiRobotConfused}\n                          ></ha-svg-icon>` : lit__WEBPACK_IMPORTED_MODULE_4__.nothing}\n                    </ha-alert>` : \"\"}\n                ${this._mode === \"gui\" ? \"use_blueprint\" in this._config ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n                        <blueprint-automation-editor\n                          .hass=${this.hass}\n                          .narrow=${this.narrow}\n                          .isWide=${this.isWide}\n                          .stateObj=${stateObj}\n                          .config=${this._config}\n                          .disabled=${Boolean(this._readOnly)}\n                          @value-changed=${this._valueChanged}\n                          @duplicate=${this._duplicate}\n                        ></blueprint-automation-editor>\n                      ` : (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n                        <manual-automation-editor\n                          .hass=${this.hass}\n                          .narrow=${this.narrow}\n                          .isWide=${this.isWide}\n                          .stateObj=${stateObj}\n                          .config=${this._config}\n                          .disabled=${Boolean(this._readOnly)}\n                          @value-changed=${this._valueChanged}\n                          @duplicate=${this._duplicate}\n                        ></manual-automation-editor>\n                      ` : this._mode === \"yaml\" ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)` ${this._readOnly ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`<ha-alert alert-type=\"warning\">\n                              ${this.hass.localize(\"ui.panel.config.automation.editor.read_only\")}\n                              <mwc-button\n                                slot=\"action\"\n                                @click=${this._duplicate}\n                              >\n                                ${this.hass.localize(\"ui.panel.config.automation.editor.migrate\")}\n                              </mwc-button>\n                            </ha-alert>` : \"\"}\n                        ${(stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === \"off\" ? (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`\n                              <ha-alert alert-type=\"info\">\n                                ${this.hass.localize(\"ui.panel.config.automation.editor.disabled\")}\n                                <mwc-button\n                                  slot=\"action\"\n                                  @click=${this._toggle}\n                                >\n                                  ${this.hass.localize(\"ui.panel.config.automation.editor.enable\")}\n                                </mwc-button>\n                              </ha-alert>\n                            ` : \"\"}\n                        <ha-yaml-editor\n                          copyClipboard\n                          .hass=${this.hass}\n                          .defaultValue=${this._preprocessYaml()}\n                          .readOnly=${this._readOnly}\n                          @value-changed=${this._yamlChanged}\n                        ></ha-yaml-editor>` : lit__WEBPACK_IMPORTED_MODULE_4__.nothing}\n              </div>\n            ` : \"\"}\n        <ha-fab\n          slot=\"fab\"\n          class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_6__.classMap)({\n          dirty: this._dirty\n        })}\n          .label=${this.hass.localize(\"ui.panel.config.automation.editor.save\")}\n          extended\n          @click=${this._saveAutomation}\n        >\n          <ha-svg-icon slot=\"icon\" .path=${mdiContentSave}></ha-svg-icon>\n        </ha-fab>\n      </hass-subpage>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaAutomationEditor.prototype), \"updated\", this).call(this, changedProps);\n        const oldAutomationId = changedProps.get(\"automationId\");\n        if (changedProps.has(\"automationId\") && this.automationId && this.hass &&\n        // Only refresh config if we picked a new automation. If same ID, don't fetch it.\n        oldAutomationId !== this.automationId) {\n          this._setEntityId();\n          this._loadConfig();\n        }\n        if (changedProps.has(\"automationId\") && !this.automationId && !this.entityId && this.hass) {\n          const initData = (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.getAutomationEditorInitData)();\n          let baseConfig = {\n            description: \"\"\n          };\n          if (!initData || !(\"use_blueprint\" in initData)) {\n            baseConfig = {\n              ...baseConfig,\n              mode: \"single\",\n              trigger: [],\n              condition: [],\n              action: []\n            };\n          }\n          this._config = {\n            ...baseConfig,\n            ...initData\n          };\n          this._entityId = undefined;\n          this._readOnly = false;\n          this._dirty = true;\n        }\n        if (changedProps.has(\"entityId\") && this.entityId) {\n          (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.getAutomationStateConfig)(this.hass, this.entityId).then(c => {\n            this._config = this._normalizeConfig(c.config);\n            this._checkValidation();\n          });\n          this._entityId = this.entityId;\n          this._dirty = false;\n          this._readOnly = true;\n        }\n        if (changedProps.has(\"automations\") && this.automationId && !this._entityId) {\n          this._setEntityId();\n        }\n        if (changedProps.has(\"_config\")) {\n          Object.values(this._configSubscriptions).forEach(sub => sub(this._config));\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_setEntityId\",\n      value: function _setEntityId() {\n        const automation = this.automations.find(entity => entity.attributes.id === this.automationId);\n        this._entityId = automation === null || automation === void 0 ? void 0 : automation.entity_id;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_checkValidation\",\n      value: async function _checkValidation() {\n        this._validationErrors = undefined;\n        if (!this._entityId || !this._config) {\n          return;\n        }\n        const stateObj = this.hass.states[this._entityId];\n        if ((stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) !== _data_entity__WEBPACK_IMPORTED_MODULE_18__.UNAVAILABLE) {\n          return;\n        }\n        const validation = await (0,_data_config__WEBPACK_IMPORTED_MODULE_17__.validateConfig)(this.hass, {\n          trigger: this._config.trigger,\n          condition: this._config.condition,\n          action: this._config.action\n        });\n        this._validationErrors = Object.entries(validation).map(([key, value]) => value.valid ? \"\" : (0,lit__WEBPACK_IMPORTED_MODULE_4__.html)`${this.hass.localize(`ui.panel.config.automation.editor.${key}s.name`)}:\n            ${value.error}<br />`);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_normalizeConfig\",\n      value: function _normalizeConfig(config) {\n        // Normalize data: ensure trigger, action and condition are lists\n        // Happens when people copy paste their automations into the config\n        for (const key of [\"trigger\", \"condition\", \"action\"]) {\n          const value = config[key];\n          if (value && !Array.isArray(value)) {\n            config[key] = [value];\n          }\n        }\n        return config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_loadConfig\",\n      value: async function _loadConfig() {\n        try {\n          const config = await (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.fetchAutomationFileConfig)(this.hass, this.automationId);\n          this._dirty = false;\n          this._readOnly = false;\n          this._config = this._normalizeConfig(config);\n          this._checkValidation();\n        } catch (err) {\n          const entityRegistry = await (0,_data_entity_registry__WEBPACK_IMPORTED_MODULE_19__.fetchEntityRegistry)(this.hass.connection);\n          const entity = entityRegistry.find(ent => ent.platform === \"automation\" && ent.unique_id === this.automationId);\n          if (entity) {\n            (0,_common_navigate__WEBPACK_IMPORTED_MODULE_8__.navigate)(`/config/automation/show/${entity.entity_id}`, {\n              replace: true\n            });\n            return;\n          }\n          await (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_20__.showAlertDialog)(this, {\n            text: err.status_code === 404 ? this.hass.localize(\"ui.panel.config.automation.editor.load_error_not_editable\") : this.hass.localize(\"ui.panel.config.automation.editor.load_error_unknown\", {\n              err_no: err.status_code\n            })\n          });\n          history.back();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        ev.stopPropagation();\n        this._config = ev.detail.value;\n        if (this._readOnly) {\n          return;\n        }\n        this._dirty = true;\n        this._errors = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showInfo\",\n      value: function _showInfo() {\n        if (!this.hass || !this._entityId) {\n          return;\n        }\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__.fireEvent)(this, \"hass-more-info\", {\n          entityId: this._entityId\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showTrace\",\n      value: async function _showTrace() {\n        var _this$_config2;\n        if ((_this$_config2 = this._config) !== null && _this$_config2 !== void 0 && _this$_config2.id) {\n          const result = await this.confirmUnsavedChanged();\n          if (result) {\n            (0,_common_navigate__WEBPACK_IMPORTED_MODULE_8__.navigate)(`/config/automation/trace/${this._config.id}`);\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_runActions\",\n      value: function _runActions() {\n        if (!this.hass || !this._entityId) {\n          return;\n        }\n        (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.triggerAutomationActions)(this.hass, this.hass.states[this._entityId].entity_id);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_toggle\",\n      value: async function _toggle() {\n        if (!this.hass || !this._entityId) {\n          return;\n        }\n        const stateObj = this.hass.states[this._entityId];\n        const service = stateObj.state === \"off\" ? \"turn_on\" : \"turn_off\";\n        await this.hass.callService(\"automation\", service, {\n          entity_id: stateObj.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_preprocessYaml\",\n      value: function _preprocessYaml() {\n        if (!this._config) {\n          return {};\n        }\n        const cleanConfig = {\n          ...this._config\n        };\n        delete cleanConfig.id;\n        return cleanConfig;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_yamlChanged\",\n      value: function _yamlChanged(ev) {\n        var _this$_config3;\n        ev.stopPropagation();\n        if (!ev.detail.isValid) {\n          return;\n        }\n        this._config = {\n          id: (_this$_config3 = this._config) === null || _this$_config3 === void 0 ? void 0 : _this$_config3.id,\n          ...ev.detail.value\n        };\n        this._errors = undefined;\n        this._dirty = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"confirmUnsavedChanged\",\n      value: async function confirmUnsavedChanged() {\n        if (this._dirty) {\n          return (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_20__.showConfirmationDialog)(this, {\n            title: this.hass.localize(\"ui.panel.config.automation.editor.unsaved_confirm_title\"),\n            text: this.hass.localize(\"ui.panel.config.automation.editor.unsaved_confirm_text\"),\n            confirmText: this.hass.localize(\"ui.common.leave\"),\n            dismissText: this.hass.localize(\"ui.common.stay\"),\n            destructive: true\n          });\n        }\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_backTapped\",\n      value() {\n        return async () => {\n          const result = await this.confirmUnsavedChanged();\n          if (result) {\n            (0,_common_util_render_status__WEBPACK_IMPORTED_MODULE_9__.afterNextRender)(() => history.back());\n          }\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: async function _duplicate() {\n        const result = this._readOnly ? await (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_20__.showConfirmationDialog)(this, {\n          title: \"Migrate automation?\",\n          text: \"You can migrate this automation, so it can be edited from the UI. After it is migrated and you have saved it, you will have to manually delete your old automation from your configuration. Do you want to migrate this automation?\"\n        }) : await this.confirmUnsavedChanged();\n        if (result) {\n          var _this$_config4;\n          (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.showAutomationEditor)({\n            ...this._config,\n            id: undefined,\n            alias: this._readOnly ? (_this$_config4 = this._config) === null || _this$_config4 === void 0 ? void 0 : _this$_config4.alias : undefined\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_deleteConfirm\",\n      value: async function _deleteConfirm() {\n        var _this$_config5;\n        (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_20__.showConfirmationDialog)(this, {\n          title: this.hass.localize(\"ui.panel.config.automation.picker.delete_confirm_title\"),\n          text: this.hass.localize(\"ui.panel.config.automation.picker.delete_confirm_text\", {\n            name: (_this$_config5 = this._config) === null || _this$_config5 === void 0 ? void 0 : _this$_config5.alias\n          }),\n          confirmText: this.hass.localize(\"ui.common.delete\"),\n          destructive: true,\n          dismissText: this.hass.localize(\"ui.common.cancel\"),\n          confirm: () => this._delete()\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_delete\",\n      value: async function _delete() {\n        if (this.automationId) {\n          await (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.deleteAutomation)(this.hass, this.automationId);\n          history.back();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_switchUiMode\",\n      value: function _switchUiMode() {\n        this._mode = \"gui\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_switchYamlMode\",\n      value: function _switchYamlMode() {\n        this._mode = \"yaml\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_promptAutomationAlias\",\n      value: async function _promptAutomationAlias() {\n        return new Promise(resolve => {\n          (0,_automation_rename_dialog_show_dialog_automation_rename__WEBPACK_IMPORTED_MODULE_27__.showAutomationRenameDialog)(this, {\n            config: this._config,\n            updateAutomation: config => {\n              this._config = config;\n              this._dirty = true;\n              this.requestUpdate();\n              resolve(true);\n            },\n            onClose: () => resolve(false)\n          });\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_promptAutomationMode\",\n      value: async function _promptAutomationMode() {\n        return new Promise(resolve => {\n          (0,_automation_mode_dialog_show_dialog_automation_mode__WEBPACK_IMPORTED_MODULE_26__.showAutomationModeDialog)(this, {\n            config: this._config,\n            updateAutomation: config => {\n              this._config = config;\n              this._dirty = true;\n              this.requestUpdate();\n              resolve();\n            },\n            onClose: () => resolve()\n          });\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_saveAutomation\",\n      value: async function _saveAutomation() {\n        const id = this.automationId || String(Date.now());\n        if (!this.automationId) {\n          const saved = await this._promptAutomationAlias();\n          if (!saved) {\n            return;\n          }\n        }\n        this._validationErrors = undefined;\n        try {\n          await (0,_data_automation__WEBPACK_IMPORTED_MODULE_16__.saveAutomationConfig)(this.hass, id, this._config);\n        } catch (errors) {\n          this._errors = errors.body.message || errors.error || errors.body;\n          (0,_util_toast__WEBPACK_IMPORTED_MODULE_24__.showToast)(this, {\n            message: errors.body.message || errors.error || errors.body\n          });\n          throw errors;\n        }\n        this._dirty = false;\n        if (!this.automationId) {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_8__.navigate)(`/config/automation/edit/${id}`, {\n            replace: true\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_subscribeAutomationConfig\",\n      value: function _subscribeAutomationConfig(ev) {\n        const id = this._configSubscriptionsId++;\n        this._configSubscriptions[id] = ev.detail.callback;\n        ev.detail.unsub = () => {\n          delete this._configSubscriptions[id];\n        };\n        ev.detail.callback(this._config);\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleKeyboardSave\",\n      value: function handleKeyboardSave() {\n        this._saveAutomation();\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_23__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_4__.css)`\n        .content {\n          padding-bottom: 20px;\n        }\n        .yaml-mode {\n          height: 100%;\n          display: flex;\n          flex-direction: column;\n          padding-bottom: 0;\n        }\n        manual-automation-editor,\n        blueprint-automation-editor {\n          margin: 0 auto;\n          max-width: 1040px;\n          padding: 28px 20px 0;\n        }\n        ha-yaml-editor {\n          flex-grow: 1;\n          --actions-border-radius: 0;\n          --code-mirror-height: 100%;\n          min-height: 0;\n          display: flex;\n          flex-direction: column;\n        }\n        p {\n          margin-bottom: 0;\n        }\n        ha-entity-toggle {\n          margin-right: 8px;\n          margin-inline-end: 8px;\n          margin-inline-start: initial;\n        }\n        ha-fab {\n          position: relative;\n          bottom: calc(-80px - env(safe-area-inset-bottom));\n          transition: bottom 0.3s;\n        }\n        ha-fab.dirty {\n          bottom: 0;\n        }\n        .selected_menu_item {\n          color: var(--primary-color);\n        }\n        li[role=\"separator\"] {\n          border-bottom-color: var(--divider-color);\n        }\n        ha-button-menu a {\n          text-decoration: none;\n          color: var(--primary-color);\n        }\n        h1 {\n          margin: 0;\n        }\n        .header-name {\n          display: flex;\n          align-items: center;\n          margin: 0 auto;\n          max-width: 1040px;\n          padding: 28px 20px 0;\n        }\n      `];\n      }\n    }]\n  };\n}, (0,_mixins_keyboard_shortcut_mixin__WEBPACK_IMPORTED_MODULE_22__.KeyboardShortcutMixin)(lit__WEBPACK_IMPORTED_MODULE_4__.LitElement));\ncustomElements.define(\"ha-automation-editor\", HaAutomationEditor);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWF1dG9tYXRpb24tZWRpdG9yLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBOHRCQTtBQUFBO0FBQUE7QUE5dEJBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2F1dG9tYXRpb24vaGEtYXV0b21hdGlvbi1lZGl0b3IudHM/YzU2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWJ1dHRvblwiO1xuaW1wb3J0IHtcbiAgbWRpQ2hlY2ssXG4gIG1kaUNvbnRlbnREdXBsaWNhdGUsXG4gIG1kaUNvbnRlbnRTYXZlLFxuICBtZGlEZWJ1Z1N0ZXBPdmVyLFxuICBtZGlEZWxldGUsXG4gIG1kaURvdHNWZXJ0aWNhbCxcbiAgbWRpSW5mb3JtYXRpb25PdXRsaW5lLFxuICBtZGlQbGF5LFxuICBtZGlQbGF5Q2lyY2xlT3V0bGluZSxcbiAgbWRpUmVuYW1lQm94LFxuICBtZGlSb2JvdENvbmZ1c2VkLFxuICBtZGlTdG9wQ2lyY2xlT3V0bGluZSxcbiAgbWRpVHJhbnNpdENvbm5lY3Rpb24sXG59IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBDU1NSZXN1bHRHcm91cCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIFRlbXBsYXRlUmVzdWx0LFxuICBjc3MsXG4gIGh0bWwsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBuYXZpZ2F0ZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vbmF2aWdhdGVcIjtcbmltcG9ydCB7IGFmdGVyTmV4dFJlbmRlciB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdXRpbC9yZW5kZXItc3RhdHVzXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWJ1dHRvbi1tZW51XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWZhYlwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1zdmctaWNvblwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS15YW1sLWVkaXRvclwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1saXN0LWl0ZW1cIjtcbmltcG9ydCB7XG4gIEF1dG9tYXRpb25Db25maWcsXG4gIEF1dG9tYXRpb25FbnRpdHksXG4gIGRlbGV0ZUF1dG9tYXRpb24sXG4gIGZldGNoQXV0b21hdGlvbkZpbGVDb25maWcsXG4gIGdldEF1dG9tYXRpb25FZGl0b3JJbml0RGF0YSxcbiAgZ2V0QXV0b21hdGlvblN0YXRlQ29uZmlnLFxuICBzYXZlQXV0b21hdGlvbkNvbmZpZyxcbiAgc2hvd0F1dG9tYXRpb25FZGl0b3IsXG4gIHRyaWdnZXJBdXRvbWF0aW9uQWN0aW9ucyxcbn0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHsgdmFsaWRhdGVDb25maWcgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9jb25maWdcIjtcbmltcG9ydCB7IFVOQVZBSUxBQkxFIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvZW50aXR5XCI7XG5pbXBvcnQgeyBmZXRjaEVudGl0eVJlZ2lzdHJ5IH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvZW50aXR5X3JlZ2lzdHJ5XCI7XG5pbXBvcnQge1xuICBzaG93QWxlcnREaWFsb2csXG4gIHNob3dDb25maXJtYXRpb25EaWFsb2csXG59IGZyb20gXCIuLi8uLi8uLi9kaWFsb2dzL2dlbmVyaWMvc2hvdy1kaWFsb2ctYm94XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9sYXlvdXRzL2hhc3Mtc3VicGFnZVwiO1xuaW1wb3J0IHsgS2V5Ym9hcmRTaG9ydGN1dE1peGluIH0gZnJvbSBcIi4uLy4uLy4uL21peGlucy9rZXlib2FyZC1zaG9ydGN1dC1taXhpblwiO1xuaW1wb3J0IHsgaGFTdHlsZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZXMvc3R5bGVzXCI7XG5pbXBvcnQgeyBFbnRyaWVzLCBIb21lQXNzaXN0YW50LCBSb3V0ZSB9IGZyb20gXCIuLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgc2hvd1RvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvdG9hc3RcIjtcbmltcG9ydCBcIi4uL2hhLWNvbmZpZy1zZWN0aW9uXCI7XG5pbXBvcnQgeyBzaG93QXV0b21hdGlvbk1vZGVEaWFsb2cgfSBmcm9tIFwiLi9hdXRvbWF0aW9uLW1vZGUtZGlhbG9nL3Nob3ctZGlhbG9nLWF1dG9tYXRpb24tbW9kZVwiO1xuaW1wb3J0IHsgc2hvd0F1dG9tYXRpb25SZW5hbWVEaWFsb2cgfSBmcm9tIFwiLi9hdXRvbWF0aW9uLXJlbmFtZS1kaWFsb2cvc2hvdy1kaWFsb2ctYXV0b21hdGlvbi1yZW5hbWVcIjtcbmltcG9ydCBcIi4vYmx1ZXByaW50LWF1dG9tYXRpb24tZWRpdG9yXCI7XG5pbXBvcnQgXCIuL21hbnVhbC1hdXRvbWF0aW9uLWVkaXRvclwiO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtYXV0b21hdGlvbi1lZGl0b3JcIjogSGFBdXRvbWF0aW9uRWRpdG9yO1xuICB9XG4gIC8vIGZvciBmaXJlIGV2ZW50XG4gIGludGVyZmFjZSBIQVNTRG9tRXZlbnRzIHtcbiAgICBcInN1YnNjcmliZS1hdXRvbWF0aW9uLWNvbmZpZ1wiOiB7XG4gICAgICBjYWxsYmFjazogKGNvbmZpZzogQXV0b21hdGlvbkNvbmZpZykgPT4gdm9pZDtcbiAgICAgIHVuc3ViPzogVW5zdWJzY3JpYmVGdW5jO1xuICAgIH07XG4gICAgXCJ1aS1tb2RlLW5vdC1hdmFpbGFibGVcIjogRXJyb3I7XG4gICAgZHVwbGljYXRlOiB1bmRlZmluZWQ7XG4gICAgXCJtb3ZlLWRvd25cIjogdW5kZWZpbmVkO1xuICAgIFwibW92ZS11cFwiOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhhQXV0b21hdGlvbkVkaXRvciBleHRlbmRzIEtleWJvYXJkU2hvcnRjdXRNaXhpbihMaXRFbGVtZW50KSB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBhdXRvbWF0aW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBlbnRpdHlJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgYXV0b21hdGlvbnMhOiBBdXRvbWF0aW9uRW50aXR5W107XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgaXNXaWRlID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KSBwdWJsaWMgbmFycm93ID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgcm91dGUhOiBSb3V0ZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb25maWc/OiBBdXRvbWF0aW9uQ29uZmlnO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2RpcnR5ID0gZmFsc2U7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZXJyb3JzPzogc3RyaW5nO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2VudGl0eUlkPzogc3RyaW5nO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX21vZGU6IFwiZ3VpXCIgfCBcInlhbWxcIiA9IFwiZ3VpXCI7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfcmVhZE9ubHkgPSBmYWxzZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF92YWxpZGF0aW9uRXJyb3JzPzogKHN0cmluZyB8IFRlbXBsYXRlUmVzdWx0KVtdO1xuXG4gIHByaXZhdGUgX2NvbmZpZ1N1YnNjcmlwdGlvbnM6IFJlY29yZDxcbiAgICBzdHJpbmcsXG4gICAgKGNvbmZpZz86IEF1dG9tYXRpb25Db25maWcpID0+IHZvaWRcbiAgPiA9IHt9O1xuXG4gIHByaXZhdGUgX2NvbmZpZ1N1YnNjcmlwdGlvbnNJZCA9IDE7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLl9lbnRpdHlJZFxuICAgICAgPyB0aGlzLmhhc3Muc3RhdGVzW3RoaXMuX2VudGl0eUlkXVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGFzcy1zdWJwYWdlXG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgIC5yb3V0ZT0ke3RoaXMucm91dGV9XG4gICAgICAgIC5iYWNrQ2FsbGJhY2s9JHt0aGlzLl9iYWNrVGFwcGVkfVxuICAgICAgICAuaGVhZGVyPSR7IXRoaXMuX2NvbmZpZ1xuICAgICAgICAgID8gXCJcIlxuICAgICAgICAgIDogdGhpcy5fY29uZmlnLmFsaWFzIHx8XG4gICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmRlZmF1bHRfbmFtZVwiXG4gICAgICAgICAgICApfVxuICAgICAgPlxuICAgICAgICAke3RoaXMuX2NvbmZpZz8uaWQgJiYgIXRoaXMubmFycm93XG4gICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICA8bXdjLWJ1dHRvbiBAY2xpY2s9JHt0aGlzLl9zaG93VHJhY2V9IHNsb3Q9XCJ0b29sYmFyLWljb25cIj5cbiAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLnNob3dfdHJhY2VcIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICAgIGBcbiAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDxoYS1idXR0b24tbWVudSBzbG90PVwidG9vbGJhci1pY29uXCI+XG4gICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICBzbG90PVwidHJpZ2dlclwiXG4gICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24ubWVudVwiKX1cbiAgICAgICAgICAgIC5wYXRoPSR7bWRpRG90c1ZlcnRpY2FsfVxuICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuXG4gICAgICAgICAgPGhhLWxpc3QtaXRlbVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgICAgLmRpc2FibGVkPSR7IXN0YXRlT2JqfVxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2hvd0luZm99XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3Iuc2hvd19pbmZvXCIpfVxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgIHNsb3Q9XCJncmFwaGljXCJcbiAgICAgICAgICAgICAgLnBhdGg9JHttZGlJbmZvcm1hdGlvbk91dGxpbmV9XG4gICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICA8L2hhLWxpc3QtaXRlbT5cblxuICAgICAgICAgIDxoYS1saXN0LWl0ZW1cbiAgICAgICAgICAgIGdyYXBoaWM9XCJpY29uXCJcbiAgICAgICAgICAgIC5kaXNhYmxlZD0keyFzdGF0ZU9ian1cbiAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3J1bkFjdGlvbnN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IucnVuXCIpfVxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uIHNsb3Q9XCJncmFwaGljXCIgLnBhdGg9JHttZGlQbGF5fT48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgIDwvaGEtbGlzdC1pdGVtPlxuXG4gICAgICAgICAgJHtzdGF0ZU9iaiAmJiB0aGlzLl9jb25maWcgJiYgdGhpcy5uYXJyb3dcbiAgICAgICAgICAgID8gaHRtbGA8YSBocmVmPVwiL2NvbmZpZy9hdXRvbWF0aW9uL3RyYWNlLyR7dGhpcy5fY29uZmlnLmlkfVwiPlxuICAgICAgICAgICAgICAgIDxoYS1saXN0LWl0ZW0gZ3JhcGhpYz1cImljb25cIj5cbiAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5zaG93X3RyYWNlXCJcbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgc2xvdD1cImdyYXBoaWNcIlxuICAgICAgICAgICAgICAgICAgICAucGF0aD0ke21kaVRyYW5zaXRDb25uZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgPjwvaGEtc3ZnLWljb24+XG4gICAgICAgICAgICAgICAgPC9oYS1saXN0LWl0ZW0+XG4gICAgICAgICAgICAgIDwvYT5gXG4gICAgICAgICAgICA6IFwiXCJ9XG5cbiAgICAgICAgICA8aGEtbGlzdC1pdGVtXG4gICAgICAgICAgICBncmFwaGljPVwiaWNvblwiXG4gICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9wcm9tcHRBdXRvbWF0aW9uQWxpYXN9XG4gICAgICAgICAgICAuZGlzYWJsZWQ9JHshdGhpcy5hdXRvbWF0aW9uSWQgfHwgdGhpcy5fbW9kZSA9PT0gXCJ5YW1sXCJ9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IucmVuYW1lXCIpfVxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uIHNsb3Q9XCJncmFwaGljXCIgLnBhdGg9JHttZGlSZW5hbWVCb3h9PjwvaGEtc3ZnLWljb24+XG4gICAgICAgICAgPC9oYS1saXN0LWl0ZW0+XG5cbiAgICAgICAgICAke3RoaXMuX2NvbmZpZyAmJiAhKFwidXNlX2JsdWVwcmludFwiIGluIHRoaXMuX2NvbmZpZylcbiAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICA8aGEtbGlzdC1pdGVtXG4gICAgICAgICAgICAgICAgICBncmFwaGljPVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9wcm9tcHRBdXRvbWF0aW9uTW9kZX1cbiAgICAgICAgICAgICAgICAgIC5kaXNhYmxlZD0ke3RoaXMuX3JlYWRPbmx5IHx8IHRoaXMuX21vZGUgPT09IFwieWFtbFwifVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5jaGFuZ2VfbW9kZVwiXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJncmFwaGljXCJcbiAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHttZGlEZWJ1Z1N0ZXBPdmVyfVxuICAgICAgICAgICAgICAgICAgPjwvaGEtc3ZnLWljb24+XG4gICAgICAgICAgICAgICAgPC9oYS1saXN0LWl0ZW0+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgIDogXCJcIn1cblxuICAgICAgICAgIDxoYS1saXN0LWl0ZW1cbiAgICAgICAgICAgIC5kaXNhYmxlZD0keyF0aGlzLl9yZWFkT25seSAmJiAhdGhpcy5hdXRvbWF0aW9uSWR9XG4gICAgICAgICAgICBncmFwaGljPVwiaWNvblwiXG4gICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl9kdXBsaWNhdGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIHRoaXMuX3JlYWRPbmx5XG4gICAgICAgICAgICAgICAgPyBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5taWdyYXRlXCJcbiAgICAgICAgICAgICAgICA6IFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmR1cGxpY2F0ZVwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgIHNsb3Q9XCJncmFwaGljXCJcbiAgICAgICAgICAgICAgLnBhdGg9JHttZGlDb250ZW50RHVwbGljYXRlfVxuICAgICAgICAgICAgPjwvaGEtc3ZnLWljb24+XG4gICAgICAgICAgPC9oYS1saXN0LWl0ZW0+XG5cbiAgICAgICAgICA8bGkgZGl2aWRlciByb2xlPVwic2VwYXJhdG9yXCI+PC9saT5cblxuICAgICAgICAgIDxoYS1saXN0LWl0ZW0gZ3JhcGhpYz1cImljb25cIiBAY2xpY2s9JHt0aGlzLl9zd2l0Y2hVaU1vZGV9PlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZWRpdF91aVwiKX1cbiAgICAgICAgICAgICR7dGhpcy5fbW9kZSA9PT0gXCJndWlcIlxuICAgICAgICAgICAgICA/IGh0bWxgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInNlbGVjdGVkX21lbnVfaXRlbVwiXG4gICAgICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUNoZWNrfVxuICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPmBcbiAgICAgICAgICAgICAgOiBgYH1cbiAgICAgICAgICA8L2hhLWxpc3QtaXRlbT5cbiAgICAgICAgICA8aGEtbGlzdC1pdGVtIGdyYXBoaWM9XCJpY29uXCIgQGNsaWNrPSR7dGhpcy5fc3dpdGNoWWFtbE1vZGV9PlxuICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZWRpdF95YW1sXCIpfVxuICAgICAgICAgICAgJHt0aGlzLl9tb2RlID09PSBcInlhbWxcIlxuICAgICAgICAgICAgICA/IGh0bWxgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInNlbGVjdGVkX21lbnVfaXRlbVwiXG4gICAgICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUNoZWNrfVxuICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPmBcbiAgICAgICAgICAgICAgOiBgYH1cbiAgICAgICAgICA8L2hhLWxpc3QtaXRlbT5cblxuICAgICAgICAgIDxsaSBkaXZpZGVyIHJvbGU9XCJzZXBhcmF0b3JcIj48L2xpPlxuXG4gICAgICAgICAgPGhhLWxpc3QtaXRlbVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgICAgLmRpc2FibGVkPSR7IXN0YXRlT2JqfVxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fdG9nZ2xlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgICR7c3RhdGVPYmo/LnN0YXRlID09PSBcIm9mZlwiXG4gICAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmVuYWJsZVwiKVxuICAgICAgICAgICAgICA6IHRoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5kaXNhYmxlXCIpfVxuICAgICAgICAgICAgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgIHNsb3Q9XCJncmFwaGljXCJcbiAgICAgICAgICAgICAgLnBhdGg9JHtzdGF0ZU9iaj8uc3RhdGUgPT09IFwib2ZmXCJcbiAgICAgICAgICAgICAgICA/IG1kaVBsYXlDaXJjbGVPdXRsaW5lXG4gICAgICAgICAgICAgICAgOiBtZGlTdG9wQ2lyY2xlT3V0bGluZX1cbiAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgIDwvaGEtbGlzdC1pdGVtPlxuXG4gICAgICAgICAgPGhhLWxpc3QtaXRlbVxuICAgICAgICAgICAgLmRpc2FibGVkPSR7IXRoaXMuYXV0b21hdGlvbklkfVxuICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7IHdhcm5pbmc6IEJvb2xlYW4odGhpcy5hdXRvbWF0aW9uSWQpIH0pfVxuICAgICAgICAgICAgZ3JhcGhpYz1cImljb25cIlxuICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fZGVsZXRlQ29uZmlybX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kZWxldGVcIil9XG4gICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7IHdhcm5pbmc6IEJvb2xlYW4odGhpcy5hdXRvbWF0aW9uSWQpIH0pfVxuICAgICAgICAgICAgICBzbG90PVwiZ3JhcGhpY1wiXG4gICAgICAgICAgICAgIC5wYXRoPSR7bWRpRGVsZXRlfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9oYS1zdmctaWNvbj5cbiAgICAgICAgICA8L2hhLWxpc3QtaXRlbT5cbiAgICAgICAgPC9oYS1idXR0b24tbWVudT5cblxuICAgICAgICAke3RoaXMuX2NvbmZpZ1xuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiY29udGVudCAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgICAgICAgIFwieWFtbC1tb2RlXCI6IHRoaXMuX21vZGUgPT09IFwieWFtbFwiLFxuICAgICAgICAgICAgICAgIH0pfVwiXG4gICAgICAgICAgICAgICAgQHN1YnNjcmliZS1hdXRvbWF0aW9uLWNvbmZpZz0ke3RoaXMuX3N1YnNjcmliZUF1dG9tYXRpb25Db25maWd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAke3RoaXMuX2Vycm9ycyB8fCBzdGF0ZU9iaj8uc3RhdGUgPT09IFVOQVZBSUxBQkxFXG4gICAgICAgICAgICAgICAgICA/IGh0bWxgPGhhLWFsZXJ0XG4gICAgICAgICAgICAgICAgICAgICAgYWxlcnQtdHlwZT1cImVycm9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAudGl0bGU9JHtzdGF0ZU9iaj8uc3RhdGUgPT09IFVOQVZBSUxBQkxFXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci51bmF2YWlsYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLl9lcnJvcnMgfHwgdGhpcy5fdmFsaWRhdGlvbkVycm9yc31cbiAgICAgICAgICAgICAgICAgICAgICAke3N0YXRlT2JqPy5zdGF0ZSA9PT0gVU5BVkFJTEFCTEVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHttZGlSb2JvdENvbmZ1c2VkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5vdGhpbmd9XG4gICAgICAgICAgICAgICAgICAgIDwvaGEtYWxlcnQ+YFxuICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICR7dGhpcy5fbW9kZSA9PT0gXCJndWlcIlxuICAgICAgICAgICAgICAgICAgPyBcInVzZV9ibHVlcHJpbnRcIiBpbiB0aGlzLl9jb25maWdcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJsdWVwcmludC1hdXRvbWF0aW9uLWVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuaXNXaWRlPSR7dGhpcy5pc1dpZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5zdGF0ZU9iaj0ke3N0YXRlT2JqfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uZmlnPSR7dGhpcy5fY29uZmlnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuZGlzYWJsZWQ9JHtCb29sZWFuKHRoaXMuX3JlYWRPbmx5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl92YWx1ZUNoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEBkdXBsaWNhdGU9JHt0aGlzLl9kdXBsaWNhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9ibHVlcHJpbnQtYXV0b21hdGlvbi1lZGl0b3I+XG4gICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICA8bWFudWFsLWF1dG9tYXRpb24tZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5pc1dpZGU9JHt0aGlzLmlzV2lkZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0YXRlT2JqPSR7c3RhdGVPYmp9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25maWc9JHt0aGlzLl9jb25maWd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNhYmxlZD0ke0Jvb2xlYW4odGhpcy5fcmVhZE9ubHkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBAdmFsdWUtY2hhbmdlZD0ke3RoaXMuX3ZhbHVlQ2hhbmdlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQGR1cGxpY2F0ZT0ke3RoaXMuX2R1cGxpY2F0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L21hbnVhbC1hdXRvbWF0aW9uLWVkaXRvcj5cbiAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICA6IHRoaXMuX21vZGUgPT09IFwieWFtbFwiXG4gICAgICAgICAgICAgICAgICAgID8gaHRtbGAgJHt0aGlzLl9yZWFkT25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPGhhLWFsZXJ0IGFsZXJ0LXR5cGU9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IucmVhZF9vbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bXdjLWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwiYWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fZHVwbGljYXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5taWdyYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2hhLWFsZXJ0PmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzdGF0ZU9iaj8uc3RhdGUgPT09IFwib2ZmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWFsZXJ0IGFsZXJ0LXR5cGU9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmRpc2FibGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG13Yy1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwiYWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9JHt0aGlzLl90b2dnbGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmVuYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oYS1hbGVydD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoYS15YW1sLWVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5Q2xpcGJvYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAuZGVmYXVsdFZhbHVlPSR7dGhpcy5fcHJlcHJvY2Vzc1lhbWwoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlYWRPbmx5PSR7dGhpcy5fcmVhZE9ubHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5feWFtbENoYW5nZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9oYS15YW1sLWVkaXRvcj5gXG4gICAgICAgICAgICAgICAgICAgIDogbm90aGluZ31cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgOiBcIlwifVxuICAgICAgICA8aGEtZmFiXG4gICAgICAgICAgc2xvdD1cImZhYlwiXG4gICAgICAgICAgY2xhc3M9JHtjbGFzc01hcCh7IGRpcnR5OiB0aGlzLl9kaXJ0eSB9KX1cbiAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3Iuc2F2ZVwiKX1cbiAgICAgICAgICBleHRlbmRlZFxuICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3NhdmVBdXRvbWF0aW9ufVxuICAgICAgICA+XG4gICAgICAgICAgPGhhLXN2Zy1pY29uIHNsb3Q9XCJpY29uXCIgLnBhdGg9JHttZGlDb250ZW50U2F2ZX0+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgPC9oYS1mYWI+XG4gICAgICA8L2hhc3Mtc3VicGFnZT5cbiAgICBgO1xuICB9XG5cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoY2hhbmdlZFByb3BzOiBQcm9wZXJ0eVZhbHVlcyk6IHZvaWQge1xuICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BzKTtcblxuICAgIGNvbnN0IG9sZEF1dG9tYXRpb25JZCA9IGNoYW5nZWRQcm9wcy5nZXQoXCJhdXRvbWF0aW9uSWRcIik7XG4gICAgaWYgKFxuICAgICAgY2hhbmdlZFByb3BzLmhhcyhcImF1dG9tYXRpb25JZFwiKSAmJlxuICAgICAgdGhpcy5hdXRvbWF0aW9uSWQgJiZcbiAgICAgIHRoaXMuaGFzcyAmJlxuICAgICAgLy8gT25seSByZWZyZXNoIGNvbmZpZyBpZiB3ZSBwaWNrZWQgYSBuZXcgYXV0b21hdGlvbi4gSWYgc2FtZSBJRCwgZG9uJ3QgZmV0Y2ggaXQuXG4gICAgICBvbGRBdXRvbWF0aW9uSWQgIT09IHRoaXMuYXV0b21hdGlvbklkXG4gICAgKSB7XG4gICAgICB0aGlzLl9zZXRFbnRpdHlJZCgpO1xuICAgICAgdGhpcy5fbG9hZENvbmZpZygpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIGNoYW5nZWRQcm9wcy5oYXMoXCJhdXRvbWF0aW9uSWRcIikgJiZcbiAgICAgICF0aGlzLmF1dG9tYXRpb25JZCAmJlxuICAgICAgIXRoaXMuZW50aXR5SWQgJiZcbiAgICAgIHRoaXMuaGFzc1xuICAgICkge1xuICAgICAgY29uc3QgaW5pdERhdGEgPSBnZXRBdXRvbWF0aW9uRWRpdG9ySW5pdERhdGEoKTtcbiAgICAgIGxldCBiYXNlQ29uZmlnOiBQYXJ0aWFsPEF1dG9tYXRpb25Db25maWc+ID0geyBkZXNjcmlwdGlvbjogXCJcIiB9O1xuICAgICAgaWYgKCFpbml0RGF0YSB8fCAhKFwidXNlX2JsdWVwcmludFwiIGluIGluaXREYXRhKSkge1xuICAgICAgICBiYXNlQ29uZmlnID0ge1xuICAgICAgICAgIC4uLmJhc2VDb25maWcsXG4gICAgICAgICAgbW9kZTogXCJzaW5nbGVcIixcbiAgICAgICAgICB0cmlnZ2VyOiBbXSxcbiAgICAgICAgICBjb25kaXRpb246IFtdLFxuICAgICAgICAgIGFjdGlvbjogW10sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLl9jb25maWcgPSB7XG4gICAgICAgIC4uLmJhc2VDb25maWcsXG4gICAgICAgIC4uLmluaXREYXRhLFxuICAgICAgfSBhcyBBdXRvbWF0aW9uQ29uZmlnO1xuICAgICAgdGhpcy5fZW50aXR5SWQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9yZWFkT25seSA9IGZhbHNlO1xuICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiZW50aXR5SWRcIikgJiYgdGhpcy5lbnRpdHlJZCkge1xuICAgICAgZ2V0QXV0b21hdGlvblN0YXRlQ29uZmlnKHRoaXMuaGFzcywgdGhpcy5lbnRpdHlJZCkudGhlbigoYykgPT4ge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9ub3JtYWxpemVDb25maWcoYy5jb25maWcpO1xuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkYXRpb24oKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZW50aXR5SWQgPSB0aGlzLmVudGl0eUlkO1xuICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3JlYWRPbmx5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwiYXV0b21hdGlvbnNcIikgJiZcbiAgICAgIHRoaXMuYXV0b21hdGlvbklkICYmXG4gICAgICAhdGhpcy5fZW50aXR5SWRcbiAgICApIHtcbiAgICAgIHRoaXMuX3NldEVudGl0eUlkKCk7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJfY29uZmlnXCIpKSB7XG4gICAgICBPYmplY3QudmFsdWVzKHRoaXMuX2NvbmZpZ1N1YnNjcmlwdGlvbnMpLmZvckVhY2goKHN1YikgPT5cbiAgICAgICAgc3ViKHRoaXMuX2NvbmZpZylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfc2V0RW50aXR5SWQoKSB7XG4gICAgY29uc3QgYXV0b21hdGlvbiA9IHRoaXMuYXV0b21hdGlvbnMuZmluZChcbiAgICAgIChlbnRpdHk6IEF1dG9tYXRpb25FbnRpdHkpID0+IGVudGl0eS5hdHRyaWJ1dGVzLmlkID09PSB0aGlzLmF1dG9tYXRpb25JZFxuICAgICk7XG4gICAgdGhpcy5fZW50aXR5SWQgPSBhdXRvbWF0aW9uPy5lbnRpdHlfaWQ7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9jaGVja1ZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdmFsaWRhdGlvbkVycm9ycyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoIXRoaXMuX2VudGl0eUlkIHx8ICF0aGlzLl9jb25maWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLmhhc3Muc3RhdGVzW3RoaXMuX2VudGl0eUlkXTtcbiAgICBpZiAoc3RhdGVPYmo/LnN0YXRlICE9PSBVTkFWQUlMQUJMRSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZGF0aW9uID0gYXdhaXQgdmFsaWRhdGVDb25maWcodGhpcy5oYXNzLCB7XG4gICAgICB0cmlnZ2VyOiB0aGlzLl9jb25maWcudHJpZ2dlcixcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5fY29uZmlnLmNvbmRpdGlvbixcbiAgICAgIGFjdGlvbjogdGhpcy5fY29uZmlnLmFjdGlvbixcbiAgICB9KTtcbiAgICB0aGlzLl92YWxpZGF0aW9uRXJyb3JzID0gKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsaWRhdGlvbikgYXMgRW50cmllczx0eXBlb2YgdmFsaWRhdGlvbj5cbiAgICApLm1hcCgoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgdmFsdWUudmFsaWRcbiAgICAgICAgPyBcIlwiXG4gICAgICAgIDogaHRtbGAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgYHVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci4ke2tleX1zLm5hbWVgXG4gICAgICAgICAgICApfTpcbiAgICAgICAgICAgICR7dmFsdWUuZXJyb3J9PGJyIC8+YFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIF9ub3JtYWxpemVDb25maWcoY29uZmlnOiBBdXRvbWF0aW9uQ29uZmlnKTogQXV0b21hdGlvbkNvbmZpZyB7XG4gICAgLy8gTm9ybWFsaXplIGRhdGE6IGVuc3VyZSB0cmlnZ2VyLCBhY3Rpb24gYW5kIGNvbmRpdGlvbiBhcmUgbGlzdHNcbiAgICAvLyBIYXBwZW5zIHdoZW4gcGVvcGxlIGNvcHkgcGFzdGUgdGhlaXIgYXV0b21hdGlvbnMgaW50byB0aGUgY29uZmlnXG4gICAgZm9yIChjb25zdCBrZXkgb2YgW1widHJpZ2dlclwiLCBcImNvbmRpdGlvblwiLCBcImFjdGlvblwiXSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBjb25maWdba2V5XTtcbiAgICAgIGlmICh2YWx1ZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgY29uZmlnW2tleV0gPSBbdmFsdWVdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfbG9hZENvbmZpZygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uZmlnID0gYXdhaXQgZmV0Y2hBdXRvbWF0aW9uRmlsZUNvbmZpZyhcbiAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICB0aGlzLmF1dG9tYXRpb25JZCBhcyBzdHJpbmdcbiAgICAgICk7XG4gICAgICB0aGlzLl9kaXJ0eSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuX25vcm1hbGl6ZUNvbmZpZyhjb25maWcpO1xuICAgICAgdGhpcy5fY2hlY2tWYWxpZGF0aW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnN0IGVudGl0eVJlZ2lzdHJ5ID0gYXdhaXQgZmV0Y2hFbnRpdHlSZWdpc3RyeSh0aGlzLmhhc3MuY29ubmVjdGlvbik7XG4gICAgICBjb25zdCBlbnRpdHkgPSBlbnRpdHlSZWdpc3RyeS5maW5kKFxuICAgICAgICAoZW50KSA9PlxuICAgICAgICAgIGVudC5wbGF0Zm9ybSA9PT0gXCJhdXRvbWF0aW9uXCIgJiYgZW50LnVuaXF1ZV9pZCA9PT0gdGhpcy5hdXRvbWF0aW9uSWRcbiAgICAgICk7XG4gICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgIG5hdmlnYXRlKGAvY29uZmlnL2F1dG9tYXRpb24vc2hvdy8ke2VudGl0eS5lbnRpdHlfaWR9YCwge1xuICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhd2FpdCBzaG93QWxlcnREaWFsb2codGhpcywge1xuICAgICAgICB0ZXh0OlxuICAgICAgICAgIGVyci5zdGF0dXNfY29kZSA9PT0gNDA0XG4gICAgICAgICAgICA/IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5sb2FkX2Vycm9yX25vdF9lZGl0YWJsZVwiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmxvYWRfZXJyb3JfdW5rbm93blwiLFxuICAgICAgICAgICAgICAgIHsgZXJyX25vOiBlcnIuc3RhdHVzX2NvZGUgfVxuICAgICAgICAgICAgICApLFxuICAgICAgfSk7XG4gICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF92YWx1ZUNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50PHsgdmFsdWU6IEF1dG9tYXRpb25Db25maWcgfT4pIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLl9jb25maWcgPSBldi5kZXRhaWwudmFsdWU7XG4gICAgaWYgKHRoaXMuX3JlYWRPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICB0aGlzLl9lcnJvcnMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIF9zaG93SW5mbygpIHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5fZW50aXR5SWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwiaGFzcy1tb3JlLWluZm9cIiwgeyBlbnRpdHlJZDogdGhpcy5fZW50aXR5SWQgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9zaG93VHJhY2UoKSB7XG4gICAgaWYgKHRoaXMuX2NvbmZpZz8uaWQpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY29uZmlybVVuc2F2ZWRDaGFuZ2VkKCk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIG5hdmlnYXRlKGAvY29uZmlnL2F1dG9tYXRpb24vdHJhY2UvJHt0aGlzLl9jb25maWcuaWR9YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfcnVuQWN0aW9ucygpIHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5fZW50aXR5SWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJpZ2dlckF1dG9tYXRpb25BY3Rpb25zKFxuICAgICAgdGhpcy5oYXNzLFxuICAgICAgdGhpcy5oYXNzLnN0YXRlc1t0aGlzLl9lbnRpdHlJZF0uZW50aXR5X2lkXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3RvZ2dsZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5fZW50aXR5SWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGVPYmogPSB0aGlzLmhhc3Muc3RhdGVzW3RoaXMuX2VudGl0eUlkXTtcbiAgICBjb25zdCBzZXJ2aWNlID0gc3RhdGVPYmouc3RhdGUgPT09IFwib2ZmXCIgPyBcInR1cm5fb25cIiA6IFwidHVybl9vZmZcIjtcbiAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoXCJhdXRvbWF0aW9uXCIsIHNlcnZpY2UsIHtcbiAgICAgIGVudGl0eV9pZDogc3RhdGVPYmouZW50aXR5X2lkLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfcHJlcHJvY2Vzc1lhbWwoKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgY2xlYW5Db25maWc6IEF1dG9tYXRpb25Db25maWcgPSB7IC4uLnRoaXMuX2NvbmZpZyB9O1xuICAgIGRlbGV0ZSBjbGVhbkNvbmZpZy5pZDtcbiAgICByZXR1cm4gY2xlYW5Db25maWc7XG4gIH1cblxuICBwcml2YXRlIF95YW1sQ2hhbmdlZChldjogQ3VzdG9tRXZlbnQpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIWV2LmRldGFpbC5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IHsgaWQ6IHRoaXMuX2NvbmZpZz8uaWQsIC4uLmV2LmRldGFpbC52YWx1ZSB9O1xuICAgIHRoaXMuX2Vycm9ycyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNvbmZpcm1VbnNhdmVkQ2hhbmdlZCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5fZGlydHkpIHtcbiAgICAgIHJldHVybiBzaG93Q29uZmlybWF0aW9uRGlhbG9nKHRoaXMsIHtcbiAgICAgICAgdGl0bGU6IHRoaXMuaGFzcyEubG9jYWxpemUoXG4gICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IudW5zYXZlZF9jb25maXJtX3RpdGxlXCJcbiAgICAgICAgKSxcbiAgICAgICAgdGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci51bnNhdmVkX2NvbmZpcm1fdGV4dFwiXG4gICAgICAgICksXG4gICAgICAgIGNvbmZpcm1UZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLmxlYXZlXCIpLFxuICAgICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5zdGF5XCIpLFxuICAgICAgICBkZXN0cnVjdGl2ZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2JhY2tUYXBwZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jb25maXJtVW5zYXZlZENoYW5nZWQoKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBhZnRlck5leHRSZW5kZXIoKCkgPT4gaGlzdG9yeS5iYWNrKCkpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGFzeW5jIF9kdXBsaWNhdGUoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcmVhZE9ubHlcbiAgICAgID8gYXdhaXQgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyh0aGlzLCB7XG4gICAgICAgICAgdGl0bGU6IFwiTWlncmF0ZSBhdXRvbWF0aW9uP1wiLFxuICAgICAgICAgIHRleHQ6IFwiWW91IGNhbiBtaWdyYXRlIHRoaXMgYXV0b21hdGlvbiwgc28gaXQgY2FuIGJlIGVkaXRlZCBmcm9tIHRoZSBVSS4gQWZ0ZXIgaXQgaXMgbWlncmF0ZWQgYW5kIHlvdSBoYXZlIHNhdmVkIGl0LCB5b3Ugd2lsbCBoYXZlIHRvIG1hbnVhbGx5IGRlbGV0ZSB5b3VyIG9sZCBhdXRvbWF0aW9uIGZyb20geW91ciBjb25maWd1cmF0aW9uLiBEbyB5b3Ugd2FudCB0byBtaWdyYXRlIHRoaXMgYXV0b21hdGlvbj9cIixcbiAgICAgICAgfSlcbiAgICAgIDogYXdhaXQgdGhpcy5jb25maXJtVW5zYXZlZENoYW5nZWQoKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBzaG93QXV0b21hdGlvbkVkaXRvcih7XG4gICAgICAgIC4uLnRoaXMuX2NvbmZpZyxcbiAgICAgICAgaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxpYXM6IHRoaXMuX3JlYWRPbmx5ID8gdGhpcy5fY29uZmlnPy5hbGlhcyA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2RlbGV0ZUNvbmZpcm0oKSB7XG4gICAgc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyh0aGlzLCB7XG4gICAgICB0aXRsZTogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kZWxldGVfY29uZmlybV90aXRsZVwiXG4gICAgICApLFxuICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kZWxldGVfY29uZmlybV90ZXh0XCIsXG4gICAgICAgIHsgbmFtZTogdGhpcy5fY29uZmlnPy5hbGlhcyB9XG4gICAgICApLFxuICAgICAgY29uZmlybVRleHQ6IHRoaXMuaGFzcyEubG9jYWxpemUoXCJ1aS5jb21tb24uZGVsZXRlXCIpLFxuICAgICAgZGVzdHJ1Y3RpdmU6IHRydWUsXG4gICAgICBkaXNtaXNzVGV4dDogdGhpcy5oYXNzIS5sb2NhbGl6ZShcInVpLmNvbW1vbi5jYW5jZWxcIiksXG4gICAgICBjb25maXJtOiAoKSA9PiB0aGlzLl9kZWxldGUoKSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2RlbGV0ZSgpIHtcbiAgICBpZiAodGhpcy5hdXRvbWF0aW9uSWQpIHtcbiAgICAgIGF3YWl0IGRlbGV0ZUF1dG9tYXRpb24odGhpcy5oYXNzLCB0aGlzLmF1dG9tYXRpb25JZCk7XG4gICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zd2l0Y2hVaU1vZGUoKSB7XG4gICAgdGhpcy5fbW9kZSA9IFwiZ3VpXCI7XG4gIH1cblxuICBwcml2YXRlIF9zd2l0Y2hZYW1sTW9kZSgpIHtcbiAgICB0aGlzLl9tb2RlID0gXCJ5YW1sXCI7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9wcm9tcHRBdXRvbWF0aW9uQWxpYXMoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzaG93QXV0b21hdGlvblJlbmFtZURpYWxvZyh0aGlzLCB7XG4gICAgICAgIGNvbmZpZzogdGhpcy5fY29uZmlnISxcbiAgICAgICAgdXBkYXRlQXV0b21hdGlvbjogKGNvbmZpZykgPT4ge1xuICAgICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbG9zZTogKCkgPT4gcmVzb2x2ZShmYWxzZSksXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3Byb21wdEF1dG9tYXRpb25Nb2RlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc2hvd0F1dG9tYXRpb25Nb2RlRGlhbG9nKHRoaXMsIHtcbiAgICAgICAgY29uZmlnOiB0aGlzLl9jb25maWchLFxuICAgICAgICB1cGRhdGVBdXRvbWF0aW9uOiAoY29uZmlnKSA9PiB7XG4gICAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHJlc29sdmUoKSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfc2F2ZUF1dG9tYXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmF1dG9tYXRpb25JZCB8fCBTdHJpbmcoRGF0ZS5ub3coKSk7XG4gICAgaWYgKCF0aGlzLmF1dG9tYXRpb25JZCkge1xuICAgICAgY29uc3Qgc2F2ZWQgPSBhd2FpdCB0aGlzLl9wcm9tcHRBdXRvbWF0aW9uQWxpYXMoKTtcbiAgICAgIGlmICghc2F2ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3ZhbGlkYXRpb25FcnJvcnMgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHNhdmVBdXRvbWF0aW9uQ29uZmlnKHRoaXMuaGFzcywgaWQsIHRoaXMuX2NvbmZpZyEpO1xuICAgIH0gY2F0Y2ggKGVycm9yczogYW55KSB7XG4gICAgICB0aGlzLl9lcnJvcnMgPSBlcnJvcnMuYm9keS5tZXNzYWdlIHx8IGVycm9ycy5lcnJvciB8fCBlcnJvcnMuYm9keTtcbiAgICAgIHNob3dUb2FzdCh0aGlzLCB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9ycy5ib2R5Lm1lc3NhZ2UgfHwgZXJyb3JzLmVycm9yIHx8IGVycm9ycy5ib2R5LFxuICAgICAgfSk7XG4gICAgICB0aHJvdyBlcnJvcnM7XG4gICAgfVxuXG4gICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5hdXRvbWF0aW9uSWQpIHtcbiAgICAgIG5hdmlnYXRlKGAvY29uZmlnL2F1dG9tYXRpb24vZWRpdC8ke2lkfWAsIHsgcmVwbGFjZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zdWJzY3JpYmVBdXRvbWF0aW9uQ29uZmlnKGV2KSB7XG4gICAgY29uc3QgaWQgPSB0aGlzLl9jb25maWdTdWJzY3JpcHRpb25zSWQrKztcbiAgICB0aGlzLl9jb25maWdTdWJzY3JpcHRpb25zW2lkXSA9IGV2LmRldGFpbC5jYWxsYmFjaztcbiAgICBldi5kZXRhaWwudW5zdWIgPSAoKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5fY29uZmlnU3Vic2NyaXB0aW9uc1tpZF07XG4gICAgfTtcbiAgICBldi5kZXRhaWwuY2FsbGJhY2sodGhpcy5fY29uZmlnKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBoYW5kbGVLZXlib2FyZFNhdmUoKSB7XG4gICAgdGhpcy5fc2F2ZUF1dG9tYXRpb24oKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgaGFTdHlsZSxcbiAgICAgIGNzc2BcbiAgICAgICAgLmNvbnRlbnQge1xuICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC55YW1sLW1vZGUge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7XG4gICAgICAgIH1cbiAgICAgICAgbWFudWFsLWF1dG9tYXRpb24tZWRpdG9yLFxuICAgICAgICBibHVlcHJpbnQtYXV0b21hdGlvbi1lZGl0b3Ige1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIG1heC13aWR0aDogMTA0MHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDI4cHggMjBweCAwO1xuICAgICAgICB9XG4gICAgICAgIGhhLXlhbWwtZWRpdG9yIHtcbiAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgLS1hY3Rpb25zLWJvcmRlci1yYWRpdXM6IDA7XG4gICAgICAgICAgLS1jb2RlLW1pcnJvci1oZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgbWluLWhlaWdodDogMDtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcCB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICBoYS1lbnRpdHktdG9nZ2xlIHtcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAgICAgICBtYXJnaW4taW5saW5lLWVuZDogOHB4O1xuICAgICAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IGluaXRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgaGEtZmFiIHtcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgYm90dG9tOiBjYWxjKC04MHB4IC0gZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pKTtcbiAgICAgICAgICB0cmFuc2l0aW9uOiBib3R0b20gMC4zcztcbiAgICAgICAgfVxuICAgICAgICBoYS1mYWIuZGlydHkge1xuICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICAuc2VsZWN0ZWRfbWVudV9pdGVtIHtcbiAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGlbcm9sZT1cInNlcGFyYXRvclwiXSB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgaGEtYnV0dG9uLW1lbnUgYSB7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICBoMSB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXItbmFtZSB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIG1heC13aWR0aDogMTA0MHB4O1xuICAgICAgICAgIHBhZGRpbmc6IDI4cHggMjBweCAwO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiaGEtYXV0b21hdGlvbi1lZGl0b3JcIiwgSGFBdXRvbWF0aW9uRWRpdG9yKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/config/automation/ha-automation-editor.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/ha-automation-picker.ts":
/*!**************************************************************!*\
  !*** ./src/panels/config/automation/ha-automation-picker.ts ***!
  \**************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _lrnwebcomponents_simple_tooltip_simple_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lrnwebcomponents/simple-tooltip/simple-tooltip */ \"./node_modules/@lrnwebcomponents/simple-tooltip/simple-tooltip.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/differenceInDays/index.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/datetime/format_date_time */ \"./src/common/datetime/format_date_time.ts\");\n/* harmony import */ var _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/datetime/relative_time */ \"./src/common/datetime/relative_time.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _components_ha_button_related_filter_menu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-button-related-filter-menu */ \"./src/components/ha-button-related-filter-menu.ts\");\n/* harmony import */ var _components_ha_label__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/ha-label */ \"./src/components/ha-label.ts\");\n/* harmony import */ var _components_ha_fab__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/ha-fab */ \"./src/components/ha-fab.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_icon_overflow_menu__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../components/ha-icon-overflow-menu */ \"./src/components/ha-icon-overflow-menu.ts\");\n/* harmony import */ var _components_ha_svg_icon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../components/ha-svg-icon */ \"./src/components/ha-svg-icon.ts\");\n/* harmony import */ var _data_automation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../data/automation */ \"./src/data/automation.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _layouts_hass_tabs_subpage_data_table__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../layouts/hass-tabs-subpage-data-table */ \"./src/layouts/hass-tabs-subpage-data-table.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _ha_panel_config__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ha-panel-config */ \"./src/panels/config/ha-panel-config.ts\");\n/* harmony import */ var _show_dialog_new_automation__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./show-dialog-new-automation */ \"./src/panels/config/automation/show-dialog-new-automation.ts\");\n/* harmony import */ var _data_search__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../data/search */ \"./src/data/search.ts\");\n/* harmony import */ var _data_blueprint__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../data/blueprint */ \"./src/data/blueprint.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__]);\n([_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__, _common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\nconst mdiCancel = \"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\";\nconst mdiContentDuplicate = \"M11,17H4A2,2 0 0,1 2,15V3A2,2 0 0,1 4,1H16V3H4V15H11V13L15,16L11,19V17M19,21V7H8V13H6V7A2,2 0 0,1 8,5H19A2,2 0 0,1 21,7V21A2,2 0 0,1 19,23H8A2,2 0 0,1 6,21V19H8V21H19Z\";\nconst mdiDelete = \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\";\nconst mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\nconst mdiInformationOutline = \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\";\nconst mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nconst mdiPlayCircleOutline = \"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z\";\nconst mdiPlus = \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\";\nconst mdiRobotHappy = \"M22 14H21C21 10.13 17.87 7 14 7H13V5.73C13.6 5.39 14 4.74 14 4C14 2.9 13.11 2 12 2S10 2.9 10 4C10 4.74 10.4 5.39 11 5.73V7H10C6.13 7 3 10.13 3 14H2C1.45 14 1 14.45 1 15V18C1 18.55 1.45 19 2 19H3V20C3 21.11 3.9 22 5 22H19C20.11 22 21 21.11 21 20V19H22C22.55 19 23 18.55 23 18V15C23 14.45 22.55 14 22 14M9.79 16.5C9.4 15.62 8.53 15 7.5 15S5.6 15.62 5.21 16.5C5.08 16.19 5 15.86 5 15.5C5 14.12 6.12 13 7.5 13S10 14.12 10 15.5C10 15.86 9.92 16.19 9.79 16.5M18.79 16.5C18.4 15.62 17.5 15 16.5 15S14.6 15.62 14.21 16.5C14.08 16.19 14 15.86 14 15.5C14 14.12 15.12 13 16.5 13S19 14.12 19 15.5C19 15.86 18.92 16.19 18.79 16.5Z\";\nconst mdiStopCircleOutline = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9\";\nconst mdiTransitConnection = \"M15,12C15,10.7 14.16,9.6 13,9.18V6.82C14.16,6.4 15,5.3 15,4A3,3 0 0,0 12,1A3,3 0 0,0 9,4C9,5.3 9.84,6.4 11,6.82V9.19C9.84,9.6 9,10.7 9,12C9,13.3 9.84,14.4 11,14.82V17.18C9.84,17.6 9,18.7 9,20A3,3 0 0,0 12,23A3,3 0 0,0 15,20C15,18.7 14.16,17.6 13,17.18V14.82C14.16,14.4 15,13.3 15,12M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M12,21A1,1 0 0,1 11,20A1,1 0 0,1 12,19A1,1 0 0,1 13,20A1,1 0 0,1 12,21Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HaAutomationPicker = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-automation-picker\")], function (_initialize, _LitElement) {\n  class HaAutomationPicker extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaAutomationPicker,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"automations\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.state)()],\n      key: \"_activeFilters\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.state)()],\n      key: \"_searchParms\",\n      value() {\n        return new URLSearchParams(window.location.search);\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.state)()],\n      key: \"_filteredAutomations\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.state)()],\n      key: \"_filterValue\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_automations\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_27__[\"default\"])((automations, filteredAutomations) => {\n          if (filteredAutomations === null) {\n            return [];\n          }\n          return (filteredAutomations ? automations.filter(automation => filteredAutomations.includes(automation.entity_id)) : automations).map(automation => ({\n            ...automation,\n            name: (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_9__.computeStateName)(automation),\n            last_triggered: automation.attributes.last_triggered || undefined,\n            disabled: automation.state === \"off\"\n          }));\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_columns\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_27__[\"default\"])((narrow, _locale) => {\n          const columns = {\n            icon: {\n              title: \"\",\n              label: this.hass.localize(\"ui.panel.config.automation.picker.headers.state\"),\n              type: \"icon\",\n              template: automation => (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<ha-state-icon\n              .hass=${this.hass}\n              .stateObj=${automation}\n              style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_4__.styleMap)({\n                color: automation.state === _data_entity__WEBPACK_IMPORTED_MODULE_26__.UNAVAILABLE ? \"var(--error-color)\" : \"unset\"\n              })}\n            ></ha-state-icon>`\n            },\n            name: {\n              title: this.hass.localize(\"ui.panel.config.automation.picker.headers.name\"),\n              main: true,\n              sortable: true,\n              filterable: true,\n              direction: \"asc\",\n              grows: true,\n              template: narrow ? automation => {\n                const date = new Date(automation.attributes.last_triggered);\n                const now = new Date();\n                const dayDifference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(now, date);\n                return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n                  ${automation.name}\n                  <div class=\"secondary\">\n                    ${this.hass.localize(\"ui.card.automation.last_triggered\")}:\n                    ${automation.attributes.last_triggered ? dayDifference > 3 ? (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__.formatShortDateTime)(date, this.hass.locale, this.hass.config) : (0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__.relativeTime)(date, this.hass.locale) : this.hass.localize(\"ui.components.relative_time.never\")}\n                  </div>\n                `;\n              } : undefined\n            }\n          };\n          if (!narrow) {\n            columns.last_triggered = {\n              sortable: true,\n              width: \"20%\",\n              title: this.hass.localize(\"ui.card.automation.last_triggered\"),\n              template: automation => {\n                if (!automation.last_triggered) {\n                  return this.hass.localize(\"ui.components.relative_time.never\");\n                }\n                const date = new Date(automation.last_triggered);\n                const now = new Date();\n                const dayDifference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_28__[\"default\"])(now, date);\n                return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n              ${dayDifference > 3 ? (0,_common_datetime_format_date_time__WEBPACK_IMPORTED_MODULE_6__.formatShortDateTime)(date, this.hass.locale, this.hass.config) : (0,_common_datetime_relative_time__WEBPACK_IMPORTED_MODULE_7__.relativeTime)(date, this.hass.locale)}\n            `;\n              }\n            };\n          }\n          columns.disabled = this.narrow ? {\n            title: \"\",\n            template: automation => automation.disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n                    <simple-tooltip animation-delay=\"0\" position=\"left\">\n                      ${this.hass.localize(\"ui.panel.config.automation.picker.disabled\")}\n                    </simple-tooltip>\n                    <ha-svg-icon\n                      .path=${mdiCancel}\n                      style=\"color: var(--secondary-text-color)\"\n                    ></ha-svg-icon>\n                  ` : \"\"\n          } : {\n            width: \"20%\",\n            title: \"\",\n            template: automation => automation.disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n                    <ha-label>\n                      ${this.hass.localize(\"ui.panel.config.automation.picker.disabled\")}\n                    </ha-label>\n                  ` : \"\"\n          };\n          columns.actions = {\n            title: \"\",\n            width: this.narrow ? undefined : \"10%\",\n            type: \"overflow-menu\",\n            template: automation => (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n          <ha-icon-overflow-menu\n            .hass=${this.hass}\n            narrow\n            .items=${[{\n              path: mdiInformationOutline,\n              label: this.hass.localize(\"ui.panel.config.automation.editor.show_info\"),\n              action: () => this._showInfo(automation)\n            }, {\n              path: mdiPlay,\n              label: this.hass.localize(\"ui.panel.config.automation.editor.run\"),\n              action: () => this._runActions(automation)\n            }, {\n              path: mdiTransitConnection,\n              label: this.hass.localize(\"ui.panel.config.automation.editor.show_trace\"),\n              action: () => this._showTrace(automation)\n            }, {\n              divider: true\n            }, {\n              path: mdiContentDuplicate,\n              label: this.hass.localize(\"ui.panel.config.automation.picker.duplicate\"),\n              action: () => this.duplicate(automation)\n            }, {\n              path: automation.state === \"off\" ? mdiPlayCircleOutline : mdiStopCircleOutline,\n              label: automation.state === \"off\" ? this.hass.localize(\"ui.panel.config.automation.editor.enable\") : this.hass.localize(\"ui.panel.config.automation.editor.disable\"),\n              action: () => this._toggle(automation)\n            }, {\n              label: this.hass.localize(\"ui.panel.config.automation.picker.delete\"),\n              path: mdiDelete,\n              action: () => this._deleteConfirm(automation),\n              warning: true\n            }]}\n          >\n          </ha-icon-overflow-menu>\n        `\n          };\n          return columns;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$hass$user;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n      <hass-tabs-subpage-data-table\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        back-path=\"/config\"\n        id=\"entity_id\"\n        .route=${this.route}\n        .tabs=${_ha_panel_config__WEBPACK_IMPORTED_MODULE_22__.configSections.automations}\n        .activeFilters=${this._activeFilters}\n        .columns=${this._columns(this.narrow, this.hass.locale)}\n        .data=${this._automations(this.automations, this._filteredAutomations)}\n        .empty=${!this.automations.length}\n        @row-click=${this._handleRowClicked}\n        .noDataText=${this.hass.localize(\"ui.panel.config.automation.picker.no_automations\")}\n        @clear-filter=${this._clearFilter}\n        hasFab\n        clickable\n      >\n        <ha-icon-button\n          slot=\"toolbar-icon\"\n          .label=${this.hass.localize(\"ui.common.help\")}\n          .path=${mdiHelpCircle}\n          @click=${this._showHelp}\n        ></ha-icon-button>\n        <ha-button-related-filter-menu\n          slot=\"filter-menu\"\n          .narrow=${this.narrow}\n          .hass=${this.hass}\n          .value=${this._filterValue}\n          exclude-domains='[\"automation\"]'\n          @related-changed=${this._relatedFilterChanged}\n        >\n        </ha-button-related-filter-menu>\n        ${!this.automations.length ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<div class=\"empty\" slot=\"empty\">\n              <ha-svg-icon .path=${mdiRobotHappy}></ha-svg-icon>\n              <h1>\n                ${this.hass.localize(\"ui.panel.config.automation.picker.empty_header\")}\n              </h1>\n              <p>\n                ${this.hass.localize(\"ui.panel.config.automation.picker.empty_text_1\")}\n              </p>\n              <p>\n                ${this.hass.localize(\"ui.panel.config.automation.picker.empty_text_2\", {\n          user: ((_this$hass$user = this.hass.user) === null || _this$hass$user === void 0 ? void 0 : _this$hass$user.name) || \"Alice\"\n        })}\n              </p>\n              <a\n                href=${(0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_21__.documentationUrl)(this.hass, \"/docs/automation/editor/\")}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                <ha-button>\n                  ${this.hass.localize(\"ui.panel.config.common.learn_more\")}\n                </ha-button>\n              </a>\n            </div>` : lit__WEBPACK_IMPORTED_MODULE_2__.nothing}\n        <ha-fab\n          slot=\"fab\"\n          .label=${this.hass.localize(\"ui.panel.config.automation.picker.add_automation\")}\n          extended\n          @click=${this._createNew}\n        >\n          <ha-svg-icon slot=\"icon\" .path=${mdiPlus}></ha-svg-icon>\n        </ha-fab>\n      </hass-tabs-subpage-data-table>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated() {\n        if (this._searchParms.has(\"blueprint\")) {\n          this._filterBlueprint();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_filterBlueprint\",\n      value: async function _filterBlueprint() {\n        const blueprint = this._searchParms.get(\"blueprint\");\n        if (!blueprint) {\n          return;\n        }\n        const [related, blueprints] = await Promise.all([(0,_data_search__WEBPACK_IMPORTED_MODULE_24__.findRelated)(this.hass, \"automation_blueprint\", blueprint), (0,_data_blueprint__WEBPACK_IMPORTED_MODULE_25__.fetchBlueprints)(this.hass, \"automation\")]);\n        this._filteredAutomations = related.automation || [];\n        const blueprintMeta = blueprints[blueprint];\n        this._activeFilters = [this.hass.localize(\"ui.panel.config.automation.picker.filtered_by_blueprint\", {\n          name: !blueprintMeta || \"error\" in blueprintMeta ? blueprint : blueprintMeta.metadata.name || blueprint\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_relatedFilterChanged\",\n      value: function _relatedFilterChanged(ev) {\n        this._filterValue = ev.detail.value;\n        if (!this._filterValue) {\n          this._clearFilter();\n          return;\n        }\n        this._activeFilters = [ev.detail.filter];\n        this._filteredAutomations = ev.detail.items.automation || null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_clearFilter\",\n      value: function _clearFilter() {\n        this._filteredAutomations = undefined;\n        this._activeFilters = undefined;\n        this._filterValue = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showInfo\",\n      value: function _showInfo(automation) {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_8__.fireEvent)(this, \"hass-more-info\", {\n          entityId: automation.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_runActions\",\n      value: function _runActions(automation) {\n        (0,_data_automation__WEBPACK_IMPORTED_MODULE_17__.triggerAutomationActions)(this.hass, automation.entity_id);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showTrace\",\n      value: function _showTrace(automation) {\n        if (!automation.attributes.id) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.config.automation.picker.traces_not_available\")\n          });\n          return;\n        }\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_10__.navigate)(`/config/automation/trace/${automation.attributes.id}`);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_toggle\",\n      value: async function _toggle(automation) {\n        const service = automation.state === \"off\" ? \"turn_on\" : \"turn_off\";\n        await this.hass.callService(\"automation\", service, {\n          entity_id: automation.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_deleteConfirm\",\n      value: async function _deleteConfirm(automation) {\n        (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showConfirmationDialog)(this, {\n          title: this.hass.localize(\"ui.panel.config.automation.picker.delete_confirm_title\"),\n          text: this.hass.localize(\"ui.panel.config.automation.picker.delete_confirm_text\", {\n            name: automation.name\n          }),\n          confirmText: this.hass.localize(\"ui.common.delete\"),\n          dismissText: this.hass.localize(\"ui.common.cancel\"),\n          confirm: () => this._delete(automation),\n          destructive: true\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_delete\",\n      value: async function _delete(automation) {\n        try {\n          await (0,_data_automation__WEBPACK_IMPORTED_MODULE_17__.deleteAutomation)(this.hass, automation.attributes.id);\n        } catch (err) {\n          await (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n            text: err.status_code === 400 ? this.hass.localize(\"ui.panel.config.automation.editor.load_error_not_deletable\") : this.hass.localize(\"ui.panel.config.automation.editor.load_error_unknown\", {\n              err_no: err.status_code\n            })\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"duplicate\",\n      value: async function duplicate(automation) {\n        try {\n          const config = await (0,_data_automation__WEBPACK_IMPORTED_MODULE_17__.fetchAutomationFileConfig)(this.hass, automation.attributes.id);\n          (0,_data_automation__WEBPACK_IMPORTED_MODULE_17__.duplicateAutomation)(config);\n        } catch (err) {\n          if (err.status_code === 404) {\n            const response = await (0,_data_automation__WEBPACK_IMPORTED_MODULE_17__.getAutomationStateConfig)(this.hass, automation.entity_id);\n            (0,_data_automation__WEBPACK_IMPORTED_MODULE_17__.showAutomationEditor)({\n              ...response.config,\n              id: undefined\n            });\n            return;\n          }\n          await (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n            text: this.hass.localize(\"ui.panel.config.automation.editor.load_error_unknown\", {\n              err_no: err.status_code\n            })\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showHelp\",\n      value: function _showHelp() {\n        (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_18__.showAlertDialog)(this, {\n          title: this.hass.localize(\"ui.panel.config.automation.caption\"),\n          text: (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n        ${this.hass.localize(\"ui.panel.config.automation.picker.introduction\")}\n        <p>\n          <a\n            href=${(0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_21__.documentationUrl)(this.hass, \"/docs/automation/editor/\")}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            ${this.hass.localize(\"ui.panel.config.automation.picker.learn_more\")}\n          </a>\n        </p>\n      `\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleRowClicked\",\n      value: function _handleRowClicked(ev) {\n        const automation = this.automations.find(a => a.entity_id === ev.detail.id);\n        if (automation !== null && automation !== void 0 && automation.attributes.id) {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_10__.navigate)(`/config/automation/edit/${automation.attributes.id}`);\n        } else {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_10__.navigate)(`/config/automation/show/${ev.detail.id}`);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_createNew\",\n      value: function _createNew() {\n        if ((0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__.isComponentLoaded)(this.hass, \"blueprint\")) {\n          (0,_show_dialog_new_automation__WEBPACK_IMPORTED_MODULE_23__.showNewAutomationDialog)(this, {\n            mode: \"automation\"\n          });\n        } else {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_10__.navigate)(\"/config/automation/edit/new\");\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_20__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_2__.css)`\n        .empty {\n          --paper-font-headline_-_font-size: 28px;\n          --mdc-icon-size: 80px;\n          max-width: 500px;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWF1dG9tYXRpb24tcGlja2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWFBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBc2VBO0FBQUE7QUFBQTtBQXRlQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBSUE7QUFRQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWF1dG9tYXRpb24tcGlja2VyLnRzPzA3ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgbWRpQ2FuY2VsLFxuICBtZGlDb250ZW50RHVwbGljYXRlLFxuICBtZGlEZWxldGUsXG4gIG1kaUhlbHBDaXJjbGUsXG4gIG1kaUluZm9ybWF0aW9uT3V0bGluZSxcbiAgbWRpUGxheSxcbiAgbWRpUGxheUNpcmNsZU91dGxpbmUsXG4gIG1kaVBsdXMsXG4gIG1kaVJvYm90SGFwcHksXG4gIG1kaVN0b3BDaXJjbGVPdXRsaW5lLFxuICBtZGlUcmFuc2l0Q29ubmVjdGlvbixcbn0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCBcIkBscm53ZWJjb21wb25lbnRzL3NpbXBsZS10b29sdGlwL3NpbXBsZS10b29sdGlwXCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBub3RoaW5nLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGRpZmZlcmVuY2VJbkRheXMgfSBmcm9tIFwiZGF0ZS1mbnMvZXNtXCI7XG5pbXBvcnQgeyBzdHlsZU1hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9zdHlsZS1tYXBcIjtcbmltcG9ydCB7IGlzQ29tcG9uZW50TG9hZGVkIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25maWcvaXNfY29tcG9uZW50X2xvYWRlZFwiO1xuaW1wb3J0IHsgZm9ybWF0U2hvcnREYXRlVGltZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZGF0ZXRpbWUvZm9ybWF0X2RhdGVfdGltZVwiO1xuaW1wb3J0IHsgcmVsYXRpdmVUaW1lIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9kYXRldGltZS9yZWxhdGl2ZV90aW1lXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQsIEhBU1NEb21FdmVudCB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IGNvbXB1dGVTdGF0ZU5hbWUgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWVcIjtcbmltcG9ydCB7IG5hdmlnYXRlIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9uYXZpZ2F0ZVwiO1xuaW1wb3J0IHR5cGUge1xuICBEYXRhVGFibGVDb2x1bW5Db250YWluZXIsXG4gIFJvd0NsaWNrZWRFdmVudCxcbn0gZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvZGF0YS10YWJsZS9oYS1kYXRhLXRhYmxlXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWJ1dHRvbi1yZWxhdGVkLWZpbHRlci1tZW51XCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWxhYmVsXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWZhYlwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1pY29uLWJ1dHRvblwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1pY29uLW92ZXJmbG93LW1lbnVcIjtcbmltcG9ydCBcIi4uLy4uLy4uL2NvbXBvbmVudHMvaGEtc3ZnLWljb25cIjtcbmltcG9ydCB7XG4gIEF1dG9tYXRpb25FbnRpdHksXG4gIGRlbGV0ZUF1dG9tYXRpb24sXG4gIGR1cGxpY2F0ZUF1dG9tYXRpb24sXG4gIGZldGNoQXV0b21hdGlvbkZpbGVDb25maWcsXG4gIGdldEF1dG9tYXRpb25TdGF0ZUNvbmZpZyxcbiAgc2hvd0F1dG9tYXRpb25FZGl0b3IsXG4gIHRyaWdnZXJBdXRvbWF0aW9uQWN0aW9ucyxcbn0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvYXV0b21hdGlvblwiO1xuaW1wb3J0IHtcbiAgc2hvd0FsZXJ0RGlhbG9nLFxuICBzaG93Q29uZmlybWF0aW9uRGlhbG9nLFxufSBmcm9tIFwiLi4vLi4vLi4vZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXRhYnMtc3VicGFnZS1kYXRhLXRhYmxlXCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQsIFJvdXRlIH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBkb2N1bWVudGF0aW9uVXJsIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvZG9jdW1lbnRhdGlvbi11cmxcIjtcbmltcG9ydCB7IGNvbmZpZ1NlY3Rpb25zIH0gZnJvbSBcIi4uL2hhLXBhbmVsLWNvbmZpZ1wiO1xuaW1wb3J0IHsgc2hvd05ld0F1dG9tYXRpb25EaWFsb2cgfSBmcm9tIFwiLi9zaG93LWRpYWxvZy1uZXctYXV0b21hdGlvblwiO1xuaW1wb3J0IHsgZmluZFJlbGF0ZWQgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9zZWFyY2hcIjtcbmltcG9ydCB7IGZldGNoQmx1ZXByaW50cyB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2JsdWVwcmludFwiO1xuaW1wb3J0IHsgVU5BVkFJTEFCTEUgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YS9lbnRpdHlcIjtcblxudHlwZSBBdXRvbWF0aW9uSXRlbSA9IEF1dG9tYXRpb25FbnRpdHkgJiB7XG4gIG5hbWU6IHN0cmluZztcbiAgbGFzdF90cmlnZ2VyZWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGRpc2FibGVkOiBib29sZWFuO1xufTtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1hdXRvbWF0aW9uLXBpY2tlclwiKVxuY2xhc3MgSGFBdXRvbWF0aW9uUGlja2VyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIGlzV2lkZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHJvdXRlITogUm91dGU7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgYXV0b21hdGlvbnMhOiBBdXRvbWF0aW9uRW50aXR5W107XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfYWN0aXZlRmlsdGVycz86IHN0cmluZ1tdO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX3NlYXJjaFBhcm1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9maWx0ZXJlZEF1dG9tYXRpb25zPzogc3RyaW5nW10gfCBudWxsO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2ZpbHRlclZhbHVlPztcblxuICBwcml2YXRlIF9hdXRvbWF0aW9ucyA9IG1lbW9pemVPbmUoXG4gICAgKFxuICAgICAgYXV0b21hdGlvbnM6IEF1dG9tYXRpb25FbnRpdHlbXSxcbiAgICAgIGZpbHRlcmVkQXV0b21hdGlvbnM/OiBzdHJpbmdbXSB8IG51bGxcbiAgICApOiBBdXRvbWF0aW9uSXRlbVtdID0+IHtcbiAgICAgIGlmIChmaWx0ZXJlZEF1dG9tYXRpb25zID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGZpbHRlcmVkQXV0b21hdGlvbnNcbiAgICAgICAgICA/IGF1dG9tYXRpb25zLmZpbHRlcigoYXV0b21hdGlvbikgPT5cbiAgICAgICAgICAgICAgZmlsdGVyZWRBdXRvbWF0aW9ucyEuaW5jbHVkZXMoYXV0b21hdGlvbi5lbnRpdHlfaWQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBhdXRvbWF0aW9uc1xuICAgICAgKS5tYXAoKGF1dG9tYXRpb24pID0+ICh7XG4gICAgICAgIC4uLmF1dG9tYXRpb24sXG4gICAgICAgIG5hbWU6IGNvbXB1dGVTdGF0ZU5hbWUoYXV0b21hdGlvbiksXG4gICAgICAgIGxhc3RfdHJpZ2dlcmVkOiBhdXRvbWF0aW9uLmF0dHJpYnV0ZXMubGFzdF90cmlnZ2VyZWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogYXV0b21hdGlvbi5zdGF0ZSA9PT0gXCJvZmZcIixcbiAgICAgIH0pKTtcbiAgICB9XG4gICk7XG5cbiAgcHJpdmF0ZSBfY29sdW1ucyA9IG1lbW9pemVPbmUoXG4gICAgKG5hcnJvdzogYm9vbGVhbiwgX2xvY2FsZSk6IERhdGFUYWJsZUNvbHVtbkNvbnRhaW5lciA9PiB7XG4gICAgICBjb25zdCBjb2x1bW5zOiBEYXRhVGFibGVDb2x1bW5Db250YWluZXI8QXV0b21hdGlvbkl0ZW0+ID0ge1xuICAgICAgICBpY29uOiB7XG4gICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmhlYWRlcnMuc3RhdGVcIlxuICAgICAgICAgICksXG4gICAgICAgICAgdHlwZTogXCJpY29uXCIsXG4gICAgICAgICAgdGVtcGxhdGU6IChhdXRvbWF0aW9uKSA9PlxuICAgICAgICAgICAgaHRtbGA8aGEtc3RhdGUtaWNvblxuICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgLnN0YXRlT2JqPSR7YXV0b21hdGlvbn1cbiAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgY29sb3I6XG4gICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uLnN0YXRlID09PSBVTkFWQUlMQUJMRVxuICAgICAgICAgICAgICAgICAgICA/IFwidmFyKC0tZXJyb3ItY29sb3IpXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPjwvaGEtc3RhdGUtaWNvbj5gLFxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgdGl0bGU6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmhlYWRlcnMubmFtZVwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICBtYWluOiB0cnVlLFxuICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLFxuICAgICAgICAgIGZpbHRlcmFibGU6IHRydWUsXG4gICAgICAgICAgZGlyZWN0aW9uOiBcImFzY1wiLFxuICAgICAgICAgIGdyb3dzOiB0cnVlLFxuICAgICAgICAgIHRlbXBsYXRlOiBuYXJyb3dcbiAgICAgICAgICAgID8gKGF1dG9tYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYXV0b21hdGlvbi5hdHRyaWJ1dGVzLmxhc3RfdHJpZ2dlcmVkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheURpZmZlcmVuY2UgPSBkaWZmZXJlbmNlSW5EYXlzKG5vdywgZGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICAgICAgICAke2F1dG9tYXRpb24ubmFtZX1cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jYXJkLmF1dG9tYXRpb24ubGFzdF90cmlnZ2VyZWRcIil9OlxuICAgICAgICAgICAgICAgICAgICAke2F1dG9tYXRpb24uYXR0cmlidXRlcy5sYXN0X3RyaWdnZXJlZFxuICAgICAgICAgICAgICAgICAgICAgID8gZGF5RGlmZmVyZW5jZSA+IDNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0U2hvcnREYXRlVGltZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJlbGF0aXZlVGltZShkYXRlLCB0aGlzLmhhc3MubG9jYWxlKVxuICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tcG9uZW50cy5yZWxhdGl2ZV90aW1lLm5ldmVyXCIpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgaWYgKCFuYXJyb3cpIHtcbiAgICAgICAgY29sdW1ucy5sYXN0X3RyaWdnZXJlZCA9IHtcbiAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgICAgICB3aWR0aDogXCIyMCVcIixcbiAgICAgICAgICB0aXRsZTogdGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY2FyZC5hdXRvbWF0aW9uLmxhc3RfdHJpZ2dlcmVkXCIpLFxuICAgICAgICAgIHRlbXBsYXRlOiAoYXV0b21hdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKCFhdXRvbWF0aW9uLmxhc3RfdHJpZ2dlcmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLnJlbGF0aXZlX3RpbWUubmV2ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYXV0b21hdGlvbi5sYXN0X3RyaWdnZXJlZCk7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgY29uc3QgZGF5RGlmZmVyZW5jZSA9IGRpZmZlcmVuY2VJbkRheXMobm93LCBkYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgICAke2RheURpZmZlcmVuY2UgPiAzXG4gICAgICAgICAgICAgICAgPyBmb3JtYXRTaG9ydERhdGVUaW1lKGRhdGUsIHRoaXMuaGFzcy5sb2NhbGUsIHRoaXMuaGFzcy5jb25maWcpXG4gICAgICAgICAgICAgICAgOiByZWxhdGl2ZVRpbWUoZGF0ZSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICBgO1xuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbHVtbnMuZGlzYWJsZWQgPSB0aGlzLm5hcnJvd1xuICAgICAgICA/IHtcbiAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgICAgICAgdGVtcGxhdGU6IChhdXRvbWF0aW9uKSA9PlxuICAgICAgICAgICAgICBhdXRvbWF0aW9uLmRpc2FibGVkXG4gICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8c2ltcGxlLXRvb2x0aXAgYW5pbWF0aW9uLWRlbGF5PVwiMFwiIHBvc2l0aW9uPVwibGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvc2ltcGxlLXRvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgIDxoYS1zdmctaWNvblxuICAgICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7bWRpQ2FuY2VsfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiY29sb3I6IHZhcigtLXNlY29uZGFyeS10ZXh0LWNvbG9yKVwiXG4gICAgICAgICAgICAgICAgICAgID48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogXCJcIixcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgd2lkdGg6IFwiMjAlXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlOiAoYXV0b21hdGlvbikgPT5cbiAgICAgICAgICAgICAgYXV0b21hdGlvbi5kaXNhYmxlZFxuICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGhhLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvaGEtbGFiZWw+XG4gICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgOiBcIlwiLFxuICAgICAgICAgIH07XG5cbiAgICAgIGNvbHVtbnMuYWN0aW9ucyA9IHtcbiAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgIHdpZHRoOiB0aGlzLm5hcnJvdyA/IHVuZGVmaW5lZCA6IFwiMTAlXCIsXG4gICAgICAgIHR5cGU6IFwib3ZlcmZsb3ctbWVudVwiLFxuICAgICAgICB0ZW1wbGF0ZTogKGF1dG9tYXRpb24pID0+IGh0bWxgXG4gICAgICAgICAgPGhhLWljb24tb3ZlcmZsb3ctbWVudVxuICAgICAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgICAgICBuYXJyb3dcbiAgICAgICAgICAgIC5pdGVtcz0ke1tcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhdGg6IG1kaUluZm9ybWF0aW9uT3V0bGluZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3Iuc2hvd19pbmZvXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5fc2hvd0luZm8oYXV0b21hdGlvbiksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBtZGlQbGF5LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5ydW5cIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLl9ydW5BY3Rpb25zKGF1dG9tYXRpb24pLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGF0aDogbWRpVHJhbnNpdENvbm5lY3Rpb24sXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLnNob3dfdHJhY2VcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB0aGlzLl9zaG93VHJhY2UoYXV0b21hdGlvbiksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXZpZGVyOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGF0aDogbWRpQ29udGVudER1cGxpY2F0ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZHVwbGljYXRlXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5kdXBsaWNhdGUoYXV0b21hdGlvbiksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwYXRoOlxuICAgICAgICAgICAgICAgICAgYXV0b21hdGlvbi5zdGF0ZSA9PT0gXCJvZmZcIlxuICAgICAgICAgICAgICAgICAgICA/IG1kaVBsYXlDaXJjbGVPdXRsaW5lXG4gICAgICAgICAgICAgICAgICAgIDogbWRpU3RvcENpcmNsZU91dGxpbmUsXG4gICAgICAgICAgICAgICAgbGFiZWw6XG4gICAgICAgICAgICAgICAgICBhdXRvbWF0aW9uLnN0YXRlID09PSBcIm9mZlwiXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZW5hYmxlXCJcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZGlzYWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuX3RvZ2dsZShhdXRvbWF0aW9uKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5kZWxldGVcIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgcGF0aDogbWRpRGVsZXRlLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4gdGhpcy5fZGVsZXRlQ29uZmlybShhdXRvbWF0aW9uKSxcbiAgICAgICAgICAgICAgICB3YXJuaW5nOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXX1cbiAgICAgICAgICA+XG4gICAgICAgICAgPC9oYS1pY29uLW92ZXJmbG93LW1lbnU+XG4gICAgICAgIGAsXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGNvbHVtbnM7XG4gICAgfVxuICApO1xuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIHJldHVybiBodG1sYFxuICAgICAgPGhhc3MtdGFicy1zdWJwYWdlLWRhdGEtdGFibGVcbiAgICAgICAgLmhhc3M9JHt0aGlzLmhhc3N9XG4gICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgYmFjay1wYXRoPVwiL2NvbmZpZ1wiXG4gICAgICAgIGlkPVwiZW50aXR5X2lkXCJcbiAgICAgICAgLnJvdXRlPSR7dGhpcy5yb3V0ZX1cbiAgICAgICAgLnRhYnM9JHtjb25maWdTZWN0aW9ucy5hdXRvbWF0aW9uc31cbiAgICAgICAgLmFjdGl2ZUZpbHRlcnM9JHt0aGlzLl9hY3RpdmVGaWx0ZXJzfVxuICAgICAgICAuY29sdW1ucz0ke3RoaXMuX2NvbHVtbnModGhpcy5uYXJyb3csIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAuZGF0YT0ke3RoaXMuX2F1dG9tYXRpb25zKHRoaXMuYXV0b21hdGlvbnMsIHRoaXMuX2ZpbHRlcmVkQXV0b21hdGlvbnMpfVxuICAgICAgICAuZW1wdHk9JHshdGhpcy5hdXRvbWF0aW9ucy5sZW5ndGh9XG4gICAgICAgIEByb3ctY2xpY2s9JHt0aGlzLl9oYW5kbGVSb3dDbGlja2VkfVxuICAgICAgICAubm9EYXRhVGV4dD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5ub19hdXRvbWF0aW9uc1wiXG4gICAgICAgICl9XG4gICAgICAgIEBjbGVhci1maWx0ZXI9JHt0aGlzLl9jbGVhckZpbHRlcn1cbiAgICAgICAgaGFzRmFiXG4gICAgICAgIGNsaWNrYWJsZVxuICAgICAgPlxuICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICBzbG90PVwidG9vbGJhci1pY29uXCJcbiAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21tb24uaGVscFwiKX1cbiAgICAgICAgICAucGF0aD0ke21kaUhlbHBDaXJjbGV9XG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5fc2hvd0hlbHB9XG4gICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICA8aGEtYnV0dG9uLXJlbGF0ZWQtZmlsdGVyLW1lbnVcbiAgICAgICAgICBzbG90PVwiZmlsdGVyLW1lbnVcIlxuICAgICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAudmFsdWU9JHt0aGlzLl9maWx0ZXJWYWx1ZX1cbiAgICAgICAgICBleGNsdWRlLWRvbWFpbnM9J1tcImF1dG9tYXRpb25cIl0nXG4gICAgICAgICAgQHJlbGF0ZWQtY2hhbmdlZD0ke3RoaXMuX3JlbGF0ZWRGaWx0ZXJDaGFuZ2VkfVxuICAgICAgICA+XG4gICAgICAgIDwvaGEtYnV0dG9uLXJlbGF0ZWQtZmlsdGVyLW1lbnU+XG4gICAgICAgICR7IXRoaXMuYXV0b21hdGlvbnMubGVuZ3RoXG4gICAgICAgICAgPyBodG1sYDxkaXYgY2xhc3M9XCJlbXB0eVwiIHNsb3Q9XCJlbXB0eVwiPlxuICAgICAgICAgICAgICA8aGEtc3ZnLWljb24gLnBhdGg9JHttZGlSb2JvdEhhcHB5fT48L2hhLXN2Zy1pY29uPlxuICAgICAgICAgICAgICA8aDE+XG4gICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci5lbXB0eV9oZWFkZXJcIlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZW1wdHlfdGV4dF8xXCJcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuZW1wdHlfdGV4dF8yXCIsXG4gICAgICAgICAgICAgICAgICB7IHVzZXI6IHRoaXMuaGFzcy51c2VyPy5uYW1lIHx8IFwiQWxpY2VcIiB9XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgIGhyZWY9JHtkb2N1bWVudGF0aW9uVXJsKHRoaXMuaGFzcywgXCIvZG9jcy9hdXRvbWF0aW9uL2VkaXRvci9cIil9XG4gICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxoYS1idXR0b24+XG4gICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5jb21tb24ubGVhcm5fbW9yZVwiKX1cbiAgICAgICAgICAgICAgICA8L2hhLWJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgIDogbm90aGluZ31cbiAgICAgICAgPGhhLWZhYlxuICAgICAgICAgIHNsb3Q9XCJmYWJcIlxuICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmFkZF9hdXRvbWF0aW9uXCJcbiAgICAgICAgICApfVxuICAgICAgICAgIGV4dGVuZGVkXG4gICAgICAgICAgQGNsaWNrPSR7dGhpcy5fY3JlYXRlTmV3fVxuICAgICAgICA+XG4gICAgICAgICAgPGhhLXN2Zy1pY29uIHNsb3Q9XCJpY29uXCIgLnBhdGg9JHttZGlQbHVzfT48L2hhLXN2Zy1pY29uPlxuICAgICAgICA8L2hhLWZhYj5cbiAgICAgIDwvaGFzcy10YWJzLXN1YnBhZ2UtZGF0YS10YWJsZT5cbiAgICBgO1xuICB9XG5cbiAgZmlyc3RVcGRhdGVkKCkge1xuICAgIGlmICh0aGlzLl9zZWFyY2hQYXJtcy5oYXMoXCJibHVlcHJpbnRcIikpIHtcbiAgICAgIHRoaXMuX2ZpbHRlckJsdWVwcmludCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2ZpbHRlckJsdWVwcmludCgpIHtcbiAgICBjb25zdCBibHVlcHJpbnQgPSB0aGlzLl9zZWFyY2hQYXJtcy5nZXQoXCJibHVlcHJpbnRcIik7XG4gICAgaWYgKCFibHVlcHJpbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgW3JlbGF0ZWQsIGJsdWVwcmludHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZmluZFJlbGF0ZWQodGhpcy5oYXNzLCBcImF1dG9tYXRpb25fYmx1ZXByaW50XCIsIGJsdWVwcmludCksXG4gICAgICBmZXRjaEJsdWVwcmludHModGhpcy5oYXNzLCBcImF1dG9tYXRpb25cIiksXG4gICAgXSk7XG4gICAgdGhpcy5fZmlsdGVyZWRBdXRvbWF0aW9ucyA9IHJlbGF0ZWQuYXV0b21hdGlvbiB8fCBbXTtcbiAgICBjb25zdCBibHVlcHJpbnRNZXRhID0gYmx1ZXByaW50c1tibHVlcHJpbnRdO1xuICAgIHRoaXMuX2FjdGl2ZUZpbHRlcnMgPSBbXG4gICAgICB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmZpbHRlcmVkX2J5X2JsdWVwcmludFwiLFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTpcbiAgICAgICAgICAgICFibHVlcHJpbnRNZXRhIHx8IFwiZXJyb3JcIiBpbiBibHVlcHJpbnRNZXRhXG4gICAgICAgICAgICAgID8gYmx1ZXByaW50XG4gICAgICAgICAgICAgIDogYmx1ZXByaW50TWV0YS5tZXRhZGF0YS5uYW1lIHx8IGJsdWVwcmludCxcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVsYXRlZEZpbHRlckNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KSB7XG4gICAgdGhpcy5fZmlsdGVyVmFsdWUgPSBldi5kZXRhaWwudmFsdWU7XG4gICAgaWYgKCF0aGlzLl9maWx0ZXJWYWx1ZSkge1xuICAgICAgdGhpcy5fY2xlYXJGaWx0ZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlRmlsdGVycyA9IFtldi5kZXRhaWwuZmlsdGVyXTtcbiAgICB0aGlzLl9maWx0ZXJlZEF1dG9tYXRpb25zID0gZXYuZGV0YWlsLml0ZW1zLmF1dG9tYXRpb24gfHwgbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFyRmlsdGVyKCkge1xuICAgIHRoaXMuX2ZpbHRlcmVkQXV0b21hdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fYWN0aXZlRmlsdGVycyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9maWx0ZXJWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByaXZhdGUgX3Nob3dJbmZvKGF1dG9tYXRpb246IGFueSkge1xuICAgIGZpcmVFdmVudCh0aGlzLCBcImhhc3MtbW9yZS1pbmZvXCIsIHsgZW50aXR5SWQ6IGF1dG9tYXRpb24uZW50aXR5X2lkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBfcnVuQWN0aW9ucyhhdXRvbWF0aW9uOiBhbnkpIHtcbiAgICB0cmlnZ2VyQXV0b21hdGlvbkFjdGlvbnModGhpcy5oYXNzLCBhdXRvbWF0aW9uLmVudGl0eV9pZCk7XG4gIH1cblxuICBwcml2YXRlIF9zaG93VHJhY2UoYXV0b21hdGlvbjogYW55KSB7XG4gICAgaWYgKCFhdXRvbWF0aW9uLmF0dHJpYnV0ZXMuaWQpIHtcbiAgICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRleHQ6IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLnBpY2tlci50cmFjZXNfbm90X2F2YWlsYWJsZVwiXG4gICAgICAgICksXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmF2aWdhdGUoYC9jb25maWcvYXV0b21hdGlvbi90cmFjZS8ke2F1dG9tYXRpb24uYXR0cmlidXRlcy5pZH1gKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3RvZ2dsZShhdXRvbWF0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc2VydmljZSA9IGF1dG9tYXRpb24uc3RhdGUgPT09IFwib2ZmXCIgPyBcInR1cm5fb25cIiA6IFwidHVybl9vZmZcIjtcbiAgICBhd2FpdCB0aGlzLmhhc3MuY2FsbFNlcnZpY2UoXCJhdXRvbWF0aW9uXCIsIHNlcnZpY2UsIHtcbiAgICAgIGVudGl0eV9pZDogYXV0b21hdGlvbi5lbnRpdHlfaWQsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9kZWxldGVDb25maXJtKGF1dG9tYXRpb24pIHtcbiAgICBzaG93Q29uZmlybWF0aW9uRGlhbG9nKHRoaXMsIHtcbiAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmRlbGV0ZV9jb25maXJtX3RpdGxlXCJcbiAgICAgICksXG4gICAgICB0ZXh0OiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24ucGlja2VyLmRlbGV0ZV9jb25maXJtX3RleHRcIixcbiAgICAgICAgeyBuYW1lOiBhdXRvbWF0aW9uLm5hbWUgfVxuICAgICAgKSxcbiAgICAgIGNvbmZpcm1UZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLmRlbGV0ZVwiKSxcbiAgICAgIGRpc21pc3NUZXh0OiB0aGlzLmhhc3MhLmxvY2FsaXplKFwidWkuY29tbW9uLmNhbmNlbFwiKSxcbiAgICAgIGNvbmZpcm06ICgpID0+IHRoaXMuX2RlbGV0ZShhdXRvbWF0aW9uKSxcbiAgICAgIGRlc3RydWN0aXZlOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZGVsZXRlKGF1dG9tYXRpb24pIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZGVsZXRlQXV0b21hdGlvbih0aGlzLmhhc3MsIGF1dG9tYXRpb24uYXR0cmlidXRlcy5pZCk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGF3YWl0IHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgIHRleHQ6XG4gICAgICAgICAgZXJyLnN0YXR1c19jb2RlID09PSA0MDBcbiAgICAgICAgICAgID8gdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmxvYWRfZXJyb3Jfbm90X2RlbGV0YWJsZVwiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmxvYWRfZXJyb3JfdW5rbm93blwiLFxuICAgICAgICAgICAgICAgIHsgZXJyX25vOiBlcnIuc3RhdHVzX2NvZGUgfVxuICAgICAgICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkdXBsaWNhdGUoYXV0b21hdGlvbikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb25maWcgPSBhd2FpdCBmZXRjaEF1dG9tYXRpb25GaWxlQ29uZmlnKFxuICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgIGF1dG9tYXRpb24uYXR0cmlidXRlcy5pZFxuICAgICAgKTtcbiAgICAgIGR1cGxpY2F0ZUF1dG9tYXRpb24oY29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgaWYgKGVyci5zdGF0dXNfY29kZSA9PT0gNDA0KSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0QXV0b21hdGlvblN0YXRlQ29uZmlnKFxuICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICBhdXRvbWF0aW9uLmVudGl0eV9pZFxuICAgICAgICApO1xuICAgICAgICBzaG93QXV0b21hdGlvbkVkaXRvcih7IC4uLnJlc3BvbnNlLmNvbmZpZywgaWQ6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXdhaXQgc2hvd0FsZXJ0RGlhbG9nKHRoaXMsIHtcbiAgICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmxvYWRfZXJyb3JfdW5rbm93blwiLFxuICAgICAgICAgIHsgZXJyX25vOiBlcnIuc3RhdHVzX2NvZGUgfVxuICAgICAgICApLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfc2hvd0hlbHAoKSB7XG4gICAgc2hvd0FsZXJ0RGlhbG9nKHRoaXMsIHtcbiAgICAgIHRpdGxlOiB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5jYXB0aW9uXCIpLFxuICAgICAgdGV4dDogaHRtbGBcbiAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIuaW50cm9kdWN0aW9uXCIpfVxuICAgICAgICA8cD5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj0ke2RvY3VtZW50YXRpb25VcmwodGhpcy5oYXNzLCBcIi9kb2NzL2F1dG9tYXRpb24vZWRpdG9yL1wiKX1cbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5waWNrZXIubGVhcm5fbW9yZVwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgYCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZVJvd0NsaWNrZWQoZXY6IEhBU1NEb21FdmVudDxSb3dDbGlja2VkRXZlbnQ+KSB7XG4gICAgY29uc3QgYXV0b21hdGlvbiA9IHRoaXMuYXV0b21hdGlvbnMuZmluZChcbiAgICAgIChhKSA9PiBhLmVudGl0eV9pZCA9PT0gZXYuZGV0YWlsLmlkXG4gICAgKTtcblxuICAgIGlmIChhdXRvbWF0aW9uPy5hdHRyaWJ1dGVzLmlkKSB7XG4gICAgICBuYXZpZ2F0ZShgL2NvbmZpZy9hdXRvbWF0aW9uL2VkaXQvJHthdXRvbWF0aW9uLmF0dHJpYnV0ZXMuaWR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hdmlnYXRlKGAvY29uZmlnL2F1dG9tYXRpb24vc2hvdy8ke2V2LmRldGFpbC5pZH1gKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9jcmVhdGVOZXcoKSB7XG4gICAgaWYgKGlzQ29tcG9uZW50TG9hZGVkKHRoaXMuaGFzcywgXCJibHVlcHJpbnRcIikpIHtcbiAgICAgIHNob3dOZXdBdXRvbWF0aW9uRGlhbG9nKHRoaXMsIHsgbW9kZTogXCJhdXRvbWF0aW9uXCIgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hdmlnYXRlKFwiL2NvbmZpZy9hdXRvbWF0aW9uL2VkaXQvbmV3XCIpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gW1xuICAgICAgaGFTdHlsZSxcbiAgICAgIGNzc2BcbiAgICAgICAgLmVtcHR5IHtcbiAgICAgICAgICAtLXBhcGVyLWZvbnQtaGVhZGxpbmVfLV9mb250LXNpemU6IDI4cHg7XG4gICAgICAgICAgLS1tZGMtaWNvbi1zaXplOiA4MHB4O1xuICAgICAgICAgIG1heC13aWR0aDogNTAwcHg7XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtYXV0b21hdGlvbi1waWNrZXJcIjogSGFBdXRvbWF0aW9uUGlja2VyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/ha-automation-picker.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/ha-config-automation.ts":
/*!**************************************************************!*\
  !*** ./src/panels/config/automation/ha-config-automation.ts ***!
  \**************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/entity/compute_state_domain */ \"./src/common/entity/compute_state_domain.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/util/debounce */ \"./src/common/util/debounce.ts\");\n/* harmony import */ var _layouts_hass_router_page__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../layouts/hass-router-page */ \"./src/layouts/hass-router-page.ts\");\n/* harmony import */ var _ha_automation_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ha-automation-editor */ \"./src/panels/config/automation/ha-automation-editor.ts\");\n/* harmony import */ var _ha_automation_picker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ha-automation-picker */ \"./src/panels/config/automation/ha-automation-picker.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_ha_automation_editor__WEBPACK_IMPORTED_MODULE_7__, _ha_automation_picker__WEBPACK_IMPORTED_MODULE_8__]);\n([_ha_automation_editor__WEBPACK_IMPORTED_MODULE_7__, _ha_automation_picker__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\nconst equal = (a, b) => {\n  if (a.length !== b.length) {\n    return false;\n  }\n  return a.every((automation, index) => automation === b[index]);\n};\nlet HaConfigAutomation = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"ha-config-automation\")], function (_initialize, _HassRouterPage) {\n  class HaConfigAutomation extends _HassRouterPage {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaConfigAutomation,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"showAdvanced\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"automations\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_debouncedUpdateAutomations\",\n      value() {\n        return (0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_5__.debounce)(pageEl => {\n          const newAutomations = this._getAutomations(this.hass.states);\n          if (!equal(newAutomations, pageEl.automations)) {\n            pageEl.automations = newAutomations;\n          }\n        }, 10);\n      }\n    }, {\n      kind: \"field\",\n      key: \"routerOptions\",\n      value() {\n        return {\n          defaultPage: \"dashboard\",\n          routes: {\n            dashboard: {\n              tag: \"ha-automation-picker\",\n              cache: true\n            },\n            edit: {\n              tag: \"ha-automation-editor\"\n            },\n            show: {\n              tag: \"ha-automation-editor\"\n            },\n            trace: {\n              tag: \"ha-automation-trace\",\n              load: () => Promise.all(/*! import() */[__webpack_require__.e(\"src_data_logbook_ts\"), __webpack_require__.e(\"src_data_trace_ts-src_panels_logbook_ha-logbook-renderer_ts\"), __webpack_require__.e(\"src_common_color_colors_ts-src_components_ha-relative-time_ts-src_components_trace_ha-trace-b-f75b7c\"), __webpack_require__.e(\"src_panels_config_automation_ha-automation-trace_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./ha-automation-trace */ \"./src/panels/config/automation/ha-automation-trace.ts\"))\n            }\n          }\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getAutomations\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(states => Object.values(states).filter(entity => (0,_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_4__.computeStateDomain)(entity) === \"automation\" && !entity.attributes.restored));\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaConfigAutomation.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this.hass.loadBackendTranslation(\"device_automation\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"updatePageEl\",\n      value: function updatePageEl(pageEl, changedProps) {\n        pageEl.hass = this.hass;\n        pageEl.narrow = this.narrow;\n        pageEl.isWide = this.isWide;\n        pageEl.route = this.routeTail;\n        pageEl.showAdvanced = this.showAdvanced;\n        if (this.hass) {\n          if (!pageEl.automations || !changedProps) {\n            pageEl.automations = this._getAutomations(this.hass.states);\n          } else if (changedProps.has(\"hass\")) {\n            this._debouncedUpdateAutomations(pageEl);\n          }\n        }\n        if ((!changedProps || changedProps.has(\"route\")) && this._currentPage === \"show\") {\n          const automationId = decodeURIComponent(this.routeTail.path.substr(1));\n          pageEl.automationId = null;\n          pageEl.entityId = automationId === \"new\" ? null : automationId;\n          return;\n        }\n        if ((!changedProps || changedProps.has(\"route\")) && this._currentPage !== \"dashboard\") {\n          const automationId = decodeURIComponent(this.routeTail.path.substr(1));\n          pageEl.automationId = automationId === \"new\" ? null : automationId;\n          pageEl.entityId = null;\n        }\n      }\n    }]\n  };\n}, _layouts_hass_router_page__WEBPACK_IMPORTED_MODULE_6__.HassRouterPage);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL2hhLWNvbmZpZy1hdXRvbWF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFvRkE7QUFBQTtBQUFBO0FBcEZBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2F1dG9tYXRpb24vaGEtY29uZmlnLWF1dG9tYXRpb24udHM/NmNmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYXNzRW50aXRpZXMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBQcm9wZXJ0eVZhbHVlcyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tIFwibWVtb2l6ZS1vbmVcIjtcbmltcG9ydCB7IGNvbXB1dGVTdGF0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfZG9tYWluXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vdXRpbC9kZWJvdW5jZVwiO1xuaW1wb3J0IHsgQXV0b21hdGlvbkVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2F1dG9tYXRpb25cIjtcbmltcG9ydCB7XG4gIEhhc3NSb3V0ZXJQYWdlLFxuICBSb3V0ZXJPcHRpb25zLFxufSBmcm9tIFwiLi4vLi4vLi4vbGF5b3V0cy9oYXNzLXJvdXRlci1wYWdlXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWF1dG9tYXRpb24tZWRpdG9yXCI7XG5pbXBvcnQgXCIuL2hhLWF1dG9tYXRpb24tcGlja2VyXCI7XG5cbmNvbnN0IGVxdWFsID0gKGE6IEF1dG9tYXRpb25FbnRpdHlbXSwgYjogQXV0b21hdGlvbkVudGl0eVtdKTogYm9vbGVhbiA9PiB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGEuZXZlcnkoKGF1dG9tYXRpb24sIGluZGV4KSA9PiBhdXRvbWF0aW9uID09PSBiW2luZGV4XSk7XG59O1xuXG5AY3VzdG9tRWxlbWVudChcImhhLWNvbmZpZy1hdXRvbWF0aW9uXCIpXG5jbGFzcyBIYUNvbmZpZ0F1dG9tYXRpb24gZXh0ZW5kcyBIYXNzUm91dGVyUGFnZSB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIGlzV2lkZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIHNob3dBZHZhbmNlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGF1dG9tYXRpb25zOiBBdXRvbWF0aW9uRW50aXR5W10gPSBbXTtcblxuICBwcml2YXRlIF9kZWJvdW5jZWRVcGRhdGVBdXRvbWF0aW9ucyA9IGRlYm91bmNlKChwYWdlRWwpID0+IHtcbiAgICBjb25zdCBuZXdBdXRvbWF0aW9ucyA9IHRoaXMuX2dldEF1dG9tYXRpb25zKHRoaXMuaGFzcy5zdGF0ZXMpO1xuICAgIGlmICghZXF1YWwobmV3QXV0b21hdGlvbnMsIHBhZ2VFbC5hdXRvbWF0aW9ucykpIHtcbiAgICAgIHBhZ2VFbC5hdXRvbWF0aW9ucyA9IG5ld0F1dG9tYXRpb25zO1xuICAgIH1cbiAgfSwgMTApO1xuXG4gIHByb3RlY3RlZCByb3V0ZXJPcHRpb25zOiBSb3V0ZXJPcHRpb25zID0ge1xuICAgIGRlZmF1bHRQYWdlOiBcImRhc2hib2FyZFwiLFxuICAgIHJvdXRlczoge1xuICAgICAgZGFzaGJvYXJkOiB7XG4gICAgICAgIHRhZzogXCJoYS1hdXRvbWF0aW9uLXBpY2tlclwiLFxuICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBlZGl0OiB7XG4gICAgICAgIHRhZzogXCJoYS1hdXRvbWF0aW9uLWVkaXRvclwiLFxuICAgICAgfSxcbiAgICAgIHNob3c6IHtcbiAgICAgICAgdGFnOiBcImhhLWF1dG9tYXRpb24tZWRpdG9yXCIsXG4gICAgICB9LFxuICAgICAgdHJhY2U6IHtcbiAgICAgICAgdGFnOiBcImhhLWF1dG9tYXRpb24tdHJhY2VcIixcbiAgICAgICAgbG9hZDogKCkgPT4gaW1wb3J0KFwiLi9oYS1hdXRvbWF0aW9uLXRyYWNlXCIpLFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuXG4gIHByaXZhdGUgX2dldEF1dG9tYXRpb25zID0gbWVtb2l6ZU9uZShcbiAgICAoc3RhdGVzOiBIYXNzRW50aXRpZXMpOiBBdXRvbWF0aW9uRW50aXR5W10gPT5cbiAgICAgIE9iamVjdC52YWx1ZXMoc3RhdGVzKS5maWx0ZXIoXG4gICAgICAgIChlbnRpdHkpID0+XG4gICAgICAgICAgY29tcHV0ZVN0YXRlRG9tYWluKGVudGl0eSkgPT09IFwiYXV0b21hdGlvblwiICYmXG4gICAgICAgICAgIWVudGl0eS5hdHRyaWJ1dGVzLnJlc3RvcmVkXG4gICAgICApIGFzIEF1dG9tYXRpb25FbnRpdHlbXVxuICApO1xuXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BzKSB7XG4gICAgc3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgdGhpcy5oYXNzLmxvYWRCYWNrZW5kVHJhbnNsYXRpb24oXCJkZXZpY2VfYXV0b21hdGlvblwiKTtcbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVQYWdlRWwocGFnZUVsLCBjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgcGFnZUVsLmhhc3MgPSB0aGlzLmhhc3M7XG4gICAgcGFnZUVsLm5hcnJvdyA9IHRoaXMubmFycm93O1xuICAgIHBhZ2VFbC5pc1dpZGUgPSB0aGlzLmlzV2lkZTtcbiAgICBwYWdlRWwucm91dGUgPSB0aGlzLnJvdXRlVGFpbDtcbiAgICBwYWdlRWwuc2hvd0FkdmFuY2VkID0gdGhpcy5zaG93QWR2YW5jZWQ7XG5cbiAgICBpZiAodGhpcy5oYXNzKSB7XG4gICAgICBpZiAoIXBhZ2VFbC5hdXRvbWF0aW9ucyB8fCAhY2hhbmdlZFByb3BzKSB7XG4gICAgICAgIHBhZ2VFbC5hdXRvbWF0aW9ucyA9IHRoaXMuX2dldEF1dG9tYXRpb25zKHRoaXMuaGFzcy5zdGF0ZXMpO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiaGFzc1wiKSkge1xuICAgICAgICB0aGlzLl9kZWJvdW5jZWRVcGRhdGVBdXRvbWF0aW9ucyhwYWdlRWwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAoIWNoYW5nZWRQcm9wcyB8fCBjaGFuZ2VkUHJvcHMuaGFzKFwicm91dGVcIikpICYmXG4gICAgICB0aGlzLl9jdXJyZW50UGFnZSA9PT0gXCJzaG93XCJcbiAgICApIHtcbiAgICAgIGNvbnN0IGF1dG9tYXRpb25JZCA9IGRlY29kZVVSSUNvbXBvbmVudCh0aGlzLnJvdXRlVGFpbC5wYXRoLnN1YnN0cigxKSk7XG4gICAgICBwYWdlRWwuYXV0b21hdGlvbklkID0gbnVsbDtcbiAgICAgIHBhZ2VFbC5lbnRpdHlJZCA9IGF1dG9tYXRpb25JZCA9PT0gXCJuZXdcIiA/IG51bGwgOiBhdXRvbWF0aW9uSWQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgICghY2hhbmdlZFByb3BzIHx8IGNoYW5nZWRQcm9wcy5oYXMoXCJyb3V0ZVwiKSkgJiZcbiAgICAgIHRoaXMuX2N1cnJlbnRQYWdlICE9PSBcImRhc2hib2FyZFwiXG4gICAgKSB7XG4gICAgICBjb25zdCBhdXRvbWF0aW9uSWQgPSBkZWNvZGVVUklDb21wb25lbnQodGhpcy5yb3V0ZVRhaWwucGF0aC5zdWJzdHIoMSkpO1xuICAgICAgcGFnZUVsLmF1dG9tYXRpb25JZCA9IGF1dG9tYXRpb25JZCA9PT0gXCJuZXdcIiA/IG51bGwgOiBhdXRvbWF0aW9uSWQ7XG4gICAgICBwYWdlRWwuZW50aXR5SWQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaGEtY29uZmlnLWF1dG9tYXRpb25cIjogSGFDb25maWdBdXRvbWF0aW9uO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/config/automation/ha-config-automation.ts\n");

/***/ }),

/***/ "./src/panels/config/automation/manual-automation-editor.ts":
/*!******************************************************************!*\
  !*** ./src/panels/config/automation/manual-automation-editor.ts ***!
  \******************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaManualAutomationEditor: () => (/* binding */ HaManualAutomationEditor)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_array_ensure_array__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common/array/ensure-array */ \"./src/common/array/ensure-array.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_util_array_move__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common/util/array-move */ \"./src/common/util/array-move.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_markdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../components/ha-markdown */ \"./src/components/ha-markdown.ts\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _util_documentation_url__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/documentation-url */ \"./src/util/documentation-url.ts\");\n/* harmony import */ var _action_ha_automation_action__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./action/ha-automation-action */ \"./src/panels/config/automation/action/ha-automation-action.ts\");\n/* harmony import */ var _condition_ha_automation_condition__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./condition/ha-automation-condition */ \"./src/panels/config/automation/condition/ha-automation-condition.ts\");\n/* harmony import */ var _trigger_ha_automation_trigger__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./trigger/ha-automation-trigger */ \"./src/panels/config/automation/trigger/ha-automation-trigger.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_action_ha_automation_action__WEBPACK_IMPORTED_MODULE_12__, _condition_ha_automation_condition__WEBPACK_IMPORTED_MODULE_13__, _trigger_ha_automation_trigger__WEBPACK_IMPORTED_MODULE_14__]);\n([_action_ha_automation_action__WEBPACK_IMPORTED_MODULE_12__, _condition_ha_automation_condition__WEBPACK_IMPORTED_MODULE_13__, _trigger_ha_automation_trigger__WEBPACK_IMPORTED_MODULE_14__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\nconst mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HaManualAutomationEditor = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.customElement)(\"manual-automation-editor\")], function (_initialize, _LitElement) {\n  class HaManualAutomationEditor extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaManualAutomationEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$stateObj, _ensureArray, _ensureArray2, _this$hass$user, _ensureArray3;\n        return (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n      ${this.disabled ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<ha-alert alert-type=\"warning\">\n            ${this.hass.localize(\"ui.panel.config.automation.editor.read_only\")}\n            <mwc-button slot=\"action\" @click=${this._duplicate}>\n              ${this.hass.localize(\"ui.panel.config.automation.editor.migrate\")}\n            </mwc-button>\n          </ha-alert>` : lit__WEBPACK_IMPORTED_MODULE_2__.nothing}\n      ${((_this$stateObj = this.stateObj) === null || _this$stateObj === void 0 ? void 0 : _this$stateObj.state) === \"off\" ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`\n            <ha-alert alert-type=\"info\">\n              ${this.hass.localize(\"ui.panel.config.automation.editor.disabled\")}\n              <mwc-button slot=\"action\" @click=${this._enable}>\n                ${this.hass.localize(\"ui.panel.config.automation.editor.enable\")}\n              </mwc-button>\n            </ha-alert>\n          ` : \"\"}\n      ${this.config.description ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<ha-markdown\n            class=\"description\"\n            breaks\n            .content=${this.config.description}\n          ></ha-markdown>` : \"\"}\n      <div class=\"header\">\n        <h2 id=\"triggers-heading\" class=\"name\">\n          ${this.hass.localize(\"ui.panel.config.automation.editor.triggers.header\")}\n        </h2>\n        <a\n          href=${(0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/automation/trigger/\")}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <ha-icon-button\n            .path=${mdiHelpCircle}\n            .label=${this.hass.localize(\"ui.panel.config.automation.editor.triggers.learn_more\")}\n          ></ha-icon-button>\n        </a>\n      </div>\n      ${!((_ensureArray = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_4__.ensureArray)(this.config.trigger)) !== null && _ensureArray !== void 0 && _ensureArray.length) ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<p>\n            ${this.hass.localize(\"ui.panel.config.automation.editor.triggers.description\")}\n          </p>` : lit__WEBPACK_IMPORTED_MODULE_2__.nothing}\n\n      <ha-automation-trigger\n        role=\"region\"\n        aria-labelledby=\"triggers-heading\"\n        .triggers=${this.config.trigger}\n        .path=${[\"trigger\"]}\n        @value-changed=${this._triggerChanged}\n        @item-moved=${this._itemMoved}\n        .hass=${this.hass}\n        .disabled=${this.disabled}\n      ></ha-automation-trigger>\n\n      <div class=\"header\">\n        <h2 id=\"conditions-heading\" class=\"name\">\n          ${this.hass.localize(\"ui.panel.config.automation.editor.conditions.header\")}\n          <span class=\"small\"\n            >(${this.hass.localize(\"ui.common.optional\")})</span\n          >\n        </h2>\n        <a\n          href=${(0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/automation/condition/\")}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <ha-icon-button\n            .path=${mdiHelpCircle}\n            .label=${this.hass.localize(\"ui.panel.config.automation.editor.conditions.learn_more\")}\n          ></ha-icon-button>\n        </a>\n      </div>\n      ${!((_ensureArray2 = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_4__.ensureArray)(this.config.condition)) !== null && _ensureArray2 !== void 0 && _ensureArray2.length) ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<p>\n            ${this.hass.localize(\"ui.panel.config.automation.editor.conditions.description\", {\n          user: ((_this$hass$user = this.hass.user) === null || _this$hass$user === void 0 ? void 0 : _this$hass$user.name) || \"Alice\"\n        })}\n          </p>` : lit__WEBPACK_IMPORTED_MODULE_2__.nothing}\n\n      <ha-automation-condition\n        role=\"region\"\n        aria-labelledby=\"conditions-heading\"\n        .conditions=${this.config.condition || []}\n        .path=${[\"condition\"]}\n        @value-changed=${this._conditionChanged}\n        @item-moved=${this._itemMoved}\n        .hass=${this.hass}\n        .disabled=${this.disabled}\n      ></ha-automation-condition>\n\n      <div class=\"header\">\n        <h2 id=\"actions-heading\" class=\"name\">\n          ${this.hass.localize(\"ui.panel.config.automation.editor.actions.header\")}\n        </h2>\n        <div>\n          <a\n            href=${(0,_util_documentation_url__WEBPACK_IMPORTED_MODULE_11__.documentationUrl)(this.hass, \"/docs/automation/action/\")}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <ha-icon-button\n              .path=${mdiHelpCircle}\n              .label=${this.hass.localize(\"ui.panel.config.automation.editor.actions.learn_more\")}\n            ></ha-icon-button>\n          </a>\n        </div>\n      </div>\n      ${!((_ensureArray3 = (0,_common_array_ensure_array__WEBPACK_IMPORTED_MODULE_4__.ensureArray)(this.config.action)) !== null && _ensureArray3 !== void 0 && _ensureArray3.length) ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html)`<p>\n            ${this.hass.localize(\"ui.panel.config.automation.editor.actions.description\")}\n          </p>` : lit__WEBPACK_IMPORTED_MODULE_2__.nothing}\n\n      <ha-automation-action\n        role=\"region\"\n        aria-labelledby=\"actions-heading\"\n        .actions=${this.config.action}\n        .path=${[\"action\"]}\n        @value-changed=${this._actionChanged}\n        @item-moved=${this._itemMoved}\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .disabled=${this.disabled}\n      ></ha-automation-action>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_triggerChanged\",\n      value: function _triggerChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this.config,\n            trigger: ev.detail.value\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_conditionChanged\",\n      value: function _conditionChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this.config,\n            condition: ev.detail.value\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_actionChanged\",\n      value: function _actionChanged(ev) {\n        ev.stopPropagation();\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"value-changed\", {\n          value: {\n            ...this.config,\n            action: ev.detail.value\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_itemMoved\",\n      value: function _itemMoved(ev) {\n        ev.stopPropagation();\n        const {\n          oldIndex,\n          newIndex,\n          oldPath,\n          newPath\n        } = ev.detail;\n        const updatedConfig = (0,_common_util_array_move__WEBPACK_IMPORTED_MODULE_6__.nestedArrayMove)(this.config, oldIndex, newIndex, oldPath, newPath);\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"value-changed\", {\n          value: updatedConfig\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_enable\",\n      value: async function _enable() {\n        if (!this.hass || !this.stateObj) {\n          return;\n        }\n        await this.hass.callService(\"automation\", \"turn_on\", {\n          entity_id: this.stateObj.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_duplicate\",\n      value: function _duplicate() {\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_5__.fireEvent)(this, \"duplicate\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_10__.haStyle, (0,lit__WEBPACK_IMPORTED_MODULE_2__.css)`\n        :host {\n          display: block;\n        }\n        ha-card {\n          overflow: hidden;\n        }\n        .description {\n          margin: 0;\n        }\n        p {\n          margin-top: 0;\n        }\n        .header {\n          margin-top: 16px;\n\n          display: flex;\n          align-items: center;\n        }\n        .header:first-child {\n          margin-top: -16px;\n        }\n        .header .name {\n          font-weight: 400;\n          flex: 1;\n          margin-bottom: 16px;\n        }\n        .header a {\n          color: var(--secondary-text-color);\n        }\n        .header .small {\n          font-size: small;\n          font-weight: normal;\n          line-height: 0;\n        }\n        ha-alert.re-order {\n          display: block;\n          margin-bottom: 16px;\n          border-radius: var(--ha-card-border-radius, 12px);\n          overflow: hidden;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_2__.LitElement);\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2NvbmZpZy9hdXRvbWF0aW9uL21hbnVhbC1hdXRvbWF0aW9uLWVkaXRvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQTBRQTtBQUFBO0FBQUE7QUExUUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvY29uZmlnL2F1dG9tYXRpb24vbWFudWFsLWF1dG9tYXRpb24tZWRpdG9yLnRzPzkwZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiQG1hdGVyaWFsL213Yy1idXR0b24vbXdjLWJ1dHRvblwiO1xuaW1wb3J0IHsgbWRpSGVscENpcmNsZSB9IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgeyBIYXNzRW50aXR5IH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgY3NzLCBDU1NSZXN1bHRHcm91cCwgaHRtbCwgTGl0RWxlbWVudCwgbm90aGluZyB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBlbnN1cmVBcnJheSB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vYXJyYXkvZW5zdXJlLWFycmF5XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBuZXN0ZWRBcnJheU1vdmUgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3V0aWwvYXJyYXktbW92ZVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jYXJkXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLW1hcmtkb3duXCI7XG5pbXBvcnQge1xuICBDb25kaXRpb24sXG4gIE1hbnVhbEF1dG9tYXRpb25Db25maWcsXG4gIFRyaWdnZXIsXG59IGZyb20gXCIuLi8uLi8uLi9kYXRhL2F1dG9tYXRpb25cIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL3NjcmlwdFwiO1xuaW1wb3J0IHsgaGFTdHlsZSB9IGZyb20gXCIuLi8uLi8uLi9yZXNvdXJjZXMvc3R5bGVzXCI7XG5pbXBvcnQgdHlwZSB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IGRvY3VtZW50YXRpb25VcmwgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbC9kb2N1bWVudGF0aW9uLXVybFwiO1xuaW1wb3J0IFwiLi9hY3Rpb24vaGEtYXV0b21hdGlvbi1hY3Rpb25cIjtcbmltcG9ydCBcIi4vY29uZGl0aW9uL2hhLWF1dG9tYXRpb24tY29uZGl0aW9uXCI7XG5pbXBvcnQgXCIuL3RyaWdnZXIvaGEtYXV0b21hdGlvbi10cmlnZ2VyXCI7XG5cbkBjdXN0b21FbGVtZW50KFwibWFudWFsLWF1dG9tYXRpb24tZWRpdG9yXCIpXG5leHBvcnQgY2xhc3MgSGFNYW51YWxBdXRvbWF0aW9uRWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIGlzV2lkZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIG5hcnJvdyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSkgcHVibGljIGRpc2FibGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgY29uZmlnITogTWFudWFsQXV0b21hdGlvbkNvbmZpZztcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzdGF0ZU9iaj86IEhhc3NFbnRpdHk7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICAgICR7dGhpcy5kaXNhYmxlZFxuICAgICAgICA/IGh0bWxgPGhhLWFsZXJ0IGFsZXJ0LXR5cGU9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5yZWFkX29ubHlcIil9XG4gICAgICAgICAgICA8bXdjLWJ1dHRvbiBzbG90PVwiYWN0aW9uXCIgQGNsaWNrPSR7dGhpcy5fZHVwbGljYXRlfT5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IubWlncmF0ZVwiKX1cbiAgICAgICAgICAgIDwvbXdjLWJ1dHRvbj5cbiAgICAgICAgICA8L2hhLWFsZXJ0PmBcbiAgICAgICAgOiBub3RoaW5nfVxuICAgICAgJHt0aGlzLnN0YXRlT2JqPy5zdGF0ZSA9PT0gXCJvZmZcIlxuICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICA8aGEtYWxlcnQgYWxlcnQtdHlwZT1cImluZm9cIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuZGlzYWJsZWRcIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8bXdjLWJ1dHRvbiBzbG90PVwiYWN0aW9uXCIgQGNsaWNrPSR7dGhpcy5fZW5hYmxlfT5cbiAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmVuYWJsZVwiXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgPC9oYS1hbGVydD5cbiAgICAgICAgICBgXG4gICAgICAgIDogXCJcIn1cbiAgICAgICR7dGhpcy5jb25maWcuZGVzY3JpcHRpb25cbiAgICAgICAgPyBodG1sYDxoYS1tYXJrZG93blxuICAgICAgICAgICAgY2xhc3M9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICBicmVha3NcbiAgICAgICAgICAgIC5jb250ZW50PSR7dGhpcy5jb25maWcuZGVzY3JpcHRpb259XG4gICAgICAgICAgPjwvaGEtbWFya2Rvd24+YFxuICAgICAgICA6IFwiXCJ9XG4gICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgIDxoMiBpZD1cInRyaWdnZXJzLWhlYWRpbmdcIiBjbGFzcz1cIm5hbWVcIj5cbiAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLnRyaWdnZXJzLmhlYWRlclwiXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9oMj5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPSR7ZG9jdW1lbnRhdGlvblVybCh0aGlzLmhhc3MsIFwiL2RvY3MvYXV0b21hdGlvbi90cmlnZ2VyL1wiKX1cbiAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICA+XG4gICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAucGF0aD0ke21kaUhlbHBDaXJjbGV9XG4gICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLnRyaWdnZXJzLmxlYXJuX21vcmVcIlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+PC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG4gICAgICAkeyFlbnN1cmVBcnJheSh0aGlzLmNvbmZpZy50cmlnZ2VyKT8ubGVuZ3RoXG4gICAgICAgID8gaHRtbGA8cD5cbiAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci50cmlnZ2Vycy5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5gXG4gICAgICAgIDogbm90aGluZ31cblxuICAgICAgPGhhLWF1dG9tYXRpb24tdHJpZ2dlclxuICAgICAgICByb2xlPVwicmVnaW9uXCJcbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwidHJpZ2dlcnMtaGVhZGluZ1wiXG4gICAgICAgIC50cmlnZ2Vycz0ke3RoaXMuY29uZmlnLnRyaWdnZXJ9XG4gICAgICAgIC5wYXRoPSR7W1widHJpZ2dlclwiXX1cbiAgICAgICAgQHZhbHVlLWNoYW5nZWQ9JHt0aGlzLl90cmlnZ2VyQ2hhbmdlZH1cbiAgICAgICAgQGl0ZW0tbW92ZWQ9JHt0aGlzLl9pdGVtTW92ZWR9XG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgPjwvaGEtYXV0b21hdGlvbi10cmlnZ2VyPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgIDxoMiBpZD1cImNvbmRpdGlvbnMtaGVhZGluZ1wiIGNsYXNzPVwibmFtZVwiPlxuICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuY29uZGl0aW9ucy5oZWFkZXJcIlxuICAgICAgICAgICl9XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbWFsbFwiXG4gICAgICAgICAgICA+KCR7dGhpcy5oYXNzLmxvY2FsaXplKFwidWkuY29tbW9uLm9wdGlvbmFsXCIpfSk8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgIDwvaDI+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj0ke2RvY3VtZW50YXRpb25VcmwodGhpcy5oYXNzLCBcIi9kb2NzL2F1dG9tYXRpb24vY29uZGl0aW9uL1wiKX1cbiAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxuICAgICAgICAgIHJlbD1cIm5vcmVmZXJyZXJcIlxuICAgICAgICA+XG4gICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAucGF0aD0ke21kaUhlbHBDaXJjbGV9XG4gICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgIFwidWkucGFuZWwuY29uZmlnLmF1dG9tYXRpb24uZWRpdG9yLmNvbmRpdGlvbnMubGVhcm5fbW9yZVwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7IWVuc3VyZUFycmF5KHRoaXMuY29uZmlnLmNvbmRpdGlvbik/Lmxlbmd0aFxuICAgICAgICA/IGh0bWxgPHA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuY29uZGl0aW9ucy5kZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICB7IHVzZXI6IHRoaXMuaGFzcy51c2VyPy5uYW1lIHx8IFwiQWxpY2VcIiB9XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5gXG4gICAgICAgIDogbm90aGluZ31cblxuICAgICAgPGhhLWF1dG9tYXRpb24tY29uZGl0aW9uXG4gICAgICAgIHJvbGU9XCJyZWdpb25cIlxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJjb25kaXRpb25zLWhlYWRpbmdcIlxuICAgICAgICAuY29uZGl0aW9ucz0ke3RoaXMuY29uZmlnLmNvbmRpdGlvbiB8fCBbXX1cbiAgICAgICAgLnBhdGg9JHtbXCJjb25kaXRpb25cIl19XG4gICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fY29uZGl0aW9uQ2hhbmdlZH1cbiAgICAgICAgQGl0ZW0tbW92ZWQ9JHt0aGlzLl9pdGVtTW92ZWR9XG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZGlzYWJsZWQ9JHt0aGlzLmRpc2FibGVkfVxuICAgICAgPjwvaGEtYXV0b21hdGlvbi1jb25kaXRpb24+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgPGgyIGlkPVwiYWN0aW9ucy1oZWFkaW5nXCIgY2xhc3M9XCJuYW1lXCI+XG4gICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICBcInVpLnBhbmVsLmNvbmZpZy5hdXRvbWF0aW9uLmVkaXRvci5hY3Rpb25zLmhlYWRlclwiXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9oMj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj0ke2RvY3VtZW50YXRpb25VcmwodGhpcy5oYXNzLCBcIi9kb2NzL2F1dG9tYXRpb24vYWN0aW9uL1wiKX1cbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aGEtaWNvbi1idXR0b25cbiAgICAgICAgICAgICAgLnBhdGg9JHttZGlIZWxwQ2lyY2xlfVxuICAgICAgICAgICAgICAubGFiZWw9JHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYWN0aW9ucy5sZWFybl9tb3JlXCJcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgICR7IWVuc3VyZUFycmF5KHRoaXMuY29uZmlnLmFjdGlvbik/Lmxlbmd0aFxuICAgICAgICA/IGh0bWxgPHA+XG4gICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5jb25maWcuYXV0b21hdGlvbi5lZGl0b3IuYWN0aW9ucy5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvcD5gXG4gICAgICAgIDogbm90aGluZ31cblxuICAgICAgPGhhLWF1dG9tYXRpb24tYWN0aW9uXG4gICAgICAgIHJvbGU9XCJyZWdpb25cIlxuICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJhY3Rpb25zLWhlYWRpbmdcIlxuICAgICAgICAuYWN0aW9ucz0ke3RoaXMuY29uZmlnLmFjdGlvbn1cbiAgICAgICAgLnBhdGg9JHtbXCJhY3Rpb25cIl19XG4gICAgICAgIEB2YWx1ZS1jaGFuZ2VkPSR7dGhpcy5fYWN0aW9uQ2hhbmdlZH1cbiAgICAgICAgQGl0ZW0tbW92ZWQ9JHt0aGlzLl9pdGVtTW92ZWR9XG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAubmFycm93PSR7dGhpcy5uYXJyb3d9XG4gICAgICAgIC5kaXNhYmxlZD0ke3RoaXMuZGlzYWJsZWR9XG4gICAgICA+PC9oYS1hdXRvbWF0aW9uLWFjdGlvbj5cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBfdHJpZ2dlckNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICB2YWx1ZTogeyAuLi50aGlzLmNvbmZpZyEsIHRyaWdnZXI6IGV2LmRldGFpbC52YWx1ZSBhcyBUcmlnZ2VyW10gfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbmRpdGlvbkNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICAuLi50aGlzLmNvbmZpZyEsXG4gICAgICAgIGNvbmRpdGlvbjogZXYuZGV0YWlsLnZhbHVlIGFzIENvbmRpdGlvbltdLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2FjdGlvbkNoYW5nZWQoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZmlyZUV2ZW50KHRoaXMsIFwidmFsdWUtY2hhbmdlZFwiLCB7XG4gICAgICB2YWx1ZTogeyAuLi50aGlzLmNvbmZpZyEsIGFjdGlvbjogZXYuZGV0YWlsLnZhbHVlIGFzIEFjdGlvbltdIH0sXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9pdGVtTW92ZWQoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgeyBvbGRJbmRleCwgbmV3SW5kZXgsIG9sZFBhdGgsIG5ld1BhdGggfSA9IGV2LmRldGFpbDtcbiAgICBjb25zdCB1cGRhdGVkQ29uZmlnID0gbmVzdGVkQXJyYXlNb3ZlKFxuICAgICAgdGhpcy5jb25maWcsXG4gICAgICBvbGRJbmRleCxcbiAgICAgIG5ld0luZGV4LFxuICAgICAgb2xkUGF0aCxcbiAgICAgIG5ld1BhdGhcbiAgICApO1xuICAgIGZpcmVFdmVudCh0aGlzLCBcInZhbHVlLWNoYW5nZWRcIiwge1xuICAgICAgdmFsdWU6IHVwZGF0ZWRDb25maWcsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9lbmFibGUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmhhc3MgfHwgIXRoaXMuc3RhdGVPYmopIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5oYXNzLmNhbGxTZXJ2aWNlKFwiYXV0b21hdGlvblwiLCBcInR1cm5fb25cIiwge1xuICAgICAgZW50aXR5X2lkOiB0aGlzLnN0YXRlT2JqLmVudGl0eV9pZCxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2R1cGxpY2F0ZSgpIHtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJkdXBsaWNhdGVcIik7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGhhU3R5bGUsXG4gICAgICBjc3NgXG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgICBoYS1jYXJkIHtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICAgIC5kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICB9XG4gICAgICAgIHAge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgICAgIH1cbiAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMTZweDtcblxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuaGVhZGVyOmZpcnN0LWNoaWxkIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAtMTZweDtcbiAgICAgICAgfVxuICAgICAgICAuaGVhZGVyIC5uYW1lIHtcbiAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgfVxuICAgICAgICAuaGVhZGVyIGEge1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgLmhlYWRlciAuc21hbGwge1xuICAgICAgICAgIGZvbnQtc2l6ZTogc21hbGw7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgICAgfVxuICAgICAgICBoYS1hbGVydC5yZS1vcmRlciB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1oYS1jYXJkLWJvcmRlci1yYWRpdXMsIDEycHgpO1xuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgXTtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwibWFudWFsLWF1dG9tYXRpb24tZWRpdG9yXCI6IEhhTWFudWFsQXV0b21hdGlvbkVkaXRvcjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/config/automation/manual-automation-editor.ts\n");

/***/ })

};
