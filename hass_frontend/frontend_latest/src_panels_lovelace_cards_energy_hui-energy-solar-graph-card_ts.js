/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const id = "src_panels_lovelace_cards_energy_hui-energy-solar-graph-card_ts";
export const ids = ["src_panels_lovelace_cards_energy_hui-energy-solar-graph-card_ts"];
export const modules = {

/***/ "./src/mixins/subscribe-mixin.ts":
/*!***************************************!*\
  !*** ./src/mixins/subscribe-mixin.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SubscribeMixin: () => (/* binding */ SubscribeMixin)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n\n\n\n\nconst SubscribeMixin = superClass => {\n  let SubscribeClass = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(null, function (_initialize, _superClass) {\n    class SubscribeClass extends _superClass {\n      constructor(...args) {\n        super(...args);\n        _initialize(this);\n      }\n    }\n    return {\n      F: SubscribeClass,\n      d: [{\n        kind: \"field\",\n        decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_3__.property)({\n          attribute: false\n        })],\n        key: \"hass\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"hassSubscribeRequiredHostProps\",\n        value: void 0\n      }, {\n        kind: \"field\",\n        key: \"__unsubs\",\n        value: void 0\n      }, {\n        kind: \"method\",\n        key: \"connectedCallback\",\n        value:\n        // we wait with subscribing till these properties are set on the host element\n\n        function connectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"connectedCallback\", this).call(this);\n          this.__checkSubscribed();\n        }\n      }, {\n        kind: \"method\",\n        key: \"disconnectedCallback\",\n        value: function disconnectedCallback() {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"disconnectedCallback\", this).call(this);\n          if (this.__unsubs) {\n            while (this.__unsubs.length) {\n              const unsub = this.__unsubs.pop();\n              if (unsub instanceof Promise) {\n                unsub.then(unsubFunc => unsubFunc());\n              } else {\n                unsub();\n              }\n            }\n            this.__unsubs = undefined;\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"updated\",\n        value: function updated(changedProps) {\n          (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(SubscribeClass.prototype), \"updated\", this).call(this, changedProps);\n          if (changedProps.has(\"hass\")) {\n            this.__checkSubscribed();\n            return;\n          }\n          if (!this.hassSubscribeRequiredHostProps) {\n            return;\n          }\n          for (const key of changedProps.keys()) {\n            if (this.hassSubscribeRequiredHostProps.includes(key)) {\n              this.__checkSubscribed();\n              return;\n            }\n          }\n        }\n      }, {\n        kind: \"method\",\n        key: \"hassSubscribe\",\n        value: function hassSubscribe() {\n          return [];\n        }\n      }, {\n        kind: \"method\",\n        key: \"__checkSubscribed\",\n        value: function __checkSubscribed() {\n          var _this$hassSubscribeRe;\n          if (this.__unsubs !== undefined || !this.isConnected || this.hass === undefined || (_this$hassSubscribeRe = this.hassSubscribeRequiredHostProps) !== null && _this$hassSubscribeRe !== void 0 && _this$hassSubscribeRe.some(prop => this[prop] === undefined)) {\n            return;\n          }\n          this.__unsubs = this.hassSubscribe();\n        }\n      }]\n    };\n  }, superClass);\n  return SubscribeClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWl4aW5zL3N1YnNjcmliZS1taXhpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBO0FBT0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFnRUE7QUFBQTtBQUFBO0FBaEVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9taXhpbnMvc3Vic2NyaWJlLW1peGluLnRzP2Y1YjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5zdWJzY3JpYmVGdW5jIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgUHJvcGVydHlWYWx1ZXMsIFJlYWN0aXZlRWxlbWVudCB9IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvciwgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc3NTdWJzY3JpYmVFbGVtZW50IHtcbiAgaGFzc1N1YnNjcmliZSgpOiBVbnN1YnNjcmliZUZ1bmNbXTtcbn1cblxuZXhwb3J0IGNvbnN0IFN1YnNjcmliZU1peGluID0gPFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxSZWFjdGl2ZUVsZW1lbnQ+PihcbiAgc3VwZXJDbGFzczogVFxuKSA9PiB7XG4gIGNsYXNzIFN1YnNjcmliZUNsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gICAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgICAvLyB3ZSB3YWl0IHdpdGggc3Vic2NyaWJpbmcgdGlsbCB0aGVzZSBwcm9wZXJ0aWVzIGFyZSBzZXQgb24gdGhlIGhvc3QgZWxlbWVudFxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHM/OiBzdHJpbmdbXTtcblxuICAgIHByaXZhdGUgX191bnN1YnM/OiBBcnJheTxVbnN1YnNjcmliZUZ1bmMgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz4+O1xuXG4gICAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuX19jaGVja1N1YnNjcmliZWQoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgaWYgKHRoaXMuX191bnN1YnMpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX191bnN1YnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLl9fdW5zdWJzLnBvcCgpITtcbiAgICAgICAgICBpZiAodW5zdWIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB1bnN1Yi50aGVuKCh1bnN1YkZ1bmMpID0+IHVuc3ViRnVuYygpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3Vuc3VicyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgdXBkYXRlZChjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG4gICAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIikpIHtcbiAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGNoYW5nZWRQcm9wcy5rZXlzKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzLmluY2x1ZGVzKGtleSBhcyBzdHJpbmcpKSB7XG4gICAgICAgICAgdGhpcy5fX2NoZWNrU3Vic2NyaWJlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlKCk6IEFycmF5PFxuICAgICAgVW5zdWJzY3JpYmVGdW5jIHwgUHJvbWlzZTxVbnN1YnNjcmliZUZ1bmM+XG4gICAgPiB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfX2NoZWNrU3Vic2NyaWJlZCgpOiB2b2lkIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fX3Vuc3VicyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICEodGhpcyBhcyB1bmtub3duIGFzIEVsZW1lbnQpLmlzQ29ubmVjdGVkIHx8XG4gICAgICAgIHRoaXMuaGFzcyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHRoaXMuaGFzc1N1YnNjcmliZVJlcXVpcmVkSG9zdFByb3BzPy5zb21lKFxuICAgICAgICAgIChwcm9wKSA9PiB0aGlzW3Byb3BdID09PSB1bmRlZmluZWRcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX191bnN1YnMgPSB0aGlzLmhhc3NTdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN1YnNjcmliZUNsYXNzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mixins/subscribe-mixin.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/cards/energy/common/energy-chart-options.ts":
/*!*************************************************************************!*\
  !*** ./src/panels/lovelace/cards/energy/common/energy-chart-options.ts ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCommonOptions: () => (/* binding */ getCommonOptions),\n/* harmony export */   getSuggestedMax: () => (/* binding */ getSuggestedMax)\n/* harmony export */ });\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/subHours/index.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/differenceInDays/index.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/differenceInHours/index.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/addHours/index.js\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _common_datetime_format_date__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../common/datetime/format_date */ \"./src/common/datetime/format_date.ts\");\n/* harmony import */ var _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../common/datetime/format_time */ \"./src/common/datetime/format_time.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_1__, _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_2__]);\n([_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_1__, _common_datetime_format_time__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction getSuggestedMax(dayDifference, end) {\n  let suggestedMax = new Date(end);\n\n  // Sometimes around DST we get a time of 0:59 instead of 23:59 as expected.\n  // Correct for this when showing days/months so we don't get an extra day.\n  if (dayDifference > 2 && suggestedMax.getHours() === 0) {\n    suggestedMax = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(suggestedMax, 1);\n  }\n  suggestedMax.setMinutes(0, 0, 0);\n  if (dayDifference > 35) {\n    suggestedMax.setDate(1);\n  }\n  if (dayDifference > 2) {\n    suggestedMax.setHours(0);\n  }\n  return suggestedMax.getTime();\n}\nfunction getCommonOptions(start, end, locale, config, unit, compareStart, compareEnd) {\n  const dayDifference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(end, start);\n  const compare = compareStart !== undefined && compareEnd !== undefined;\n  if (compare && dayDifference <= 35) {\n    const difference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(end, start);\n    const differenceCompare = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(compareEnd, compareStart);\n    // If the compare period doesn't match the main period, adjust them to match\n    if (differenceCompare > difference) {\n      end = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(end, differenceCompare - difference);\n    } else if (difference > differenceCompare) {\n      compareEnd = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(compareEnd, difference - differenceCompare);\n    }\n  }\n  const options = {\n    parsing: false,\n    animation: false,\n    interaction: {\n      mode: \"x\"\n    },\n    scales: {\n      x: {\n        type: \"time\",\n        suggestedMin: start.getTime(),\n        max: getSuggestedMax(dayDifference, end),\n        adapters: {\n          date: {\n            locale,\n            config\n          }\n        },\n        ticks: {\n          maxRotation: 0,\n          sampleSize: 5,\n          autoSkipPadding: 20,\n          font: context => context.tick && context.tick.major ? {\n            weight: \"bold\"\n          } : {}\n        },\n        time: {\n          tooltipFormat: dayDifference > 35 ? \"monthyear\" : dayDifference > 7 ? \"date\" : dayDifference > 2 ? \"weekday\" : dayDifference > 0 ? \"datetime\" : \"hour\",\n          minUnit: dayDifference > 35 ? \"month\" : dayDifference > 2 ? \"day\" : \"hour\"\n        }\n      },\n      y: {\n        stacked: true,\n        type: \"linear\",\n        title: {\n          display: true,\n          text: unit\n        },\n        ticks: {\n          beginAtZero: true,\n          callback: value => (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_0__.formatNumber)(Math.abs(value), locale)\n        }\n      }\n    },\n    plugins: {\n      tooltip: {\n        position: \"nearest\",\n        filter: val => val.formattedValue !== \"0\",\n        itemSort: function (a, b) {\n          return b.datasetIndex - a.datasetIndex;\n        },\n        callbacks: {\n          title: datasets => {\n            if (dayDifference > 0) {\n              return datasets[0].label;\n            }\n            const date = new Date(datasets[0].parsed.x);\n            return `${compare ? `${(0,_common_datetime_format_date__WEBPACK_IMPORTED_MODULE_1__.formatDateVeryShort)(date, locale, config)}: ` : \"\"}${(0,_common_datetime_format_time__WEBPACK_IMPORTED_MODULE_2__.formatTime)(date, locale, config)} â€“ ${(0,_common_datetime_format_time__WEBPACK_IMPORTED_MODULE_2__.formatTime)((0,date_fns_esm__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(date, 1), locale, config)}`;\n          },\n          label: context => `${context.dataset.label}: ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_0__.formatNumber)(context.parsed.y, locale)} ${unit}`\n        }\n      },\n      filler: {\n        propagate: false\n      },\n      legend: {\n        display: false,\n        labels: {\n          usePointStyle: true\n        }\n      }\n    },\n    elements: {\n      bar: {\n        borderWidth: 1.5,\n        borderRadius: 4\n      },\n      point: {\n        hitRadius: 50\n      }\n    },\n    // @ts-expect-error\n    locale: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_0__.numberFormatToLocale)(locale)\n  };\n  if (compare) {\n    options.scales.xAxisCompare = {\n      ...options.scales.x,\n      suggestedMin: compareStart.getTime(),\n      max: getSuggestedMax(dayDifference, compareEnd),\n      display: false\n    };\n  }\n  return options;\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9jb21tb24vZW5lcmd5LWNoYXJ0LW9wdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFPQTtBQUlBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9jYXJkcy9lbmVyZ3kvY29tbW9uL2VuZXJneS1jaGFydC1vcHRpb25zLnRzPzM4ZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2hhcnRPcHRpb25zIH0gZnJvbSBcImNoYXJ0LmpzXCI7XG5pbXBvcnQgeyBIYXNzQ29uZmlnIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHtcbiAgYWRkSG91cnMsXG4gIHN1YkhvdXJzLFxuICBkaWZmZXJlbmNlSW5EYXlzLFxuICBkaWZmZXJlbmNlSW5Ib3Vycyxcbn0gZnJvbSBcImRhdGUtZm5zL2VzbVwiO1xuaW1wb3J0IHsgRnJvbnRlbmRMb2NhbGVEYXRhIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2RhdGEvdHJhbnNsYXRpb25cIjtcbmltcG9ydCB7XG4gIGZvcm1hdE51bWJlcixcbiAgbnVtYmVyRm9ybWF0VG9Mb2NhbGUsXG59IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCB7IGZvcm1hdERhdGVWZXJ5U2hvcnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vY29tbW9uL2RhdGV0aW1lL2Zvcm1hdF9kYXRlXCI7XG5pbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL2NvbW1vbi9kYXRldGltZS9mb3JtYXRfdGltZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VnZ2VzdGVkTWF4KGRheURpZmZlcmVuY2U6IG51bWJlciwgZW5kOiBEYXRlKTogbnVtYmVyIHtcbiAgbGV0IHN1Z2dlc3RlZE1heCA9IG5ldyBEYXRlKGVuZCk7XG5cbiAgLy8gU29tZXRpbWVzIGFyb3VuZCBEU1Qgd2UgZ2V0IGEgdGltZSBvZiAwOjU5IGluc3RlYWQgb2YgMjM6NTkgYXMgZXhwZWN0ZWQuXG4gIC8vIENvcnJlY3QgZm9yIHRoaXMgd2hlbiBzaG93aW5nIGRheXMvbW9udGhzIHNvIHdlIGRvbid0IGdldCBhbiBleHRyYSBkYXkuXG4gIGlmIChkYXlEaWZmZXJlbmNlID4gMiAmJiBzdWdnZXN0ZWRNYXguZ2V0SG91cnMoKSA9PT0gMCkge1xuICAgIHN1Z2dlc3RlZE1heCA9IHN1YkhvdXJzKHN1Z2dlc3RlZE1heCwgMSk7XG4gIH1cblxuICBzdWdnZXN0ZWRNYXguc2V0TWludXRlcygwLCAwLCAwKTtcbiAgaWYgKGRheURpZmZlcmVuY2UgPiAzNSkge1xuICAgIHN1Z2dlc3RlZE1heC5zZXREYXRlKDEpO1xuICB9XG4gIGlmIChkYXlEaWZmZXJlbmNlID4gMikge1xuICAgIHN1Z2dlc3RlZE1heC5zZXRIb3VycygwKTtcbiAgfVxuICByZXR1cm4gc3VnZ2VzdGVkTWF4LmdldFRpbWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbW1vbk9wdGlvbnMoXG4gIHN0YXJ0OiBEYXRlLFxuICBlbmQ6IERhdGUsXG4gIGxvY2FsZTogRnJvbnRlbmRMb2NhbGVEYXRhLFxuICBjb25maWc6IEhhc3NDb25maWcsXG4gIHVuaXQ/OiBzdHJpbmcsXG4gIGNvbXBhcmVTdGFydD86IERhdGUsXG4gIGNvbXBhcmVFbmQ/OiBEYXRlXG4pOiBDaGFydE9wdGlvbnMge1xuICBjb25zdCBkYXlEaWZmZXJlbmNlID0gZGlmZmVyZW5jZUluRGF5cyhlbmQsIHN0YXJ0KTtcbiAgY29uc3QgY29tcGFyZSA9IGNvbXBhcmVTdGFydCAhPT0gdW5kZWZpbmVkICYmIGNvbXBhcmVFbmQgIT09IHVuZGVmaW5lZDtcbiAgaWYgKGNvbXBhcmUgJiYgZGF5RGlmZmVyZW5jZSA8PSAzNSkge1xuICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlSW5Ib3VycyhlbmQsIHN0YXJ0KTtcbiAgICBjb25zdCBkaWZmZXJlbmNlQ29tcGFyZSA9IGRpZmZlcmVuY2VJbkhvdXJzKGNvbXBhcmVFbmQhLCBjb21wYXJlU3RhcnQhKTtcbiAgICAvLyBJZiB0aGUgY29tcGFyZSBwZXJpb2QgZG9lc24ndCBtYXRjaCB0aGUgbWFpbiBwZXJpb2QsIGFkanVzdCB0aGVtIHRvIG1hdGNoXG4gICAgaWYgKGRpZmZlcmVuY2VDb21wYXJlID4gZGlmZmVyZW5jZSkge1xuICAgICAgZW5kID0gYWRkSG91cnMoZW5kLCBkaWZmZXJlbmNlQ29tcGFyZSAtIGRpZmZlcmVuY2UpO1xuICAgIH0gZWxzZSBpZiAoZGlmZmVyZW5jZSA+IGRpZmZlcmVuY2VDb21wYXJlKSB7XG4gICAgICBjb21wYXJlRW5kID0gYWRkSG91cnMoY29tcGFyZUVuZCEsIGRpZmZlcmVuY2UgLSBkaWZmZXJlbmNlQ29tcGFyZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgb3B0aW9uczogQ2hhcnRPcHRpb25zID0ge1xuICAgIHBhcnNpbmc6IGZhbHNlLFxuICAgIGFuaW1hdGlvbjogZmFsc2UsXG4gICAgaW50ZXJhY3Rpb246IHtcbiAgICAgIG1vZGU6IFwieFwiLFxuICAgIH0sXG4gICAgc2NhbGVzOiB7XG4gICAgICB4OiB7XG4gICAgICAgIHR5cGU6IFwidGltZVwiLFxuICAgICAgICBzdWdnZXN0ZWRNaW46IHN0YXJ0LmdldFRpbWUoKSxcbiAgICAgICAgbWF4OiBnZXRTdWdnZXN0ZWRNYXgoZGF5RGlmZmVyZW5jZSwgZW5kKSxcbiAgICAgICAgYWRhcHRlcnM6IHtcbiAgICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICBtYXhSb3RhdGlvbjogMCxcbiAgICAgICAgICBzYW1wbGVTaXplOiA1LFxuICAgICAgICAgIGF1dG9Ta2lwUGFkZGluZzogMjAsXG4gICAgICAgICAgZm9udDogKGNvbnRleHQpID0+XG4gICAgICAgICAgICBjb250ZXh0LnRpY2sgJiYgY29udGV4dC50aWNrLm1ham9yXG4gICAgICAgICAgICAgID8gKHsgd2VpZ2h0OiBcImJvbGRcIiB9IGFzIGFueSlcbiAgICAgICAgICAgICAgOiB7fSxcbiAgICAgICAgfSxcbiAgICAgICAgdGltZToge1xuICAgICAgICAgIHRvb2x0aXBGb3JtYXQ6XG4gICAgICAgICAgICBkYXlEaWZmZXJlbmNlID4gMzVcbiAgICAgICAgICAgICAgPyBcIm1vbnRoeWVhclwiXG4gICAgICAgICAgICAgIDogZGF5RGlmZmVyZW5jZSA+IDdcbiAgICAgICAgICAgICAgICA/IFwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgOiBkYXlEaWZmZXJlbmNlID4gMlxuICAgICAgICAgICAgICAgICAgPyBcIndlZWtkYXlcIlxuICAgICAgICAgICAgICAgICAgOiBkYXlEaWZmZXJlbmNlID4gMFxuICAgICAgICAgICAgICAgICAgICA/IFwiZGF0ZXRpbWVcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiaG91clwiLFxuICAgICAgICAgIG1pblVuaXQ6XG4gICAgICAgICAgICBkYXlEaWZmZXJlbmNlID4gMzUgPyBcIm1vbnRoXCIgOiBkYXlEaWZmZXJlbmNlID4gMiA/IFwiZGF5XCIgOiBcImhvdXJcIixcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIHN0YWNrZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6IFwibGluZWFyXCIsXG4gICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICB0ZXh0OiB1bml0LFxuICAgICAgICB9LFxuICAgICAgICB0aWNrczoge1xuICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgIGNhbGxiYWNrOiAodmFsdWUpID0+IGZvcm1hdE51bWJlcihNYXRoLmFicyh2YWx1ZSksIGxvY2FsZSksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgcGx1Z2luczoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBwb3NpdGlvbjogXCJuZWFyZXN0XCIsXG4gICAgICAgIGZpbHRlcjogKHZhbCkgPT4gdmFsLmZvcm1hdHRlZFZhbHVlICE9PSBcIjBcIixcbiAgICAgICAgaXRlbVNvcnQ6IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGIuZGF0YXNldEluZGV4IC0gYS5kYXRhc2V0SW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgIHRpdGxlOiAoZGF0YXNldHMpID0+IHtcbiAgICAgICAgICAgIGlmIChkYXlEaWZmZXJlbmNlID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gZGF0YXNldHNbMF0ubGFiZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0YXNldHNbMF0ucGFyc2VkLngpO1xuICAgICAgICAgICAgcmV0dXJuIGAke1xuICAgICAgICAgICAgICBjb21wYXJlID8gYCR7Zm9ybWF0RGF0ZVZlcnlTaG9ydChkYXRlLCBsb2NhbGUsIGNvbmZpZyl9OiBgIDogXCJcIlxuICAgICAgICAgICAgfSR7Zm9ybWF0VGltZShkYXRlLCBsb2NhbGUsIGNvbmZpZyl9IOKAkyAke2Zvcm1hdFRpbWUoXG4gICAgICAgICAgICAgIGFkZEhvdXJzKGRhdGUsIDEpLFxuICAgICAgICAgICAgICBsb2NhbGUsXG4gICAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICAgICAgKX1gO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGFiZWw6IChjb250ZXh0KSA9PlxuICAgICAgICAgICAgYCR7Y29udGV4dC5kYXRhc2V0LmxhYmVsfTogJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgIGNvbnRleHQucGFyc2VkLnksXG4gICAgICAgICAgICAgIGxvY2FsZVxuICAgICAgICAgICAgKX0gJHt1bml0fWAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZmlsbGVyOiB7XG4gICAgICAgIHByb3BhZ2F0ZTogZmFsc2UsXG4gICAgICB9LFxuICAgICAgbGVnZW5kOiB7XG4gICAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICB1c2VQb2ludFN0eWxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICBiYXI6IHsgYm9yZGVyV2lkdGg6IDEuNSwgYm9yZGVyUmFkaXVzOiA0IH0sXG4gICAgICBwb2ludDoge1xuICAgICAgICBoaXRSYWRpdXM6IDUwLFxuICAgICAgfSxcbiAgICB9LFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBsb2NhbGU6IG51bWJlckZvcm1hdFRvTG9jYWxlKGxvY2FsZSksXG4gIH07XG4gIGlmIChjb21wYXJlKSB7XG4gICAgb3B0aW9ucy5zY2FsZXMhLnhBeGlzQ29tcGFyZSA9IHtcbiAgICAgIC4uLihvcHRpb25zLnNjYWxlcyEueCBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KSxcbiAgICAgIHN1Z2dlc3RlZE1pbjogY29tcGFyZVN0YXJ0IS5nZXRUaW1lKCksXG4gICAgICBtYXg6IGdldFN1Z2dlc3RlZE1heChkYXlEaWZmZXJlbmNlLCBjb21wYXJlRW5kISksXG4gICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICB9O1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/energy/common/energy-chart-options.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/cards/energy/hui-energy-solar-graph-card.ts":
/*!*************************************************************************!*\
  !*** ./src/panels/lovelace/cards/energy/hui-energy-solar-graph-card.ts ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiEnergySolarGraphCard: () => (/* binding */ HuiEnergySolarGraphCard)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/startOfToday/index.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/endOfToday/index.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/isToday/index.js\");\n/* harmony import */ var date_fns_esm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! date-fns/esm */ \"./node_modules/date-fns/esm/differenceInDays/index.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var memoize_one__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! memoize-one */ \"./node_modules/memoize-one/dist/memoize-one.esm.js\");\n/* harmony import */ var _common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/color/convert-color */ \"./src/common/color/convert-color.ts\");\n/* harmony import */ var _common_color_lab__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../common/color/lab */ \"./src/common/color/lab.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _components_chart_ha_chart_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/chart/ha-chart-base */ \"./src/components/chart/ha-chart-base.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _data_energy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../data/energy */ \"./src/data/energy.ts\");\n/* harmony import */ var _data_recorder__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../data/recorder */ \"./src/data/recorder.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _common_has_changed__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/has-changed */ \"./src/panels/lovelace/common/has-changed.ts\");\n/* harmony import */ var _common_energy_chart_options__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./common/energy-chart-options */ \"./src/panels/lovelace/cards/energy/common/energy-chart-options.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_data_energy__WEBPACK_IMPORTED_MODULE_9__, _common_energy_chart_options__WEBPACK_IMPORTED_MODULE_13__]);\n([_data_energy__WEBPACK_IMPORTED_MODULE_9__, _common_energy_chart_options__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HuiEnergySolarGraphCard = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.customElement)(\"hui-energy-solar-graph-card\")], function (_initialize, _SubscribeMixin) {\n  class HuiEnergySolarGraphCard extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiEnergySolarGraphCard,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_chartData\",\n      value() {\n        return {\n          datasets: []\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_start\",\n      value() {\n        return (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_14__[\"default\"])();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_end\",\n      value() {\n        return (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_15__[\"default\"])();\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_compareStart\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_2__.state)()],\n      key: \"_compareEnd\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"hassSubscribeRequiredHostProps\",\n      value() {\n        return [\"_config\"];\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        var _this$_config;\n        return [(0,_data_energy__WEBPACK_IMPORTED_MODULE_9__.getEnergyDataCollection)(this.hass, {\n          key: (_this$_config = this._config) === null || _this$_config === void 0 ? void 0 : _this$_config.collection_key\n        }).subscribe(data => this._getStatistics(data))];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        return (0,_common_has_changed__WEBPACK_IMPORTED_MODULE_12__.hasConfigChanged)(this, changedProps) || changedProps.size > 1 || !changedProps.has(\"hass\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.hass || !this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_1__.nothing;\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`\n      <ha-card>\n        ${this._config.title ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<h1 class=\"card-header\">${this._config.title}</h1>` : \"\"}\n        <div\n          class=\"content ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_3__.classMap)({\n          \"has-header\": !!this._config.title\n        })}\"\n        >\n          <ha-chart-base\n            .hass=${this.hass}\n            .data=${this._chartData}\n            .options=${this._createOptions(this._start, this._end, this.hass.locale, this.hass.config, this._compareStart, this._compareEnd)}\n            chart-type=\"bar\"\n          ></ha-chart-base>\n          ${!this._chartData.datasets.length ? (0,lit__WEBPACK_IMPORTED_MODULE_1__.html)`<div class=\"no-data\">\n                ${(0,date_fns_esm__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(this._start) ? this.hass.localize(\"ui.panel.lovelace.cards.energy.no_data\") : this.hass.localize(\"ui.panel.lovelace.cards.energy.no_data_period\")}\n              </div>` : \"\"}\n        </div>\n      </ha-card>\n    `;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_createOptions\",\n      value() {\n        return (0,memoize_one__WEBPACK_IMPORTED_MODULE_17__[\"default\"])((start, end, locale, config, compareStart, compareEnd) => {\n          const commonOptions = (0,_common_energy_chart_options__WEBPACK_IMPORTED_MODULE_13__.getCommonOptions)(start, end, locale, config, \"kWh\", compareStart, compareEnd);\n          const options = {\n            ...commonOptions,\n            plugins: {\n              ...commonOptions.plugins,\n              tooltip: {\n                ...commonOptions.plugins.tooltip,\n                callbacks: {\n                  ...commonOptions.plugins.tooltip.callbacks,\n                  footer: contexts => {\n                    const production_contexts = contexts.filter(c => {\n                      var _c$dataset;\n                      return ((_c$dataset = c.dataset) === null || _c$dataset === void 0 ? void 0 : _c$dataset.stack) === \"solar\";\n                    });\n                    if (production_contexts.length < 2) {\n                      return [];\n                    }\n                    let total = 0;\n                    for (const context of production_contexts) {\n                      total += context.dataset.data[context.dataIndex].y;\n                    }\n                    if (total === 0) {\n                      return [];\n                    }\n                    return [this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_solar_graph.total_produced\", {\n                      num: (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(total, locale)\n                    })];\n                  }\n                }\n              }\n            },\n            elements: {\n              line: {\n                tension: 0.3,\n                borderWidth: 1.5\n              },\n              bar: {\n                borderWidth: 1.5,\n                borderRadius: 4\n              },\n              point: {\n                hitRadius: 5\n              }\n            }\n          };\n          return options;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getStatistics\",\n      value: async function _getStatistics(energyData) {\n        const solarSources = energyData.prefs.energy_sources.filter(source => source.type === \"solar\");\n        let forecasts;\n        if (solarSources.some(source => {\n          var _source$config_entry_;\n          return (_source$config_entry_ = source.config_entry_solar_forecast) === null || _source$config_entry_ === void 0 ? void 0 : _source$config_entry_.length;\n        })) {\n          try {\n            forecasts = await (0,_data_energy__WEBPACK_IMPORTED_MODULE_9__.getEnergySolarForecasts)(this.hass);\n          } catch (_e) {\n            // ignore\n          }\n        }\n        const datasets = [];\n        const computedStyles = getComputedStyle(this);\n        const solarColor = computedStyles.getPropertyValue(\"--energy-solar-color\").trim();\n        datasets.push(...this._processDataSet(energyData.stats, energyData.statsMetadata, solarSources, solarColor, computedStyles));\n        if (energyData.statsCompare) {\n          // Add empty dataset to align the bars\n          datasets.push({\n            order: 0,\n            data: []\n          });\n          datasets.push({\n            order: 999,\n            data: [],\n            xAxisID: \"xAxisCompare\"\n          });\n          datasets.push(...this._processDataSet(energyData.statsCompare, energyData.statsMetadata, solarSources, solarColor, computedStyles, true));\n        }\n        if (forecasts) {\n          datasets.push(...this._processForecast(energyData.statsMetadata, forecasts, solarSources, computedStyles.getPropertyValue(\"--primary-text-color\"), energyData.start, energyData.end));\n        }\n        this._start = energyData.start;\n        this._end = energyData.end || (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_15__[\"default\"])();\n        this._compareStart = energyData.startCompare;\n        this._compareEnd = energyData.endCompare;\n        this._chartData = {\n          datasets\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_processDataSet\",\n      value: function _processDataSet(statistics, statisticsMetaData, solarSources, solarColor, computedStyles, compare = false) {\n        const data = [];\n        solarSources.forEach((source, idx) => {\n          let borderColor = computedStyles.getPropertyValue(\"--energy-solar-color-\" + idx).trim();\n          if (borderColor.length === 0) {\n            const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(solarColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_5__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.hex2rgb)(solarColor)), idx) : undefined;\n            borderColor = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_4__.lab2rgb)(modifiedColor)) : solarColor;\n          }\n          let prevStart = null;\n          const solarProductionData = [];\n\n          // Process solar production data.\n          if (source.stat_energy_from in statistics) {\n            const stats = statistics[source.stat_energy_from];\n            let end;\n            for (const point of stats) {\n              if (point.change === null || point.change === undefined) {\n                continue;\n              }\n              if (prevStart === point.start) {\n                continue;\n              }\n              const date = new Date(point.start);\n              solarProductionData.push({\n                x: date.getTime(),\n                y: point.change\n              });\n              prevStart = point.start;\n              end = point.end;\n            }\n            if (solarProductionData.length === 1) {\n              solarProductionData.push({\n                x: end,\n                y: 0\n              });\n            }\n          }\n          data.push({\n            label: this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_solar_graph.production\", {\n              name: (0,_data_recorder__WEBPACK_IMPORTED_MODULE_10__.getStatisticLabel)(this.hass, source.stat_energy_from, statisticsMetaData[source.stat_energy_from])\n            }),\n            borderColor: compare ? borderColor + \"7F\" : borderColor,\n            backgroundColor: compare ? borderColor + \"32\" : borderColor + \"7F\",\n            data: solarProductionData,\n            order: 1,\n            stack: \"solar\",\n            xAxisID: compare ? \"xAxisCompare\" : undefined\n          });\n        });\n        return data;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_processForecast\",\n      value: function _processForecast(statisticsMetaData, forecasts, solarSources, borderColor, start, end) {\n        const data = [];\n        const dayDifference = (0,date_fns_esm__WEBPACK_IMPORTED_MODULE_18__[\"default\"])(end || new Date(), start);\n\n        // Process solar forecast data.\n        solarSources.forEach(source => {\n          if (source.config_entry_solar_forecast) {\n            const forecastsData = {};\n            source.config_entry_solar_forecast.forEach(configEntryId => {\n              if (!forecasts[configEntryId]) {\n                return;\n              }\n              Object.entries(forecasts[configEntryId].wh_hours).forEach(([date, value]) => {\n                const dateObj = new Date(date);\n                if (dateObj < start || end && dateObj > end) {\n                  return;\n                }\n                if (dayDifference > 35) {\n                  dateObj.setDate(1);\n                }\n                if (dayDifference > 2) {\n                  dateObj.setHours(0, 0, 0, 0);\n                } else {\n                  dateObj.setMinutes(0, 0, 0);\n                }\n                const time = dateObj.getTime();\n                if (time in forecastsData) {\n                  forecastsData[time] += value;\n                } else {\n                  forecastsData[time] = value;\n                }\n              });\n            });\n            if (forecastsData) {\n              const solarForecastData = [];\n              for (const [time, value] of Object.entries(forecastsData)) {\n                solarForecastData.push({\n                  x: Number(time),\n                  y: value / 1000\n                });\n              }\n              if (solarForecastData.length) {\n                data.push({\n                  type: \"line\",\n                  label: this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_solar_graph.forecast\", {\n                    name: (0,_data_recorder__WEBPACK_IMPORTED_MODULE_10__.getStatisticLabel)(this.hass, source.stat_energy_from, statisticsMetaData[source.stat_energy_from])\n                  }),\n                  fill: false,\n                  stepped: false,\n                  borderColor,\n                  borderDash: [7, 5],\n                  pointRadius: 0,\n                  data: solarForecastData\n                });\n              }\n            }\n          }\n        });\n        return data;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_1__.css)`\n      ha-card {\n        height: 100%;\n      }\n      .card-header {\n        padding-bottom: 0;\n      }\n      .content {\n        padding: 16px;\n      }\n      .has-header {\n        padding-top: 0;\n      }\n      .no-data {\n        position: absolute;\n        height: 100%;\n        top: 0;\n        left: 0;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        padding: 20%;\n        margin-left: 32px;\n        margin-inline-start: 32px;\n        margin-inline-end: initial;\n        box-sizing: border-box;\n      }\n    `;\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_11__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_1__.LitElement));\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9odWktZW5lcmd5LXNvbGFyLWdyYXBoLWNhcmQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTUE7QUFPQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBTUE7QUFJQTtBQUNBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBeWFBO0FBQUE7QUFBQTtBQTVhQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFFQTtBQUNBO0FBVUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFHQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvbG92ZWxhY2UvY2FyZHMvZW5lcmd5L2h1aS1lbmVyZ3ktc29sYXItZ3JhcGgtY2FyZC50cz81MTRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENoYXJ0RGF0YSxcbiAgQ2hhcnREYXRhc2V0LFxuICBDaGFydE9wdGlvbnMsXG4gIFNjYXR0ZXJEYXRhUG9pbnQsXG59IGZyb20gXCJjaGFydC5qc1wiO1xuaW1wb3J0IHtcbiAgZGlmZmVyZW5jZUluRGF5cyxcbiAgZW5kT2ZUb2RheSxcbiAgaXNUb2RheSxcbiAgc3RhcnRPZlRvZGF5LFxufSBmcm9tIFwiZGF0ZS1mbnMvZXNtXCI7XG5pbXBvcnQgeyBIYXNzQ29uZmlnLCBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBub3RoaW5nLFxuICBQcm9wZXJ0eVZhbHVlcyxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlIH0gZnJvbSBcImxpdC9kZWNvcmF0b3JzXCI7XG5pbXBvcnQgeyBjbGFzc01hcCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy9jbGFzcy1tYXBcIjtcbmltcG9ydCBtZW1vaXplT25lIGZyb20gXCJtZW1vaXplLW9uZVwiO1xuaW1wb3J0IHtcbiAgaGV4MnJnYixcbiAgbGFiMnJnYixcbiAgcmdiMmhleCxcbiAgcmdiMmxhYixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb2xvci9jb252ZXJ0LWNvbG9yXCI7XG5pbXBvcnQgeyBsYWJCcmlnaHRlbiwgbGFiRGFya2VuIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb2xvci9sYWJcIjtcbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvY2hhcnQvaGEtY2hhcnQtYmFzZVwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jYXJkXCI7XG5pbXBvcnQge1xuICBFbmVyZ3lEYXRhLFxuICBFbmVyZ3lTb2xhckZvcmVjYXN0cyxcbiAgZ2V0RW5lcmd5RGF0YUNvbGxlY3Rpb24sXG4gIGdldEVuZXJneVNvbGFyRm9yZWNhc3RzLFxuICBTb2xhclNvdXJjZVR5cGVFbmVyZ3lQcmVmZXJlbmNlLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9lbmVyZ3lcIjtcbmltcG9ydCB7XG4gIGdldFN0YXRpc3RpY0xhYmVsLFxuICBTdGF0aXN0aWNzLFxuICBTdGF0aXN0aWNzTWV0YURhdGEsXG59IGZyb20gXCIuLi8uLi8uLi8uLi9kYXRhL3JlY29yZGVyXCI7XG5pbXBvcnQgeyBGcm9udGVuZExvY2FsZURhdGEgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS90cmFuc2xhdGlvblwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlTWl4aW4gfSBmcm9tIFwiLi4vLi4vLi4vLi4vbWl4aW5zL3N1YnNjcmliZS1taXhpblwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi8uLi8uLi90eXBlc1wiO1xuaW1wb3J0IHsgTG92ZWxhY2VDYXJkIH0gZnJvbSBcIi4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFbmVyZ3lTb2xhckdyYXBoQ2FyZENvbmZpZyB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgaGFzQ29uZmlnQ2hhbmdlZCB9IGZyb20gXCIuLi8uLi9jb21tb24vaGFzLWNoYW5nZWRcIjtcbmltcG9ydCB7IGdldENvbW1vbk9wdGlvbnMgfSBmcm9tIFwiLi9jb21tb24vZW5lcmd5LWNoYXJ0LW9wdGlvbnNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJodWktZW5lcmd5LXNvbGFyLWdyYXBoLWNhcmRcIilcbmV4cG9ydCBjbGFzcyBIdWlFbmVyZ3lTb2xhckdyYXBoQ2FyZFxuICBleHRlbmRzIFN1YnNjcmliZU1peGluKExpdEVsZW1lbnQpXG4gIGltcGxlbWVudHMgTG92ZWxhY2VDYXJkXG57XG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIGhhc3MhOiBIb21lQXNzaXN0YW50O1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbmZpZz86IEVuZXJneVNvbGFyR3JhcGhDYXJkQ29uZmlnO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NoYXJ0RGF0YTogQ2hhcnREYXRhID0ge1xuICAgIGRhdGFzZXRzOiBbXSxcbiAgfTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9zdGFydCA9IHN0YXJ0T2ZUb2RheSgpO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2VuZCA9IGVuZE9mVG9kYXkoKTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb21wYXJlU3RhcnQ/OiBEYXRlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2NvbXBhcmVFbmQ/OiBEYXRlO1xuXG4gIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHMgPSBbXCJfY29uZmlnXCJdO1xuXG4gIHB1YmxpYyBoYXNzU3Vic2NyaWJlKCk6IFVuc3Vic2NyaWJlRnVuY1tdIHtcbiAgICByZXR1cm4gW1xuICAgICAgZ2V0RW5lcmd5RGF0YUNvbGxlY3Rpb24odGhpcy5oYXNzLCB7XG4gICAgICAgIGtleTogdGhpcy5fY29uZmlnPy5jb2xsZWN0aW9uX2tleSxcbiAgICAgIH0pLnN1YnNjcmliZSgoZGF0YSkgPT4gdGhpcy5fZ2V0U3RhdGlzdGljcyhkYXRhKSksXG4gICAgXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDYXJkU2l6ZSgpOiBQcm9taXNlPG51bWJlcj4gfCBudW1iZXIge1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgcHVibGljIHNldENvbmZpZyhjb25maWc6IEVuZXJneVNvbGFyR3JhcGhDYXJkQ29uZmlnKTogdm9pZCB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIGhhc0NvbmZpZ0NoYW5nZWQodGhpcywgY2hhbmdlZFByb3BzKSB8fFxuICAgICAgY2hhbmdlZFByb3BzLnNpemUgPiAxIHx8XG4gICAgICAhY2hhbmdlZFByb3BzLmhhcyhcImhhc3NcIilcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuaGFzcyB8fCAhdGhpcy5fY29uZmlnKSB7XG4gICAgICByZXR1cm4gbm90aGluZztcbiAgICB9XG5cbiAgICByZXR1cm4gaHRtbGBcbiAgICAgIDxoYS1jYXJkPlxuICAgICAgICAke3RoaXMuX2NvbmZpZy50aXRsZVxuICAgICAgICAgID8gaHRtbGA8aDEgY2xhc3M9XCJjYXJkLWhlYWRlclwiPiR7dGhpcy5fY29uZmlnLnRpdGxlfTwvaDE+YFxuICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiY29udGVudCAke2NsYXNzTWFwKHtcbiAgICAgICAgICAgIFwiaGFzLWhlYWRlclwiOiAhIXRoaXMuX2NvbmZpZy50aXRsZSxcbiAgICAgICAgICB9KX1cIlxuICAgICAgICA+XG4gICAgICAgICAgPGhhLWNoYXJ0LWJhc2VcbiAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgLmRhdGE9JHt0aGlzLl9jaGFydERhdGF9XG4gICAgICAgICAgICAub3B0aW9ucz0ke3RoaXMuX2NyZWF0ZU9wdGlvbnMoXG4gICAgICAgICAgICAgIHRoaXMuX3N0YXJ0LFxuICAgICAgICAgICAgICB0aGlzLl9lbmQsXG4gICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgIHRoaXMuaGFzcy5jb25maWcsXG4gICAgICAgICAgICAgIHRoaXMuX2NvbXBhcmVTdGFydCxcbiAgICAgICAgICAgICAgdGhpcy5fY29tcGFyZUVuZFxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIGNoYXJ0LXR5cGU9XCJiYXJcIlxuICAgICAgICAgID48L2hhLWNoYXJ0LWJhc2U+XG4gICAgICAgICAgJHshdGhpcy5fY2hhcnREYXRhLmRhdGFzZXRzLmxlbmd0aFxuICAgICAgICAgICAgPyBodG1sYDxkaXYgY2xhc3M9XCJuby1kYXRhXCI+XG4gICAgICAgICAgICAgICAgJHtpc1RvZGF5KHRoaXMuX3N0YXJ0KVxuICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kubm9fZGF0YVwiKVxuICAgICAgICAgICAgICAgICAgOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kubm9fZGF0YV9wZXJpb2RcIlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5gXG4gICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oYS1jYXJkPlxuICAgIGA7XG4gIH1cblxuICBwcml2YXRlIF9jcmVhdGVPcHRpb25zID0gbWVtb2l6ZU9uZShcbiAgICAoXG4gICAgICBzdGFydDogRGF0ZSxcbiAgICAgIGVuZDogRGF0ZSxcbiAgICAgIGxvY2FsZTogRnJvbnRlbmRMb2NhbGVEYXRhLFxuICAgICAgY29uZmlnOiBIYXNzQ29uZmlnLFxuICAgICAgY29tcGFyZVN0YXJ0PzogRGF0ZSxcbiAgICAgIGNvbXBhcmVFbmQ/OiBEYXRlXG4gICAgKTogQ2hhcnRPcHRpb25zID0+IHtcbiAgICAgIGNvbnN0IGNvbW1vbk9wdGlvbnMgPSBnZXRDb21tb25PcHRpb25zKFxuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kLFxuICAgICAgICBsb2NhbGUsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgXCJrV2hcIixcbiAgICAgICAgY29tcGFyZVN0YXJ0LFxuICAgICAgICBjb21wYXJlRW5kXG4gICAgICApO1xuICAgICAgY29uc3Qgb3B0aW9uczogQ2hhcnRPcHRpb25zID0ge1xuICAgICAgICAuLi5jb21tb25PcHRpb25zLFxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgLi4uY29tbW9uT3B0aW9ucy5wbHVnaW5zLFxuICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgIC4uLmNvbW1vbk9wdGlvbnMucGx1Z2lucyEudG9vbHRpcCxcbiAgICAgICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgICAuLi5jb21tb25PcHRpb25zLnBsdWdpbnMhLnRvb2x0aXAhLmNhbGxiYWNrcyxcbiAgICAgICAgICAgICAgZm9vdGVyOiAoY29udGV4dHMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0aW9uX2NvbnRleHRzID0gY29udGV4dHMuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgKGMpID0+IGMuZGF0YXNldD8uc3RhY2sgPT09IFwic29sYXJcIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHByb2R1Y3Rpb25fY29udGV4dHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29udGV4dCBvZiBwcm9kdWN0aW9uX2NvbnRleHRzKSB7XG4gICAgICAgICAgICAgICAgICB0b3RhbCArPSAoY29udGV4dC5kYXRhc2V0LmRhdGFbY29udGV4dC5kYXRhSW5kZXhdIGFzIGFueSkueTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRvdGFsID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb2xhcl9ncmFwaC50b3RhbF9wcm9kdWNlZFwiLFxuICAgICAgICAgICAgICAgICAgICB7IG51bTogZm9ybWF0TnVtYmVyKHRvdGFsLCBsb2NhbGUpIH1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgZWxlbWVudHM6IHtcbiAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICB0ZW5zaW9uOiAwLjMsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMS41LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYmFyOiB7IGJvcmRlcldpZHRoOiAxLjUsIGJvcmRlclJhZGl1czogNCB9LFxuICAgICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICBoaXRSYWRpdXM6IDUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG4gICk7XG5cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0U3RhdGlzdGljcyhlbmVyZ3lEYXRhOiBFbmVyZ3lEYXRhKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc29sYXJTb3VyY2VzOiBTb2xhclNvdXJjZVR5cGVFbmVyZ3lQcmVmZXJlbmNlW10gPVxuICAgICAgZW5lcmd5RGF0YS5wcmVmcy5lbmVyZ3lfc291cmNlcy5maWx0ZXIoXG4gICAgICAgIChzb3VyY2UpID0+IHNvdXJjZS50eXBlID09PSBcInNvbGFyXCJcbiAgICAgICkgYXMgU29sYXJTb3VyY2VUeXBlRW5lcmd5UHJlZmVyZW5jZVtdO1xuXG4gICAgbGV0IGZvcmVjYXN0czogRW5lcmd5U29sYXJGb3JlY2FzdHMgfCB1bmRlZmluZWQ7XG4gICAgaWYgKFxuICAgICAgc29sYXJTb3VyY2VzLnNvbWUoKHNvdXJjZSkgPT4gc291cmNlLmNvbmZpZ19lbnRyeV9zb2xhcl9mb3JlY2FzdD8ubGVuZ3RoKVxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yZWNhc3RzID0gYXdhaXQgZ2V0RW5lcmd5U29sYXJGb3JlY2FzdHModGhpcy5oYXNzKTtcbiAgICAgIH0gY2F0Y2ggKF9lKSB7XG4gICAgICAgIC8vIGlnbm9yZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRhdGFzZXRzOiBDaGFydERhdGFzZXQ8XCJiYXJcIiB8IFwibGluZVwiPltdID0gW107XG5cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgY29uc3Qgc29sYXJDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LXNvbGFyLWNvbG9yXCIpXG4gICAgICAudHJpbSgpO1xuXG4gICAgZGF0YXNldHMucHVzaChcbiAgICAgIC4uLnRoaXMuX3Byb2Nlc3NEYXRhU2V0KFxuICAgICAgICBlbmVyZ3lEYXRhLnN0YXRzLFxuICAgICAgICBlbmVyZ3lEYXRhLnN0YXRzTWV0YWRhdGEsXG4gICAgICAgIHNvbGFyU291cmNlcyxcbiAgICAgICAgc29sYXJDb2xvcixcbiAgICAgICAgY29tcHV0ZWRTdHlsZXNcbiAgICAgIClcbiAgICApO1xuXG4gICAgaWYgKGVuZXJneURhdGEuc3RhdHNDb21wYXJlKSB7XG4gICAgICAvLyBBZGQgZW1wdHkgZGF0YXNldCB0byBhbGlnbiB0aGUgYmFyc1xuICAgICAgZGF0YXNldHMucHVzaCh7XG4gICAgICAgIG9yZGVyOiAwLFxuICAgICAgICBkYXRhOiBbXSxcbiAgICAgIH0pO1xuICAgICAgZGF0YXNldHMucHVzaCh7XG4gICAgICAgIG9yZGVyOiA5OTksXG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICB4QXhpc0lEOiBcInhBeGlzQ29tcGFyZVwiLFxuICAgICAgfSk7XG5cbiAgICAgIGRhdGFzZXRzLnB1c2goXG4gICAgICAgIC4uLnRoaXMuX3Byb2Nlc3NEYXRhU2V0KFxuICAgICAgICAgIGVuZXJneURhdGEuc3RhdHNDb21wYXJlLFxuICAgICAgICAgIGVuZXJneURhdGEuc3RhdHNNZXRhZGF0YSxcbiAgICAgICAgICBzb2xhclNvdXJjZXMsXG4gICAgICAgICAgc29sYXJDb2xvcixcbiAgICAgICAgICBjb21wdXRlZFN0eWxlcyxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcmVjYXN0cykge1xuICAgICAgZGF0YXNldHMucHVzaChcbiAgICAgICAgLi4udGhpcy5fcHJvY2Vzc0ZvcmVjYXN0KFxuICAgICAgICAgIGVuZXJneURhdGEuc3RhdHNNZXRhZGF0YSxcbiAgICAgICAgICBmb3JlY2FzdHMsXG4gICAgICAgICAgc29sYXJTb3VyY2VzLFxuICAgICAgICAgIGNvbXB1dGVkU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoXCItLXByaW1hcnktdGV4dC1jb2xvclwiKSxcbiAgICAgICAgICBlbmVyZ3lEYXRhLnN0YXJ0LFxuICAgICAgICAgIGVuZXJneURhdGEuZW5kXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnQgPSBlbmVyZ3lEYXRhLnN0YXJ0O1xuICAgIHRoaXMuX2VuZCA9IGVuZXJneURhdGEuZW5kIHx8IGVuZE9mVG9kYXkoKTtcblxuICAgIHRoaXMuX2NvbXBhcmVTdGFydCA9IGVuZXJneURhdGEuc3RhcnRDb21wYXJlO1xuICAgIHRoaXMuX2NvbXBhcmVFbmQgPSBlbmVyZ3lEYXRhLmVuZENvbXBhcmU7XG5cbiAgICB0aGlzLl9jaGFydERhdGEgPSB7XG4gICAgICBkYXRhc2V0cyxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfcHJvY2Vzc0RhdGFTZXQoXG4gICAgc3RhdGlzdGljczogU3RhdGlzdGljcyxcbiAgICBzdGF0aXN0aWNzTWV0YURhdGE6IFJlY29yZDxzdHJpbmcsIFN0YXRpc3RpY3NNZXRhRGF0YT4sXG4gICAgc29sYXJTb3VyY2VzOiBTb2xhclNvdXJjZVR5cGVFbmVyZ3lQcmVmZXJlbmNlW10sXG4gICAgc29sYXJDb2xvcjogc3RyaW5nLFxuICAgIGNvbXB1dGVkU3R5bGVzOiBDU1NTdHlsZURlY2xhcmF0aW9uLFxuICAgIGNvbXBhcmUgPSBmYWxzZVxuICApIHtcbiAgICBjb25zdCBkYXRhOiBDaGFydERhdGFzZXQ8XCJiYXJcIiwgU2NhdHRlckRhdGFQb2ludFtdPltdID0gW107XG5cbiAgICBzb2xhclNvdXJjZXMuZm9yRWFjaCgoc291cmNlLCBpZHgpID0+IHtcbiAgICAgIGxldCBib3JkZXJDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1lbmVyZ3ktc29sYXItY29sb3ItXCIgKyBpZHgpXG4gICAgICAgIC50cmltKCk7XG4gICAgICBpZiAoYm9yZGVyQ29sb3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkQ29sb3IgPVxuICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgID8gdGhpcy5oYXNzLnRoZW1lcy5kYXJrTW9kZVxuICAgICAgICAgICAgICA/IGxhYkJyaWdodGVuKHJnYjJsYWIoaGV4MnJnYihzb2xhckNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgOiBsYWJEYXJrZW4ocmdiMmxhYihoZXgycmdiKHNvbGFyQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGJvcmRlckNvbG9yID0gbW9kaWZpZWRDb2xvclxuICAgICAgICAgID8gcmdiMmhleChsYWIycmdiKG1vZGlmaWVkQ29sb3IpKVxuICAgICAgICAgIDogc29sYXJDb2xvcjtcbiAgICAgIH1cblxuICAgICAgbGV0IHByZXZTdGFydDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgIGNvbnN0IHNvbGFyUHJvZHVjdGlvbkRhdGE6IFNjYXR0ZXJEYXRhUG9pbnRbXSA9IFtdO1xuXG4gICAgICAvLyBQcm9jZXNzIHNvbGFyIHByb2R1Y3Rpb24gZGF0YS5cbiAgICAgIGlmIChzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbSBpbiBzdGF0aXN0aWNzKSB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gc3RhdGlzdGljc1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV07XG4gICAgICAgIGxldCBlbmQ7XG5cbiAgICAgICAgZm9yIChjb25zdCBwb2ludCBvZiBzdGF0cykge1xuICAgICAgICAgIGlmIChwb2ludC5jaGFuZ2UgPT09IG51bGwgfHwgcG9pbnQuY2hhbmdlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJldlN0YXJ0ID09PSBwb2ludC5zdGFydCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwb2ludC5zdGFydCk7XG4gICAgICAgICAgc29sYXJQcm9kdWN0aW9uRGF0YS5wdXNoKHtcbiAgICAgICAgICAgIHg6IGRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgeTogcG9pbnQuY2hhbmdlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHByZXZTdGFydCA9IHBvaW50LnN0YXJ0O1xuICAgICAgICAgIGVuZCA9IHBvaW50LmVuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc29sYXJQcm9kdWN0aW9uRGF0YS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBzb2xhclByb2R1Y3Rpb25EYXRhLnB1c2goe1xuICAgICAgICAgICAgeDogZW5kLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkYXRhLnB1c2goe1xuICAgICAgICBsYWJlbDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb2xhcl9ncmFwaC5wcm9kdWN0aW9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogZ2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgICAgc291cmNlLnN0YXRfZW5lcmd5X2Zyb20sXG4gICAgICAgICAgICAgIHN0YXRpc3RpY3NNZXRhRGF0YVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICBib3JkZXJDb2xvcjogY29tcGFyZSA/IGJvcmRlckNvbG9yICsgXCI3RlwiIDogYm9yZGVyQ29sb3IsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogY29tcGFyZSA/IGJvcmRlckNvbG9yICsgXCIzMlwiIDogYm9yZGVyQ29sb3IgKyBcIjdGXCIsXG4gICAgICAgIGRhdGE6IHNvbGFyUHJvZHVjdGlvbkRhdGEsXG4gICAgICAgIG9yZGVyOiAxLFxuICAgICAgICBzdGFjazogXCJzb2xhclwiLFxuICAgICAgICB4QXhpc0lEOiBjb21wYXJlID8gXCJ4QXhpc0NvbXBhcmVcIiA6IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBwcml2YXRlIF9wcm9jZXNzRm9yZWNhc3QoXG4gICAgc3RhdGlzdGljc01ldGFEYXRhOiBSZWNvcmQ8c3RyaW5nLCBTdGF0aXN0aWNzTWV0YURhdGE+LFxuICAgIGZvcmVjYXN0czogRW5lcmd5U29sYXJGb3JlY2FzdHMsXG4gICAgc29sYXJTb3VyY2VzOiBTb2xhclNvdXJjZVR5cGVFbmVyZ3lQcmVmZXJlbmNlW10sXG4gICAgYm9yZGVyQ29sb3I6IHN0cmluZyxcbiAgICBzdGFydDogRGF0ZSxcbiAgICBlbmQ/OiBEYXRlXG4gICkge1xuICAgIGNvbnN0IGRhdGE6IENoYXJ0RGF0YXNldDxcImxpbmVcIj5bXSA9IFtdO1xuXG4gICAgY29uc3QgZGF5RGlmZmVyZW5jZSA9IGRpZmZlcmVuY2VJbkRheXMoZW5kIHx8IG5ldyBEYXRlKCksIHN0YXJ0KTtcblxuICAgIC8vIFByb2Nlc3Mgc29sYXIgZm9yZWNhc3QgZGF0YS5cbiAgICBzb2xhclNvdXJjZXMuZm9yRWFjaCgoc291cmNlKSA9PiB7XG4gICAgICBpZiAoc291cmNlLmNvbmZpZ19lbnRyeV9zb2xhcl9mb3JlY2FzdCkge1xuICAgICAgICBjb25zdCBmb3JlY2FzdHNEYXRhOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHwgdW5kZWZpbmVkID0ge307XG4gICAgICAgIHNvdXJjZS5jb25maWdfZW50cnlfc29sYXJfZm9yZWNhc3QuZm9yRWFjaCgoY29uZmlnRW50cnlJZCkgPT4ge1xuICAgICAgICAgIGlmICghZm9yZWNhc3RzIVtjb25maWdFbnRyeUlkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3QuZW50cmllcyhmb3JlY2FzdHMhW2NvbmZpZ0VudHJ5SWRdLndoX2hvdXJzKS5mb3JFYWNoKFxuICAgICAgICAgICAgKFtkYXRlLCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0ZU9iaiA9IG5ldyBEYXRlKGRhdGUpO1xuICAgICAgICAgICAgICBpZiAoZGF0ZU9iaiA8IHN0YXJ0IHx8IChlbmQgJiYgZGF0ZU9iaiA+IGVuZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGRheURpZmZlcmVuY2UgPiAzNSkge1xuICAgICAgICAgICAgICAgIGRhdGVPYmouc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGF5RGlmZmVyZW5jZSA+IDIpIHtcbiAgICAgICAgICAgICAgICBkYXRlT2JqLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGVPYmouc2V0TWludXRlcygwLCAwLCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB0aW1lID0gZGF0ZU9iai5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIGlmICh0aW1lIGluIGZvcmVjYXN0c0RhdGEpIHtcbiAgICAgICAgICAgICAgICBmb3JlY2FzdHNEYXRhW3RpbWVdICs9IHZhbHVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcmVjYXN0c0RhdGFbdGltZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChmb3JlY2FzdHNEYXRhKSB7XG4gICAgICAgICAgY29uc3Qgc29sYXJGb3JlY2FzdERhdGE6IFNjYXR0ZXJEYXRhUG9pbnRbXSA9IFtdO1xuICAgICAgICAgIGZvciAoY29uc3QgW3RpbWUsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhmb3JlY2FzdHNEYXRhKSkge1xuICAgICAgICAgICAgc29sYXJGb3JlY2FzdERhdGEucHVzaCh7XG4gICAgICAgICAgICAgIHg6IE51bWJlcih0aW1lKSxcbiAgICAgICAgICAgICAgeTogdmFsdWUgLyAxMDAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNvbGFyRm9yZWNhc3REYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJsaW5lXCIsXG4gICAgICAgICAgICAgIGxhYmVsOiB0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvbGFyX2dyYXBoLmZvcmVjYXN0XCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogZ2V0U3RhdGlzdGljTGFiZWwoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLnN0YXRfZW5lcmd5X2Zyb20sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpc3RpY3NNZXRhRGF0YVtzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgc3RlcHBlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGJvcmRlckNvbG9yLFxuICAgICAgICAgICAgICBib3JkZXJEYXNoOiBbNywgNV0sXG4gICAgICAgICAgICAgIHBvaW50UmFkaXVzOiAwLFxuICAgICAgICAgICAgICBkYXRhOiBzb2xhckZvcmVjYXN0RGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgICAuY2FyZC1oZWFkZXIge1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgIH1cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cbiAgICAgIC5oYXMtaGVhZGVyIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDA7XG4gICAgICB9XG4gICAgICAubm8tZGF0YSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMjAlO1xuICAgICAgICBtYXJnaW4tbGVmdDogMzJweDtcbiAgICAgICAgbWFyZ2luLWlubGluZS1zdGFydDogMzJweDtcbiAgICAgICAgbWFyZ2luLWlubGluZS1lbmQ6IGluaXRpYWw7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaHVpLWVuZXJneS1zb2xhci1ncmFwaC1jYXJkXCI6IEh1aUVuZXJneVNvbGFyR3JhcGhDYXJkO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/energy/hui-energy-solar-graph-card.ts\n");

/***/ })

};
