/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
export const id = "src_panels_lovelace_components_hui-image_ts";
export const ids = ["src_panels_lovelace_components_hui-image_ts"];
export const modules = {

/***/ "./src/common/util/parse-aspect-ratio.ts":
/*!***********************************************!*\
  !*** ./src/common/util/parse-aspect-ratio.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ parseAspectRatio)\n/* harmony export */ });\n// Handle 16x9, 16:9, 1.78x1, 1.78:1, 1.78\n// Ignore everything else\nconst parseOrThrow = num => {\n  const parsed = parseFloat(num);\n  if (isNaN(parsed)) {\n    throw new Error(`${num} is not a number`);\n  }\n  return parsed;\n};\nfunction parseAspectRatio(input) {\n  if (!input) {\n    return null;\n  }\n  try {\n    if (input.endsWith(\"%\")) {\n      return {\n        w: 100,\n        h: parseOrThrow(input.substr(0, input.length - 1))\n      };\n    }\n    const arr = input.replace(\":\", \"x\").split(\"x\");\n    if (arr.length === 0) {\n      return null;\n    }\n    return arr.length === 1 ? {\n      w: parseOrThrow(arr[0]),\n      h: 1\n    } : {\n      w: parseOrThrow(arr[0]),\n      h: parseOrThrow(arr[1])\n    };\n  } catch (err) {\n    // Ignore the error\n  }\n  return null;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3V0aWwvcGFyc2UtYXNwZWN0LXJhdGlvLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9jb21tb24vdXRpbC9wYXJzZS1hc3BlY3QtcmF0aW8udHM/MWIyYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBIYW5kbGUgMTZ4OSwgMTY6OSwgMS43OHgxLCAxLjc4OjEsIDEuNzhcbi8vIElnbm9yZSBldmVyeXRoaW5nIGVsc2VcbmNvbnN0IHBhcnNlT3JUaHJvdyA9IChudW0pID0+IHtcbiAgY29uc3QgcGFyc2VkID0gcGFyc2VGbG9hdChudW0pO1xuICBpZiAoaXNOYU4ocGFyc2VkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtudW19IGlzIG5vdCBhIG51bWJlcmApO1xuICB9XG4gIHJldHVybiBwYXJzZWQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUFzcGVjdFJhdGlvKGlucHV0OiBzdHJpbmcpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKGlucHV0LmVuZHNXaXRoKFwiJVwiKSkge1xuICAgICAgcmV0dXJuIHsgdzogMTAwLCBoOiBwYXJzZU9yVGhyb3coaW5wdXQuc3Vic3RyKDAsIGlucHV0Lmxlbmd0aCAtIDEpKSB9O1xuICAgIH1cblxuICAgIGNvbnN0IGFyciA9IGlucHV0LnJlcGxhY2UoXCI6XCIsIFwieFwiKS5zcGxpdChcInhcIik7XG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBhcnIubGVuZ3RoID09PSAxXG4gICAgICA/IHsgdzogcGFyc2VPclRocm93KGFyclswXSksIGg6IDEgfVxuICAgICAgOiB7IHc6IHBhcnNlT3JUaHJvdyhhcnJbMF0pLCBoOiBwYXJzZU9yVGhyb3coYXJyWzFdKSB9O1xuICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgIC8vIElnbm9yZSB0aGUgZXJyb3JcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/util/parse-aspect-ratio.ts\n");

/***/ }),

/***/ "./src/components/ha-camera-stream.ts":
/*!********************************************!*\
  !*** ./src/components/ha-camera-stream.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HaCameraStream: () => (/* binding */ HaCameraStream)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/entity/supports-feature */ \"./src/common/entity/supports-feature.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/camera */ \"./src/data/camera.ts\");\n/* harmony import */ var _ha_hls_player__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ha-hls-player */ \"./src/components/ha-hls-player.ts\");\n/* harmony import */ var _ha_web_rtc_player__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ha-web-rtc-player */ \"./src/components/ha-web-rtc-player.ts\");\n\n\n\n\n\n\n\n\n\n\n\nlet HaCameraStream = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-camera-stream\")], function (_initialize, _LitElement) {\n  class HaCameraStream extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaCameraStream,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"controls\"\n      })],\n      key: \"controls\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"muted\"\n      })],\n      key: \"muted\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"allow-exoplayer\"\n      })],\n      key: \"allowExoPlayer\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_posterUrl\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_forceMJPEG\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_url\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_connected\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value:\n      // Video background image before its loaded\n\n      // We keep track if we should force MJPEG if there was a failure\n      // to get the HLS stream url. This is reset if we change entities.\n\n      function willUpdate(changedProps) {\n        var _changedProps$get;\n        if (changedProps.has(\"stateObj\") && !this._shouldRenderMJPEG && this.stateObj && ((_changedProps$get = changedProps.get(\"stateObj\")) === null || _changedProps$get === void 0 ? void 0 : _changedProps$get.entity_id) !== this.stateObj.entity_id) {\n          this._getPosterUrl();\n          if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_8__.STREAM_TYPE_HLS) {\n            this._forceMJPEG = undefined;\n            this._url = undefined;\n            this._getStreamUrl();\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaCameraStream.prototype), \"connectedCallback\", this).call(this);\n        this._connected = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaCameraStream.prototype), \"disconnectedCallback\", this).call(this);\n        this._connected = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.stateObj) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n        }\n        if ( false || this._shouldRenderMJPEG) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<img\n        .src=${ false ? 0 : this._connected ? (0,_data_camera__WEBPACK_IMPORTED_MODULE_8__.computeMJPEGStreamUrl)(this.stateObj) : \"\"}\n        .alt=${`Preview of the ${(0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_6__.computeStateName)(this.stateObj)} camera.`}\n      />`;\n        }\n        if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_8__.STREAM_TYPE_HLS) {\n          return this._url ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<ha-hls-player\n            autoplay\n            playsinline\n            .allowExoPlayer=${this.allowExoPlayer}\n            .muted=${this.muted}\n            .controls=${this.controls}\n            .hass=${this.hass}\n            .url=${this._url}\n            .posterUrl=${this._posterUrl}\n          ></ha-hls-player>` : lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n        }\n        if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_8__.STREAM_TYPE_WEB_RTC) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<ha-web-rtc-player\n        autoplay\n        playsinline\n        .muted=${this.muted}\n        .controls=${this.controls}\n        .hass=${this.hass}\n        .entityid=${this.stateObj.entity_id}\n        .posterUrl=${this._posterUrl}\n      ></ha-web-rtc-player>`;\n        }\n        return lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_shouldRenderMJPEG\",\n      value: function _shouldRenderMJPEG() {\n        if (this._forceMJPEG === this.stateObj.entity_id) {\n          // Fallback when unable to fetch stream url\n          return true;\n        }\n        if (!(0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_7__.supportsFeature)(this.stateObj, _data_camera__WEBPACK_IMPORTED_MODULE_8__.CAMERA_SUPPORT_STREAM)) {\n          // Steaming is not supported by the camera so fallback to MJPEG stream\n          return true;\n        }\n        if (this.stateObj.attributes.frontend_stream_type === _data_camera__WEBPACK_IMPORTED_MODULE_8__.STREAM_TYPE_WEB_RTC) {\n          // Browser support required for WebRTC\n          return typeof RTCPeerConnection === \"undefined\";\n        }\n        // Server side stream component required for HLS\n        return !(0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__.isComponentLoaded)(this.hass, \"stream\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getPosterUrl\",\n      value: async function _getPosterUrl() {\n        try {\n          this._posterUrl = await (0,_data_camera__WEBPACK_IMPORTED_MODULE_8__.fetchThumbnailUrlWithCache)(this.hass, this.stateObj.entity_id, this.clientWidth, this.clientHeight);\n        } catch (err) {\n          // poster url is optional\n          this._posterUrl = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_getStreamUrl\",\n      value: async function _getStreamUrl() {\n        try {\n          const {\n            url\n          } = await (0,_data_camera__WEBPACK_IMPORTED_MODULE_8__.fetchStreamUrl)(this.hass, this.stateObj.entity_id);\n          this._url = url;\n        } catch (err) {\n          // Fails if we were unable to get a stream\n          // eslint-disable-next-line\n          console.error(err);\n          this._forceMJPEG = this.stateObj.entity_id;\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.css)`\n      :host,\n      img {\n        display: block;\n      }\n\n      img {\n        width: 100%;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS1jYW1lcmEtc3RyZWFtLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUE0SkE7QUFBQTtBQUFBO0FBNUpBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVEE7O0FBR0E7QUFDQTs7QUFPQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS1jYW1lcmEtc3RyZWFtLnRzP2QzMTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3NzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgaHRtbCxcbiAgTGl0RWxlbWVudCxcbiAgUHJvcGVydHlWYWx1ZXMsXG4gIG5vdGhpbmcsXG59IGZyb20gXCJsaXRcIjtcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgaXNDb21wb25lbnRMb2FkZWQgfSBmcm9tIFwiLi4vY29tbW9uL2NvbmZpZy9pc19jb21wb25lbnRfbG9hZGVkXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVOYW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9zdGF0ZV9uYW1lXCI7XG5pbXBvcnQgeyBzdXBwb3J0c0ZlYXR1cmUgfSBmcm9tIFwiLi4vY29tbW9uL2VudGl0eS9zdXBwb3J0cy1mZWF0dXJlXCI7XG5pbXBvcnQge1xuICBDYW1lcmFFbnRpdHksXG4gIENBTUVSQV9TVVBQT1JUX1NUUkVBTSxcbiAgY29tcHV0ZU1KUEVHU3RyZWFtVXJsLFxuICBmZXRjaFN0cmVhbVVybCxcbiAgZmV0Y2hUaHVtYm5haWxVcmxXaXRoQ2FjaGUsXG4gIFNUUkVBTV9UWVBFX0hMUyxcbiAgU1RSRUFNX1RZUEVfV0VCX1JUQyxcbn0gZnJvbSBcIi4uL2RhdGEvY2FtZXJhXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgXCIuL2hhLWhscy1wbGF5ZXJcIjtcbmltcG9ydCBcIi4vaGEtd2ViLXJ0Yy1wbGF5ZXJcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJoYS1jYW1lcmEtc3RyZWFtXCIpXG5leHBvcnQgY2xhc3MgSGFDYW1lcmFTdHJlYW0gZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgc3RhdGVPYmo/OiBDYW1lcmFFbnRpdHk7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcImNvbnRyb2xzXCIgfSlcbiAgcHVibGljIGNvbnRyb2xzID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcIm11dGVkXCIgfSlcbiAgcHVibGljIG11dGVkID0gZmFsc2U7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiBcImFsbG93LWV4b3BsYXllclwiIH0pXG4gIHB1YmxpYyBhbGxvd0V4b1BsYXllciA9IGZhbHNlO1xuXG4gIC8vIFZpZGVvIGJhY2tncm91bmQgaW1hZ2UgYmVmb3JlIGl0cyBsb2FkZWRcbiAgQHN0YXRlKCkgcHJpdmF0ZSBfcG9zdGVyVXJsPzogc3RyaW5nO1xuXG4gIC8vIFdlIGtlZXAgdHJhY2sgaWYgd2Ugc2hvdWxkIGZvcmNlIE1KUEVHIGlmIHRoZXJlIHdhcyBhIGZhaWx1cmVcbiAgLy8gdG8gZ2V0IHRoZSBITFMgc3RyZWFtIHVybC4gVGhpcyBpcyByZXNldCBpZiB3ZSBjaGFuZ2UgZW50aXRpZXMuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2ZvcmNlTUpQRUc/OiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfdXJsPzogc3RyaW5nO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gIHB1YmxpYyB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjaGFuZ2VkUHJvcHMuaGFzKFwic3RhdGVPYmpcIikgJiZcbiAgICAgICF0aGlzLl9zaG91bGRSZW5kZXJNSlBFRyAmJlxuICAgICAgdGhpcy5zdGF0ZU9iaiAmJlxuICAgICAgKGNoYW5nZWRQcm9wcy5nZXQoXCJzdGF0ZU9ialwiKSBhcyBDYW1lcmFFbnRpdHkgfCB1bmRlZmluZWQpPy5lbnRpdHlfaWQgIT09XG4gICAgICAgIHRoaXMuc3RhdGVPYmouZW50aXR5X2lkXG4gICAgKSB7XG4gICAgICB0aGlzLl9nZXRQb3N0ZXJVcmwoKTtcbiAgICAgIGlmICh0aGlzLnN0YXRlT2JqIS5hdHRyaWJ1dGVzLmZyb250ZW5kX3N0cmVhbV90eXBlID09PSBTVFJFQU1fVFlQRV9ITFMpIHtcbiAgICAgICAgdGhpcy5fZm9yY2VNSlBFRyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdXJsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9nZXRTdHJlYW1VcmwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHVibGljIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZU9iaikge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuICAgIGlmIChfX0RFTU9fXyB8fCB0aGlzLl9zaG91bGRSZW5kZXJNSlBFRykge1xuICAgICAgcmV0dXJuIGh0bWxgPGltZ1xuICAgICAgICAuc3JjPSR7X19ERU1PX19cbiAgICAgICAgICA/IHRoaXMuc3RhdGVPYmouYXR0cmlidXRlcy5lbnRpdHlfcGljdHVyZSFcbiAgICAgICAgICA6IHRoaXMuX2Nvbm5lY3RlZFxuICAgICAgICAgICAgPyBjb21wdXRlTUpQRUdTdHJlYW1VcmwodGhpcy5zdGF0ZU9iailcbiAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgLmFsdD0ke2BQcmV2aWV3IG9mIHRoZSAke2NvbXB1dGVTdGF0ZU5hbWUodGhpcy5zdGF0ZU9iail9IGNhbWVyYS5gfVxuICAgICAgLz5gO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZU9iai5hdHRyaWJ1dGVzLmZyb250ZW5kX3N0cmVhbV90eXBlID09PSBTVFJFQU1fVFlQRV9ITFMpIHtcbiAgICAgIHJldHVybiB0aGlzLl91cmxcbiAgICAgICAgPyBodG1sYDxoYS1obHMtcGxheWVyXG4gICAgICAgICAgICBhdXRvcGxheVxuICAgICAgICAgICAgcGxheXNpbmxpbmVcbiAgICAgICAgICAgIC5hbGxvd0V4b1BsYXllcj0ke3RoaXMuYWxsb3dFeG9QbGF5ZXJ9XG4gICAgICAgICAgICAubXV0ZWQ9JHt0aGlzLm11dGVkfVxuICAgICAgICAgICAgLmNvbnRyb2xzPSR7dGhpcy5jb250cm9sc31cbiAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgLnVybD0ke3RoaXMuX3VybH1cbiAgICAgICAgICAgIC5wb3N0ZXJVcmw9JHt0aGlzLl9wb3N0ZXJVcmx9XG4gICAgICAgICAgPjwvaGEtaGxzLXBsYXllcj5gXG4gICAgICAgIDogbm90aGluZztcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGVPYmouYXR0cmlidXRlcy5mcm9udGVuZF9zdHJlYW1fdHlwZSA9PT0gU1RSRUFNX1RZUEVfV0VCX1JUQykge1xuICAgICAgcmV0dXJuIGh0bWxgPGhhLXdlYi1ydGMtcGxheWVyXG4gICAgICAgIGF1dG9wbGF5XG4gICAgICAgIHBsYXlzaW5saW5lXG4gICAgICAgIC5tdXRlZD0ke3RoaXMubXV0ZWR9XG4gICAgICAgIC5jb250cm9scz0ke3RoaXMuY29udHJvbHN9XG4gICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAuZW50aXR5aWQ9JHt0aGlzLnN0YXRlT2JqLmVudGl0eV9pZH1cbiAgICAgICAgLnBvc3RlclVybD0ke3RoaXMuX3Bvc3RlclVybH1cbiAgICAgID48L2hhLXdlYi1ydGMtcGxheWVyPmA7XG4gICAgfVxuICAgIHJldHVybiBub3RoaW5nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX3Nob3VsZFJlbmRlck1KUEVHKCkge1xuICAgIGlmICh0aGlzLl9mb3JjZU1KUEVHID09PSB0aGlzLnN0YXRlT2JqIS5lbnRpdHlfaWQpIHtcbiAgICAgIC8vIEZhbGxiYWNrIHdoZW4gdW5hYmxlIHRvIGZldGNoIHN0cmVhbSB1cmxcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIXN1cHBvcnRzRmVhdHVyZSh0aGlzLnN0YXRlT2JqISwgQ0FNRVJBX1NVUFBPUlRfU1RSRUFNKSkge1xuICAgICAgLy8gU3RlYW1pbmcgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgY2FtZXJhIHNvIGZhbGxiYWNrIHRvIE1KUEVHIHN0cmVhbVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGVPYmohLmF0dHJpYnV0ZXMuZnJvbnRlbmRfc3RyZWFtX3R5cGUgPT09IFNUUkVBTV9UWVBFX1dFQl9SVENcbiAgICApIHtcbiAgICAgIC8vIEJyb3dzZXIgc3VwcG9ydCByZXF1aXJlZCBmb3IgV2ViUlRDXG4gICAgICByZXR1cm4gdHlwZW9mIFJUQ1BlZXJDb25uZWN0aW9uID09PSBcInVuZGVmaW5lZFwiO1xuICAgIH1cbiAgICAvLyBTZXJ2ZXIgc2lkZSBzdHJlYW0gY29tcG9uZW50IHJlcXVpcmVkIGZvciBITFNcbiAgICByZXR1cm4gIWlzQ29tcG9uZW50TG9hZGVkKHRoaXMuaGFzcyEsIFwic3RyZWFtXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0UG9zdGVyVXJsKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9wb3N0ZXJVcmwgPSBhd2FpdCBmZXRjaFRodW1ibmFpbFVybFdpdGhDYWNoZShcbiAgICAgICAgdGhpcy5oYXNzISxcbiAgICAgICAgdGhpcy5zdGF0ZU9iaiEuZW50aXR5X2lkLFxuICAgICAgICB0aGlzLmNsaWVudFdpZHRoLFxuICAgICAgICB0aGlzLmNsaWVudEhlaWdodFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgLy8gcG9zdGVyIHVybCBpcyBvcHRpb25hbFxuICAgICAgdGhpcy5fcG9zdGVyVXJsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX2dldFN0cmVhbVVybCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB1cmwgfSA9IGF3YWl0IGZldGNoU3RyZWFtVXJsKFxuICAgICAgICB0aGlzLmhhc3MhLFxuICAgICAgICB0aGlzLnN0YXRlT2JqIS5lbnRpdHlfaWRcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3VybCA9IHVybDtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgLy8gRmFpbHMgaWYgd2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGEgc3RyZWFtXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgICAgdGhpcy5fZm9yY2VNSlBFRyA9IHRoaXMuc3RhdGVPYmohLmVudGl0eV9pZDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0IHN0eWxlcygpOiBDU1NSZXN1bHRHcm91cCB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIDpob3N0LFxuICAgICAgaW1nIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIGltZyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWNhbWVyYS1zdHJlYW1cIjogSGFDYW1lcmFTdHJlYW07XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ha-camera-stream.ts\n");

/***/ }),

/***/ "./src/components/ha-web-rtc-player.ts":
/*!*********************************************!*\
  !*** ./src/components/ha-web-rtc-player.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/config/is_component_loaded */ \"./src/common/config/is_component_loaded.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/camera */ \"./src/data/camera.ts\");\n/* harmony import */ var _data_rtsp_to_webrtc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/rtsp_to_webrtc */ \"./src/data/rtsp_to_webrtc.ts\");\n/* harmony import */ var _ha_alert__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ha-alert */ \"./src/components/ha-alert.ts\");\n\n\n\n\n\n\n\n\n\n\n\n/**\n * A WebRTC stream is established by first sending an offer through a signal\n * path via an integration. An answer is returned, then the rest of the stream\n * is handled entirely client side.\n */\nlet HaWebRtcPlayer = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-web-rtc-player\")], function (_initialize, _LitElement) {\n  class HaWebRtcPlayer extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaWebRtcPlayer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"entityid\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"controls\"\n      })],\n      key: \"controls\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"muted\"\n      })],\n      key: \"muted\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"autoplay\"\n      })],\n      key: \"autoPlay\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        attribute: \"playsinline\"\n      })],\n      key: \"playsInline\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"posterUrl\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"#remote-stream\")],\n      key: \"_videoEl\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_peerConnection\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_remoteStream\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value:\n      // don't cache this, as we remove it on disconnects\n\n      function render() {\n        if (this._error) {\n          return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<ha-alert alert-type=\"error\">${this._error}</ha-alert>`;\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <video\n        id=\"remote-stream\"\n        ?autoplay=${this.autoPlay}\n        .muted=${this.muted}\n        ?playsinline=${this.playsInline}\n        ?controls=${this.controls}\n        .poster=${this.posterUrl}\n        @loadeddata=${this._loadedData}\n      ></video>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaWebRtcPlayer.prototype), \"connectedCallback\", this).call(this);\n        if (this.hasUpdated) {\n          this._startWebRtc();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HaWebRtcPlayer.prototype), \"disconnectedCallback\", this).call(this);\n        this._cleanUp();\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProperties) {\n        if (!changedProperties.has(\"entityid\")) {\n          return;\n        }\n        if (!this._videoEl) {\n          return;\n        }\n        this._startWebRtc();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startWebRtc\",\n      value: async function _startWebRtc() {\n        this._error = undefined;\n        const configuration = await this._fetchPeerConfiguration();\n        const peerConnection = new RTCPeerConnection(configuration);\n        // Some cameras (such as nest) require a data channel to establish a stream\n        // however, not used by any integrations.\n        peerConnection.createDataChannel(\"dataSendChannel\");\n        peerConnection.addTransceiver(\"audio\", {\n          direction: \"recvonly\"\n        });\n        peerConnection.addTransceiver(\"video\", {\n          direction: \"recvonly\"\n        });\n        const offerOptions = {\n          offerToReceiveAudio: true,\n          offerToReceiveVideo: true\n        };\n        const offer = await peerConnection.createOffer(offerOptions);\n        await peerConnection.setLocalDescription(offer);\n        let candidates = \"\"; // Build an Offer SDP string with ice candidates\n        const iceResolver = new Promise(resolve => {\n          peerConnection.addEventListener(\"icecandidate\", async event => {\n            if (!event.candidate) {\n              resolve(); // Gathering complete\n              return;\n            }\n            candidates += `a=${event.candidate.candidate}\\r\\n`;\n          });\n        });\n        await iceResolver;\n        const offer_sdp = offer.sdp + candidates;\n        let webRtcAnswer;\n        try {\n          webRtcAnswer = await (0,_data_camera__WEBPACK_IMPORTED_MODULE_7__.handleWebRtcOffer)(this.hass, this.entityid, offer_sdp);\n        } catch (err) {\n          this._error = \"Failed to start WebRTC stream: \" + err.message;\n          peerConnection.close();\n          return;\n        }\n\n        // Setup callbacks to render remote stream once media tracks are discovered.\n        const remoteStream = new MediaStream();\n        peerConnection.addEventListener(\"track\", event => {\n          remoteStream.addTrack(event.track);\n          this._videoEl.srcObject = remoteStream;\n        });\n        this._remoteStream = remoteStream;\n\n        // Initiate the stream with the remote device\n        const remoteDesc = new RTCSessionDescription({\n          type: \"answer\",\n          sdp: webRtcAnswer.answer\n        });\n        try {\n          await peerConnection.setRemoteDescription(remoteDesc);\n        } catch (err) {\n          this._error = \"Failed to connect WebRTC stream: \" + err.message;\n          peerConnection.close();\n          return;\n        }\n        this._peerConnection = peerConnection;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fetchPeerConfiguration\",\n      value: async function _fetchPeerConfiguration() {\n        if (!(0,_common_config_is_component_loaded__WEBPACK_IMPORTED_MODULE_5__.isComponentLoaded)(this.hass, \"rtsp_to_webrtc\")) {\n          return {};\n        }\n        const settings = await (0,_data_rtsp_to_webrtc__WEBPACK_IMPORTED_MODULE_8__.fetchWebRtcSettings)(this.hass);\n        if (!settings || !settings.stun_server) {\n          return {};\n        }\n        return {\n          iceServers: [{\n            urls: [`stun:${settings.stun_server}`]\n          }]\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_cleanUp\",\n      value: function _cleanUp() {\n        if (this._remoteStream) {\n          this._remoteStream.getTracks().forEach(track => {\n            track.stop();\n          });\n          this._remoteStream = undefined;\n        }\n        if (this._videoEl) {\n          this._videoEl.removeAttribute(\"src\");\n          this._videoEl.load();\n        }\n        if (this._peerConnection) {\n          this._peerConnection.close();\n          this._peerConnection = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_loadedData\",\n      value: function _loadedData() {\n        // @ts-ignore\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"load\");\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.css)`\n      :host,\n      video {\n        display: block;\n      }\n\n      video {\n        width: 100%;\n        max-height: var(--video-max-height, calc(100vh - 97px));\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9oYS13ZWItcnRjLXBsYXllci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUEyTEE7QUFBQTtBQUFBO0FBM0xBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9oYS13ZWItcnRjLXBsYXllci50cz8yNmI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHN0YXRlLCBxdWVyeSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgaXNDb21wb25lbnRMb2FkZWQgfSBmcm9tIFwiLi4vY29tbW9uL2NvbmZpZy9pc19jb21wb25lbnRfbG9hZGVkXCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5pbXBvcnQgeyBoYW5kbGVXZWJSdGNPZmZlciwgV2ViUnRjQW5zd2VyIH0gZnJvbSBcIi4uL2RhdGEvY2FtZXJhXCI7XG5pbXBvcnQgeyBmZXRjaFdlYlJ0Y1NldHRpbmdzIH0gZnJvbSBcIi4uL2RhdGEvcnRzcF90b193ZWJydGNcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IFwiLi9oYS1hbGVydFwiO1xuXG4vKipcbiAqIEEgV2ViUlRDIHN0cmVhbSBpcyBlc3RhYmxpc2hlZCBieSBmaXJzdCBzZW5kaW5nIGFuIG9mZmVyIHRocm91Z2ggYSBzaWduYWxcbiAqIHBhdGggdmlhIGFuIGludGVncmF0aW9uLiBBbiBhbnN3ZXIgaXMgcmV0dXJuZWQsIHRoZW4gdGhlIHJlc3Qgb2YgdGhlIHN0cmVhbVxuICogaXMgaGFuZGxlZCBlbnRpcmVseSBjbGllbnQgc2lkZS5cbiAqL1xuQGN1c3RvbUVsZW1lbnQoXCJoYS13ZWItcnRjLXBsYXllclwiKVxuY2xhc3MgSGFXZWJSdGNQbGF5ZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGVudGl0eWlkITogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJjb250cm9sc1wiIH0pXG4gIHB1YmxpYyBjb250cm9scyA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJtdXRlZFwiIH0pXG4gIHB1YmxpYyBtdXRlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJhdXRvcGxheVwiIH0pXG4gIHB1YmxpYyBhdXRvUGxheSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogXCJwbGF5c2lubGluZVwiIH0pXG4gIHB1YmxpYyBwbGF5c0lubGluZSA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBwb3N0ZXJVcmwhOiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfZXJyb3I/OiBzdHJpbmc7XG5cbiAgLy8gZG9uJ3QgY2FjaGUgdGhpcywgYXMgd2UgcmVtb3ZlIGl0IG9uIGRpc2Nvbm5lY3RzXG4gIEBxdWVyeShcIiNyZW1vdGUtc3RyZWFtXCIpIHByaXZhdGUgX3ZpZGVvRWwhOiBIVE1MVmlkZW9FbGVtZW50O1xuXG4gIHByaXZhdGUgX3BlZXJDb25uZWN0aW9uPzogUlRDUGVlckNvbm5lY3Rpb247XG5cbiAgcHJpdmF0ZSBfcmVtb3RlU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICByZXR1cm4gaHRtbGA8aGEtYWxlcnQgYWxlcnQtdHlwZT1cImVycm9yXCI+JHt0aGlzLl9lcnJvcn08L2hhLWFsZXJ0PmA7XG4gICAgfVxuICAgIHJldHVybiBodG1sYFxuICAgICAgPHZpZGVvXG4gICAgICAgIGlkPVwicmVtb3RlLXN0cmVhbVwiXG4gICAgICAgID9hdXRvcGxheT0ke3RoaXMuYXV0b1BsYXl9XG4gICAgICAgIC5tdXRlZD0ke3RoaXMubXV0ZWR9XG4gICAgICAgID9wbGF5c2lubGluZT0ke3RoaXMucGxheXNJbmxpbmV9XG4gICAgICAgID9jb250cm9scz0ke3RoaXMuY29udHJvbHN9XG4gICAgICAgIC5wb3N0ZXI9JHt0aGlzLnBvc3RlclVybH1cbiAgICAgICAgQGxvYWRlZGRhdGE9JHt0aGlzLl9sb2FkZWREYXRhfVxuICAgICAgPjwvdmlkZW8+XG4gICAgYDtcbiAgfVxuXG4gIHB1YmxpYyBvdmVycmlkZSBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICh0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0V2ViUnRjKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fY2xlYW5VcCgpO1xuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzPHRoaXM+KSB7XG4gICAgaWYgKCFjaGFuZ2VkUHJvcGVydGllcy5oYXMoXCJlbnRpdHlpZFwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX3ZpZGVvRWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fc3RhcnRXZWJSdGMoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3N0YXJ0V2ViUnRjKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuX2Vycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgY29uZmlndXJhdGlvbiA9IGF3YWl0IHRoaXMuX2ZldGNoUGVlckNvbmZpZ3VyYXRpb24oKTtcbiAgICBjb25zdCBwZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uKTtcbiAgICAvLyBTb21lIGNhbWVyYXMgKHN1Y2ggYXMgbmVzdCkgcmVxdWlyZSBhIGRhdGEgY2hhbm5lbCB0byBlc3RhYmxpc2ggYSBzdHJlYW1cbiAgICAvLyBob3dldmVyLCBub3QgdXNlZCBieSBhbnkgaW50ZWdyYXRpb25zLlxuICAgIHBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKFwiZGF0YVNlbmRDaGFubmVsXCIpO1xuICAgIHBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIiwgeyBkaXJlY3Rpb246IFwicmVjdm9ubHlcIiB9KTtcbiAgICBwZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIsIHsgZGlyZWN0aW9uOiBcInJlY3Zvbmx5XCIgfSk7XG5cbiAgICBjb25zdCBvZmZlck9wdGlvbnM6IFJUQ09mZmVyT3B0aW9ucyA9IHtcbiAgICAgIG9mZmVyVG9SZWNlaXZlQXVkaW86IHRydWUsXG4gICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0cnVlLFxuICAgIH07XG4gICAgY29uc3Qgb2ZmZXI6IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQgPVxuICAgICAgYXdhaXQgcGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIob2ZmZXJPcHRpb25zKTtcbiAgICBhd2FpdCBwZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcblxuICAgIGxldCBjYW5kaWRhdGVzID0gXCJcIjsgLy8gQnVpbGQgYW4gT2ZmZXIgU0RQIHN0cmluZyB3aXRoIGljZSBjYW5kaWRhdGVzXG4gICAgY29uc3QgaWNlUmVzb2x2ZXIgPSBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImljZWNhbmRpZGF0ZVwiLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgICByZXNvbHZlKCk7IC8vIEdhdGhlcmluZyBjb21wbGV0ZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYW5kaWRhdGVzICs9IGBhPSR7ZXZlbnQuY2FuZGlkYXRlLmNhbmRpZGF0ZX1cXHJcXG5gO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgYXdhaXQgaWNlUmVzb2x2ZXI7XG4gICAgY29uc3Qgb2ZmZXJfc2RwID0gb2ZmZXIuc2RwISArIGNhbmRpZGF0ZXM7XG5cbiAgICBsZXQgd2ViUnRjQW5zd2VyOiBXZWJSdGNBbnN3ZXI7XG4gICAgdHJ5IHtcbiAgICAgIHdlYlJ0Y0Fuc3dlciA9IGF3YWl0IGhhbmRsZVdlYlJ0Y09mZmVyKFxuICAgICAgICB0aGlzLmhhc3MsXG4gICAgICAgIHRoaXMuZW50aXR5aWQsXG4gICAgICAgIG9mZmVyX3NkcFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgdGhpcy5fZXJyb3IgPSBcIkZhaWxlZCB0byBzdGFydCBXZWJSVEMgc3RyZWFtOiBcIiArIGVyci5tZXNzYWdlO1xuICAgICAgcGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBjYWxsYmFja3MgdG8gcmVuZGVyIHJlbW90ZSBzdHJlYW0gb25jZSBtZWRpYSB0cmFja3MgYXJlIGRpc2NvdmVyZWQuXG4gICAgY29uc3QgcmVtb3RlU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgcmVtb3RlU3RyZWFtLmFkZFRyYWNrKGV2ZW50LnRyYWNrKTtcbiAgICAgIHRoaXMuX3ZpZGVvRWwuc3JjT2JqZWN0ID0gcmVtb3RlU3RyZWFtO1xuICAgIH0pO1xuICAgIHRoaXMuX3JlbW90ZVN0cmVhbSA9IHJlbW90ZVN0cmVhbTtcblxuICAgIC8vIEluaXRpYXRlIHRoZSBzdHJlYW0gd2l0aCB0aGUgcmVtb3RlIGRldmljZVxuICAgIGNvbnN0IHJlbW90ZURlc2MgPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgIHR5cGU6IFwiYW5zd2VyXCIsXG4gICAgICBzZHA6IHdlYlJ0Y0Fuc3dlci5hbnN3ZXIsXG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHJlbW90ZURlc2MpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0aGlzLl9lcnJvciA9IFwiRmFpbGVkIHRvIGNvbm5lY3QgV2ViUlRDIHN0cmVhbTogXCIgKyBlcnIubWVzc2FnZTtcbiAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uID0gcGVlckNvbm5lY3Rpb247XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9mZXRjaFBlZXJDb25maWd1cmF0aW9uKCk6IFByb21pc2U8UlRDQ29uZmlndXJhdGlvbj4ge1xuICAgIGlmICghaXNDb21wb25lbnRMb2FkZWQodGhpcy5oYXNzISwgXCJydHNwX3RvX3dlYnJ0Y1wiKSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBzZXR0aW5ncyA9IGF3YWl0IGZldGNoV2ViUnRjU2V0dGluZ3ModGhpcy5oYXNzISk7XG4gICAgaWYgKCFzZXR0aW5ncyB8fCAhc2V0dGluZ3Muc3R1bl9zZXJ2ZXIpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGljZVNlcnZlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHVybHM6IFtgc3R1bjoke3NldHRpbmdzLnN0dW5fc2VydmVyIX1gXSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgX2NsZWFuVXAoKSB7XG4gICAgaWYgKHRoaXMuX3JlbW90ZVN0cmVhbSkge1xuICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fcmVtb3RlU3RyZWFtID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5fdmlkZW9FbCkge1xuICAgICAgdGhpcy5fdmlkZW9FbC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICB0aGlzLl92aWRlb0VsLmxvYWQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3BlZXJDb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbG9hZGVkRGF0YSgpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZmlyZUV2ZW50KHRoaXMsIFwibG9hZFwiKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3QsXG4gICAgICB2aWRlbyB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICB2aWRlbyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtaGVpZ2h0OiB2YXIoLS12aWRlby1tYXgtaGVpZ2h0LCBjYWxjKDEwMHZoIC0gOTdweCkpO1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXdlYi1ydGMtcGxheWVyXCI6IEhhV2ViUnRjUGxheWVyO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/ha-web-rtc-player.ts\n");

/***/ }),

/***/ "./src/data/image.ts":
/*!***************************!*\
  !*** ./src/data/image.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeImageUrl: () => (/* binding */ computeImageUrl)\n/* harmony export */ });\nconst computeImageUrl = entity => `/api/image_proxy/${entity.entity_id}?token=${entity.attributes.access_token}&state=${entity.state}`;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9pbWFnZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBYUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL2ltYWdlLnRzP2UxN2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSGFzc0VudGl0eUF0dHJpYnV0ZUJhc2UsXG4gIEhhc3NFbnRpdHlCYXNlLFxufSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5cbmludGVyZmFjZSBJbWFnZUVudGl0eUF0dHJpYnV0ZXMgZXh0ZW5kcyBIYXNzRW50aXR5QXR0cmlidXRlQmFzZSB7XG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlRW50aXR5IGV4dGVuZHMgSGFzc0VudGl0eUJhc2Uge1xuICBhdHRyaWJ1dGVzOiBJbWFnZUVudGl0eUF0dHJpYnV0ZXM7XG59XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlSW1hZ2VVcmwgPSAoZW50aXR5OiBJbWFnZUVudGl0eSk6IHN0cmluZyA9PlxuICBgL2FwaS9pbWFnZV9wcm94eS8ke2VudGl0eS5lbnRpdHlfaWR9P3Rva2VuPSR7ZW50aXR5LmF0dHJpYnV0ZXMuYWNjZXNzX3Rva2VufSZzdGF0ZT0ke2VudGl0eS5zdGF0ZX1gO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/image.ts\n");

/***/ }),

/***/ "./src/data/rtsp_to_webrtc.ts":
/*!************************************!*\
  !*** ./src/data/rtsp_to_webrtc.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchWebRtcSettings: () => (/* binding */ fetchWebRtcSettings)\n/* harmony export */ });\nconst fetchWebRtcSettings = async hass => hass.callWS({\n  type: \"rtsp_to_webrtc/get_settings\"\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9ydHNwX3RvX3dlYnJ0Yy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBTUE7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9ydHNwX3RvX3dlYnJ0Yy50cz8xNTY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBXZWJSdGNTZXR0aW5ncyB7XG4gIHN0dW5fc2VydmVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgZmV0Y2hXZWJSdGNTZXR0aW5ncyA9IGFzeW5jIChoYXNzOiBIb21lQXNzaXN0YW50KSA9PlxuICBoYXNzLmNhbGxXUzxXZWJSdGNTZXR0aW5ncz4oe1xuICAgIHR5cGU6IFwicnRzcF90b193ZWJydGMvZ2V0X3NldHRpbmdzXCIsXG4gIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/rtsp_to_webrtc.ts\n");

/***/ }),

/***/ "./src/panels/lovelace/components/hui-image.ts":
/*!*****************************************************!*\
  !*** ./src/panels/lovelace/components/hui-image.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HuiImage: () => (/* binding */ HuiImage)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/decorate */ \"./node_modules/@babel/runtime/helpers/esm/decorate.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_const__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../common/const */ \"./src/common/const.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_util_parse_aspect_ratio__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../common/util/parse-aspect-ratio */ \"./src/common/util/parse-aspect-ratio.ts\");\n/* harmony import */ var _components_ha_camera_stream__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/ha-camera-stream */ \"./src/components/ha-camera-stream.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../data/camera */ \"./src/data/camera.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _data_image__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../data/image */ \"./src/data/image.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst UPDATE_INTERVAL = 10000;\nconst DEFAULT_FILTER = \"grayscale(100%)\";\nconst MAX_IMAGE_WIDTH = 640;\nconst ASPECT_RATIO_DEFAULT = 9 / 16;\nvar LoadState = /*#__PURE__*/function (LoadState) {\n  LoadState[LoadState[\"Loading\"] = 1] = \"Loading\";\n  LoadState[LoadState[\"Loaded\"] = 2] = \"Loaded\";\n  LoadState[LoadState[\"Error\"] = 3] = \"Error\";\n  return LoadState;\n}(LoadState || {});\nlet HuiImage = (0,_babel_runtime_helpers_decorate__WEBPACK_IMPORTED_MODULE_0__[\"default\"])([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"hui-image\")], function (_initialize, _LitElement) {\n  class HuiImage extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiImage,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"entity\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"image\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"stateImage\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"cameraImage\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"cameraView\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"aspectRatio\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"filter\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"stateFilter\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"darkModeImage\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"darkModeFilter\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"fitMode\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_imageVisible\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_loadState\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_cameraImageSrc\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_loadedImageSrc\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_lastImageHeight\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_intersectionObserver\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_cameraUpdater\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_ratio\",\n      value() {\n        return null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HuiImage.prototype), \"connectedCallback\", this).call(this);\n        if (this._loadState === undefined) {\n          this._loadState = LoadState.Loading;\n        }\n        if (this.cameraImage && this.cameraView !== \"live\") {\n          this._startIntersectionObserverOrUpdates();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_1__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(HuiImage.prototype), \"disconnectedCallback\", this).call(this);\n        this._stopUpdateCameraInterval();\n        this._stopIntersectionObserver();\n        this._imageVisible = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleIntersectionCallback\",\n      value: function handleIntersectionCallback(entries) {\n        this._imageVisible = entries[0].isIntersecting;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        if (changedProps.has(\"hass\")) {\n          const oldHass = changedProps.get(\"hass\");\n          if (this._shouldStartCameraUpdates(oldHass)) {\n            this._startIntersectionObserverOrUpdates();\n          } else if (!this.hass.connected) {\n            this._stopUpdateCameraInterval();\n            this._stopIntersectionObserver();\n            this._loadState = LoadState.Loading;\n            this._cameraImageSrc = undefined;\n            this._loadedImageSrc = undefined;\n          }\n        }\n        if (changedProps.has(\"_imageVisible\")) {\n          if (this._imageVisible) {\n            if (this._shouldStartCameraUpdates()) {\n              this._startUpdateCameraInterval();\n            }\n          } else {\n            this._stopUpdateCameraInterval();\n          }\n        }\n        if (changedProps.has(\"aspectRatio\")) {\n          this._ratio = this.aspectRatio ? (0,_common_util_parse_aspect_ratio__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(this.aspectRatio) : null;\n        }\n        if (this._loadState === LoadState.Loading && !this.cameraImage) {\n          this._loadState = LoadState.Loaded;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.hass) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.nothing;\n        }\n        const useRatio = Boolean(this._ratio && this._ratio.w > 0 && this._ratio.h > 0);\n        const stateObj = this.entity ? this.hass.states[this.entity] : undefined;\n        const entityState = stateObj ? stateObj.state : _data_entity__WEBPACK_IMPORTED_MODULE_13__.UNAVAILABLE;\n\n        // Figure out image source to use\n        let imageSrc;\n        let cameraObj;\n        // Track if we are we using a fallback image, used for filter.\n        let imageFallback = !this.stateImage;\n        if (this.cameraImage) {\n          if (this.cameraView === \"live\") {\n            cameraObj = this.hass.states[this.cameraImage];\n          } else {\n            imageSrc = this._cameraImageSrc;\n          }\n        } else if (this.stateImage) {\n          const stateImage = this.stateImage[entityState];\n          if (stateImage) {\n            imageSrc = stateImage;\n          } else {\n            imageSrc = this.image;\n            imageFallback = true;\n          }\n        } else if (this.darkModeImage && this.hass.themes.darkMode) {\n          imageSrc = this.darkModeImage;\n        } else if (stateObj && (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__.computeDomain)(stateObj.entity_id) === \"image\") {\n          imageSrc = (0,_data_image__WEBPACK_IMPORTED_MODULE_14__.computeImageUrl)(stateObj);\n        } else {\n          imageSrc = this.image;\n        }\n        if (imageSrc) {\n          imageSrc = this.hass.hassUrl(imageSrc);\n        }\n\n        // Figure out filter to use\n        let filter = this.filter || \"\";\n        if (this.hass.themes.darkMode && this.darkModeFilter) {\n          filter += this.darkModeFilter;\n        }\n        if (this.stateFilter && this.stateFilter[entityState]) {\n          filter += this.stateFilter[entityState];\n        }\n        if (!filter && this.entity) {\n          const isOff = !stateObj || _common_const__WEBPACK_IMPORTED_MODULE_7__.STATES_OFF.includes(entityState);\n          filter = isOff && imageFallback ? DEFAULT_FILTER : \"\";\n        }\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n      <div\n        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__.styleMap)({\n          paddingBottom: useRatio ? `${(100 * this._ratio.h / this._ratio.w).toFixed(2)}%` : this._lastImageHeight === undefined ? \"56.25%\" : undefined,\n          backgroundImage: useRatio && this._loadedImageSrc ? `url(\"${this._loadedImageSrc}\")` : undefined,\n          filter: this._loadState === LoadState.Loaded || this.cameraView === \"live\" ? filter : undefined\n        })}\n        class=\"container ${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          ratio: useRatio || this._lastImageHeight === undefined,\n          contain: this.fitMode === \"contain\",\n          fill: this.fitMode === \"fill\"\n        })}\"\n      >\n        ${this.cameraImage && this.cameraView === \"live\" ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n              <ha-camera-stream\n                muted\n                .hass=${this.hass}\n                .stateObj=${cameraObj}\n                @load=${this._onVideoLoad}\n              ></ha-camera-stream>\n            ` : imageSrc === undefined ? lit__WEBPACK_IMPORTED_MODULE_3__.nothing : (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`\n                <img\n                  id=\"image\"\n                  src=${imageSrc}\n                  @error=${this._onImageError}\n                  @load=${this._onImageLoad}\n                  style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__.styleMap)({\n          display: useRatio || this._loadState === LoadState.Loaded ? \"block\" : \"none\"\n        })}\n                />\n              `}\n        ${this._loadState === LoadState.Error ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<div\n              id=\"brokenImage\"\n              style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__.styleMap)({\n          height: !useRatio ? `${this._lastImageHeight}px` || \"100%\" : undefined\n        })}\n            ></div>` : this.cameraView !== \"live\" && (imageSrc === undefined || this._loadState === LoadState.Loading) ? (0,lit__WEBPACK_IMPORTED_MODULE_3__.html)`<div\n                class=\"progress-container\"\n                style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_6__.styleMap)({\n          height: !useRatio ? `${this._lastImageHeight}px` || \"100%\" : undefined\n        })}\n              >\n                <ha-circular-progress\n                  class=\"render-spinner\"\n                  indeterminate\n                  size=\"small\"\n                ></ha-circular-progress>\n              </div>` : \"\"}\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_shouldStartCameraUpdates\",\n      value: function _shouldStartCameraUpdates(oldHass) {\n        return !!((!oldHass || oldHass.connected !== this.hass.connected) && this.hass.connected && this.cameraView !== \"live\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startIntersectionObserverOrUpdates\",\n      value: function _startIntersectionObserverOrUpdates() {\n        if (\"IntersectionObserver\" in window) {\n          if (!this._intersectionObserver) {\n            this._intersectionObserver = new IntersectionObserver(this.handleIntersectionCallback.bind(this));\n          }\n          this._intersectionObserver.observe(this);\n        } else {\n          // No support for IntersectionObserver\n          // assume all images are visible\n          this._imageVisible = true;\n          this._startUpdateCameraInterval();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_stopIntersectionObserver\",\n      value: function _stopIntersectionObserver() {\n        if (this._intersectionObserver) {\n          this._intersectionObserver.disconnect();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_startUpdateCameraInterval\",\n      value: function _startUpdateCameraInterval() {\n        this._stopUpdateCameraInterval();\n        this._updateCameraImageSrc();\n        if (this.cameraImage && this.isConnected) {\n          this._cameraUpdater = window.setInterval(() => this._updateCameraImageSrcAtInterval(), UPDATE_INTERVAL);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_stopUpdateCameraInterval\",\n      value: function _stopUpdateCameraInterval() {\n        if (this._cameraUpdater) {\n          clearInterval(this._cameraUpdater);\n          this._cameraUpdater = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onImageError\",\n      value: function _onImageError() {\n        this._loadState = LoadState.Error;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onImageLoad\",\n      value: async function _onImageLoad(ev) {\n        this._loadState = LoadState.Loaded;\n        const imgEl = ev.target;\n        if (this._ratio && this._ratio.w > 0 && this._ratio.h > 0) {\n          this._loadedImageSrc = imgEl.src;\n        }\n        await this.updateComplete;\n        this._lastImageHeight = imgEl.offsetHeight;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onVideoLoad\",\n      value: async function _onVideoLoad(ev) {\n        this._loadState = LoadState.Loaded;\n        const videoEl = ev.currentTarget;\n        await this.updateComplete;\n        this._lastImageHeight = videoEl.offsetHeight;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateCameraImageSrcAtInterval\",\n      value: async function _updateCameraImageSrcAtInterval() {\n        // If we hit the interval and it was still loading\n        // it means we timed out so we should show the error.\n        if (this._loadState === LoadState.Loading) {\n          this._onImageError();\n        }\n        return this._updateCameraImageSrc();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateCameraImageSrc\",\n      value: async function _updateCameraImageSrc() {\n        if (!this.hass || !this.cameraImage) {\n          return;\n        }\n        const cameraState = this.hass.states[this.cameraImage];\n        if (!cameraState) {\n          this._onImageError();\n          return;\n        }\n        const element_width = this.clientWidth || MAX_IMAGE_WIDTH;\n        let width = Math.ceil(element_width * devicePixelRatio);\n        let height;\n        // If the image has not rendered yet we have no height\n        if (!this._lastImageHeight) {\n          if (this._ratio && this._ratio.w > 0 && this._ratio.h > 0) {\n            height = Math.ceil(width * (this._ratio.h / this._ratio.w));\n          } else {\n            // If we don't have a ratio and we don't have a height\n            // we ask for 200% of what we need because the aspect\n            // ratio might result in a smaller image\n            width *= 2;\n            height = Math.ceil(width * ASPECT_RATIO_DEFAULT);\n          }\n        } else {\n          height = Math.ceil(this._lastImageHeight * devicePixelRatio);\n        }\n        this._cameraImageSrc = await (0,_data_camera__WEBPACK_IMPORTED_MODULE_12__.fetchThumbnailUrlWithCache)(this.hass, this.cameraImage, width, height);\n        if (this._cameraImageSrc === undefined) {\n          this._onImageError();\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return (0,lit__WEBPACK_IMPORTED_MODULE_3__.css)`\n      :host {\n        display: block;\n      }\n\n      .container {\n        transition: filter 0.2s linear;\n        height: 100%;\n      }\n\n      img {\n        display: block;\n        height: 100%;\n        width: 100%;\n        object-fit: cover;\n      }\n\n      .progress-container {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .ratio {\n        position: relative;\n        width: 100%;\n        height: 0;\n        background-position: center;\n        background-size: cover;\n      }\n      .ratio.fill {\n        background-size: 100% 100%;\n      }\n      .ratio.contain {\n        background-size: contain;\n        background-repeat: no-repeat;\n      }\n      .fill img {\n        object-fit: fill;\n      }\n      .contain img {\n        object-fit: contain;\n      }\n\n      .ratio img,\n      .ratio div {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n\n      .ratio img {\n        visibility: hidden;\n      }\n\n      #brokenImage {\n        background: grey url(\"/static/images/image-broken.svg\") center/36px\n          no-repeat;\n      }\n    `;\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NvbXBvbmVudHMvaHVpLWltYWdlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQW1hQTtBQUFBO0FBQUE7QUFuYUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9jb21wb25lbnRzL2h1aS1pbWFnZS50cz9jZDQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBub3RoaW5nLFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL2NsYXNzLW1hcFwiO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvc3R5bGUtbWFwXCI7XG5pbXBvcnQgeyBTVEFURVNfT0ZGIH0gZnJvbSBcIi4uLy4uLy4uL2NvbW1vbi9jb25zdFwiO1xuaW1wb3J0IHsgY29tcHV0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluXCI7XG5pbXBvcnQgcGFyc2VBc3BlY3RSYXRpbyBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3V0aWwvcGFyc2UtYXNwZWN0LXJhdGlvXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWNhbWVyYS1zdHJlYW1cIjtcbmltcG9ydCB0eXBlIHsgSGFDYW1lcmFTdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jYW1lcmEtc3RyZWFtXCI7XG5pbXBvcnQgXCIuLi8uLi8uLi9jb21wb25lbnRzL2hhLWNpcmN1bGFyLXByb2dyZXNzXCI7XG5pbXBvcnQgeyBDYW1lcmFFbnRpdHksIGZldGNoVGh1bWJuYWlsVXJsV2l0aENhY2hlIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGEvY2FtZXJhXCI7XG5pbXBvcnQgeyBVTkFWQUlMQUJMRSB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2VudGl0eVwiO1xuaW1wb3J0IHsgY29tcHV0ZUltYWdlVXJsLCBJbWFnZUVudGl0eSB9IGZyb20gXCIuLi8uLi8uLi9kYXRhL2ltYWdlXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uL3R5cGVzXCI7XG5cbmNvbnN0IFVQREFURV9JTlRFUlZBTCA9IDEwMDAwO1xuY29uc3QgREVGQVVMVF9GSUxURVIgPSBcImdyYXlzY2FsZSgxMDAlKVwiO1xuXG5jb25zdCBNQVhfSU1BR0VfV0lEVEggPSA2NDA7XG5jb25zdCBBU1BFQ1RfUkFUSU9fREVGQVVMVCA9IDkgLyAxNjtcblxuY29uc3QgZW51bSBMb2FkU3RhdGUge1xuICBMb2FkaW5nID0gMSxcbiAgTG9hZGVkID0gMixcbiAgRXJyb3IgPSAzLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0YXRlU3BlY2lmaWNDb25maWcge1xuICBbc3RhdGU6IHN0cmluZ106IHN0cmluZztcbn1cblxuQGN1c3RvbUVsZW1lbnQoXCJodWktaW1hZ2VcIilcbmV4cG9ydCBjbGFzcyBIdWlJbWFnZSBleHRlbmRzIExpdEVsZW1lbnQge1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzPzogSG9tZUFzc2lzdGFudDtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgZW50aXR5Pzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBpbWFnZT86IHN0cmluZztcblxuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBzdGF0ZUltYWdlPzogU3RhdGVTcGVjaWZpY0NvbmZpZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgY2FtZXJhSW1hZ2U/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGNhbWVyYVZpZXc/OiBcImxpdmVcIiB8IFwiYXV0b1wiO1xuXG4gIEBwcm9wZXJ0eSgpIHB1YmxpYyBhc3BlY3RSYXRpbz86IHN0cmluZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgZmlsdGVyPzogc3RyaW5nO1xuXG4gIEBwcm9wZXJ0eSh7IGF0dHJpYnV0ZTogZmFsc2UgfSkgcHVibGljIHN0YXRlRmlsdGVyPzogU3RhdGVTcGVjaWZpY0NvbmZpZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgZGFya01vZGVJbWFnZT86IHN0cmluZztcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgZGFya01vZGVGaWx0ZXI/OiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KCkgcHVibGljIGZpdE1vZGU/OiBcImNvdmVyXCIgfCBcImNvbnRhaW5cIiB8IFwiZmlsbFwiO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2ltYWdlVmlzaWJsZT8gPSBmYWxzZTtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9sb2FkU3RhdGU/OiBMb2FkU3RhdGU7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfY2FtZXJhSW1hZ2VTcmM/OiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbG9hZGVkSW1hZ2VTcmM/OiBzdHJpbmc7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbGFzdEltYWdlSGVpZ2h0PzogbnVtYmVyO1xuXG4gIHByaXZhdGUgX2ludGVyc2VjdGlvbk9ic2VydmVyPzogSW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG5cbiAgcHJpdmF0ZSBfY2FtZXJhVXBkYXRlcj86IG51bWJlcjtcblxuICBwcml2YXRlIF9yYXRpbzoge1xuICAgIHc6IG51bWJlcjtcbiAgICBoOiBudW1iZXI7XG4gIH0gfCBudWxsID0gbnVsbDtcblxuICBwdWJsaWMgY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBpZiAodGhpcy5fbG9hZFN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2xvYWRTdGF0ZSA9IExvYWRTdGF0ZS5Mb2FkaW5nO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYW1lcmFJbWFnZSAmJiB0aGlzLmNhbWVyYVZpZXcgIT09IFwibGl2ZVwiKSB7XG4gICAgICB0aGlzLl9zdGFydEludGVyc2VjdGlvbk9ic2VydmVyT3JVcGRhdGVzKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fc3RvcFVwZGF0ZUNhbWVyYUludGVydmFsKCk7XG4gICAgdGhpcy5fc3RvcEludGVyc2VjdGlvbk9ic2VydmVyKCk7XG4gICAgdGhpcy5faW1hZ2VWaXNpYmxlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJvdGVjdGVkIGhhbmRsZUludGVyc2VjdGlvbkNhbGxiYWNrKGVudHJpZXM6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXSkge1xuICAgIHRoaXMuX2ltYWdlVmlzaWJsZSA9IGVudHJpZXNbMF0uaXNJbnRlcnNlY3Rpbmc7XG4gIH1cblxuICBwdWJsaWMgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7XG4gICAgaWYgKGNoYW5nZWRQcm9wcy5oYXMoXCJoYXNzXCIpKSB7XG4gICAgICBjb25zdCBvbGRIYXNzID0gY2hhbmdlZFByb3BzLmdldChcImhhc3NcIikgYXMgSG9tZUFzc2lzdGFudCB8IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKHRoaXMuX3Nob3VsZFN0YXJ0Q2FtZXJhVXBkYXRlcyhvbGRIYXNzKSkge1xuICAgICAgICB0aGlzLl9zdGFydEludGVyc2VjdGlvbk9ic2VydmVyT3JVcGRhdGVzKCk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmhhc3MhLmNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLl9zdG9wVXBkYXRlQ2FtZXJhSW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5fc3RvcEludGVyc2VjdGlvbk9ic2VydmVyKCk7XG4gICAgICAgIHRoaXMuX2xvYWRTdGF0ZSA9IExvYWRTdGF0ZS5Mb2FkaW5nO1xuICAgICAgICB0aGlzLl9jYW1lcmFJbWFnZVNyYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fbG9hZGVkSW1hZ2VTcmMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiX2ltYWdlVmlzaWJsZVwiKSkge1xuICAgICAgaWYgKHRoaXMuX2ltYWdlVmlzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy5fc2hvdWxkU3RhcnRDYW1lcmFVcGRhdGVzKCkpIHtcbiAgICAgICAgICB0aGlzLl9zdGFydFVwZGF0ZUNhbWVyYUludGVydmFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3N0b3BVcGRhdGVDYW1lcmFJbnRlcnZhbCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hhbmdlZFByb3BzLmhhcyhcImFzcGVjdFJhdGlvXCIpKSB7XG4gICAgICB0aGlzLl9yYXRpbyA9IHRoaXMuYXNwZWN0UmF0aW9cbiAgICAgICAgPyBwYXJzZUFzcGVjdFJhdGlvKHRoaXMuYXNwZWN0UmF0aW8pXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2xvYWRTdGF0ZSA9PT0gTG9hZFN0YXRlLkxvYWRpbmcgJiYgIXRoaXMuY2FtZXJhSW1hZ2UpIHtcbiAgICAgIHRoaXMuX2xvYWRTdGF0ZSA9IExvYWRTdGF0ZS5Mb2FkZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuaGFzcykge1xuICAgICAgcmV0dXJuIG5vdGhpbmc7XG4gICAgfVxuICAgIGNvbnN0IHVzZVJhdGlvID0gQm9vbGVhbihcbiAgICAgIHRoaXMuX3JhdGlvICYmIHRoaXMuX3JhdGlvLncgPiAwICYmIHRoaXMuX3JhdGlvLmggPiAwXG4gICAgKTtcbiAgICBjb25zdCBzdGF0ZU9iaiA9IHRoaXMuZW50aXR5ID8gdGhpcy5oYXNzLnN0YXRlc1t0aGlzLmVudGl0eV0gOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgZW50aXR5U3RhdGUgPSBzdGF0ZU9iaiA/IHN0YXRlT2JqLnN0YXRlIDogVU5BVkFJTEFCTEU7XG5cbiAgICAvLyBGaWd1cmUgb3V0IGltYWdlIHNvdXJjZSB0byB1c2VcbiAgICBsZXQgaW1hZ2VTcmM6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBsZXQgY2FtZXJhT2JqOiBDYW1lcmFFbnRpdHkgfCB1bmRlZmluZWQ7XG4gICAgLy8gVHJhY2sgaWYgd2UgYXJlIHdlIHVzaW5nIGEgZmFsbGJhY2sgaW1hZ2UsIHVzZWQgZm9yIGZpbHRlci5cbiAgICBsZXQgaW1hZ2VGYWxsYmFjayA9ICF0aGlzLnN0YXRlSW1hZ2U7XG5cbiAgICBpZiAodGhpcy5jYW1lcmFJbWFnZSkge1xuICAgICAgaWYgKHRoaXMuY2FtZXJhVmlldyA9PT0gXCJsaXZlXCIpIHtcbiAgICAgICAgY2FtZXJhT2JqID0gdGhpcy5oYXNzLnN0YXRlc1t0aGlzLmNhbWVyYUltYWdlXSBhcyBDYW1lcmFFbnRpdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWFnZVNyYyA9IHRoaXMuX2NhbWVyYUltYWdlU3JjO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZUltYWdlKSB7XG4gICAgICBjb25zdCBzdGF0ZUltYWdlID0gdGhpcy5zdGF0ZUltYWdlW2VudGl0eVN0YXRlXTtcblxuICAgICAgaWYgKHN0YXRlSW1hZ2UpIHtcbiAgICAgICAgaW1hZ2VTcmMgPSBzdGF0ZUltYWdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2VTcmMgPSB0aGlzLmltYWdlO1xuICAgICAgICBpbWFnZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuZGFya01vZGVJbWFnZSAmJiB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlKSB7XG4gICAgICBpbWFnZVNyYyA9IHRoaXMuZGFya01vZGVJbWFnZTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlT2JqICYmIGNvbXB1dGVEb21haW4oc3RhdGVPYmouZW50aXR5X2lkKSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICBpbWFnZVNyYyA9IGNvbXB1dGVJbWFnZVVybChzdGF0ZU9iaiBhcyBJbWFnZUVudGl0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGltYWdlU3JjID0gdGhpcy5pbWFnZTtcbiAgICB9XG5cbiAgICBpZiAoaW1hZ2VTcmMpIHtcbiAgICAgIGltYWdlU3JjID0gdGhpcy5oYXNzLmhhc3NVcmwoaW1hZ2VTcmMpO1xuICAgIH1cblxuICAgIC8vIEZpZ3VyZSBvdXQgZmlsdGVyIHRvIHVzZVxuICAgIGxldCBmaWx0ZXIgPSB0aGlzLmZpbHRlciB8fCBcIlwiO1xuXG4gICAgaWYgKHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGUgJiYgdGhpcy5kYXJrTW9kZUZpbHRlcikge1xuICAgICAgZmlsdGVyICs9IHRoaXMuZGFya01vZGVGaWx0ZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhdGVGaWx0ZXIgJiYgdGhpcy5zdGF0ZUZpbHRlcltlbnRpdHlTdGF0ZV0pIHtcbiAgICAgIGZpbHRlciArPSB0aGlzLnN0YXRlRmlsdGVyW2VudGl0eVN0YXRlXTtcbiAgICB9XG5cbiAgICBpZiAoIWZpbHRlciAmJiB0aGlzLmVudGl0eSkge1xuICAgICAgY29uc3QgaXNPZmYgPSAhc3RhdGVPYmogfHwgU1RBVEVTX09GRi5pbmNsdWRlcyhlbnRpdHlTdGF0ZSk7XG4gICAgICBmaWx0ZXIgPSBpc09mZiAmJiBpbWFnZUZhbGxiYWNrID8gREVGQVVMVF9GSUxURVIgOiBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICBwYWRkaW5nQm90dG9tOiB1c2VSYXRpb1xuICAgICAgICAgICAgPyBgJHsoKDEwMCAqIHRoaXMuX3JhdGlvIS5oKSAvIHRoaXMuX3JhdGlvIS53KS50b0ZpeGVkKDIpfSVgXG4gICAgICAgICAgICA6IHRoaXMuX2xhc3RJbWFnZUhlaWdodCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gXCI1Ni4yNSVcIlxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6XG4gICAgICAgICAgICB1c2VSYXRpbyAmJiB0aGlzLl9sb2FkZWRJbWFnZVNyY1xuICAgICAgICAgICAgICA/IGB1cmwoXCIke3RoaXMuX2xvYWRlZEltYWdlU3JjfVwiKWBcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZmlsdGVyOlxuICAgICAgICAgICAgdGhpcy5fbG9hZFN0YXRlID09PSBMb2FkU3RhdGUuTG9hZGVkIHx8IHRoaXMuY2FtZXJhVmlldyA9PT0gXCJsaXZlXCJcbiAgICAgICAgICAgICAgPyBmaWx0ZXJcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pfVxuICAgICAgICBjbGFzcz1cImNvbnRhaW5lciAke2NsYXNzTWFwKHtcbiAgICAgICAgICByYXRpbzogdXNlUmF0aW8gfHwgdGhpcy5fbGFzdEltYWdlSGVpZ2h0ID09PSB1bmRlZmluZWQsXG4gICAgICAgICAgY29udGFpbjogdGhpcy5maXRNb2RlID09PSBcImNvbnRhaW5cIixcbiAgICAgICAgICBmaWxsOiB0aGlzLmZpdE1vZGUgPT09IFwiZmlsbFwiLFxuICAgICAgICB9KX1cIlxuICAgICAgPlxuICAgICAgICAke3RoaXMuY2FtZXJhSW1hZ2UgJiYgdGhpcy5jYW1lcmFWaWV3ID09PSBcImxpdmVcIlxuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPGhhLWNhbWVyYS1zdHJlYW1cbiAgICAgICAgICAgICAgICBtdXRlZFxuICAgICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAgIC5zdGF0ZU9iaj0ke2NhbWVyYU9ian1cbiAgICAgICAgICAgICAgICBAbG9hZD0ke3RoaXMuX29uVmlkZW9Mb2FkfVxuICAgICAgICAgICAgICA+PC9oYS1jYW1lcmEtc3RyZWFtPlxuICAgICAgICAgICAgYFxuICAgICAgICAgIDogaW1hZ2VTcmMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBub3RoaW5nXG4gICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgaWQ9XCJpbWFnZVwiXG4gICAgICAgICAgICAgICAgICBzcmM9JHtpbWFnZVNyY31cbiAgICAgICAgICAgICAgICAgIEBlcnJvcj0ke3RoaXMuX29uSW1hZ2VFcnJvcn1cbiAgICAgICAgICAgICAgICAgIEBsb2FkPSR7dGhpcy5fb25JbWFnZUxvYWR9XG4gICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTpcbiAgICAgICAgICAgICAgICAgICAgICB1c2VSYXRpbyB8fCB0aGlzLl9sb2FkU3RhdGUgPT09IExvYWRTdGF0ZS5Mb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJibG9ja1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgYH1cbiAgICAgICAgJHt0aGlzLl9sb2FkU3RhdGUgPT09IExvYWRTdGF0ZS5FcnJvclxuICAgICAgICAgID8gaHRtbGA8ZGl2XG4gICAgICAgICAgICAgIGlkPVwiYnJva2VuSW1hZ2VcIlxuICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICF1c2VSYXRpb1xuICAgICAgICAgICAgICAgICAgPyBgJHt0aGlzLl9sYXN0SW1hZ2VIZWlnaHR9cHhgIHx8IFwiMTAwJVwiXG4gICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA+PC9kaXY+YFxuICAgICAgICAgIDogdGhpcy5jYW1lcmFWaWV3ICE9PSBcImxpdmVcIiAmJlxuICAgICAgICAgICAgICAoaW1hZ2VTcmMgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9sb2FkU3RhdGUgPT09IExvYWRTdGF0ZS5Mb2FkaW5nKVxuICAgICAgICAgICAgPyBodG1sYDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzcz1cInByb2dyZXNzLWNvbnRhaW5lclwiXG4gICAgICAgICAgICAgICAgc3R5bGU9JHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6ICF1c2VSYXRpb1xuICAgICAgICAgICAgICAgICAgICA/IGAke3RoaXMuX2xhc3RJbWFnZUhlaWdodH1weGAgfHwgXCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8aGEtY2lyY3VsYXItcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmVuZGVyLXNwaW5uZXJcIlxuICAgICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZVxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICA+PC9oYS1jaXJjdWxhci1wcm9ncmVzcz5cbiAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgOiBcIlwifVxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIHByb3RlY3RlZCBfc2hvdWxkU3RhcnRDYW1lcmFVcGRhdGVzKG9sZEhhc3M/OiBIb21lQXNzaXN0YW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgKCFvbGRIYXNzIHx8IG9sZEhhc3MuY29ubmVjdGVkICE9PSB0aGlzLmhhc3MhLmNvbm5lY3RlZCkgJiZcbiAgICAgIHRoaXMuaGFzcyEuY29ubmVjdGVkICYmXG4gICAgICB0aGlzLmNhbWVyYVZpZXcgIT09IFwibGl2ZVwiXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX3N0YXJ0SW50ZXJzZWN0aW9uT2JzZXJ2ZXJPclVwZGF0ZXMoKTogdm9pZCB7XG4gICAgaWYgKFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3cpIHtcbiAgICAgIGlmICghdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgICAgdGhpcy5oYW5kbGVJbnRlcnNlY3Rpb25DYWxsYmFjay5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9pbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBzdXBwb3J0IGZvciBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgICAgLy8gYXNzdW1lIGFsbCBpbWFnZXMgYXJlIHZpc2libGVcbiAgICAgIHRoaXMuX2ltYWdlVmlzaWJsZSA9IHRydWU7XG4gICAgICB0aGlzLl9zdGFydFVwZGF0ZUNhbWVyYUludGVydmFsKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfc3RvcEludGVyc2VjdGlvbk9ic2VydmVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9pbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgICAgdGhpcy5faW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3N0YXJ0VXBkYXRlQ2FtZXJhSW50ZXJ2YWwoKTogdm9pZCB7XG4gICAgdGhpcy5fc3RvcFVwZGF0ZUNhbWVyYUludGVydmFsKCk7XG4gICAgdGhpcy5fdXBkYXRlQ2FtZXJhSW1hZ2VTcmMoKTtcbiAgICBpZiAodGhpcy5jYW1lcmFJbWFnZSAmJiB0aGlzLmlzQ29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9jYW1lcmFVcGRhdGVyID0gd2luZG93LnNldEludGVydmFsKFxuICAgICAgICAoKSA9PiB0aGlzLl91cGRhdGVDYW1lcmFJbWFnZVNyY0F0SW50ZXJ2YWwoKSxcbiAgICAgICAgVVBEQVRFX0lOVEVSVkFMXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3N0b3BVcGRhdGVDYW1lcmFJbnRlcnZhbCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fY2FtZXJhVXBkYXRlcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9jYW1lcmFVcGRhdGVyKTtcbiAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfb25JbWFnZUVycm9yKCk6IHZvaWQge1xuICAgIHRoaXMuX2xvYWRTdGF0ZSA9IExvYWRTdGF0ZS5FcnJvcjtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX29uSW1hZ2VMb2FkKGV2OiBFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuX2xvYWRTdGF0ZSA9IExvYWRTdGF0ZS5Mb2FkZWQ7XG4gICAgY29uc3QgaW1nRWwgPSBldi50YXJnZXQgYXMgSFRNTEltYWdlRWxlbWVudDtcbiAgICBpZiAodGhpcy5fcmF0aW8gJiYgdGhpcy5fcmF0aW8udyA+IDAgJiYgdGhpcy5fcmF0aW8uaCA+IDApIHtcbiAgICAgIHRoaXMuX2xvYWRlZEltYWdlU3JjID0gaW1nRWwuc3JjO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgIHRoaXMuX2xhc3RJbWFnZUhlaWdodCA9IGltZ0VsLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX29uVmlkZW9Mb2FkKGV2OiBFdmVudCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuX2xvYWRTdGF0ZSA9IExvYWRTdGF0ZS5Mb2FkZWQ7XG4gICAgY29uc3QgdmlkZW9FbCA9IGV2LmN1cnJlbnRUYXJnZXQgYXMgSGFDYW1lcmFTdHJlYW07XG4gICAgYXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcbiAgICB0aGlzLl9sYXN0SW1hZ2VIZWlnaHQgPSB2aWRlb0VsLm9mZnNldEhlaWdodDtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3VwZGF0ZUNhbWVyYUltYWdlU3JjQXRJbnRlcnZhbCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBJZiB3ZSBoaXQgdGhlIGludGVydmFsIGFuZCBpdCB3YXMgc3RpbGwgbG9hZGluZ1xuICAgIC8vIGl0IG1lYW5zIHdlIHRpbWVkIG91dCBzbyB3ZSBzaG91bGQgc2hvdyB0aGUgZXJyb3IuXG4gICAgaWYgKHRoaXMuX2xvYWRTdGF0ZSA9PT0gTG9hZFN0YXRlLkxvYWRpbmcpIHtcbiAgICAgIHRoaXMuX29uSW1hZ2VFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdXBkYXRlQ2FtZXJhSW1hZ2VTcmMoKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgX3VwZGF0ZUNhbWVyYUltYWdlU3JjKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5oYXNzIHx8ICF0aGlzLmNhbWVyYUltYWdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2FtZXJhU3RhdGUgPSB0aGlzLmhhc3Muc3RhdGVzW3RoaXMuY2FtZXJhSW1hZ2VdIGFzXG4gICAgICB8IENhbWVyYUVudGl0eVxuICAgICAgfCB1bmRlZmluZWQ7XG5cbiAgICBpZiAoIWNhbWVyYVN0YXRlKSB7XG4gICAgICB0aGlzLl9vbkltYWdlRXJyb3IoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50X3dpZHRoID0gdGhpcy5jbGllbnRXaWR0aCB8fCBNQVhfSU1BR0VfV0lEVEg7XG4gICAgbGV0IHdpZHRoID0gTWF0aC5jZWlsKGVsZW1lbnRfd2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKTtcbiAgICBsZXQgaGVpZ2h0OiBudW1iZXI7XG4gICAgLy8gSWYgdGhlIGltYWdlIGhhcyBub3QgcmVuZGVyZWQgeWV0IHdlIGhhdmUgbm8gaGVpZ2h0XG4gICAgaWYgKCF0aGlzLl9sYXN0SW1hZ2VIZWlnaHQpIHtcbiAgICAgIGlmICh0aGlzLl9yYXRpbyAmJiB0aGlzLl9yYXRpby53ID4gMCAmJiB0aGlzLl9yYXRpby5oID4gMCkge1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwod2lkdGggKiAodGhpcy5fcmF0aW8uaCAvIHRoaXMuX3JhdGlvLncpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSByYXRpbyBhbmQgd2UgZG9uJ3QgaGF2ZSBhIGhlaWdodFxuICAgICAgICAvLyB3ZSBhc2sgZm9yIDIwMCUgb2Ygd2hhdCB3ZSBuZWVkIGJlY2F1c2UgdGhlIGFzcGVjdFxuICAgICAgICAvLyByYXRpbyBtaWdodCByZXN1bHQgaW4gYSBzbWFsbGVyIGltYWdlXG4gICAgICAgIHdpZHRoICo9IDI7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbCh3aWR0aCAqIEFTUEVDVF9SQVRJT19ERUZBVUxUKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuX2xhc3RJbWFnZUhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8pO1xuICAgIH1cbiAgICB0aGlzLl9jYW1lcmFJbWFnZVNyYyA9IGF3YWl0IGZldGNoVGh1bWJuYWlsVXJsV2l0aENhY2hlKFxuICAgICAgdGhpcy5oYXNzLFxuICAgICAgdGhpcy5jYW1lcmFJbWFnZSxcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgKTtcbiAgICBpZiAodGhpcy5fY2FtZXJhSW1hZ2VTcmMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fb25JbWFnZUVycm9yKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBjc3NgXG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICAuY29udGFpbmVyIHtcbiAgICAgICAgdHJhbnNpdGlvbjogZmlsdGVyIDAuMnMgbGluZWFyO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG5cbiAgICAgIGltZyB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgIH1cblxuICAgICAgLnByb2dyZXNzLWNvbnRhaW5lciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICAucmF0aW8ge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICAgIH1cbiAgICAgIC5yYXRpby5maWxsIHtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XG4gICAgICB9XG4gICAgICAucmF0aW8uY29udGFpbiB7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgIH1cbiAgICAgIC5maWxsIGltZyB7XG4gICAgICAgIG9iamVjdC1maXQ6IGZpbGw7XG4gICAgICB9XG4gICAgICAuY29udGFpbiBpbWcge1xuICAgICAgICBvYmplY3QtZml0OiBjb250YWluO1xuICAgICAgfVxuXG4gICAgICAucmF0aW8gaW1nLFxuICAgICAgLnJhdGlvIGRpdiB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgfVxuXG4gICAgICAucmF0aW8gaW1nIHtcbiAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAjYnJva2VuSW1hZ2Uge1xuICAgICAgICBiYWNrZ3JvdW5kOiBncmV5IHVybChcIi9zdGF0aWMvaW1hZ2VzL2ltYWdlLWJyb2tlbi5zdmdcIikgY2VudGVyLzM2cHhcbiAgICAgICAgICBuby1yZXBlYXQ7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBIVE1MRWxlbWVudFRhZ05hbWVNYXAge1xuICAgIFwiaHVpLWltYWdlXCI6IEh1aUltYWdlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/lovelace/components/hui-image.ts\n");

/***/ })

};
