{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport \"core-js/modules/es.error.cause.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { MDCFloatingLabelFoundation } from '@material/floating-label/foundation.js';\nimport { directive, Directive, PartType } from 'lit/directive.js';\nvar createAdapter = function createAdapter(labelElement) {\n  return {\n    addClass: function addClass(className) {\n      return labelElement.classList.add(className);\n    },\n    removeClass: function removeClass(className) {\n      return labelElement.classList.remove(className);\n    },\n    getWidth: function getWidth() {\n      return labelElement.scrollWidth;\n    },\n    registerInteractionHandler: function registerInteractionHandler(evtType, handler) {\n      labelElement.addEventListener(evtType, handler);\n    },\n    deregisterInteractionHandler: function deregisterInteractionHandler(evtType, handler) {\n      labelElement.removeEventListener(evtType, handler);\n    }\n  };\n};\nvar FloatingLabelDirective = /*#__PURE__*/function (_Directive) {\n  _inherits(FloatingLabelDirective, _Directive);\n  function FloatingLabelDirective(partInfo) {\n    var _this;\n    _classCallCheck(this, FloatingLabelDirective);\n    _this = _callSuper(this, FloatingLabelDirective, [partInfo]);\n    _this.foundation = null;\n    _this.previousPart = null;\n    switch (partInfo.type) {\n      // Only allow Attribute and Part bindings\n      case PartType.ATTRIBUTE:\n      case PartType.PROPERTY:\n        break;\n      default:\n        throw new Error('FloatingLabel directive only support attribute and property parts');\n    }\n    return _this;\n  }\n  /**\n   * There is no PropertyPart in Lit 2 so far. For more info see:\n   * https://github.com/lit/lit/issues/1863\n   */\n  _createClass(FloatingLabelDirective, [{\n    key: \"update\",\n    value: function update(part, _ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n        label = _ref2[0];\n      if (part !== this.previousPart) {\n        if (this.foundation) {\n          this.foundation.destroy();\n        }\n        this.previousPart = part;\n        var labelElement = part.element;\n        labelElement.classList.add('mdc-floating-label');\n        var adapter = createAdapter(labelElement);\n        this.foundation = new MDCFloatingLabelFoundation(adapter);\n        this.foundation.init();\n      }\n      return this.render(label);\n    }\n  }, {\n    key: \"render\",\n    value: function render(_label) {\n      return this.foundation;\n    }\n  }]);\n  return FloatingLabelDirective;\n}(Directive);\nexport var floatingLabel = directive(FloatingLabelDirective);","map":{"version":3,"names":["MDCFloatingLabelFoundation","directive","Directive","PartType","createAdapter","labelElement","addClass","className","classList","add","removeClass","remove","getWidth","scrollWidth","registerInteractionHandler","evtType","handler","addEventListener","deregisterInteractionHandler","removeEventListener","FloatingLabelDirective","_Directive","_inherits","partInfo","_this","_classCallCheck","_callSuper","foundation","previousPart","type","ATTRIBUTE","PROPERTY","Error","_createClass","key","value","update","part","_ref","_ref2","_slicedToArray","label","destroy","element","adapter","init","render","_label","floatingLabel"],"sources":["mwc-floating-label-directive.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {MDCFloatingLabelAdapter} from '@material/floating-label/adapter.js';\nimport {MDCFloatingLabelFoundation} from '@material/floating-label/foundation.js';\nimport {AttributePart, directive, Directive, DirectiveParameters, PartInfo, PartType} from 'lit/directive.js';\n\nexport interface FloatingLabel extends HTMLLabelElement {\n  floatingLabelFoundation: MDCFloatingLabelFoundation;\n}\n\nconst createAdapter = (labelElement: HTMLElement): MDCFloatingLabelAdapter => {\n  return {\n    addClass: (className) => labelElement.classList.add(className),\n    removeClass: (className) => labelElement.classList.remove(className),\n    getWidth: () => labelElement.scrollWidth,\n    registerInteractionHandler: (evtType, handler) => {\n      labelElement.addEventListener(evtType, handler);\n    },\n    deregisterInteractionHandler: (evtType, handler) => {\n      labelElement.removeEventListener(evtType, handler);\n    },\n  };\n};\n\nclass FloatingLabelDirective extends Directive {\n  private foundation: MDCFloatingLabelFoundation|null = null;\n  private previousPart: AttributePart|null = null;\n\n  constructor(partInfo: PartInfo) {\n    super(partInfo);\n\n    switch (partInfo.type) {\n      // Only allow Attribute and Part bindings\n      case PartType.ATTRIBUTE:\n      case PartType.PROPERTY:\n        break;\n      default:\n        throw new Error(\n            'FloatingLabel directive only support attribute and property parts');\n    }\n  }\n\n  /**\n   * There is no PropertyPart in Lit 2 so far. For more info see:\n   * https://github.com/lit/lit/issues/1863\n   */\n  override update(part: AttributePart, [label]: DirectiveParameters<this>) {\n    if (part !== this.previousPart) {\n      if (this.foundation) {\n        this.foundation.destroy();\n      }\n      this.previousPart = part;\n      const labelElement = part.element as FloatingLabel;\n      labelElement.classList.add('mdc-floating-label');\n      const adapter = createAdapter(labelElement);\n      this.foundation = new MDCFloatingLabelFoundation(adapter);\n      this.foundation.init();\n    }\n    return this.render(label);\n  }\n  render(_label: string): MDCFloatingLabelFoundation|null {\n    return this.foundation;\n  }\n}\n\nexport const floatingLabel = directive(FloatingLabelDirective);\n"],"mappings":";;;;;;AAAA;;;;;AAUA,SAAQA,0BAA0B,QAAO,wCAAwC;AACjF,SAAuBC,SAAS,EAAEC,SAAS,EAAiCC,QAAQ,QAAO,kBAAkB;AAM7G,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAIC,YAAyB,EAA6B;EAC3E,OAAO;IACLC,QAAQ,EAAE,SAAAA,SAACC,SAAS;MAAA,OAAKF,YAAY,CAACG,SAAS,CAACC,GAAG,CAACF,SAAS,CAAC;IAAA;IAC9DG,WAAW,EAAE,SAAAA,YAACH,SAAS;MAAA,OAAKF,YAAY,CAACG,SAAS,CAACG,MAAM,CAACJ,SAAS,CAAC;IAAA;IACpEK,QAAQ,EAAE,SAAAA,SAAA;MAAA,OAAMP,YAAY,CAACQ,WAAW;IAAA;IACxCC,0BAA0B,EAAE,SAAAA,2BAACC,OAAO,EAAEC,OAAO,EAAI;MAC/CX,YAAY,CAACY,gBAAgB,CAACF,OAAO,EAAEC,OAAO,CAAC;IACjD,CAAC;IACDE,4BAA4B,EAAE,SAAAA,6BAACH,OAAO,EAAEC,OAAO,EAAI;MACjDX,YAAY,CAACc,mBAAmB,CAACJ,OAAO,EAAEC,OAAO,CAAC;IACpD;GACD;AACH,CAAC;AAAC,IAEII,sBAAuB,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,sBAAA,EAAAC,UAAA;EAI3B,SAAAD,uBAAYG,QAAkB;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAL,sBAAA;IAC5BI,KAAA,GAAAE,UAAA,OAAAN,sBAAA,GAAMG,QAAQ;IAJRC,KAAA,CAAAG,UAAU,GAAoC,IAAI;IAClDH,KAAA,CAAAI,YAAY,GAAuB,IAAI;IAK7C,QAAQL,QAAQ,CAACM,IAAI;MACnB;MACA,KAAK1B,QAAQ,CAAC2B,SAAS;MACvB,KAAK3B,QAAQ,CAAC4B,QAAQ;QACpB;MACF;QACE,MAAM,IAAIC,KAAK,CACX,mEAAmE,CAAC;;IAC3E,OAAAR,KAAA;EACH;EAEA;;;;EAAAS,YAAA,CAAAb,sBAAA;IAAAc,GAAA;IAAAC,KAAA,EAIS,SAAAC,OAAOC,IAAmB,EAAAC,IAAA,EAAoC;MAAA,IAAAC,KAAA,GAAAC,cAAA,CAAAF,IAAA;QAAjCG,KAAK,GAAAF,KAAA;MACzC,IAAIF,IAAI,KAAK,IAAI,CAACT,YAAY,EAAE;QAC9B,IAAI,IAAI,CAACD,UAAU,EAAE;UACnB,IAAI,CAACA,UAAU,CAACe,OAAO,EAAE;;QAE3B,IAAI,CAACd,YAAY,GAAGS,IAAI;QACxB,IAAMhC,YAAY,GAAGgC,IAAI,CAACM,OAAwB;QAClDtC,YAAY,CAACG,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;QAChD,IAAMmC,OAAO,GAAGxC,aAAa,CAACC,YAAY,CAAC;QAC3C,IAAI,CAACsB,UAAU,GAAG,IAAI3B,0BAA0B,CAAC4C,OAAO,CAAC;QACzD,IAAI,CAACjB,UAAU,CAACkB,IAAI,EAAE;;MAExB,OAAO,IAAI,CAACC,MAAM,CAACL,KAAK,CAAC;IAC3B;EAAC;IAAAP,GAAA;IAAAC,KAAA,EACD,SAAAW,OAAOC,MAAc;MACnB,OAAO,IAAI,CAACpB,UAAU;IACxB;EAAC;EAAA,OAAAP,sBAAA;AAAA,EAtCkClB,SAAS;AAyC9C,OAAO,IAAM8C,aAAa,GAAG/C,SAAS,CAACmB,sBAAsB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}