{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, strings } from '../constants';\nvar MDCDismissibleDrawerFoundation = /** @class */function (_super) {\n  __extends(MDCDismissibleDrawerFoundation, _super);\n  function MDCDismissibleDrawerFoundation(adapter) {\n    var _this = _super.call(this, __assign(__assign({}, MDCDismissibleDrawerFoundation.defaultAdapter), adapter)) || this;\n    _this.animationFrame = 0;\n    _this.animationTimer = 0;\n    return _this;\n  }\n  Object.defineProperty(MDCDismissibleDrawerFoundation, \"strings\", {\n    get: function () {\n      return strings;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCDismissibleDrawerFoundation, \"cssClasses\", {\n    get: function () {\n      return cssClasses;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCDismissibleDrawerFoundation, \"defaultAdapter\", {\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n      return {\n        addClass: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        hasClass: function () {\n          return false;\n        },\n        elementHasClass: function () {\n          return false;\n        },\n        notifyClose: function () {\n          return undefined;\n        },\n        notifyOpen: function () {\n          return undefined;\n        },\n        saveFocus: function () {\n          return undefined;\n        },\n        restoreFocus: function () {\n          return undefined;\n        },\n        focusActiveNavigationItem: function () {\n          return undefined;\n        },\n        trapFocus: function () {\n          return undefined;\n        },\n        releaseFocus: function () {\n          return undefined;\n        }\n      };\n      // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MDCDismissibleDrawerFoundation.prototype.destroy = function () {\n    if (this.animationFrame) {\n      cancelAnimationFrame(this.animationFrame);\n    }\n    if (this.animationTimer) {\n      clearTimeout(this.animationTimer);\n    }\n  };\n  /**\n   * Opens the drawer from the closed state.\n   */\n  MDCDismissibleDrawerFoundation.prototype.open = function () {\n    var _this = this;\n    if (this.isOpen() || this.isOpening() || this.isClosing()) {\n      return;\n    }\n    this.adapter.addClass(cssClasses.OPEN);\n    this.adapter.addClass(cssClasses.ANIMATE);\n    // Wait a frame once display is no longer \"none\", to establish basis for animation\n    this.runNextAnimationFrame(function () {\n      _this.adapter.addClass(cssClasses.OPENING);\n    });\n    this.adapter.saveFocus();\n  };\n  /**\n   * Closes the drawer from the open state.\n   */\n  MDCDismissibleDrawerFoundation.prototype.close = function () {\n    if (!this.isOpen() || this.isOpening() || this.isClosing()) {\n      return;\n    }\n    this.adapter.addClass(cssClasses.CLOSING);\n  };\n  /**\n   * Returns true if the drawer is in the open position.\n   * @return true if drawer is in open state.\n   */\n  MDCDismissibleDrawerFoundation.prototype.isOpen = function () {\n    return this.adapter.hasClass(cssClasses.OPEN);\n  };\n  /**\n   * Returns true if the drawer is animating open.\n   * @return true if drawer is animating open.\n   */\n  MDCDismissibleDrawerFoundation.prototype.isOpening = function () {\n    return this.adapter.hasClass(cssClasses.OPENING) || this.adapter.hasClass(cssClasses.ANIMATE);\n  };\n  /**\n   * Returns true if the drawer is animating closed.\n   * @return true if drawer is animating closed.\n   */\n  MDCDismissibleDrawerFoundation.prototype.isClosing = function () {\n    return this.adapter.hasClass(cssClasses.CLOSING);\n  };\n  /**\n   * Keydown handler to close drawer when key is escape.\n   */\n  MDCDismissibleDrawerFoundation.prototype.handleKeydown = function (evt) {\n    var keyCode = evt.keyCode,\n      key = evt.key;\n    var isEscape = key === 'Escape' || keyCode === 27;\n    if (isEscape) {\n      this.close();\n    }\n  };\n  /**\n   * Handles the `transitionend` event when the drawer finishes opening/closing.\n   */\n  MDCDismissibleDrawerFoundation.prototype.handleTransitionEnd = function (evt) {\n    var OPENING = cssClasses.OPENING,\n      CLOSING = cssClasses.CLOSING,\n      OPEN = cssClasses.OPEN,\n      ANIMATE = cssClasses.ANIMATE,\n      ROOT = cssClasses.ROOT;\n    // In Edge, transitionend on ripple pseudo-elements yields a target without classList, so check for Element first.\n    var isRootElement = this.isElement(evt.target) && this.adapter.elementHasClass(evt.target, ROOT);\n    if (!isRootElement) {\n      return;\n    }\n    if (this.isClosing()) {\n      this.adapter.removeClass(OPEN);\n      this.closed();\n      this.adapter.restoreFocus();\n      this.adapter.notifyClose();\n    } else {\n      this.adapter.focusActiveNavigationItem();\n      this.opened();\n      this.adapter.notifyOpen();\n    }\n    this.adapter.removeClass(ANIMATE);\n    this.adapter.removeClass(OPENING);\n    this.adapter.removeClass(CLOSING);\n  };\n  /**\n   * Extension point for when drawer finishes open animation.\n   */\n  MDCDismissibleDrawerFoundation.prototype.opened = function () {}; // tslint:disable-line:no-empty\n  /**\n   * Extension point for when drawer finishes close animation.\n   */\n  MDCDismissibleDrawerFoundation.prototype.closed = function () {}; // tslint:disable-line:no-empty\n  /**\n   * Runs the given logic on the next animation frame, using setTimeout to factor in Firefox reflow behavior.\n   */\n  MDCDismissibleDrawerFoundation.prototype.runNextAnimationFrame = function (callback) {\n    var _this = this;\n    cancelAnimationFrame(this.animationFrame);\n    this.animationFrame = requestAnimationFrame(function () {\n      _this.animationFrame = 0;\n      clearTimeout(_this.animationTimer);\n      _this.animationTimer = setTimeout(callback, 0);\n    });\n  };\n  MDCDismissibleDrawerFoundation.prototype.isElement = function (element) {\n    // In Edge, transitionend on ripple pseudo-elements yields a target without classList.\n    return Boolean(element.classList);\n  };\n  return MDCDismissibleDrawerFoundation;\n}(MDCFoundation);\nexport { MDCDismissibleDrawerFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCDismissibleDrawerFoundation;","map":{"version":3,"names":["MDCFoundation","cssClasses","strings","MDCDismissibleDrawerFoundation","_super","__extends","adapter","_this","call","__assign","defaultAdapter","animationFrame","animationTimer","Object","defineProperty","get","addClass","undefined","removeClass","hasClass","elementHasClass","notifyClose","notifyOpen","saveFocus","restoreFocus","focusActiveNavigationItem","trapFocus","releaseFocus","prototype","destroy","cancelAnimationFrame","clearTimeout","open","isOpen","isOpening","isClosing","OPEN","ANIMATE","runNextAnimationFrame","OPENING","close","CLOSING","handleKeydown","evt","keyCode","key","isEscape","handleTransitionEnd","ROOT","isRootElement","isElement","target","closed","opened","callback","requestAnimationFrame","setTimeout","element","Boolean","classList"],"sources":["foundation.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}