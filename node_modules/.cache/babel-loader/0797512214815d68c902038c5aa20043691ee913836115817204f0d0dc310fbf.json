{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport { css, html, LitElement } from \"lit\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { computeDomain } from \"../../../common/entity/compute_domain\";\nimport { processConfigEntities } from \"../common/process-config-entities\";\nimport \"../components/hui-buttons-base\";\nexport let HuiButtonsHeaderFooter = _decorate([customElement(\"hui-buttons-header-footer\")], function (_initialize, _LitElement) {\n  class HuiButtonsHeaderFooter extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiButtonsHeaderFooter,\n    d: [{\n      kind: \"method\",\n      static: true,\n      key: \"getStubConfig\",\n      value: function getStubConfig() {\n        return {\n          entities: []\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"type\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_configEntities\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        this._configEntities = processConfigEntities(config.entities).map(entityConfig => {\n          const conf = {\n            tap_action: {\n              action: \"toggle\"\n            },\n            hold_action: {\n              action: \"more-info\"\n            },\n            ...entityConfig\n          };\n          if (computeDomain(entityConfig.entity) === \"scene\") {\n            conf.tap_action = {\n              action: \"call-service\",\n              service: \"scene.turn_on\",\n              target: {\n                entity_id: conf.entity\n              }\n            };\n          }\n          return conf;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html`\n      ${this.type === \"footer\" ? html`<li class=\"divider footer\" role=\"separator\"></li>` : \"\"}\n      <hui-buttons-base\n        .hass=${this.hass}\n        .configEntities=${this._configEntities}\n        class=${classMap({\n          footer: this.type === \"footer\",\n          header: this.type === \"header\"\n        })}\n      ></hui-buttons-base>\n      ${this.type === \"header\" ? html`<li class=\"divider header\" role=\"separator\"></li>` : \"\"}\n    `;\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value() {\n        return css`\n    .divider {\n      height: 0;\n      margin: 16px 0;\n      list-style-type: none;\n      border: none;\n      border-bottom-width: 1px;\n      border-bottom-style: solid;\n      border-bottom-color: var(--divider-color);\n    }\n    .divider.header {\n      margin-top: 0;\n    }\n    hui-buttons-base.footer {\n      --padding-bottom: 16px;\n    }\n    hui-buttons-base.header {\n      --padding-top: 16px;\n    }\n  `;\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","classMap","customElement","property","state","computeDomain","processConfigEntities","HuiButtonsHeaderFooter","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","static","key","value","getStubConfig","entities","decorators","attribute","getCardSize","setConfig","config","_configEntities","map","entityConfig","conf","tap_action","action","hold_action","entity","service","target","entity_id","render","type","hass","footer","header"],"sources":["/workspaces/frontend/src/panels/lovelace/header-footer/hui-buttons-header-footer.ts"],"sourcesContent":["import { css, html, LitElement, TemplateResult } from \"lit\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { computeDomain } from \"../../../common/entity/compute_domain\";\nimport { HomeAssistant } from \"../../../types\";\nimport { processConfigEntities } from \"../common/process-config-entities\";\nimport \"../components/hui-buttons-base\";\nimport { EntityConfig } from \"../entity-rows/types\";\nimport { LovelaceHeaderFooter } from \"../types\";\nimport { ButtonsHeaderFooterConfig } from \"./types\";\n\n@customElement(\"hui-buttons-header-footer\")\nexport class HuiButtonsHeaderFooter\n  extends LitElement\n  implements LovelaceHeaderFooter\n{\n  public static getStubConfig(): Record<string, unknown> {\n    return { entities: [] };\n  }\n\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @property() public type!: \"header\" | \"footer\";\n\n  @state() private _configEntities?: EntityConfig[];\n\n  public getCardSize(): number {\n    return 3;\n  }\n\n  public setConfig(config: ButtonsHeaderFooterConfig): void {\n    this._configEntities = processConfigEntities(config.entities).map(\n      (entityConfig) => {\n        const conf = {\n          tap_action: { action: \"toggle\" },\n          hold_action: { action: \"more-info\" },\n          ...entityConfig,\n        };\n        if (computeDomain(entityConfig.entity) === \"scene\") {\n          conf.tap_action = {\n            action: \"call-service\",\n            service: \"scene.turn_on\",\n            target: { entity_id: conf.entity },\n          };\n        }\n        return conf;\n      }\n    );\n  }\n\n  protected render(): TemplateResult | void {\n    return html`\n      ${this.type === \"footer\"\n        ? html`<li class=\"divider footer\" role=\"separator\"></li>`\n        : \"\"}\n      <hui-buttons-base\n        .hass=${this.hass}\n        .configEntities=${this._configEntities}\n        class=${classMap({\n          footer: this.type === \"footer\",\n          header: this.type === \"header\",\n        })}\n      ></hui-buttons-base>\n      ${this.type === \"header\"\n        ? html`<li class=\"divider header\" role=\"separator\"></li>`\n        : \"\"}\n    `;\n  }\n\n  static styles = css`\n    .divider {\n      height: 0;\n      margin: 16px 0;\n      list-style-type: none;\n      border: none;\n      border-bottom-width: 1px;\n      border-bottom-style: solid;\n      border-bottom-color: var(--divider-color);\n    }\n    .divider.header {\n      margin-top: 0;\n    }\n    hui-buttons-base.footer {\n      --padding-bottom: 16px;\n    }\n    hui-buttons-base.header {\n      --padding-top: 16px;\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-buttons-header-footer\": HuiButtonsHeaderFooter;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}