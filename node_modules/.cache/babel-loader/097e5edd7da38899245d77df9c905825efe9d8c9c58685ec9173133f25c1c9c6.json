{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport \"@lrnwebcomponents/simple-tooltip/simple-tooltip\";\nimport \"@material/mwc-list/mwc-list\";\nconst mdiAlertCircle = \"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\";\nconst mdiBookshelf = \"M9 3V18H12V3H9M12 5L16 18L19 17L15 4L12 5M5 5V18H8V5H5M3 19V21H21V19H3Z\";\nconst mdiBug = \"M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.5,5 12,5C11.5,5 11.04,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z\";\nconst mdiBugPlay = \"M19 7H16.19C15.74 6.2 15.12 5.5 14.37 5L16 3.41L14.59 2L12.42 4.17C11.96 4.06 11.5 4 11 4S10.05 4.06 9.59 4.17L7.41 2L6 3.41L7.62 5C6.87 5.5 6.26 6.21 5.81 7H3V9H5.09C5.03 9.33 5 9.66 5 10V11H3V13H5V14C5 14.34 5.03 14.67 5.09 15H3V17H5.81C7.26 19.5 10.28 20.61 13 19.65V19C13 16.46 14.61 14.2 17 13.35V13H19V11H17V10C17 9.66 16.97 9.33 16.91 9H19V7M13 15H9V13H13V15M13 11H9V9H13V11M17 16V22L22 19L17 16Z\";\nconst mdiBugStop = \"M19 7H16.19C15.74 6.2 15.12 5.5 14.37 5L16 3.41L14.59 2L12.42 4.17C11.96 4.06 11.5 4 11 4S10.05 4.06 9.59 4.17L7.41 2L6 3.41L7.62 5C6.87 5.5 6.26 6.21 5.81 7H3V9H5.09C5.03 9.33 5 9.66 5 10V11H3V13H5V14C5 14.34 5.03 14.67 5.09 15H3V17H5.81C7.26 19.5 10.28 20.61 13 19.65V19C13 16.46 14.61 14.2 17 13.35V13H19V11H17V10C17 9.66 16.97 9.33 16.91 9H19V7M13 15H9V13H13V15M13 11H9V9H13V11M16 16H22V22H16V16Z\";\nconst mdiCloud = \"M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20Z\";\nconst mdiCog = \"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z\";\nconst mdiDelete = \"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\";\nconst mdiDevices = \"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z\";\nconst mdiDotsVertical = \"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z\";\nconst mdiDownload = \"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z\";\nconst mdiHandExtendedOutline = \"M22 15V16L14 18.5L7 16.6V18H1V7H9L15.2 9.3C16.2 9.7 17 10.8 17 12H19C20.7 12 22 13.3 22 15M5 16V9H3V16H5M19.9 14.6C19.7 14.2 19.4 14 19 14H13.6C13.1 14 12.5 13.9 12 13.8L9.7 13L10.3 11.1L12.7 11.9C13 11.9 15 12 15 12C15 11.6 14.8 11.3 14.4 11.2L8.6 9H7V14.5L14 16.4L19.9 14.6Z\";\nconst mdiOpenInNew = \"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z\";\nconst mdiPackageVariant = \"M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z\";\nconst mdiPlayCircleOutline = \"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M10,16.5L16,12L10,7.5V16.5Z\";\nconst mdiProgressHelper = \"M13 2V4C17.39 4.54 20.5 8.53 19.96 12.92C19.5 16.56 16.64 19.43 13 19.88V21.88C18.5 21.28 22.45 16.34 21.85 10.85C21.33 6.19 17.66 2.5 13 2M11 2C9.04 2.18 7.19 2.95 5.67 4.2L7.1 5.74C8.22 4.84 9.57 4.26 11 4.06V2M4.26 5.67C3 7.19 2.24 9.04 2.05 11H4.05C4.24 9.58 4.8 8.23 5.69 7.1L4.26 5.67M2.06 13C2.26 14.96 3.03 16.81 4.27 18.33L5.69 16.9C4.81 15.77 4.24 14.42 4.06 13H2.06M7.06 18.37L5.67 19.74C7.18 21 9.04 21.79 11 22V20C9.58 19.82 8.23 19.25 7.1 18.37H7.06Z\";\nconst mdiReload = \"M2 12C2 16.97 6.03 21 11 21C13.39 21 15.68 20.06 17.4 18.4L15.9 16.9C14.63 18.25 12.86 19 11 19C4.76 19 1.64 11.46 6.05 7.05C10.46 2.64 18 5.77 18 12H15L19 16H19.1L23 12H20C20 7.03 15.97 3 11 3C6.03 3 2 7.03 2 12Z\";\nconst mdiReloadAlert = \"M2 12C2 17 6 21 11 21C13.4 21 15.7 20.1 17.4 18.4L15.9 16.9C14.6 18.3 12.9 19 11 19C4.8 19 1.6 11.5 6.1 7.1S18 5.8 18 12H15L19 16H19.1L23 12H20C20 7 16 3 11 3S2 7 2 12M10 15H12V17H10V15M10 7H12V13H10V7\";\nconst mdiRenameBox = \"M18,17H10.5L12.5,15H18M6,17V14.5L13.88,6.65C14.07,6.45 14.39,6.45 14.59,6.65L16.35,8.41C16.55,8.61 16.55,8.92 16.35,9.12L8.47,17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\";\nconst mdiShapeOutline = \"M11,13.5V21.5H3V13.5H11M9,15.5H5V19.5H9V15.5M12,2L17.5,11H6.5L12,2M12,5.86L10.08,9H13.92L12,5.86M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13M17.5,15A2.5,2.5 0 0,0 15,17.5A2.5,2.5 0 0,0 17.5,20A2.5,2.5 0 0,0 20,17.5A2.5,2.5 0 0,0 17.5,15Z\";\nconst mdiStopCircleOutline = \"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4M9,9V15H15V9\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport memoizeOne from \"memoize-one\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport { isDevVersion } from \"../../../common/config/version\";\nimport { shouldHandleRequestSelectedEvent } from \"../../../common/mwc/handle-request-selected-event\";\nimport { caseInsensitiveStringCompare } from \"../../../common/string/compare\";\nimport { nextRender } from \"../../../common/util/render-status\";\nimport \"../../../components/ha-button\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-list-item\";\nimport { deleteApplicationCredential, fetchApplicationCredentialsConfigEntry } from \"../../../data/application_credential\";\nimport { getSignedPath } from \"../../../data/auth\";\nimport { deleteConfigEntry, disableConfigEntry, enableConfigEntry, ERROR_STATES, getConfigEntries, RECOVERABLE_STATES, reloadConfigEntry, updateConfigEntry } from \"../../../data/config_entries\";\nimport { ATTENTION_SOURCES } from \"../../../data/config_flow\";\nimport { fetchDiagnosticHandler, getConfigEntryDiagnosticsDownloadUrl } from \"../../../data/diagnostics\";\nimport { subscribeEntityRegistry } from \"../../../data/entity_registry\";\nimport { getErrorLogDownloadUrl } from \"../../../data/error_log\";\nimport { domainToName, fetchIntegrationManifest, integrationIssuesUrl, integrationsWithPanel, LogSeverity, setIntegrationLogLevel, subscribeLogInfo } from \"../../../data/integration\";\nimport { showConfigEntrySystemOptionsDialog } from \"../../../dialogs/config-entry-system-options/show-dialog-config-entry-system-options\";\nimport { showConfigFlowDialog } from \"../../../dialogs/config-flow/show-dialog-config-flow\";\nimport { showOptionsFlowDialog } from \"../../../dialogs/config-flow/show-dialog-options-flow\";\nimport { showAlertDialog, showConfirmationDialog, showPromptDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport \"../../../layouts/hass-error-screen\";\nimport \"../../../layouts/hass-subpage\";\nimport { SubscribeMixin } from \"../../../mixins/subscribe-mixin\";\nimport { haStyle } from \"../../../resources/styles\";\nimport { brandsUrl } from \"../../../util/brands-url\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nimport { fileDownload } from \"../../../util/file_download\";\nimport { showAddIntegrationDialog } from \"./show-add-integration-dialog\";\nlet HaConfigIntegrationPage = _decorate([customElement(\"ha-config-integration-page\")], function (_initialize, _SubscribeMixin) {\n  class HaConfigIntegrationPage extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaConfigIntegrationPage,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"domain\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"isWide\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"showAdvanced\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"configEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"configEntriesInProgress\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_entities\",\n      value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_manifest\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_extraConfigEntries\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_diagnosticHandler\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_logInfo\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_searchParms\",\n      value() {\n        return new URLSearchParams(window.location.hash.substring(1));\n      }\n    }, {\n      kind: \"field\",\n      key: \"_configPanel\",\n      value() {\n        return memoizeOne((domain, panels) => {\n          var _Object$values$find;\n          return ((_Object$values$find = Object.values(panels).find(panel => panel.config_panel_domain === domain)) === null || _Object$values$find === void 0 ? void 0 : _Object$values$find.url_path) || integrationsWithPanel[domain];\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_domainConfigEntries\",\n      value() {\n        return memoizeOne((domain, configEntries) => configEntries ? configEntries.filter(entry => entry.domain === domain) : []);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_domainConfigEntriesInProgress\",\n      value() {\n        return memoizeOne((domain, configEntries) => configEntries ? configEntries.filter(entry => entry.handler === domain) : []);\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [subscribeEntityRegistry(this.hass.connection, entities => {\n          this._entities = entities;\n        }), subscribeLogInfo(this.hass.connection, log_infos => {\n          for (const log_info of log_infos) {\n            if (log_info.domain === this.domain) {\n              this._logInfo = log_info;\n            }\n          }\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProperties) {\n        if (changedProperties.has(\"domain\")) {\n          this.hass.loadBackendTranslation(\"title\", [this.domain]);\n          this._extraConfigEntries = undefined;\n          this._fetchManifest();\n          this._fetchDiagnostics();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changed) {\n        _get(_getPrototypeOf(HaConfigIntegrationPage.prototype), \"updated\", this).call(this, changed);\n        if (this._searchParms.has(\"config_entry\") && changed.has(\"configEntries\") && !changed.get(\"configEntries\") && this.configEntries) {\n          this._highlightEntry();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$hass$themes, _this$_manifest, _this$_manifest2, _this$_manifest3, _this$_manifest4;\n        if (!this.configEntries || !this.domain) {\n          return nothing;\n        }\n        const configEntries = this._domainConfigEntries(this.domain, this._extraConfigEntries || this.configEntries);\n        const configEntriesInProgress = this._domainConfigEntriesInProgress(this.domain, this.configEntriesInProgress);\n        const discoveryFlows = configEntriesInProgress.filter(flow => !ATTENTION_SOURCES.includes(flow.context.source));\n        const attentionFlows = configEntriesInProgress.filter(flow => ATTENTION_SOURCES.includes(flow.context.source));\n        const attentionEntries = configEntries.filter(entry => ERROR_STATES.includes(entry.state));\n        const normalEntries = configEntries.filter(entry => entry.source !== \"ignore\" && !ERROR_STATES.includes(entry.state)).sort((a, b) => {\n          if (Boolean(a.disabled_by) !== Boolean(b.disabled_by)) {\n            return a.disabled_by ? 1 : -1;\n          }\n          return caseInsensitiveStringCompare(a.title, b.title, this.hass.locale.language);\n        });\n        const devices = this._getDevices(configEntries, this.hass.devices);\n        const entities = this._getEntities(configEntries, this._entities);\n        const services = !devices.some(device => device.entry_type !== \"service\");\n        return html`\n      <hass-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .header=${domainToName(this.hass.localize, this.domain)}\n      >\n        <div class=\"container\">\n          <div class=\"column small\">\n            <ha-card class=\"overview\">\n              <div class=\"card-content\">\n                <div class=\"logo-container\">\n                  <img\n                    alt=${domainToName(this.hass.localize, this.domain)}\n                    src=${brandsUrl({\n          domain: this.domain,\n          type: \"logo\",\n          darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n        })}\n                    crossorigin=\"anonymous\"\n                    referrerpolicy=\"no-referrer\"\n                    @load=${this._onImageLoad}\n                    @error=${this._onImageError}\n                  />\n                </div>\n                ${((_this$_manifest = this._manifest) === null || _this$_manifest === void 0 ? void 0 : _this$_manifest.is_built_in) === false ? html`<ha-alert alert-type=\"warning\"\n                      ><ha-svg-icon\n                        slot=\"icon\"\n                        path=${mdiPackageVariant}\n                      ></ha-svg-icon>\n                      ${this.hass.localize(\"ui.panel.config.integrations.config_entry.custom_integration\")}</ha-alert\n                    >` : \"\"}\n                ${(_this$_manifest2 = this._manifest) !== null && _this$_manifest2 !== void 0 && (_this$_manifest2 = _this$_manifest2.iot_class) !== null && _this$_manifest2 !== void 0 && _this$_manifest2.startsWith(\"cloud_\") ? html`<ha-alert\n                      ><ha-svg-icon slot=\"icon\" path=${mdiCloud}></ha-svg-icon\n                      >${this.hass.localize(\"ui.panel.config.integrations.config_entry.depends_on_cloud\")}</ha-alert\n                    >` : \"\"}\n              </div>\n\n              <div class=\"card-actions\">\n                ${devices.length > 0 ? html`<a\n                      href=${devices.length === 1 ? `/config/devices/device/${devices[0].id}` : `/config/devices/dashboard?historyBack=1&domain=${this.domain}`}\n                    >\n                      <ha-list-item hasMeta graphic=\"icon\">\n                        <ha-svg-icon\n                          .path=${services ? mdiHandExtendedOutline : mdiDevices}\n                          slot=\"graphic\"\n                        ></ha-svg-icon>\n                        ${this.hass.localize(`ui.panel.config.integrations.config_entry.${services ? \"services\" : \"devices\"}`, {\n          count: devices.length\n        })}\n                        <ha-icon-next slot=\"meta\"></ha-icon-next>\n                      </ha-list-item>\n                    </a>` : \"\"}\n                ${entities.length > 0 ? html`<a\n                      href=${`/config/entities?historyBack=1&domain=${this.domain}`}\n                    >\n                      <ha-list-item hasMeta graphic=\"icon\">\n                        <ha-svg-icon\n                          .path=${mdiShapeOutline}\n                          slot=\"graphic\"\n                        ></ha-svg-icon>\n                        ${this.hass.localize(`ui.panel.config.integrations.config_entry.entities`, {\n          count: entities.length\n        })}\n                        <ha-icon-next slot=\"meta\"></ha-icon-next>\n                      </ha-list-item>\n                    </a>` : \"\"}\n                ${this._manifest ? html`<a\n                      href=${this._manifest.is_built_in ? documentationUrl(this.hass, `/integrations/${this._manifest.domain}`) : this._manifest.documentation}\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                    >\n                      <ha-list-item graphic=\"icon\" hasMeta>\n                        ${this.hass.localize(\"ui.panel.config.integrations.config_entry.documentation\")}\n                        <ha-svg-icon\n                          slot=\"graphic\"\n                          .path=${mdiBookshelf}\n                        ></ha-svg-icon>\n                        <ha-svg-icon\n                          slot=\"meta\"\n                          .path=${mdiOpenInNew}\n                        ></ha-svg-icon>\n                      </ha-list-item>\n                    </a>` : \"\"}\n                ${this._manifest && (this._manifest.is_built_in || this._manifest.issue_tracker) ? html`<a\n                      href=${integrationIssuesUrl(this.domain, this._manifest)}\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                    >\n                      <ha-list-item graphic=\"icon\" hasMeta>\n                        ${this.hass.localize(\"ui.panel.config.integrations.config_entry.known_issues\")}\n                        <ha-svg-icon\n                          slot=\"graphic\"\n                          .path=${mdiBug}\n                        ></ha-svg-icon>\n                        <ha-svg-icon\n                          slot=\"meta\"\n                          .path=${mdiOpenInNew}\n                        ></ha-svg-icon>\n                      </ha-list-item>\n                    </a>` : \"\"}\n                ${this._logInfo ? html`<ha-list-item\n                      @request-selected=${this._logInfo.level === LogSeverity.DEBUG ? this._handleDisableDebugLogging : this._handleEnableDebugLogging}\n                      graphic=\"icon\"\n                    >\n                      ${this._logInfo.level === LogSeverity.DEBUG ? this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_debug_logging\") : this.hass.localize(\"ui.panel.config.integrations.config_entry.enable_debug_logging\")}\n                      <ha-svg-icon\n                        slot=\"graphic\"\n                        class=${this._logInfo.level === LogSeverity.DEBUG ? \"warning\" : \"\"}\n                        .path=${this._logInfo.level === LogSeverity.DEBUG ? mdiBugStop : mdiBugPlay}\n                      ></ha-svg-icon>\n                    </ha-list-item>` : \"\"}\n              </div>\n            </ha-card>\n          </div>\n          <div class=\"column\">\n            ${discoveryFlows.length ? html`<ha-card>\n                  <h1 class=\"card-header\">\n                    ${this.hass.localize(\"ui.panel.config.integrations.discovered\")}\n                  </h1>\n                  <mwc-list>\n                    ${discoveryFlows.map(flow => html`<ha-list-item\n                          hasMeta\n                          class=\"discovered\"\n                          noninteractive\n                        >\n                          ${flow.localized_title}\n                          <ha-button\n                            slot=\"meta\"\n                            unelevated\n                            .flow=${flow}\n                            @click=${this._continueFlow}\n                            .label=${this.hass.localize(\"ui.panel.config.integrations.configure\")}\n                          ></ha-button>\n                        </ha-list-item>`)}\n                  </mwc-list>\n                </ha-card>` : \"\"}\n            ${attentionFlows.length || attentionEntries.length ? html`<ha-card>\n                  <h1 class=\"card-header\">\n                    ${this.hass.localize(`ui.panel.config.integrations.integration_page.attention_entries`)}\n                  </h1>\n                  <mwc-list>\n                    ${attentionFlows.map(flow => {\n          const attention = ATTENTION_SOURCES.includes(flow.context.source);\n          return html`<ha-list-item\n                        hasMeta\n                        class=\"config_entry ${attention ? \"attention\" : \"\"}\"\n                        twoLine\n                        noninteractive\n                      >\n                        ${flow.localized_title}\n                        <span slot=\"secondary\"\n                          >${this.hass.localize(`ui.panel.config.integrations.${attention ? \"attention\" : \"discovered\"}`)}</span\n                        >\n                        <ha-button\n                          slot=\"meta\"\n                          unelevated\n                          .flow=${flow}\n                          @click=${this._continueFlow}\n                          .label=${this.hass.localize(`ui.panel.config.integrations.${attention ? \"reconfigure\" : \"configure\"}`)}\n                        ></ha-button>\n                      </ha-list-item>`;\n        })}\n                    ${attentionEntries.map(item => this._renderConfigEntry(item))}\n                  </mwc-list>\n                </ha-card>` : \"\"}\n\n            <ha-card>\n              <h1 class=\"card-header\">\n                ${(_this$_manifest3 = this._manifest) !== null && _this$_manifest3 !== void 0 && _this$_manifest3.integration_type ? this.hass.localize(`ui.panel.config.integrations.integration_page.entries_${this._manifest.integration_type}`) : this.hass.localize(`ui.panel.config.integrations.integration_page.entries`)}\n              </h1>\n              ${normalEntries.length === 0 ? html`<div class=\"card-content no-entries\">\n                    ${this.hass.localize(\"ui.panel.config.integrations.integration_page.no_entries\")}\n                  </div>` : nothing}\n              <mwc-list>\n                ${normalEntries.map(item => this._renderConfigEntry(item))}\n              </mwc-list>\n              <div class=\"card-actions\">\n                <ha-button @click=${this._addIntegration}>\n                  ${(_this$_manifest4 = this._manifest) !== null && _this$_manifest4 !== void 0 && _this$_manifest4.integration_type ? this.hass.localize(`ui.panel.config.integrations.integration_page.add_${this._manifest.integration_type}`) : this.hass.localize(`ui.panel.config.integrations.integration_page.add_entry`)}\n                </ha-button>\n              </div>\n            </ha-card>\n          </div>\n        </div>\n      </hass-subpage>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onImageLoad\",\n      value: function _onImageLoad(ev) {\n        ev.target.style.display = \"inline-block\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_onImageError\",\n      value: function _onImageError(ev) {\n        ev.target.style.display = \"none\";\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderConfigEntry\",\n      value: function _renderConfigEntry(item) {\n        let stateText;\n        let stateTextExtra;\n        let icon = mdiAlertCircle;\n        if (!item.disabled_by && item.state === \"not_loaded\") {\n          stateText = [\"ui.panel.config.integrations.config_entry.not_loaded\"];\n        } else if (item.state === \"setup_in_progress\") {\n          icon = mdiProgressHelper;\n          stateText = [\"ui.panel.config.integrations.config_entry.setup_in_progress\"];\n        } else if (ERROR_STATES.includes(item.state)) {\n          if (item.state === \"setup_retry\") {\n            icon = mdiReloadAlert;\n          }\n          stateText = [`ui.panel.config.integrations.config_entry.state.${item.state}`];\n          if (item.reason) {\n            this.hass.loadBackendTranslation(\"config\", item.domain);\n            stateTextExtra = html`${this.hass.localize(`component.${item.domain}.config.error.${item.reason}`) || item.reason}`;\n          } else {\n            stateTextExtra = html`\n          <br />\n          ${this.hass.localize(\"ui.panel.config.integrations.config_entry.check_the_logs\")}\n        `;\n          }\n        }\n        const devices = this._getConfigEntryDevices(item);\n        const services = this._getConfigEntryServices(item);\n        const entities = this._getConfigEntryEntities(item);\n        let devicesLine = [];\n        if (item.disabled_by) {\n          devicesLine.push(this.hass.localize(\"ui.panel.config.integrations.config_entry.disable.disabled_cause\", {\n            cause: this.hass.localize(`ui.panel.config.integrations.config_entry.disable.disabled_by.${item.disabled_by}`) || item.disabled_by\n          }));\n          if (item.state === \"failed_unload\") {\n            devicesLine.push(`.\n        ${this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_restart_confirm\")}.`);\n          }\n        } else {\n          for (const [items, localizeKey] of [[devices, \"devices\"], [services, \"services\"]]) {\n            if (items.length === 0) {\n              continue;\n            }\n            const url = items.length === 1 ? `/config/devices/device/${items[0].id}` : `/config/devices/dashboard?historyBack=1&config_entry=${item.entry_id}`;\n            devicesLine.push(\n            // no white space before/after template on purpose\n            html`<a href=${url}\n            >${this.hass.localize(`ui.panel.config.integrations.config_entry.${localizeKey}`, {\n              count: items.length\n            })}</a\n          >`);\n          }\n          if (entities.length) {\n            devicesLine.push(\n            // no white space before/after template on purpose\n            html`<a\n            href=${`/config/entities?historyBack=1&config_entry=${item.entry_id}`}\n            >${this.hass.localize(\"ui.panel.config.integrations.config_entry.entities\", {\n              count: entities.length\n            })}</a\n          >`);\n          }\n          if (devicesLine.length === 0) {\n            devicesLine = [this.hass.localize(\"ui.panel.config.integrations.config_entry.no_devices_or_entities\")];\n          } else if (devicesLine.length === 2) {\n            devicesLine = [devicesLine[0], ` ${this.hass.localize(\"ui.common.and\")} `, devicesLine[1]];\n          } else if (devicesLine.length === 3) {\n            devicesLine = [devicesLine[0], \", \", devicesLine[1], ` ${this.hass.localize(\"ui.common.and\")} `, devicesLine[2]];\n          }\n        }\n        const configPanel = this._configPanel(item.domain, this.hass.panels);\n        return html`<ha-list-item\n      hasMeta\n      class=\"config_entry ${classMap({\n          \"state-not-loaded\": item.state === \"not_loaded\",\n          \"state-failed-unload\": item.state === \"failed_unload\",\n          \"state-setup\": item.state === \"setup_in_progress\",\n          \"state-error\": ERROR_STATES.includes(item.state)\n        })}\"\n      data-entry-id=${item.entry_id}\n      .disabled=${item.disabled_by}\n      .configEntry=${item}\n      twoline\n      noninteractive\n    >\n      ${stateText ? html`\n            <div class=\"message\" slot=\"meta\">\n              <ha-svg-icon .path=${icon}></ha-svg-icon>\n              <div>${this.hass.localize(...stateText)}</div>\n              ${stateTextExtra ? html`<simple-tooltip>${stateTextExtra}</simple-tooltip>` : \"\"}\n            </div>\n          ` : \"\"}\n      ${item.title || domainToName(this.hass.localize, item.domain)}\n      <span slot=\"secondary\">${devicesLine}</span>\n      ${item.disabled_by === \"user\" ? html`<mwc-button unelevated slot=\"meta\" @click=${this._handleEnable}>\n            ${this.hass.localize(\"ui.common.enable\")}\n          </mwc-button>` : configPanel && (item.domain !== \"matter\" || isDevVersion(this.hass.config.version)) ? html`<a\n              slot=\"meta\"\n              href=${`/${configPanel}?config_entry=${item.entry_id}`}\n              ><mwc-button>\n                ${this.hass.localize(\"ui.panel.config.integrations.config_entry.configure\")}\n              </mwc-button></a\n            >` : item.supports_options && !stateText ? html`\n                <mwc-button slot=\"meta\" @click=${this._showOptions}>\n                  ${this.hass.localize(\"ui.panel.config.integrations.config_entry.configure\")}\n                </mwc-button>\n              ` : \"\"}\n      <ha-button-menu slot=\"meta\">\n        <ha-icon-button\n          slot=\"trigger\"\n          .label=${this.hass.localize(\"ui.common.menu\")}\n          .path=${mdiDotsVertical}\n        ></ha-icon-button>\n        ${item.supports_options && stateText ? html`<ha-list-item\n              @request-selected=${this._showOptions}\n              graphic=\"icon\"\n            >\n              <ha-svg-icon slot=\"graphic\" .path=${mdiCog}></ha-svg-icon>\n              ${this.hass.localize(\"ui.panel.config.integrations.config_entry.configure\")}\n            </ha-list-item>` : \"\"}\n        ${item.disabled_by && devices.length ? html`<a\n              href=${devices.length === 1 ? `/config/devices/device/${devices[0].id}` : `/config/devices/dashboard?historyBack=1&config_entry=${item.entry_id}`}\n            >\n              <ha-list-item hasMeta graphic=\"icon\">\n                <ha-svg-icon .path=${mdiDevices} slot=\"graphic\"></ha-svg-icon>\n                ${this.hass.localize(`ui.panel.config.integrations.config_entry.devices`, {\n          count: devices.length\n        })}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            </a>` : \"\"}\n        ${item.disabled_by && services.length ? html`<a\n              href=${services.length === 1 ? `/config/devices/device/${services[0].id}` : `/config/devices/dashboard?historyBack=1&config_entry=${item.entry_id}`}\n            >\n              <ha-list-item hasMeta graphic=\"icon\">\n                <ha-svg-icon\n                  .path=${mdiHandExtendedOutline}\n                  slot=\"graphic\"\n                ></ha-svg-icon>\n                ${this.hass.localize(`ui.panel.config.integrations.config_entry.services`, {\n          count: services.length\n        })}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            </a>` : \"\"}\n        ${item.disabled_by && entities.length ? html`<a\n              href=${`/config/entities?historyBack=1&config_entry=${item.entry_id}`}\n            >\n              <ha-list-item hasMeta graphic=\"icon\">\n                <ha-svg-icon\n                  .path=${mdiShapeOutline}\n                  slot=\"graphic\"\n                ></ha-svg-icon>\n                ${this.hass.localize(`ui.panel.config.integrations.config_entry.entities`, {\n          count: entities.length\n        })}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            </a>` : \"\"}\n        ${!item.disabled_by && RECOVERABLE_STATES.includes(item.state) && item.supports_unload && item.source !== \"system\" ? html`<ha-list-item\n              @request-selected=${this._handleReload}\n              graphic=\"icon\"\n            >\n              ${this.hass.localize(\"ui.panel.config.integrations.config_entry.reload\")}\n              <ha-svg-icon slot=\"graphic\" .path=${mdiReload}></ha-svg-icon>\n            </ha-list-item>` : \"\"}\n\n        <ha-list-item @request-selected=${this._handleRename} graphic=\"icon\">\n          ${this.hass.localize(\"ui.panel.config.integrations.config_entry.rename\")}\n          <ha-svg-icon slot=\"graphic\" .path=${mdiRenameBox}></ha-svg-icon>\n        </ha-list-item>\n\n        <li divider role=\"separator\"></li>\n\n        ${this._diagnosticHandler && item.state === \"loaded\" ? html`<a\n              href=${getConfigEntryDiagnosticsDownloadUrl(item.entry_id)}\n              target=\"_blank\"\n              @click=${this._signUrl}\n            >\n              <ha-list-item graphic=\"icon\">\n                ${this.hass.localize(\"ui.panel.config.integrations.config_entry.download_diagnostics\")}\n                <ha-svg-icon slot=\"graphic\" .path=${mdiDownload}></ha-svg-icon>\n              </ha-list-item>\n            </a>` : \"\"}\n\n        <ha-list-item\n          @request-selected=${this._handleSystemOptions}\n          graphic=\"icon\"\n        >\n          ${this.hass.localize(\"ui.panel.config.integrations.config_entry.system_options\")}\n          <ha-svg-icon slot=\"graphic\" .path=${mdiCog}></ha-svg-icon>\n        </ha-list-item>\n        ${item.disabled_by === \"user\" ? html`<ha-list-item\n              @request-selected=${this._handleEnable}\n              graphic=\"icon\"\n            >\n              ${this.hass.localize(\"ui.common.enable\")}\n              <ha-svg-icon\n                slot=\"graphic\"\n                .path=${mdiPlayCircleOutline}\n              ></ha-svg-icon>\n            </ha-list-item>` : item.source !== \"system\" ? html`<ha-list-item\n                class=\"warning\"\n                @request-selected=${this._handleDisable}\n                graphic=\"icon\"\n              >\n                ${this.hass.localize(\"ui.common.disable\")}\n                <ha-svg-icon\n                  slot=\"graphic\"\n                  class=\"warning\"\n                  .path=${mdiStopCircleOutline}\n                ></ha-svg-icon>\n              </ha-list-item>` : \"\"}\n        ${item.source !== \"system\" ? html`<ha-list-item\n              class=\"warning\"\n              @request-selected=${this._handleDelete}\n              graphic=\"icon\"\n            >\n              ${this.hass.localize(\"ui.panel.config.integrations.config_entry.delete\")}\n              <ha-svg-icon\n                slot=\"graphic\"\n                class=\"warning\"\n                .path=${mdiDelete}\n              ></ha-svg-icon>\n            </ha-list-item>` : \"\"}\n      </ha-button-menu>\n    </ha-list-item>`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_highlightEntry\",\n      value: async function _highlightEntry() {\n        await nextRender();\n        const entryId = this._searchParms.get(\"config_entry\");\n        const row = this.shadowRoot.querySelector(`[data-entry-id=\"${entryId}\"]`);\n        if (row) {\n          row.scrollIntoView({\n            block: \"center\"\n          });\n          row.classList.add(\"highlight\");\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_continueFlow\",\n      value: function _continueFlow(ev) {\n        showConfigFlowDialog(this, {\n          continueFlowId: ev.target.flow.flow_id,\n          dialogClosedCallback: () => {\n            // this._handleFlowUpdated();\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fetchManifest\",\n      value: async function _fetchManifest() {\n        if (!this.domain) {\n          return;\n        }\n        this._manifest = await fetchIntegrationManifest(this.hass, this.domain);\n        if (this._manifest.integration_type && ![\"device\", \"hub\", \"service\"].includes(this._manifest.integration_type)) {\n          this._extraConfigEntries = await getConfigEntries(this.hass, {\n            domain: this.domain\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fetchDiagnostics\",\n      value: async function _fetchDiagnostics() {\n        if (!this.domain || !isComponentLoaded(this.hass, \"diagnostics\")) {\n          return;\n        }\n        try {\n          this._diagnosticHandler = await fetchDiagnosticHandler(this.hass, this.domain);\n        } catch (err) {\n          // No issue, as diagnostics are not required\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleEnableDebugLogging\",\n      value: async function _handleEnableDebugLogging() {\n        const integration = this.domain;\n        await setIntegrationLogLevel(this.hass, integration, LogSeverity[LogSeverity.DEBUG], \"once\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleDisableDebugLogging\",\n      value: async function _handleDisableDebugLogging(ev) {\n        // Stop propagation since otherwise we end up here twice while we await the log level change\n        // and trigger two identical debug log downloads.\n        ev.stopPropagation();\n        const integration = this.domain;\n        await setIntegrationLogLevel(this.hass, integration, LogSeverity[LogSeverity.NOTSET], \"once\");\n        const timeString = new Date().toISOString().replace(/:/g, \"-\");\n        const logFileName = `home-assistant_${integration}_${timeString}.log`;\n        const signedUrl = await getSignedPath(this.hass, getErrorLogDownloadUrl);\n        fileDownload(signedUrl.path, logFileName);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getEntities\",\n      value() {\n        return memoizeOne((configEntry, entityRegistryEntries) => {\n          if (!entityRegistryEntries) {\n            return [];\n          }\n          const entryIds = configEntry.map(entry => entry.entry_id);\n          return entityRegistryEntries.filter(entity => entity.config_entry_id && entryIds.includes(entity.config_entry_id));\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getDevices\",\n      value() {\n        return memoizeOne((configEntry, deviceRegistryEntries) => {\n          if (!deviceRegistryEntries) {\n            return [];\n          }\n          const entryIds = configEntry.map(entry => entry.entry_id);\n          return Object.values(deviceRegistryEntries).filter(device => device.config_entries.some(entryId => entryIds.includes(entryId)));\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getConfigEntryEntities\",\n      value() {\n        return configEntry => {\n          const entries = this._domainConfigEntries(this.domain, this._extraConfigEntries || this.configEntries);\n          const entityRegistryEntries = this._getEntities(entries, this._entities);\n          return entityRegistryEntries.filter(entity => entity.config_entry_id === configEntry.entry_id);\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getConfigEntryDevices\",\n      value() {\n        return configEntry => {\n          const entries = this._domainConfigEntries(this.domain, this._extraConfigEntries || this.configEntries);\n          const deviceRegistryEntries = this._getDevices(entries, this.hass.devices);\n          return Object.values(deviceRegistryEntries).filter(device => device.config_entries.includes(configEntry.entry_id) && device.entry_type !== \"service\");\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_getConfigEntryServices\",\n      value() {\n        return configEntry => {\n          const entries = this._domainConfigEntries(this.domain, this._extraConfigEntries || this.configEntries);\n          const deviceRegistryEntries = this._getDevices(entries, this.hass.devices);\n          return Object.values(deviceRegistryEntries).filter(device => device.config_entries.includes(configEntry.entry_id) && device.entry_type === \"service\");\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showOptions\",\n      value: function _showOptions(ev) {\n        showOptionsFlowDialog(this, ev.target.closest(\".config_entry\").configEntry, {\n          manifest: this._manifest\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleRename\",\n      value: function _handleRename(ev) {\n        if (!shouldHandleRequestSelectedEvent(ev)) {\n          return;\n        }\n        this._editEntryName(ev.target.closest(\".config_entry\").configEntry);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleReload\",\n      value: function _handleReload(ev) {\n        if (!shouldHandleRequestSelectedEvent(ev)) {\n          return;\n        }\n        this._reloadIntegration(ev.target.closest(\".config_entry\").configEntry);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleDelete\",\n      value: function _handleDelete(ev) {\n        if (!shouldHandleRequestSelectedEvent(ev)) {\n          return;\n        }\n        this._removeIntegration(ev.target.closest(\".config_entry\").configEntry);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleDisable\",\n      value: function _handleDisable(ev) {\n        if (!shouldHandleRequestSelectedEvent(ev)) {\n          return;\n        }\n        this._disableIntegration(ev.target.closest(\".config_entry\").configEntry);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleEnable\",\n      value: function _handleEnable(ev) {\n        if (ev.detail.source && !shouldHandleRequestSelectedEvent(ev)) {\n          return;\n        }\n        this._enableIntegration(ev.target.closest(\".config_entry\").configEntry);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleSystemOptions\",\n      value: function _handleSystemOptions(ev) {\n        if (!shouldHandleRequestSelectedEvent(ev)) {\n          return;\n        }\n        this._showSystemOptions(ev.target.closest(\".config_entry\").configEntry);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showSystemOptions\",\n      value: function _showSystemOptions(configEntry) {\n        showConfigEntrySystemOptionsDialog(this, {\n          entry: configEntry,\n          manifest: this._manifest\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_disableIntegration\",\n      value: async function _disableIntegration(configEntry) {\n        const entryId = configEntry.entry_id;\n        const confirmed = await showConfirmationDialog(this, {\n          title: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_confirm_title\", {\n            title: configEntry.title\n          }),\n          text: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_confirm_text\"),\n          confirmText: this.hass.localize(\"ui.common.disable\"),\n          dismissText: this.hass.localize(\"ui.common.cancel\"),\n          destructive: true\n        });\n        if (!confirmed) {\n          return;\n        }\n        let result;\n        try {\n          result = await disableConfigEntry(this.hass, entryId);\n        } catch (err) {\n          showAlertDialog(this, {\n            title: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_error\"),\n            text: err.message\n          });\n          return;\n        }\n        if (result.require_restart) {\n          showAlertDialog(this, {\n            text: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_restart_confirm\")\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_enableIntegration\",\n      value: async function _enableIntegration(configEntry) {\n        const entryId = configEntry.entry_id;\n        let result;\n        try {\n          result = await enableConfigEntry(this.hass, entryId);\n        } catch (err) {\n          showAlertDialog(this, {\n            title: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_error\"),\n            text: err.message\n          });\n          return;\n        }\n        if (result.require_restart) {\n          showAlertDialog(this, {\n            text: this.hass.localize(\"ui.panel.config.integrations.config_entry.enable_restart_confirm\")\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_removeIntegration\",\n      value: async function _removeIntegration(configEntry) {\n        const entryId = configEntry.entry_id;\n        const applicationCredentialsId = await this._applicationCredentialForRemove(entryId);\n        const confirmed = await showConfirmationDialog(this, {\n          title: this.hass.localize(\"ui.panel.config.integrations.config_entry.delete_confirm_title\", {\n            title: configEntry.title\n          }),\n          text: this.hass.localize(\"ui.panel.config.integrations.config_entry.delete_confirm_text\"),\n          confirmText: this.hass.localize(\"ui.common.delete\"),\n          dismissText: this.hass.localize(\"ui.common.cancel\"),\n          destructive: true\n        });\n        if (!confirmed) {\n          return;\n        }\n        const result = await deleteConfigEntry(this.hass, entryId);\n        if (result.require_restart) {\n          showAlertDialog(this, {\n            text: this.hass.localize(\"ui.panel.config.integrations.config_entry.restart_confirm\")\n          });\n        }\n        if (applicationCredentialsId) {\n          this._removeApplicationCredential(applicationCredentialsId);\n        }\n      }\n\n      // Return an application credentials id for this config entry to prompt the\n      // user for removal. This is best effort so we don't stop overall removal\n      // if the integration isn't loaded or there is some other error.\n    }, {\n      kind: \"method\",\n      key: \"_applicationCredentialForRemove\",\n      value: async function _applicationCredentialForRemove(entryId) {\n        try {\n          return (await fetchApplicationCredentialsConfigEntry(this.hass, entryId)).application_credentials_id;\n        } catch (err) {\n          // We won't prompt the user to remove credentials\n          return null;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_removeApplicationCredential\",\n      value: async function _removeApplicationCredential(applicationCredentialsId) {\n        const confirmed = await showConfirmationDialog(this, {\n          title: this.hass.localize(\"ui.panel.config.integrations.config_entry.application_credentials.delete_title\"),\n          text: html`${this.hass.localize(\"ui.panel.config.integrations.config_entry.application_credentials.delete_prompt\")},\n        <br />\n        <br />\n        ${this.hass.localize(\"ui.panel.config.integrations.config_entry.application_credentials.delete_detail\")}\n        <br />\n        <br />\n        <a\n          href=${documentationUrl(this.hass, \"/integrations/application_credentials/\")}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          ${this.hass.localize(\"ui.panel.config.integrations.config_entry.application_credentials.learn_more\")}\n        </a>`,\n          destructive: true,\n          confirmText: this.hass.localize(\"ui.common.remove\"),\n          dismissText: this.hass.localize(\"ui.panel.config.integrations.config_entry.application_credentials.dismiss\")\n        });\n        if (!confirmed) {\n          return;\n        }\n        try {\n          await deleteApplicationCredential(this.hass, applicationCredentialsId);\n        } catch (err) {\n          showAlertDialog(this, {\n            title: this.hass.localize(\"ui.panel.config.integrations.config_entry.application_credentials.delete_error_title\"),\n            text: err.message\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_reloadIntegration\",\n      value: async function _reloadIntegration(configEntry) {\n        const entryId = configEntry.entry_id;\n        const result = await reloadConfigEntry(this.hass, entryId);\n        const locale_key = result.require_restart ? \"reload_restart_confirm\" : \"reload_confirm\";\n        showAlertDialog(this, {\n          text: this.hass.localize(`ui.panel.config.integrations.config_entry.${locale_key}`)\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_editEntryName\",\n      value: async function _editEntryName(configEntry) {\n        const newName = await showPromptDialog(this, {\n          title: this.hass.localize(\"ui.panel.config.integrations.rename_dialog\"),\n          defaultValue: configEntry.title,\n          inputLabel: this.hass.localize(\"ui.panel.config.integrations.rename_input_label\")\n        });\n        if (newName === null) {\n          return;\n        }\n        await updateConfigEntry(this.hass, configEntry.entry_id, {\n          title: newName\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_signUrl\",\n      value: async function _signUrl(ev) {\n        const anchor = ev.target.closest(\"a\");\n        ev.preventDefault();\n        const signedUrl = await getSignedPath(this.hass, anchor.getAttribute(\"href\"));\n        fileDownload(signedUrl.path);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_addIntegration\",\n      value: async function _addIntegration() {\n        showAddIntegrationDialog(this, {\n          domain: this.domain\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, css`\n        .container {\n          display: flex;\n          flex-wrap: wrap;\n          margin: auto;\n          max-width: 1000px;\n          margin-top: 32px;\n          margin-bottom: 32px;\n        }\n        .column {\n          width: 33%;\n          flex-grow: 1;\n        }\n        .column.small {\n          max-width: 300px;\n        }\n        .column,\n        .fullwidth {\n          padding: 8px;\n          box-sizing: border-box;\n        }\n        .column > *:not(:first-child) {\n          margin-top: 16px;\n        }\n\n        :host([narrow]) .column {\n          width: 100%;\n          max-width: unset;\n        }\n\n        :host([narrow]) .container {\n          margin-top: 0;\n        }\n        .card-header {\n          padding-bottom: 0;\n        }\n        .no-entries {\n          padding-top: 12px;\n        }\n        .logo-container {\n          display: flex;\n          justify-content: center;\n        }\n        .overview .card-actions {\n          padding: 0;\n        }\n        img {\n          max-width: 200px;\n          max-height: 100px;\n        }\n        ha-alert {\n          display: block;\n          margin-top: 4px;\n        }\n        ha-alert:first-of-type {\n          margin-top: 16px;\n        }\n        ha-list-item.discovered {\n          --mdc-list-item-meta-size: auto;\n          --mdc-list-item-meta-display: flex;\n          height: 72px;\n        }\n        ha-list-item.config_entry {\n          overflow: visible;\n          --mdc-list-item-meta-size: auto;\n          --mdc-list-item-meta-display: flex;\n        }\n        ha-button-menu ha-list-item {\n          --mdc-list-item-meta-size: 24px;\n        }\n        ha-list-item.config_entry::after {\n          position: absolute;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0;\n          opacity: 0.12;\n          pointer-events: none;\n          content: \"\";\n        }\n        ha-button-menu {\n          flex: 0;\n        }\n        a {\n          text-decoration: none;\n        }\n        .highlight::after {\n          background-color: var(--info-color);\n        }\n        .attention {\n          primary-color: var(--error-color);\n        }\n        .warning {\n          color: var(--error-color);\n        }\n        .state-error {\n          --state-message-color: var(--error-color);\n          --text-on-state-color: var(--text-primary-color);\n        }\n        .state-error::after {\n          background-color: var(--error-color);\n        }\n        .state-failed-unload {\n          --state-message-color: var(--warning-color);\n          --text-on-state-color: var(--primary-text-color);\n        }\n        .state-failed::after {\n          background-color: var(--warning-color);\n        }\n        .state-not-loaded {\n          --state-message-color: var(--primary-text-color);\n        }\n        .state-setup {\n          --state-message-color: var(--secondary-text-color);\n        }\n        .message {\n          font-weight: bold;\n          display: flex;\n          align-items: center;\n        }\n        .message ha-svg-icon {\n          color: var(--state-message-color);\n        }\n        .message div {\n          flex: 1;\n          margin-left: 8px;\n          margin-inline-start: 8px;\n          margin-inline-end: initial;\n          padding-top: 2px;\n          padding-right: 2px;\n          padding-inline-end: 2px;\n          padding-inline-start: initial;\n          overflow-wrap: break-word;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 7;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n      `];\n      }\n    }]\n  };\n}, SubscribeMixin(LitElement));","map":{"version":3,"names":["mdiAlertCircle","mdiBookshelf","mdiBug","mdiBugPlay","mdiBugStop","mdiCloud","mdiCog","mdiDelete","mdiDevices","mdiDotsVertical","mdiDownload","mdiHandExtendedOutline","mdiOpenInNew","mdiPackageVariant","mdiPlayCircleOutline","mdiProgressHelper","mdiReload","mdiReloadAlert","mdiRenameBox","mdiShapeOutline","mdiStopCircleOutline","css","html","LitElement","nothing","customElement","property","state","classMap","memoizeOne","isComponentLoaded","isDevVersion","shouldHandleRequestSelectedEvent","caseInsensitiveStringCompare","nextRender","deleteApplicationCredential","fetchApplicationCredentialsConfigEntry","getSignedPath","deleteConfigEntry","disableConfigEntry","enableConfigEntry","ERROR_STATES","getConfigEntries","RECOVERABLE_STATES","reloadConfigEntry","updateConfigEntry","ATTENTION_SOURCES","fetchDiagnosticHandler","getConfigEntryDiagnosticsDownloadUrl","subscribeEntityRegistry","getErrorLogDownloadUrl","domainToName","fetchIntegrationManifest","integrationIssuesUrl","integrationsWithPanel","LogSeverity","setIntegrationLogLevel","subscribeLogInfo","showConfigEntrySystemOptionsDialog","showConfigFlowDialog","showOptionsFlowDialog","showAlertDialog","showConfirmationDialog","showPromptDialog","SubscribeMixin","haStyle","brandsUrl","documentationUrl","fileDownload","showAddIntegrationDialog","HaConfigIntegrationPage","_decorate","_initialize","_SubscribeMixin","constructor","args","F","d","kind","decorators","attribute","key","value","type","Boolean","reflect","URLSearchParams","window","location","hash","substring","domain","panels","_Object$values$find","Object","values","find","panel","config_panel_domain","url_path","configEntries","filter","entry","handler","hassSubscribe","hass","connection","entities","_entities","log_infos","log_info","_logInfo","willUpdate","changedProperties","has","loadBackendTranslation","_extraConfigEntries","undefined","_fetchManifest","_fetchDiagnostics","updated","changed","_get","_getPrototypeOf","prototype","call","_searchParms","get","_highlightEntry","render","_this$hass$themes","_this$_manifest","_this$_manifest2","_this$_manifest3","_this$_manifest4","_domainConfigEntries","configEntriesInProgress","_domainConfigEntriesInProgress","discoveryFlows","flow","includes","context","source","attentionFlows","attentionEntries","normalEntries","sort","a","b","disabled_by","title","locale","language","devices","_getDevices","_getEntities","services","some","device","entry_type","narrow","localize","darkOptimized","themes","darkMode","_onImageLoad","_onImageError","_manifest","is_built_in","iot_class","startsWith","length","id","count","documentation","issue_tracker","level","DEBUG","_handleDisableDebugLogging","_handleEnableDebugLogging","map","localized_title","_continueFlow","attention","item","_renderConfigEntry","integration_type","_addIntegration","ev","target","style","display","stateText","stateTextExtra","icon","reason","_getConfigEntryDevices","_getConfigEntryServices","_getConfigEntryEntities","devicesLine","push","cause","items","localizeKey","url","entry_id","configPanel","_configPanel","_handleEnable","config","version","supports_options","_showOptions","supports_unload","_handleReload","_handleRename","_diagnosticHandler","_signUrl","_handleSystemOptions","_handleDisable","_handleDelete","entryId","row","shadowRoot","querySelector","scrollIntoView","block","classList","add","continueFlowId","flow_id","dialogClosedCallback","err","integration","stopPropagation","NOTSET","timeString","Date","toISOString","replace","logFileName","signedUrl","path","configEntry","entityRegistryEntries","entryIds","entity","config_entry_id","deviceRegistryEntries","config_entries","entries","closest","manifest","_editEntryName","_reloadIntegration","_removeIntegration","_disableIntegration","detail","_enableIntegration","_showSystemOptions","confirmed","text","confirmText","dismissText","destructive","result","message","require_restart","applicationCredentialsId","_applicationCredentialForRemove","_removeApplicationCredential","application_credentials_id","locale_key","newName","defaultValue","inputLabel","anchor","preventDefault","getAttribute","static","styles"],"sources":["/workspaces/frontend/src/panels/config/integrations/ha-config-integration-page.ts"],"sourcesContent":["import \"@lrnwebcomponents/simple-tooltip/simple-tooltip\";\nimport \"@material/mwc-list/mwc-list\";\nimport { RequestSelectedDetail } from \"@material/mwc-list/mwc-list-item-base\";\nimport {\n  mdiAlertCircle,\n  mdiBookshelf,\n  mdiBug,\n  mdiBugPlay,\n  mdiBugStop,\n  mdiCloud,\n  mdiCog,\n  mdiDelete,\n  mdiDevices,\n  mdiDotsVertical,\n  mdiDownload,\n  mdiHandExtendedOutline,\n  mdiOpenInNew,\n  mdiPackageVariant,\n  mdiPlayCircleOutline,\n  mdiProgressHelper,\n  mdiReload,\n  mdiReloadAlert,\n  mdiRenameBox,\n  mdiShapeOutline,\n  mdiStopCircleOutline,\n} from \"@mdi/js\";\nimport { UnsubscribeFunc } from \"home-assistant-js-websocket\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  nothing,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport memoizeOne from \"memoize-one\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport { isDevVersion } from \"../../../common/config/version\";\nimport { shouldHandleRequestSelectedEvent } from \"../../../common/mwc/handle-request-selected-event\";\nimport { caseInsensitiveStringCompare } from \"../../../common/string/compare\";\nimport { nextRender } from \"../../../common/util/render-status\";\nimport \"../../../components/ha-button\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-list-item\";\nimport {\n  deleteApplicationCredential,\n  fetchApplicationCredentialsConfigEntry,\n} from \"../../../data/application_credential\";\nimport { getSignedPath } from \"../../../data/auth\";\nimport {\n  ConfigEntry,\n  deleteConfigEntry,\n  disableConfigEntry,\n  DisableConfigEntryResult,\n  enableConfigEntry,\n  ERROR_STATES,\n  getConfigEntries,\n  RECOVERABLE_STATES,\n  reloadConfigEntry,\n  updateConfigEntry,\n} from \"../../../data/config_entries\";\nimport { ATTENTION_SOURCES } from \"../../../data/config_flow\";\nimport { DeviceRegistryEntry } from \"../../../data/device_registry\";\nimport {\n  DiagnosticInfo,\n  fetchDiagnosticHandler,\n  getConfigEntryDiagnosticsDownloadUrl,\n} from \"../../../data/diagnostics\";\nimport {\n  EntityRegistryEntry,\n  subscribeEntityRegistry,\n} from \"../../../data/entity_registry\";\nimport { getErrorLogDownloadUrl } from \"../../../data/error_log\";\nimport {\n  domainToName,\n  fetchIntegrationManifest,\n  integrationIssuesUrl,\n  IntegrationLogInfo,\n  IntegrationManifest,\n  integrationsWithPanel,\n  LogSeverity,\n  setIntegrationLogLevel,\n  subscribeLogInfo,\n} from \"../../../data/integration\";\nimport { showConfigEntrySystemOptionsDialog } from \"../../../dialogs/config-entry-system-options/show-dialog-config-entry-system-options\";\nimport { showConfigFlowDialog } from \"../../../dialogs/config-flow/show-dialog-config-flow\";\nimport { showOptionsFlowDialog } from \"../../../dialogs/config-flow/show-dialog-options-flow\";\nimport {\n  showAlertDialog,\n  showConfirmationDialog,\n  showPromptDialog,\n} from \"../../../dialogs/generic/show-dialog-box\";\nimport \"../../../layouts/hass-error-screen\";\nimport \"../../../layouts/hass-subpage\";\nimport { SubscribeMixin } from \"../../../mixins/subscribe-mixin\";\nimport { haStyle } from \"../../../resources/styles\";\nimport { HomeAssistant } from \"../../../types\";\nimport { brandsUrl } from \"../../../util/brands-url\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nimport { fileDownload } from \"../../../util/file_download\";\nimport { DataEntryFlowProgressExtended } from \"./ha-config-integrations\";\nimport { showAddIntegrationDialog } from \"./show-add-integration-dialog\";\n\n@customElement(\"ha-config-integration-page\")\nclass HaConfigIntegrationPage extends SubscribeMixin(LitElement) {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public domain!: string;\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property({ type: Boolean }) public isWide = false;\n\n  @property({ type: Boolean }) public showAdvanced = false;\n\n  @property({ attribute: false }) public configEntries?: ConfigEntry[];\n\n  @property({ attribute: false })\n  public configEntriesInProgress: DataEntryFlowProgressExtended[] = [];\n\n  @state() private _entities: EntityRegistryEntry[] = [];\n\n  @state() private _manifest?: IntegrationManifest;\n\n  @state() private _extraConfigEntries?: ConfigEntry[];\n\n  @state() private _diagnosticHandler?: DiagnosticInfo;\n\n  @state() private _logInfo?: IntegrationLogInfo;\n\n  @state() private _searchParms = new URLSearchParams(\n    window.location.hash.substring(1)\n  );\n\n  private _configPanel = memoizeOne(\n    (domain: string, panels: HomeAssistant[\"panels\"]): string | undefined =>\n      Object.values(panels).find(\n        (panel) => panel.config_panel_domain === domain\n      )?.url_path || integrationsWithPanel[domain]\n  );\n\n  private _domainConfigEntries = memoizeOne(\n    (domain: string, configEntries?: ConfigEntry[]): ConfigEntry[] =>\n      configEntries\n        ? configEntries.filter((entry) => entry.domain === domain)\n        : []\n  );\n\n  private _domainConfigEntriesInProgress = memoizeOne(\n    (\n      domain: string,\n      configEntries?: DataEntryFlowProgressExtended[]\n    ): DataEntryFlowProgressExtended[] =>\n      configEntries\n        ? configEntries.filter((entry) => entry.handler === domain)\n        : []\n  );\n\n  public hassSubscribe(): UnsubscribeFunc[] {\n    return [\n      subscribeEntityRegistry(this.hass.connection!, (entities) => {\n        this._entities = entities;\n      }),\n      subscribeLogInfo(this.hass.connection, (log_infos) => {\n        for (const log_info of log_infos) {\n          if (log_info.domain === this.domain) {\n            this._logInfo = log_info;\n          }\n        }\n      }),\n    ];\n  }\n\n  protected willUpdate(changedProperties: PropertyValues): void {\n    if (changedProperties.has(\"domain\")) {\n      this.hass.loadBackendTranslation(\"title\", [this.domain]);\n      this._extraConfigEntries = undefined;\n      this._fetchManifest();\n      this._fetchDiagnostics();\n    }\n  }\n\n  protected updated(changed: PropertyValues) {\n    super.updated(changed);\n    if (\n      this._searchParms.has(\"config_entry\") &&\n      changed.has(\"configEntries\") &&\n      !changed.get(\"configEntries\") &&\n      this.configEntries\n    ) {\n      this._highlightEntry();\n    }\n  }\n\n  protected render() {\n    if (!this.configEntries || !this.domain) {\n      return nothing;\n    }\n\n    const configEntries = this._domainConfigEntries(\n      this.domain,\n      this._extraConfigEntries || this.configEntries\n    );\n\n    const configEntriesInProgress = this._domainConfigEntriesInProgress(\n      this.domain,\n      this.configEntriesInProgress\n    );\n\n    const discoveryFlows = configEntriesInProgress.filter(\n      (flow) => !ATTENTION_SOURCES.includes(flow.context.source)\n    );\n\n    const attentionFlows = configEntriesInProgress.filter((flow) =>\n      ATTENTION_SOURCES.includes(flow.context.source)\n    );\n\n    const attentionEntries = configEntries.filter((entry) =>\n      ERROR_STATES.includes(entry.state)\n    );\n\n    const normalEntries = configEntries\n      .filter(\n        (entry) =>\n          entry.source !== \"ignore\" && !ERROR_STATES.includes(entry.state)\n      )\n      .sort((a, b) => {\n        if (Boolean(a.disabled_by) !== Boolean(b.disabled_by)) {\n          return a.disabled_by ? 1 : -1;\n        }\n        return caseInsensitiveStringCompare(\n          a.title,\n          b.title,\n          this.hass.locale.language\n        );\n      });\n\n    const devices = this._getDevices(configEntries, this.hass.devices);\n    const entities = this._getEntities(configEntries, this._entities);\n\n    const services = !devices.some((device) => device.entry_type !== \"service\");\n\n    return html`\n      <hass-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow}\n        .header=${domainToName(this.hass.localize, this.domain)}\n      >\n        <div class=\"container\">\n          <div class=\"column small\">\n            <ha-card class=\"overview\">\n              <div class=\"card-content\">\n                <div class=\"logo-container\">\n                  <img\n                    alt=${domainToName(this.hass.localize, this.domain)}\n                    src=${brandsUrl({\n                      domain: this.domain,\n                      type: \"logo\",\n                      darkOptimized: this.hass.themes?.darkMode,\n                    })}\n                    crossorigin=\"anonymous\"\n                    referrerpolicy=\"no-referrer\"\n                    @load=${this._onImageLoad}\n                    @error=${this._onImageError}\n                  />\n                </div>\n                ${this._manifest?.is_built_in === false\n                  ? html`<ha-alert alert-type=\"warning\"\n                      ><ha-svg-icon\n                        slot=\"icon\"\n                        path=${mdiPackageVariant}\n                      ></ha-svg-icon>\n                      ${this.hass.localize(\n                        \"ui.panel.config.integrations.config_entry.custom_integration\"\n                      )}</ha-alert\n                    >`\n                  : \"\"}\n                ${this._manifest?.iot_class?.startsWith(\"cloud_\")\n                  ? html`<ha-alert\n                      ><ha-svg-icon slot=\"icon\" path=${mdiCloud}></ha-svg-icon\n                      >${this.hass.localize(\n                        \"ui.panel.config.integrations.config_entry.depends_on_cloud\"\n                      )}</ha-alert\n                    >`\n                  : \"\"}\n              </div>\n\n              <div class=\"card-actions\">\n                ${devices.length > 0\n                  ? html`<a\n                      href=${devices.length === 1\n                        ? `/config/devices/device/${devices[0].id}`\n                        : `/config/devices/dashboard?historyBack=1&domain=${this.domain}`}\n                    >\n                      <ha-list-item hasMeta graphic=\"icon\">\n                        <ha-svg-icon\n                          .path=${services\n                            ? mdiHandExtendedOutline\n                            : mdiDevices}\n                          slot=\"graphic\"\n                        ></ha-svg-icon>\n                        ${this.hass.localize(\n                          `ui.panel.config.integrations.config_entry.${\n                            services ? \"services\" : \"devices\"\n                          }`,\n                          { count: devices.length }\n                        )}\n                        <ha-icon-next slot=\"meta\"></ha-icon-next>\n                      </ha-list-item>\n                    </a>`\n                  : \"\"}\n                ${entities.length > 0\n                  ? html`<a\n                      href=${`/config/entities?historyBack=1&domain=${this.domain}`}\n                    >\n                      <ha-list-item hasMeta graphic=\"icon\">\n                        <ha-svg-icon\n                          .path=${mdiShapeOutline}\n                          slot=\"graphic\"\n                        ></ha-svg-icon>\n                        ${this.hass.localize(\n                          `ui.panel.config.integrations.config_entry.entities`,\n                          { count: entities.length }\n                        )}\n                        <ha-icon-next slot=\"meta\"></ha-icon-next>\n                      </ha-list-item>\n                    </a>`\n                  : \"\"}\n                ${this._manifest\n                  ? html`<a\n                      href=${this._manifest.is_built_in\n                        ? documentationUrl(\n                            this.hass,\n                            `/integrations/${this._manifest.domain}`\n                          )\n                        : this._manifest.documentation}\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                    >\n                      <ha-list-item graphic=\"icon\" hasMeta>\n                        ${this.hass.localize(\n                          \"ui.panel.config.integrations.config_entry.documentation\"\n                        )}\n                        <ha-svg-icon\n                          slot=\"graphic\"\n                          .path=${mdiBookshelf}\n                        ></ha-svg-icon>\n                        <ha-svg-icon\n                          slot=\"meta\"\n                          .path=${mdiOpenInNew}\n                        ></ha-svg-icon>\n                      </ha-list-item>\n                    </a>`\n                  : \"\"}\n                ${this._manifest &&\n                (this._manifest.is_built_in || this._manifest.issue_tracker)\n                  ? html`<a\n                      href=${integrationIssuesUrl(this.domain, this._manifest)}\n                      rel=\"noreferrer\"\n                      target=\"_blank\"\n                    >\n                      <ha-list-item graphic=\"icon\" hasMeta>\n                        ${this.hass.localize(\n                          \"ui.panel.config.integrations.config_entry.known_issues\"\n                        )}\n                        <ha-svg-icon\n                          slot=\"graphic\"\n                          .path=${mdiBug}\n                        ></ha-svg-icon>\n                        <ha-svg-icon\n                          slot=\"meta\"\n                          .path=${mdiOpenInNew}\n                        ></ha-svg-icon>\n                      </ha-list-item>\n                    </a>`\n                  : \"\"}\n                ${this._logInfo\n                  ? html`<ha-list-item\n                      @request-selected=${this._logInfo.level ===\n                      LogSeverity.DEBUG\n                        ? this._handleDisableDebugLogging\n                        : this._handleEnableDebugLogging}\n                      graphic=\"icon\"\n                    >\n                      ${this._logInfo.level === LogSeverity.DEBUG\n                        ? this.hass.localize(\n                            \"ui.panel.config.integrations.config_entry.disable_debug_logging\"\n                          )\n                        : this.hass.localize(\n                            \"ui.panel.config.integrations.config_entry.enable_debug_logging\"\n                          )}\n                      <ha-svg-icon\n                        slot=\"graphic\"\n                        class=${this._logInfo.level === LogSeverity.DEBUG\n                          ? \"warning\"\n                          : \"\"}\n                        .path=${this._logInfo.level === LogSeverity.DEBUG\n                          ? mdiBugStop\n                          : mdiBugPlay}\n                      ></ha-svg-icon>\n                    </ha-list-item>`\n                  : \"\"}\n              </div>\n            </ha-card>\n          </div>\n          <div class=\"column\">\n            ${discoveryFlows.length\n              ? html`<ha-card>\n                  <h1 class=\"card-header\">\n                    ${this.hass.localize(\n                      \"ui.panel.config.integrations.discovered\"\n                    )}\n                  </h1>\n                  <mwc-list>\n                    ${discoveryFlows.map(\n                      (flow) =>\n                        html`<ha-list-item\n                          hasMeta\n                          class=\"discovered\"\n                          noninteractive\n                        >\n                          ${flow.localized_title}\n                          <ha-button\n                            slot=\"meta\"\n                            unelevated\n                            .flow=${flow}\n                            @click=${this._continueFlow}\n                            .label=${this.hass.localize(\n                              \"ui.panel.config.integrations.configure\"\n                            )}\n                          ></ha-button>\n                        </ha-list-item>`\n                    )}\n                  </mwc-list>\n                </ha-card>`\n              : \"\"}\n            ${attentionFlows.length || attentionEntries.length\n              ? html`<ha-card>\n                  <h1 class=\"card-header\">\n                    ${this.hass.localize(\n                      `ui.panel.config.integrations.integration_page.attention_entries`\n                    )}\n                  </h1>\n                  <mwc-list>\n                    ${attentionFlows.map((flow) => {\n                      const attention = ATTENTION_SOURCES.includes(\n                        flow.context.source\n                      );\n                      return html`<ha-list-item\n                        hasMeta\n                        class=\"config_entry ${attention ? \"attention\" : \"\"}\"\n                        twoLine\n                        noninteractive\n                      >\n                        ${flow.localized_title}\n                        <span slot=\"secondary\"\n                          >${this.hass.localize(\n                            `ui.panel.config.integrations.${\n                              attention ? \"attention\" : \"discovered\"\n                            }`\n                          )}</span\n                        >\n                        <ha-button\n                          slot=\"meta\"\n                          unelevated\n                          .flow=${flow}\n                          @click=${this._continueFlow}\n                          .label=${this.hass.localize(\n                            `ui.panel.config.integrations.${\n                              attention ? \"reconfigure\" : \"configure\"\n                            }`\n                          )}\n                        ></ha-button>\n                      </ha-list-item>`;\n                    })}\n                    ${attentionEntries.map((item) =>\n                      this._renderConfigEntry(item)\n                    )}\n                  </mwc-list>\n                </ha-card>`\n              : \"\"}\n\n            <ha-card>\n              <h1 class=\"card-header\">\n                ${this._manifest?.integration_type\n                  ? this.hass.localize(\n                      `ui.panel.config.integrations.integration_page.entries_${this._manifest.integration_type}`\n                    )\n                  : this.hass.localize(\n                      `ui.panel.config.integrations.integration_page.entries`\n                    )}\n              </h1>\n              ${normalEntries.length === 0\n                ? html`<div class=\"card-content no-entries\">\n                    ${this.hass.localize(\n                      \"ui.panel.config.integrations.integration_page.no_entries\"\n                    )}\n                  </div>`\n                : nothing}\n              <mwc-list>\n                ${normalEntries.map((item) => this._renderConfigEntry(item))}\n              </mwc-list>\n              <div class=\"card-actions\">\n                <ha-button @click=${this._addIntegration}>\n                  ${this._manifest?.integration_type\n                    ? this.hass.localize(\n                        `ui.panel.config.integrations.integration_page.add_${this._manifest.integration_type}`\n                      )\n                    : this.hass.localize(\n                        `ui.panel.config.integrations.integration_page.add_entry`\n                      )}\n                </ha-button>\n              </div>\n            </ha-card>\n          </div>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  private _onImageLoad(ev) {\n    ev.target.style.display = \"inline-block\";\n  }\n\n  private _onImageError(ev) {\n    ev.target.style.display = \"none\";\n  }\n\n  private _renderConfigEntry(item: ConfigEntry) {\n    let stateText: Parameters<typeof this.hass.localize> | undefined;\n    let stateTextExtra: TemplateResult | string | undefined;\n    let icon: string = mdiAlertCircle;\n\n    if (!item.disabled_by && item.state === \"not_loaded\") {\n      stateText = [\"ui.panel.config.integrations.config_entry.not_loaded\"];\n    } else if (item.state === \"setup_in_progress\") {\n      icon = mdiProgressHelper;\n      stateText = [\n        \"ui.panel.config.integrations.config_entry.setup_in_progress\",\n      ];\n    } else if (ERROR_STATES.includes(item.state)) {\n      if (item.state === \"setup_retry\") {\n        icon = mdiReloadAlert;\n      }\n      stateText = [\n        `ui.panel.config.integrations.config_entry.state.${item.state}`,\n      ];\n      if (item.reason) {\n        this.hass.loadBackendTranslation(\"config\", item.domain);\n        stateTextExtra = html`${this.hass.localize(\n          `component.${item.domain}.config.error.${item.reason}`\n        ) || item.reason}`;\n      } else {\n        stateTextExtra = html`\n          <br />\n          ${this.hass.localize(\n            \"ui.panel.config.integrations.config_entry.check_the_logs\"\n          )}\n        `;\n      }\n    }\n\n    const devices = this._getConfigEntryDevices(item);\n    const services = this._getConfigEntryServices(item);\n    const entities = this._getConfigEntryEntities(item);\n\n    let devicesLine: (TemplateResult | string)[] = [];\n\n    if (item.disabled_by) {\n      devicesLine.push(\n        this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable.disabled_cause\",\n          {\n            cause:\n              this.hass.localize(\n                `ui.panel.config.integrations.config_entry.disable.disabled_by.${item.disabled_by}`\n              ) || item.disabled_by,\n          }\n        )\n      );\n      if (item.state === \"failed_unload\") {\n        devicesLine.push(`.\n        ${this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable_restart_confirm\"\n        )}.`);\n      }\n    } else {\n      for (const [items, localizeKey] of [\n        [devices, \"devices\"],\n        [services, \"services\"],\n      ] as const) {\n        if (items.length === 0) {\n          continue;\n        }\n        const url =\n          items.length === 1\n            ? `/config/devices/device/${items[0].id}`\n            : `/config/devices/dashboard?historyBack=1&config_entry=${item.entry_id}`;\n        devicesLine.push(\n          // no white space before/after template on purpose\n          html`<a href=${url}\n            >${this.hass.localize(\n              `ui.panel.config.integrations.config_entry.${localizeKey}`,\n              { count: items.length }\n            )}</a\n          >`\n        );\n      }\n\n      if (entities.length) {\n        devicesLine.push(\n          // no white space before/after template on purpose\n          html`<a\n            href=${`/config/entities?historyBack=1&config_entry=${item.entry_id}`}\n            >${this.hass.localize(\n              \"ui.panel.config.integrations.config_entry.entities\",\n              { count: entities.length }\n            )}</a\n          >`\n        );\n      }\n\n      if (devicesLine.length === 0) {\n        devicesLine = [\n          this.hass.localize(\n            \"ui.panel.config.integrations.config_entry.no_devices_or_entities\"\n          ),\n        ];\n      } else if (devicesLine.length === 2) {\n        devicesLine = [\n          devicesLine[0],\n          ` ${this.hass.localize(\"ui.common.and\")} `,\n          devicesLine[1],\n        ];\n      } else if (devicesLine.length === 3) {\n        devicesLine = [\n          devicesLine[0],\n          \", \",\n          devicesLine[1],\n          ` ${this.hass.localize(\"ui.common.and\")} `,\n          devicesLine[2],\n        ];\n      }\n    }\n\n    const configPanel = this._configPanel(item.domain, this.hass.panels);\n\n    return html`<ha-list-item\n      hasMeta\n      class=\"config_entry ${classMap({\n        \"state-not-loaded\": item!.state === \"not_loaded\",\n        \"state-failed-unload\": item!.state === \"failed_unload\",\n        \"state-setup\": item!.state === \"setup_in_progress\",\n        \"state-error\": ERROR_STATES.includes(item!.state),\n      })}\"\n      data-entry-id=${item.entry_id}\n      .disabled=${item.disabled_by}\n      .configEntry=${item}\n      twoline\n      noninteractive\n    >\n      ${stateText\n        ? html`\n            <div class=\"message\" slot=\"meta\">\n              <ha-svg-icon .path=${icon}></ha-svg-icon>\n              <div>${this.hass.localize(...stateText)}</div>\n              ${stateTextExtra\n                ? html`<simple-tooltip>${stateTextExtra}</simple-tooltip>`\n                : \"\"}\n            </div>\n          `\n        : \"\"}\n      ${item.title || domainToName(this.hass.localize, item.domain)}\n      <span slot=\"secondary\">${devicesLine}</span>\n      ${item.disabled_by === \"user\"\n        ? html`<mwc-button unelevated slot=\"meta\" @click=${this._handleEnable}>\n            ${this.hass.localize(\"ui.common.enable\")}\n          </mwc-button>`\n        : configPanel &&\n            (item.domain !== \"matter\" || isDevVersion(this.hass.config.version))\n          ? html`<a\n              slot=\"meta\"\n              href=${`/${configPanel}?config_entry=${item.entry_id}`}\n              ><mwc-button>\n                ${this.hass.localize(\n                  \"ui.panel.config.integrations.config_entry.configure\"\n                )}\n              </mwc-button></a\n            >`\n          : item.supports_options && !stateText\n            ? html`\n                <mwc-button slot=\"meta\" @click=${this._showOptions}>\n                  ${this.hass.localize(\n                    \"ui.panel.config.integrations.config_entry.configure\"\n                  )}\n                </mwc-button>\n              `\n            : \"\"}\n      <ha-button-menu slot=\"meta\">\n        <ha-icon-button\n          slot=\"trigger\"\n          .label=${this.hass.localize(\"ui.common.menu\")}\n          .path=${mdiDotsVertical}\n        ></ha-icon-button>\n        ${item.supports_options && stateText\n          ? html`<ha-list-item\n              @request-selected=${this._showOptions}\n              graphic=\"icon\"\n            >\n              <ha-svg-icon slot=\"graphic\" .path=${mdiCog}></ha-svg-icon>\n              ${this.hass.localize(\n                \"ui.panel.config.integrations.config_entry.configure\"\n              )}\n            </ha-list-item>`\n          : \"\"}\n        ${item.disabled_by && devices.length\n          ? html`<a\n              href=${devices.length === 1\n                ? `/config/devices/device/${devices[0].id}`\n                : `/config/devices/dashboard?historyBack=1&config_entry=${item.entry_id}`}\n            >\n              <ha-list-item hasMeta graphic=\"icon\">\n                <ha-svg-icon .path=${mdiDevices} slot=\"graphic\"></ha-svg-icon>\n                ${this.hass.localize(\n                  `ui.panel.config.integrations.config_entry.devices`,\n                  { count: devices.length }\n                )}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            </a>`\n          : \"\"}\n        ${item.disabled_by && services.length\n          ? html`<a\n              href=${services.length === 1\n                ? `/config/devices/device/${services[0].id}`\n                : `/config/devices/dashboard?historyBack=1&config_entry=${item.entry_id}`}\n            >\n              <ha-list-item hasMeta graphic=\"icon\">\n                <ha-svg-icon\n                  .path=${mdiHandExtendedOutline}\n                  slot=\"graphic\"\n                ></ha-svg-icon>\n                ${this.hass.localize(\n                  `ui.panel.config.integrations.config_entry.services`,\n                  { count: services.length }\n                )}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            </a>`\n          : \"\"}\n        ${item.disabled_by && entities.length\n          ? html`<a\n              href=${`/config/entities?historyBack=1&config_entry=${item.entry_id}`}\n            >\n              <ha-list-item hasMeta graphic=\"icon\">\n                <ha-svg-icon\n                  .path=${mdiShapeOutline}\n                  slot=\"graphic\"\n                ></ha-svg-icon>\n                ${this.hass.localize(\n                  `ui.panel.config.integrations.config_entry.entities`,\n                  { count: entities.length }\n                )}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            </a>`\n          : \"\"}\n        ${!item.disabled_by &&\n        RECOVERABLE_STATES.includes(item.state) &&\n        item.supports_unload &&\n        item.source !== \"system\"\n          ? html`<ha-list-item\n              @request-selected=${this._handleReload}\n              graphic=\"icon\"\n            >\n              ${this.hass.localize(\n                \"ui.panel.config.integrations.config_entry.reload\"\n              )}\n              <ha-svg-icon slot=\"graphic\" .path=${mdiReload}></ha-svg-icon>\n            </ha-list-item>`\n          : \"\"}\n\n        <ha-list-item @request-selected=${this._handleRename} graphic=\"icon\">\n          ${this.hass.localize(\n            \"ui.panel.config.integrations.config_entry.rename\"\n          )}\n          <ha-svg-icon slot=\"graphic\" .path=${mdiRenameBox}></ha-svg-icon>\n        </ha-list-item>\n\n        <li divider role=\"separator\"></li>\n\n        ${this._diagnosticHandler && item.state === \"loaded\"\n          ? html`<a\n              href=${getConfigEntryDiagnosticsDownloadUrl(item.entry_id)}\n              target=\"_blank\"\n              @click=${this._signUrl}\n            >\n              <ha-list-item graphic=\"icon\">\n                ${this.hass.localize(\n                  \"ui.panel.config.integrations.config_entry.download_diagnostics\"\n                )}\n                <ha-svg-icon slot=\"graphic\" .path=${mdiDownload}></ha-svg-icon>\n              </ha-list-item>\n            </a>`\n          : \"\"}\n\n        <ha-list-item\n          @request-selected=${this._handleSystemOptions}\n          graphic=\"icon\"\n        >\n          ${this.hass.localize(\n            \"ui.panel.config.integrations.config_entry.system_options\"\n          )}\n          <ha-svg-icon slot=\"graphic\" .path=${mdiCog}></ha-svg-icon>\n        </ha-list-item>\n        ${item.disabled_by === \"user\"\n          ? html`<ha-list-item\n              @request-selected=${this._handleEnable}\n              graphic=\"icon\"\n            >\n              ${this.hass.localize(\"ui.common.enable\")}\n              <ha-svg-icon\n                slot=\"graphic\"\n                .path=${mdiPlayCircleOutline}\n              ></ha-svg-icon>\n            </ha-list-item>`\n          : item.source !== \"system\"\n            ? html`<ha-list-item\n                class=\"warning\"\n                @request-selected=${this._handleDisable}\n                graphic=\"icon\"\n              >\n                ${this.hass.localize(\"ui.common.disable\")}\n                <ha-svg-icon\n                  slot=\"graphic\"\n                  class=\"warning\"\n                  .path=${mdiStopCircleOutline}\n                ></ha-svg-icon>\n              </ha-list-item>`\n            : \"\"}\n        ${item.source !== \"system\"\n          ? html`<ha-list-item\n              class=\"warning\"\n              @request-selected=${this._handleDelete}\n              graphic=\"icon\"\n            >\n              ${this.hass.localize(\n                \"ui.panel.config.integrations.config_entry.delete\"\n              )}\n              <ha-svg-icon\n                slot=\"graphic\"\n                class=\"warning\"\n                .path=${mdiDelete}\n              ></ha-svg-icon>\n            </ha-list-item>`\n          : \"\"}\n      </ha-button-menu>\n    </ha-list-item>`;\n  }\n\n  private async _highlightEntry() {\n    await nextRender();\n    const entryId = this._searchParms.get(\"config_entry\")!;\n    const row = this.shadowRoot!.querySelector(\n      `[data-entry-id=\"${entryId}\"]`\n    ) as any;\n    if (row) {\n      row.scrollIntoView({\n        block: \"center\",\n      });\n      row.classList.add(\"highlight\");\n    }\n  }\n\n  private _continueFlow(ev) {\n    showConfigFlowDialog(this, {\n      continueFlowId: ev.target.flow.flow_id,\n      dialogClosedCallback: () => {\n        // this._handleFlowUpdated();\n      },\n    });\n  }\n\n  private async _fetchManifest() {\n    if (!this.domain) {\n      return;\n    }\n    this._manifest = await fetchIntegrationManifest(this.hass, this.domain);\n    if (\n      this._manifest.integration_type &&\n      ![\"device\", \"hub\", \"service\"].includes(this._manifest.integration_type)\n    ) {\n      this._extraConfigEntries = await getConfigEntries(this.hass, {\n        domain: this.domain,\n      });\n    }\n  }\n\n  private async _fetchDiagnostics() {\n    if (!this.domain || !isComponentLoaded(this.hass, \"diagnostics\")) {\n      return;\n    }\n    try {\n      this._diagnosticHandler = await fetchDiagnosticHandler(\n        this.hass,\n        this.domain\n      );\n    } catch (err: any) {\n      // No issue, as diagnostics are not required\n    }\n  }\n\n  private async _handleEnableDebugLogging() {\n    const integration = this.domain;\n    await setIntegrationLogLevel(\n      this.hass,\n      integration,\n      LogSeverity[LogSeverity.DEBUG],\n      \"once\"\n    );\n  }\n\n  private async _handleDisableDebugLogging(ev: Event) {\n    // Stop propagation since otherwise we end up here twice while we await the log level change\n    // and trigger two identical debug log downloads.\n    ev.stopPropagation();\n    const integration = this.domain;\n    await setIntegrationLogLevel(\n      this.hass,\n      integration,\n      LogSeverity[LogSeverity.NOTSET],\n      \"once\"\n    );\n    const timeString = new Date().toISOString().replace(/:/g, \"-\");\n    const logFileName = `home-assistant_${integration}_${timeString}.log`;\n    const signedUrl = await getSignedPath(this.hass, getErrorLogDownloadUrl);\n    fileDownload(signedUrl.path, logFileName);\n  }\n\n  private _getEntities = memoizeOne(\n    (\n      configEntry: ConfigEntry[],\n      entityRegistryEntries: EntityRegistryEntry[]\n    ): EntityRegistryEntry[] => {\n      if (!entityRegistryEntries) {\n        return [];\n      }\n      const entryIds = configEntry.map((entry) => entry.entry_id);\n      return entityRegistryEntries.filter(\n        (entity) =>\n          entity.config_entry_id && entryIds.includes(entity.config_entry_id)\n      );\n    }\n  );\n\n  private _getDevices = memoizeOne(\n    (\n      configEntry: ConfigEntry[],\n      deviceRegistryEntries: HomeAssistant[\"devices\"]\n    ): DeviceRegistryEntry[] => {\n      if (!deviceRegistryEntries) {\n        return [];\n      }\n      const entryIds = configEntry.map((entry) => entry.entry_id);\n      return Object.values(deviceRegistryEntries).filter((device) =>\n        device.config_entries.some((entryId) => entryIds.includes(entryId))\n      );\n    }\n  );\n\n  private _getConfigEntryEntities = (\n    configEntry: ConfigEntry\n  ): EntityRegistryEntry[] => {\n    const entries = this._domainConfigEntries(\n      this.domain,\n      this._extraConfigEntries || this.configEntries\n    );\n    const entityRegistryEntries = this._getEntities(entries, this._entities);\n    return entityRegistryEntries.filter(\n      (entity) => entity.config_entry_id === configEntry.entry_id\n    );\n  };\n\n  private _getConfigEntryDevices = (\n    configEntry: ConfigEntry\n  ): DeviceRegistryEntry[] => {\n    const entries = this._domainConfigEntries(\n      this.domain,\n      this._extraConfigEntries || this.configEntries\n    );\n    const deviceRegistryEntries = this._getDevices(entries, this.hass.devices);\n    return Object.values(deviceRegistryEntries).filter(\n      (device) =>\n        device.config_entries.includes(configEntry.entry_id) &&\n        device.entry_type !== \"service\"\n    );\n  };\n\n  private _getConfigEntryServices = (\n    configEntry: ConfigEntry\n  ): DeviceRegistryEntry[] => {\n    const entries = this._domainConfigEntries(\n      this.domain,\n      this._extraConfigEntries || this.configEntries\n    );\n    const deviceRegistryEntries = this._getDevices(entries, this.hass.devices);\n    return Object.values(deviceRegistryEntries).filter(\n      (device) =>\n        device.config_entries.includes(configEntry.entry_id) &&\n        device.entry_type === \"service\"\n    );\n  };\n\n  private _showOptions(ev) {\n    showOptionsFlowDialog(\n      this,\n      ev.target.closest(\".config_entry\").configEntry,\n      { manifest: this._manifest }\n    );\n  }\n\n  private _handleRename(ev: CustomEvent<RequestSelectedDetail>): void {\n    if (!shouldHandleRequestSelectedEvent(ev)) {\n      return;\n    }\n    this._editEntryName(\n      ((ev.target as HTMLElement).closest(\".config_entry\") as any).configEntry\n    );\n  }\n\n  private _handleReload(ev: CustomEvent<RequestSelectedDetail>): void {\n    if (!shouldHandleRequestSelectedEvent(ev)) {\n      return;\n    }\n    this._reloadIntegration(\n      ((ev.target as HTMLElement).closest(\".config_entry\") as any).configEntry\n    );\n  }\n\n  private _handleDelete(ev: CustomEvent<RequestSelectedDetail>): void {\n    if (!shouldHandleRequestSelectedEvent(ev)) {\n      return;\n    }\n    this._removeIntegration(\n      ((ev.target as HTMLElement).closest(\".config_entry\") as any).configEntry\n    );\n  }\n\n  private _handleDisable(ev: CustomEvent<RequestSelectedDetail>): void {\n    if (!shouldHandleRequestSelectedEvent(ev)) {\n      return;\n    }\n    this._disableIntegration(\n      ((ev.target as HTMLElement).closest(\".config_entry\") as any).configEntry\n    );\n  }\n\n  private _handleEnable(ev: CustomEvent<RequestSelectedDetail>): void {\n    if (ev.detail.source && !shouldHandleRequestSelectedEvent(ev)) {\n      return;\n    }\n    this._enableIntegration(\n      ((ev.target as HTMLElement).closest(\".config_entry\") as any).configEntry\n    );\n  }\n\n  private _handleSystemOptions(ev: CustomEvent<RequestSelectedDetail>): void {\n    if (!shouldHandleRequestSelectedEvent(ev)) {\n      return;\n    }\n    this._showSystemOptions(\n      ((ev.target as HTMLElement).closest(\".config_entry\") as any).configEntry\n    );\n  }\n\n  private _showSystemOptions(configEntry: ConfigEntry) {\n    showConfigEntrySystemOptionsDialog(this, {\n      entry: configEntry,\n      manifest: this._manifest,\n    });\n  }\n\n  private async _disableIntegration(configEntry: ConfigEntry) {\n    const entryId = configEntry.entry_id;\n\n    const confirmed = await showConfirmationDialog(this, {\n      title: this.hass.localize(\n        \"ui.panel.config.integrations.config_entry.disable_confirm_title\",\n        { title: configEntry.title }\n      ),\n      text: this.hass.localize(\n        \"ui.panel.config.integrations.config_entry.disable_confirm_text\"\n      ),\n      confirmText: this.hass!.localize(\"ui.common.disable\"),\n      dismissText: this.hass!.localize(\"ui.common.cancel\"),\n      destructive: true,\n    });\n\n    if (!confirmed) {\n      return;\n    }\n    let result: DisableConfigEntryResult;\n    try {\n      result = await disableConfigEntry(this.hass, entryId);\n    } catch (err: any) {\n      showAlertDialog(this, {\n        title: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable_error\"\n        ),\n        text: err.message,\n      });\n      return;\n    }\n    if (result.require_restart) {\n      showAlertDialog(this, {\n        text: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable_restart_confirm\"\n        ),\n      });\n    }\n  }\n\n  private async _enableIntegration(configEntry: ConfigEntry) {\n    const entryId = configEntry.entry_id;\n\n    let result: DisableConfigEntryResult;\n    try {\n      result = await enableConfigEntry(this.hass, entryId);\n    } catch (err: any) {\n      showAlertDialog(this, {\n        title: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable_error\"\n        ),\n        text: err.message,\n      });\n      return;\n    }\n\n    if (result.require_restart) {\n      showAlertDialog(this, {\n        text: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.enable_restart_confirm\"\n        ),\n      });\n    }\n  }\n\n  private async _removeIntegration(configEntry: ConfigEntry) {\n    const entryId = configEntry.entry_id;\n\n    const applicationCredentialsId =\n      await this._applicationCredentialForRemove(entryId);\n\n    const confirmed = await showConfirmationDialog(this, {\n      title: this.hass.localize(\n        \"ui.panel.config.integrations.config_entry.delete_confirm_title\",\n        { title: configEntry.title }\n      ),\n      text: this.hass.localize(\n        \"ui.panel.config.integrations.config_entry.delete_confirm_text\"\n      ),\n      confirmText: this.hass!.localize(\"ui.common.delete\"),\n      dismissText: this.hass!.localize(\"ui.common.cancel\"),\n      destructive: true,\n    });\n\n    if (!confirmed) {\n      return;\n    }\n    const result = await deleteConfigEntry(this.hass, entryId);\n\n    if (result.require_restart) {\n      showAlertDialog(this, {\n        text: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.restart_confirm\"\n        ),\n      });\n    }\n    if (applicationCredentialsId) {\n      this._removeApplicationCredential(applicationCredentialsId);\n    }\n  }\n\n  // Return an application credentials id for this config entry to prompt the\n  // user for removal. This is best effort so we don't stop overall removal\n  // if the integration isn't loaded or there is some other error.\n  private async _applicationCredentialForRemove(entryId: string) {\n    try {\n      return (await fetchApplicationCredentialsConfigEntry(this.hass, entryId))\n        .application_credentials_id;\n    } catch (err: any) {\n      // We won't prompt the user to remove credentials\n      return null;\n    }\n  }\n\n  private async _removeApplicationCredential(applicationCredentialsId: string) {\n    const confirmed = await showConfirmationDialog(this, {\n      title: this.hass.localize(\n        \"ui.panel.config.integrations.config_entry.application_credentials.delete_title\"\n      ),\n      text: html`${this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.application_credentials.delete_prompt\"\n        )},\n        <br />\n        <br />\n        ${this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.application_credentials.delete_detail\"\n        )}\n        <br />\n        <br />\n        <a\n          href=${documentationUrl(\n            this.hass,\n            \"/integrations/application_credentials/\"\n          )}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          ${this.hass.localize(\n            \"ui.panel.config.integrations.config_entry.application_credentials.learn_more\"\n          )}\n        </a>`,\n      destructive: true,\n      confirmText: this.hass.localize(\"ui.common.remove\"),\n      dismissText: this.hass.localize(\n        \"ui.panel.config.integrations.config_entry.application_credentials.dismiss\"\n      ),\n    });\n    if (!confirmed) {\n      return;\n    }\n    try {\n      await deleteApplicationCredential(this.hass, applicationCredentialsId);\n    } catch (err: any) {\n      showAlertDialog(this, {\n        title: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.application_credentials.delete_error_title\"\n        ),\n        text: err.message,\n      });\n    }\n  }\n\n  private async _reloadIntegration(configEntry: ConfigEntry) {\n    const entryId = configEntry.entry_id;\n\n    const result = await reloadConfigEntry(this.hass, entryId);\n    const locale_key = result.require_restart\n      ? \"reload_restart_confirm\"\n      : \"reload_confirm\";\n    showAlertDialog(this, {\n      text: this.hass.localize(\n        `ui.panel.config.integrations.config_entry.${locale_key}`\n      ),\n    });\n  }\n\n  private async _editEntryName(configEntry: ConfigEntry) {\n    const newName = await showPromptDialog(this, {\n      title: this.hass.localize(\"ui.panel.config.integrations.rename_dialog\"),\n      defaultValue: configEntry.title,\n      inputLabel: this.hass.localize(\n        \"ui.panel.config.integrations.rename_input_label\"\n      ),\n    });\n    if (newName === null) {\n      return;\n    }\n    await updateConfigEntry(this.hass, configEntry.entry_id, {\n      title: newName,\n    });\n  }\n\n  private async _signUrl(ev) {\n    const anchor = ev.target.closest(\"a\");\n    ev.preventDefault();\n    const signedUrl = await getSignedPath(\n      this.hass,\n      anchor.getAttribute(\"href\")\n    );\n    fileDownload(signedUrl.path);\n  }\n\n  private async _addIntegration() {\n    showAddIntegrationDialog(this, {\n      domain: this.domain,\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        .container {\n          display: flex;\n          flex-wrap: wrap;\n          margin: auto;\n          max-width: 1000px;\n          margin-top: 32px;\n          margin-bottom: 32px;\n        }\n        .column {\n          width: 33%;\n          flex-grow: 1;\n        }\n        .column.small {\n          max-width: 300px;\n        }\n        .column,\n        .fullwidth {\n          padding: 8px;\n          box-sizing: border-box;\n        }\n        .column > *:not(:first-child) {\n          margin-top: 16px;\n        }\n\n        :host([narrow]) .column {\n          width: 100%;\n          max-width: unset;\n        }\n\n        :host([narrow]) .container {\n          margin-top: 0;\n        }\n        .card-header {\n          padding-bottom: 0;\n        }\n        .no-entries {\n          padding-top: 12px;\n        }\n        .logo-container {\n          display: flex;\n          justify-content: center;\n        }\n        .overview .card-actions {\n          padding: 0;\n        }\n        img {\n          max-width: 200px;\n          max-height: 100px;\n        }\n        ha-alert {\n          display: block;\n          margin-top: 4px;\n        }\n        ha-alert:first-of-type {\n          margin-top: 16px;\n        }\n        ha-list-item.discovered {\n          --mdc-list-item-meta-size: auto;\n          --mdc-list-item-meta-display: flex;\n          height: 72px;\n        }\n        ha-list-item.config_entry {\n          overflow: visible;\n          --mdc-list-item-meta-size: auto;\n          --mdc-list-item-meta-display: flex;\n        }\n        ha-button-menu ha-list-item {\n          --mdc-list-item-meta-size: 24px;\n        }\n        ha-list-item.config_entry::after {\n          position: absolute;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0;\n          opacity: 0.12;\n          pointer-events: none;\n          content: \"\";\n        }\n        ha-button-menu {\n          flex: 0;\n        }\n        a {\n          text-decoration: none;\n        }\n        .highlight::after {\n          background-color: var(--info-color);\n        }\n        .attention {\n          primary-color: var(--error-color);\n        }\n        .warning {\n          color: var(--error-color);\n        }\n        .state-error {\n          --state-message-color: var(--error-color);\n          --text-on-state-color: var(--text-primary-color);\n        }\n        .state-error::after {\n          background-color: var(--error-color);\n        }\n        .state-failed-unload {\n          --state-message-color: var(--warning-color);\n          --text-on-state-color: var(--primary-text-color);\n        }\n        .state-failed::after {\n          background-color: var(--warning-color);\n        }\n        .state-not-loaded {\n          --state-message-color: var(--primary-text-color);\n        }\n        .state-setup {\n          --state-message-color: var(--secondary-text-color);\n        }\n        .message {\n          font-weight: bold;\n          display: flex;\n          align-items: center;\n        }\n        .message ha-svg-icon {\n          color: var(--state-message-color);\n        }\n        .message div {\n          flex: 1;\n          margin-left: 8px;\n          margin-inline-start: 8px;\n          margin-inline-end: initial;\n          padding-top: 2px;\n          padding-right: 2px;\n          padding-inline-end: 2px;\n          padding-inline-start: initial;\n          overflow-wrap: break-word;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 7;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-integration-page\": HaConfigIntegrationPage;\n  }\n}\n"],"mappings":";;;AAAA,OAAO,iDAAiD;AACxD,OAAO,6BAA6B;AAAC,MAAAA,cAAA;AAAA,MAAAC,YAAA;AAAA,MAAAC,MAAA;AAAA,MAAAC,UAAA;AAAA,MAAAC,UAAA;AAAA,MAAAC,QAAA;AAAA,MAAAC,MAAA;AAAA,MAAAC,SAAA;AAAA,MAAAC,UAAA;AAAA,MAAAC,eAAA;AAAA,MAAAC,WAAA;AAAA,MAAAC,sBAAA;AAAA,MAAAC,YAAA;AAAA,MAAAC,iBAAA;AAAA,MAAAC,oBAAA;AAAA,MAAAC,iBAAA;AAAA,MAAAC,SAAA;AAAA,MAAAC,cAAA;AAAA,MAAAC,YAAA;AAAA,MAAAC,eAAA;AAAA,MAAAC,oBAAA;AA0BrC,SACEC,GAAG,EAEHC,IAAI,EACJC,UAAU,EACVC,OAAO,QAGF,KAAK;AACZ,SAASC,aAAa,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,gBAAgB;AAC/D,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,OAAOC,UAAU,MAAM,aAAa;AACpC,SAASC,iBAAiB,QAAQ,4CAA4C;AAC9E,SAASC,YAAY,QAAQ,gCAAgC;AAC7D,SAASC,gCAAgC,QAAQ,mDAAmD;AACpG,SAASC,4BAA4B,QAAQ,gCAAgC;AAC7E,SAASC,UAAU,QAAQ,oCAAoC;AAC/D,OAAO,+BAA+B;AACtC,OAAO,6BAA6B;AACpC,OAAO,kCAAkC;AACzC,SACEC,2BAA2B,EAC3BC,sCAAsC,QACjC,sCAAsC;AAC7C,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAEEC,iBAAiB,EACjBC,kBAAkB,EAElBC,iBAAiB,EACjBC,YAAY,EACZC,gBAAgB,EAChBC,kBAAkB,EAClBC,iBAAiB,EACjBC,iBAAiB,QACZ,8BAA8B;AACrC,SAASC,iBAAiB,QAAQ,2BAA2B;AAE7D,SAEEC,sBAAsB,EACtBC,oCAAoC,QAC/B,2BAA2B;AAClC,SAEEC,uBAAuB,QAClB,+BAA+B;AACtC,SAASC,sBAAsB,QAAQ,yBAAyB;AAChE,SACEC,YAAY,EACZC,wBAAwB,EACxBC,oBAAoB,EAGpBC,qBAAqB,EACrBC,WAAW,EACXC,sBAAsB,EACtBC,gBAAgB,QACX,2BAA2B;AAClC,SAASC,kCAAkC,QAAQ,sFAAsF;AACzI,SAASC,oBAAoB,QAAQ,sDAAsD;AAC3F,SAASC,qBAAqB,QAAQ,uDAAuD;AAC7F,SACEC,eAAe,EACfC,sBAAsB,EACtBC,gBAAgB,QACX,0CAA0C;AACjD,OAAO,oCAAoC;AAC3C,OAAO,+BAA+B;AACtC,SAASC,cAAc,QAAQ,iCAAiC;AAChE,SAASC,OAAO,QAAQ,2BAA2B;AAEnD,SAASC,SAAS,QAAQ,0BAA0B;AACpD,SAASC,gBAAgB,QAAQ,iCAAiC;AAClE,SAASC,YAAY,QAAQ,6BAA6B;AAE1D,SAASC,wBAAwB,QAAQ,+BAA+B;AAAC,IAGnEC,uBAAuB,GAAAC,SAAA,EAD5B9C,aAAa,CAAC,4BAA4B,CAAC,aAAA+C,WAAA,EAAAC,eAAA;EAA5C,MACMH,uBAAuB,SAAAG,eAAA,CAAoC;IAAAC,YAAA,GAAAC,IAAA;MAAA,SAAAA,IAAA;MAAAH,WAAA;IAAA;EAmzCjE;EAAC;IAAAI,CAAA,EAnzCKN,uBAAuB;IAAAO,CAAA;MAAAC,IAAA;MAAAC,UAAA,GAC1BrD,QAAQ,CAAC;QAAEsD,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAE9BrD,QAAQ,CAAC,CAAC;MAAAuD,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEVrD,QAAQ,CAAC;QAAEyD,IAAI,EAAEC,OAAO;QAAEC,OAAO,EAAE;MAAK,CAAC,CAAC;MAAAJ,GAAA;MAAAC,MAAA;QAAA,OAAiB,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEhErD,QAAQ,CAAC;QAAEyD,IAAI,EAAEC;MAAQ,CAAC,CAAC;MAAAH,GAAA;MAAAC,MAAA;QAAA,OAAiB,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEjDrD,QAAQ,CAAC;QAAEyD,IAAI,EAAEC;MAAQ,CAAC,CAAC;MAAAH,GAAA;MAAAC,MAAA;QAAA,OAAuB,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEvDrD,QAAQ,CAAC;QAAEsD,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAE9BrD,QAAQ,CAAC;QAAEsD,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAC,MAAA;QAAA,OACmC,EAAE;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEnEpD,KAAK,CAAC,CAAC;MAAAsD,GAAA;MAAAC,MAAA;QAAA,OAA4C,EAAE;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAErDpD,KAAK,CAAC,CAAC;MAAAsD,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEPpD,KAAK,CAAC,CAAC;MAAAsD,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEPpD,KAAK,CAAC,CAAC;MAAAsD,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEPpD,KAAK,CAAC,CAAC;MAAAsD,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEPpD,KAAK,CAAC,CAAC;MAAAsD,GAAA;MAAAC,MAAA;QAAA,OAAwB,IAAII,eAAe,CACjDC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAAC,CAAC,CAClC,CAAC;MAAA;IAAA;MAAAZ,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAEsBrD,UAAU,CAC/B,CAAC8D,MAAc,EAAEC,MAA+B;UAAA,IAAAC,mBAAA;UAAA,OAC9C,EAAAA,mBAAA,GAAAC,MAAM,CAACC,MAAM,CAACH,MAAM,CAAC,CAACI,IAAI,CACvBC,KAAK,IAAKA,KAAK,CAACC,mBAAmB,KAAKP,MAC3C,CAAC,cAAAE,mBAAA,uBAFDA,mBAAA,CAEGM,QAAQ,KAAI7C,qBAAqB,CAACqC,MAAM,CAAC;QAAA,CAChD,CAAC;MAAA;IAAA;MAAAb,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAE8BrD,UAAU,CACvC,CAAC8D,MAAc,EAAES,aAA6B,KAC5CA,aAAa,GACTA,aAAa,CAACC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACX,MAAM,KAAKA,MAAM,CAAC,GACxD,EACR,CAAC;MAAA;IAAA;MAAAb,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAEwCrD,UAAU,CACjD,CACE8D,MAAc,EACdS,aAA+C,KAE/CA,aAAa,GACTA,aAAa,CAACC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,OAAO,KAAKZ,MAAM,CAAC,GACzD,EACR,CAAC;MAAA;IAAA;MAAAb,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAsB,cAAA,EAA0C;QACxC,OAAO,CACLvD,uBAAuB,CAAC,IAAI,CAACwD,IAAI,CAACC,UAAU,EAAIC,QAAQ,IAAK;UAC3D,IAAI,CAACC,SAAS,GAAGD,QAAQ;QAC3B,CAAC,CAAC,EACFlD,gBAAgB,CAAC,IAAI,CAACgD,IAAI,CAACC,UAAU,EAAGG,SAAS,IAAK;UACpD,KAAK,MAAMC,QAAQ,IAAID,SAAS,EAAE;YAChC,IAAIC,QAAQ,CAACnB,MAAM,KAAK,IAAI,CAACA,MAAM,EAAE;cACnC,IAAI,CAACoB,QAAQ,GAAGD,QAAQ;YAC1B;UACF;QACF,CAAC,CAAC,CACH;MACH;IAAC;MAAAhC,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAA8B,WAAqBC,iBAAiC,EAAQ;QAC5D,IAAIA,iBAAiB,CAACC,GAAG,CAAC,QAAQ,CAAC,EAAE;UACnC,IAAI,CAACT,IAAI,CAACU,sBAAsB,CAAC,OAAO,EAAE,CAAC,IAAI,CAACxB,MAAM,CAAC,CAAC;UACxD,IAAI,CAACyB,mBAAmB,GAAGC,SAAS;UACpC,IAAI,CAACC,cAAc,CAAC,CAAC;UACrB,IAAI,CAACC,iBAAiB,CAAC,CAAC;QAC1B;MACF;IAAC;MAAAzC,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAsC,QAAkBC,OAAuB,EAAE;QACzCC,IAAA,CAAAC,eAAA,CA/EErD,uBAAuB,CAAAsD,SAAA,oBAAAC,IAAA,OA+EXJ,OAAO;QACrB,IACE,IAAI,CAACK,YAAY,CAACZ,GAAG,CAAC,cAAc,CAAC,IACrCO,OAAO,CAACP,GAAG,CAAC,eAAe,CAAC,IAC5B,CAACO,OAAO,CAACM,GAAG,CAAC,eAAe,CAAC,IAC7B,IAAI,CAAC3B,aAAa,EAClB;UACA,IAAI,CAAC4B,eAAe,CAAC,CAAC;QACxB;MACF;IAAC;MAAAlD,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAA+C,OAAA,EAAmB;QAAA,IAAAC,iBAAA,EAAAC,eAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA;QACjB,IAAI,CAAC,IAAI,CAAClC,aAAa,IAAI,CAAC,IAAI,CAACT,MAAM,EAAE;UACvC,OAAOnE,OAAO;QAChB;QAEA,MAAM4E,aAAa,GAAG,IAAI,CAACmC,oBAAoB,CAC7C,IAAI,CAAC5C,MAAM,EACX,IAAI,CAACyB,mBAAmB,IAAI,IAAI,CAAChB,aACnC,CAAC;QAED,MAAMoC,uBAAuB,GAAG,IAAI,CAACC,8BAA8B,CACjE,IAAI,CAAC9C,MAAM,EACX,IAAI,CAAC6C,uBACP,CAAC;QAED,MAAME,cAAc,GAAGF,uBAAuB,CAACnC,MAAM,CAClDsC,IAAI,IAAK,CAAC7F,iBAAiB,CAAC8F,QAAQ,CAACD,IAAI,CAACE,OAAO,CAACC,MAAM,CAC3D,CAAC;QAED,MAAMC,cAAc,GAAGP,uBAAuB,CAACnC,MAAM,CAAEsC,IAAI,IACzD7F,iBAAiB,CAAC8F,QAAQ,CAACD,IAAI,CAACE,OAAO,CAACC,MAAM,CAChD,CAAC;QAED,MAAME,gBAAgB,GAAG5C,aAAa,CAACC,MAAM,CAAEC,KAAK,IAClD7D,YAAY,CAACmG,QAAQ,CAACtC,KAAK,CAAC3E,KAAK,CACnC,CAAC;QAED,MAAMsH,aAAa,GAAG7C,aAAa,CAChCC,MAAM,CACJC,KAAK,IACJA,KAAK,CAACwC,MAAM,KAAK,QAAQ,IAAI,CAACrG,YAAY,CAACmG,QAAQ,CAACtC,KAAK,CAAC3E,KAAK,CACnE,CAAC,CACAuH,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;UACd,IAAIhE,OAAO,CAAC+D,CAAC,CAACE,WAAW,CAAC,KAAKjE,OAAO,CAACgE,CAAC,CAACC,WAAW,CAAC,EAAE;YACrD,OAAOF,CAAC,CAACE,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;UAC/B;UACA,OAAOpH,4BAA4B,CACjCkH,CAAC,CAACG,KAAK,EACPF,CAAC,CAACE,KAAK,EACP,IAAI,CAAC7C,IAAI,CAAC8C,MAAM,CAACC,QACnB,CAAC;QACH,CAAC,CAAC;QAEJ,MAAMC,OAAO,GAAG,IAAI,CAACC,WAAW,CAACtD,aAAa,EAAE,IAAI,CAACK,IAAI,CAACgD,OAAO,CAAC;QAClE,MAAM9C,QAAQ,GAAG,IAAI,CAACgD,YAAY,CAACvD,aAAa,EAAE,IAAI,CAACQ,SAAS,CAAC;QAEjE,MAAMgD,QAAQ,GAAG,CAACH,OAAO,CAACI,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACC,UAAU,KAAK,SAAS,CAAC;QAE3E,OAAOzI,IAAK;AAChB;AACA,gBAAgB,IAAI,CAACmF,IAAK;AAC1B,kBAAkB,IAAI,CAACuD,MAAO;AAC9B,kBAAkB7G,YAAY,CAAC,IAAI,CAACsD,IAAI,CAACwD,QAAQ,EAAE,IAAI,CAACtE,MAAM,CAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0BxC,YAAY,CAAC,IAAI,CAACsD,IAAI,CAACwD,QAAQ,EAAE,IAAI,CAACtE,MAAM,CAAE;AACxE,0BAA0BzB,SAAS,CAAC;UACdyB,MAAM,EAAE,IAAI,CAACA,MAAM;UACnBR,IAAI,EAAE,MAAM;UACZ+E,aAAa,GAAAhC,iBAAA,GAAE,IAAI,CAACzB,IAAI,CAAC0D,MAAM,cAAAjC,iBAAA,uBAAhBA,iBAAA,CAAkBkC;QACnC,CAAC,CAAE;AACvB;AACA;AACA,4BAA4B,IAAI,CAACC,YAAa;AAC9C,6BAA6B,IAAI,CAACC,aAAc;AAChD;AACA;AACA,kBAAkB,EAAAnC,eAAA,OAAI,CAACoC,SAAS,cAAApC,eAAA,uBAAdA,eAAA,CAAgBqC,WAAW,MAAK,KAAK,GACnClJ,IAAK;AACzB;AACA;AACA,+BAA+BT,iBAAkB;AACjD;AACA,wBAAwB,IAAI,CAAC4F,IAAI,CAACwD,QAAQ,CAClB,8DACF,CAAE;AACxB,sBAAsB,GACF,EAAG;AACvB,kBAAkB,CAAA7B,gBAAA,OAAI,CAACmC,SAAS,cAAAnC,gBAAA,gBAAAA,gBAAA,GAAdA,gBAAA,CAAgBqC,SAAS,cAAArC,gBAAA,eAAzBA,gBAAA,CAA2BsC,UAAU,CAAC,QAAQ,CAAC,GAC7CpJ,IAAK;AACzB,uDAAuDjB,QAAS;AAChE,yBAAyB,IAAI,CAACoG,IAAI,CAACwD,QAAQ,CACnB,4DACF,CAAE;AACxB,sBAAsB,GACF,EAAG;AACvB;AACA;AACA;AACA,kBAAkBR,OAAO,CAACkB,MAAM,GAAG,CAAC,GAChBrJ,IAAK;AACzB,6BAA6BmI,OAAO,CAACkB,MAAM,KAAK,CAAC,GACtB,0BAAyBlB,OAAO,CAAC,CAAC,CAAC,CAACmB,EAAG,EAAC,GACxC,kDAAiD,IAAI,CAACjF,MAAO,EAAE;AAC1F;AACA;AACA;AACA,kCAAkCiE,QAAQ,GACZjJ,sBAAsB,GACtBH,UAAW;AACzC;AACA;AACA,0BAA0B,IAAI,CAACiG,IAAI,CAACwD,QAAQ,CACjB,6CACCL,QAAQ,GAAG,UAAU,GAAG,SACzB,EAAC,EACF;UAAEiB,KAAK,EAAEpB,OAAO,CAACkB;QAAO,CAC1B,CAAE;AAC1B;AACA;AACA,yBAAyB,GACL,EAAG;AACvB,kBAAkBhE,QAAQ,CAACgE,MAAM,GAAG,CAAC,GACjBrJ,IAAK;AACzB,6BAA8B,yCAAwC,IAAI,CAACqE,MAAO,EAAE;AACpF;AACA;AACA;AACA,kCAAkCxE,eAAgB;AAClD;AACA;AACA,0BAA0B,IAAI,CAACsF,IAAI,CAACwD,QAAQ,CACjB,oDAAmD,EACpD;UAAEY,KAAK,EAAElE,QAAQ,CAACgE;QAAO,CAC3B,CAAE;AAC1B;AACA;AACA,yBAAyB,GACL,EAAG;AACvB,kBAAkB,IAAI,CAACJ,SAAS,GACZjJ,IAAK;AACzB,6BAA6B,IAAI,CAACiJ,SAAS,CAACC,WAAW,GAC7BrG,gBAAgB,CACd,IAAI,CAACsC,IAAI,EACR,iBAAgB,IAAI,CAAC8D,SAAS,CAAC5E,MAAO,EACzC,CAAC,GACD,IAAI,CAAC4E,SAAS,CAACO,aAAc;AACvD;AACA;AACA;AACA;AACA,0BAA0B,IAAI,CAACrE,IAAI,CAACwD,QAAQ,CAClB,yDACF,CAAE;AAC1B;AACA;AACA,kCAAkChK,YAAa;AAC/C;AACA;AACA;AACA,kCAAkCW,YAAa;AAC/C;AACA;AACA,yBAAyB,GACL,EAAG;AACvB,kBAAkB,IAAI,CAAC2J,SAAS,KACf,IAAI,CAACA,SAAS,CAACC,WAAW,IAAI,IAAI,CAACD,SAAS,CAACQ,aAAa,CAAC,GACxDzJ,IAAK;AACzB,6BAA6B+B,oBAAoB,CAAC,IAAI,CAACsC,MAAM,EAAE,IAAI,CAAC4E,SAAS,CAAE;AAC/E;AACA;AACA;AACA;AACA,0BAA0B,IAAI,CAAC9D,IAAI,CAACwD,QAAQ,CAClB,wDACF,CAAE;AAC1B;AACA;AACA,kCAAkC/J,MAAO;AACzC;AACA;AACA;AACA,kCAAkCU,YAAa;AAC/C;AACA;AACA,yBAAyB,GACL,EAAG;AACvB,kBAAkB,IAAI,CAACmG,QAAQ,GACXzF,IAAK;AACzB,0CAA0C,IAAI,CAACyF,QAAQ,CAACiE,KAAK,KACvCzH,WAAW,CAAC0H,KAAK,GACb,IAAI,CAACC,0BAA0B,GAC/B,IAAI,CAACC,yBAA0B;AACzD;AACA;AACA,wBAAwB,IAAI,CAACpE,QAAQ,CAACiE,KAAK,KAAKzH,WAAW,CAAC0H,KAAK,GACvC,IAAI,CAACxE,IAAI,CAACwD,QAAQ,CAChB,iEACF,CAAC,GACD,IAAI,CAACxD,IAAI,CAACwD,QAAQ,CAChB,gEACF,CAAE;AAC5B;AACA;AACA,gCAAgC,IAAI,CAAClD,QAAQ,CAACiE,KAAK,KAAKzH,WAAW,CAAC0H,KAAK,GAC7C,SAAS,GACT,EAAG;AAC/B,gCAAgC,IAAI,CAAClE,QAAQ,CAACiE,KAAK,KAAKzH,WAAW,CAAC0H,KAAK,GAC7C7K,UAAU,GACVD,UAAW;AACvC;AACA,oCAAoC,GAChB,EAAG;AACvB;AACA;AACA;AACA;AACA,cAAcuI,cAAc,CAACiC,MAAM,GACnBrJ,IAAK;AACrB;AACA,sBAAsB,IAAI,CAACmF,IAAI,CAACwD,QAAQ,CAClB,yCACF,CAAE;AACtB;AACA;AACA,sBAAsBvB,cAAc,CAAC0C,GAAG,CACjBzC,IAAI,IACHrH,IAAK;AAC7B;AACA;AACA;AACA;AACA,4BAA4BqH,IAAI,CAAC0C,eAAgB;AACjD;AACA;AACA;AACA,oCAAoC1C,IAAK;AACzC,qCAAqC,IAAI,CAAC2C,aAAc;AACxD,qCAAqC,IAAI,CAAC7E,IAAI,CAACwD,QAAQ,CACzB,wCACF,CAAE;AAC9B;AACA,wCACoB,CAAE;AACtB;AACA,2BAA2B,GACX,EAAG;AACnB,cAAclB,cAAc,CAAC4B,MAAM,IAAI3B,gBAAgB,CAAC2B,MAAM,GAC9CrJ,IAAK;AACrB;AACA,sBAAsB,IAAI,CAACmF,IAAI,CAACwD,QAAQ,CACjB,iEACH,CAAE;AACtB;AACA;AACA,sBAAsBlB,cAAc,CAACqC,GAAG,CAAEzC,IAAI,IAAK;UAC7B,MAAM4C,SAAS,GAAGzI,iBAAiB,CAAC8F,QAAQ,CAC1CD,IAAI,CAACE,OAAO,CAACC,MACf,CAAC;UACD,OAAOxH,IAAK;AAClC;AACA,8CAA8CiK,SAAS,GAAG,WAAW,GAAG,EAAG;AAC3E;AACA;AACA;AACA,0BAA0B5C,IAAI,CAAC0C,eAAgB;AAC/C;AACA,6BAA6B,IAAI,CAAC5E,IAAI,CAACwD,QAAQ,CAClB,gCACCsB,SAAS,GAAG,WAAW,GAAG,YAC3B,EACH,CAAE;AAC5B;AACA;AACA;AACA;AACA,kCAAkC5C,IAAK;AACvC,mCAAmC,IAAI,CAAC2C,aAAc;AACtD,mCAAmC,IAAI,CAAC7E,IAAI,CAACwD,QAAQ,CACxB,gCACCsB,SAAS,GAAG,aAAa,GAAG,WAC7B,EACH,CAAE;AAC5B;AACA,sCAAsC;QAClB,CAAC,CAAE;AACvB,sBAAsBvC,gBAAgB,CAACoC,GAAG,CAAEI,IAAI,IAC1B,IAAI,CAACC,kBAAkB,CAACD,IAAI,CAC9B,CAAE;AACtB;AACA,2BAA2B,GACX,EAAG;AACnB;AACA;AACA;AACA,kBAAkB,CAAAnD,gBAAA,OAAI,CAACkC,SAAS,cAAAlC,gBAAA,eAAdA,gBAAA,CAAgBqD,gBAAgB,GAC9B,IAAI,CAACjF,IAAI,CAACwD,QAAQ,CACf,yDAAwD,IAAI,CAACM,SAAS,CAACmB,gBAAiB,EAC3F,CAAC,GACD,IAAI,CAACjF,IAAI,CAACwD,QAAQ,CACf,uDACH,CAAE;AACtB;AACA,gBAAgBhB,aAAa,CAAC0B,MAAM,KAAK,CAAC,GACxBrJ,IAAK;AACvB,sBAAsB,IAAI,CAACmF,IAAI,CAACwD,QAAQ,CAClB,0DACF,CAAE;AACtB,yBAAyB,GACPzI,OAAQ;AAC1B;AACA,kBAAkByH,aAAa,CAACmC,GAAG,CAAEI,IAAI,IAAK,IAAI,CAACC,kBAAkB,CAACD,IAAI,CAAC,CAAE;AAC7E;AACA;AACA,oCAAoC,IAAI,CAACG,eAAgB;AACzD,oBAAoB,CAAArD,gBAAA,OAAI,CAACiC,SAAS,cAAAjC,gBAAA,eAAdA,gBAAA,CAAgBoD,gBAAgB,GAC9B,IAAI,CAACjF,IAAI,CAACwD,QAAQ,CACf,qDAAoD,IAAI,CAACM,SAAS,CAACmB,gBAAiB,EACvF,CAAC,GACD,IAAI,CAACjF,IAAI,CAACwD,QAAQ,CACf,yDACH,CAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;MACH;IAAC;MAAAnF,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAmF,aAAqBuB,EAAE,EAAE;QACvBA,EAAE,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,cAAc;MAC1C;IAAC;MAAAjH,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAoF,cAAsBsB,EAAE,EAAE;QACxBA,EAAE,CAACC,MAAM,CAACC,KAAK,CAACC,OAAO,GAAG,MAAM;MAClC;IAAC;MAAAjH,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAuG,mBAA2BD,IAAiB,EAAE;QAC5C,IAAIQ,SAA4D;QAChE,IAAIC,cAAmD;QACvD,IAAIC,IAAY,GAAGlM,cAAc;QAEjC,IAAI,CAACwL,IAAI,CAACnC,WAAW,IAAImC,IAAI,CAAC7J,KAAK,KAAK,YAAY,EAAE;UACpDqK,SAAS,GAAG,CAAC,sDAAsD,CAAC;QACtE,CAAC,MAAM,IAAIR,IAAI,CAAC7J,KAAK,KAAK,mBAAmB,EAAE;UAC7CuK,IAAI,GAAGnL,iBAAiB;UACxBiL,SAAS,GAAG,CACV,6DAA6D,CAC9D;QACH,CAAC,MAAM,IAAIvJ,YAAY,CAACmG,QAAQ,CAAC4C,IAAI,CAAC7J,KAAK,CAAC,EAAE;UAC5C,IAAI6J,IAAI,CAAC7J,KAAK,KAAK,aAAa,EAAE;YAChCuK,IAAI,GAAGjL,cAAc;UACvB;UACA+K,SAAS,GAAG,CACT,mDAAkDR,IAAI,CAAC7J,KAAM,EAAC,CAChE;UACD,IAAI6J,IAAI,CAACW,MAAM,EAAE;YACf,IAAI,CAAC1F,IAAI,CAACU,sBAAsB,CAAC,QAAQ,EAAEqE,IAAI,CAAC7F,MAAM,CAAC;YACvDsG,cAAc,GAAG3K,IAAK,GAAE,IAAI,CAACmF,IAAI,CAACwD,QAAQ,CACvC,aAAYuB,IAAI,CAAC7F,MAAO,iBAAgB6F,IAAI,CAACW,MAAO,EACvD,CAAC,IAAIX,IAAI,CAACW,MAAO,EAAC;UACpB,CAAC,MAAM;YACLF,cAAc,GAAG3K,IAAK;AAC9B;AACA,YAAY,IAAI,CAACmF,IAAI,CAACwD,QAAQ,CAClB,0DACF,CAAE;AACZ,SAAS;UACH;QACF;QAEA,MAAMR,OAAO,GAAG,IAAI,CAAC2C,sBAAsB,CAACZ,IAAI,CAAC;QACjD,MAAM5B,QAAQ,GAAG,IAAI,CAACyC,uBAAuB,CAACb,IAAI,CAAC;QACnD,MAAM7E,QAAQ,GAAG,IAAI,CAAC2F,uBAAuB,CAACd,IAAI,CAAC;QAEnD,IAAIe,WAAwC,GAAG,EAAE;QAEjD,IAAIf,IAAI,CAACnC,WAAW,EAAE;UACpBkD,WAAW,CAACC,IAAI,CACd,IAAI,CAAC/F,IAAI,CAACwD,QAAQ,CAChB,kEAAkE,EAClE;YACEwC,KAAK,EACH,IAAI,CAAChG,IAAI,CAACwD,QAAQ,CACf,iEAAgEuB,IAAI,CAACnC,WAAY,EACpF,CAAC,IAAImC,IAAI,CAACnC;UACd,CACF,CACF,CAAC;UACD,IAAImC,IAAI,CAAC7J,KAAK,KAAK,eAAe,EAAE;YAClC4K,WAAW,CAACC,IAAI,CAAE;AAC1B,UAAU,IAAI,CAAC/F,IAAI,CAACwD,QAAQ,CAClB,mEACF,CAAE,GAAE,CAAC;UACP;QACF,CAAC,MAAM;UACL,KAAK,MAAM,CAACyC,KAAK,EAAEC,WAAW,CAAC,IAAI,CACjC,CAAClD,OAAO,EAAE,SAAS,CAAC,EACpB,CAACG,QAAQ,EAAE,UAAU,CAAC,CACvB,EAAW;YACV,IAAI8C,KAAK,CAAC/B,MAAM,KAAK,CAAC,EAAE;cACtB;YACF;YACA,MAAMiC,GAAG,GACPF,KAAK,CAAC/B,MAAM,KAAK,CAAC,GACb,0BAAyB+B,KAAK,CAAC,CAAC,CAAC,CAAC9B,EAAG,EAAC,GACtC,wDAAuDY,IAAI,CAACqB,QAAS,EAAC;YAC7EN,WAAW,CAACC,IAAI;YACd;YACAlL,IAAK,WAAUsL,GAAI;AAC7B,eAAe,IAAI,CAACnG,IAAI,CAACwD,QAAQ,CAClB,6CAA4C0C,WAAY,EAAC,EAC1D;cAAE9B,KAAK,EAAE6B,KAAK,CAAC/B;YAAO,CACxB,CAAE;AACd,YACQ,CAAC;UACH;UAEA,IAAIhE,QAAQ,CAACgE,MAAM,EAAE;YACnB4B,WAAW,CAACC,IAAI;YACd;YACAlL,IAAK;AACf,mBAAoB,+CAA8CkK,IAAI,CAACqB,QAAS,EAAE;AAClF,eAAe,IAAI,CAACpG,IAAI,CAACwD,QAAQ,CACnB,oDAAoD,EACpD;cAAEY,KAAK,EAAElE,QAAQ,CAACgE;YAAO,CAC3B,CAAE;AACd,YACQ,CAAC;UACH;UAEA,IAAI4B,WAAW,CAAC5B,MAAM,KAAK,CAAC,EAAE;YAC5B4B,WAAW,GAAG,CACZ,IAAI,CAAC9F,IAAI,CAACwD,QAAQ,CAChB,kEACF,CAAC,CACF;UACH,CAAC,MAAM,IAAIsC,WAAW,CAAC5B,MAAM,KAAK,CAAC,EAAE;YACnC4B,WAAW,GAAG,CACZA,WAAW,CAAC,CAAC,CAAC,EACb,IAAG,IAAI,CAAC9F,IAAI,CAACwD,QAAQ,CAAC,eAAe,CAAE,GAAE,EAC1CsC,WAAW,CAAC,CAAC,CAAC,CACf;UACH,CAAC,MAAM,IAAIA,WAAW,CAAC5B,MAAM,KAAK,CAAC,EAAE;YACnC4B,WAAW,GAAG,CACZA,WAAW,CAAC,CAAC,CAAC,EACd,IAAI,EACJA,WAAW,CAAC,CAAC,CAAC,EACb,IAAG,IAAI,CAAC9F,IAAI,CAACwD,QAAQ,CAAC,eAAe,CAAE,GAAE,EAC1CsC,WAAW,CAAC,CAAC,CAAC,CACf;UACH;QACF;QAEA,MAAMO,WAAW,GAAG,IAAI,CAACC,YAAY,CAACvB,IAAI,CAAC7F,MAAM,EAAE,IAAI,CAACc,IAAI,CAACb,MAAM,CAAC;QAEpE,OAAOtE,IAAK;AAChB;AACA,4BAA4BM,QAAQ,CAAC;UAC7B,kBAAkB,EAAE4J,IAAI,CAAE7J,KAAK,KAAK,YAAY;UAChD,qBAAqB,EAAE6J,IAAI,CAAE7J,KAAK,KAAK,eAAe;UACtD,aAAa,EAAE6J,IAAI,CAAE7J,KAAK,KAAK,mBAAmB;UAClD,aAAa,EAAEc,YAAY,CAACmG,QAAQ,CAAC4C,IAAI,CAAE7J,KAAK;QAClD,CAAC,CAAE;AACT,sBAAsB6J,IAAI,CAACqB,QAAS;AACpC,kBAAkBrB,IAAI,CAACnC,WAAY;AACnC,qBAAqBmC,IAAK;AAC1B;AACA;AACA;AACA,QAAQQ,SAAS,GACP1K,IAAK;AACf;AACA,mCAAmC4K,IAAK;AACxC,qBAAqB,IAAI,CAACzF,IAAI,CAACwD,QAAQ,CAAC,GAAG+B,SAAS,CAAE;AACtD,gBAAgBC,cAAc,GACZ3K,IAAK,mBAAkB2K,cAAe,mBAAkB,GACxD,EAAG;AACrB;AACA,WAAW,GACD,EAAG;AACb,QAAQT,IAAI,CAAClC,KAAK,IAAInG,YAAY,CAAC,IAAI,CAACsD,IAAI,CAACwD,QAAQ,EAAEuB,IAAI,CAAC7F,MAAM,CAAE;AACpE,+BAA+B4G,WAAY;AAC3C,QAAQf,IAAI,CAACnC,WAAW,KAAK,MAAM,GACzB/H,IAAK,6CAA4C,IAAI,CAAC0L,aAAc;AAC9E,cAAc,IAAI,CAACvG,IAAI,CAACwD,QAAQ,CAAC,kBAAkB,CAAE;AACrD,wBAAwB,GACd6C,WAAW,KACRtB,IAAI,CAAC7F,MAAM,KAAK,QAAQ,IAAI5D,YAAY,CAAC,IAAI,CAAC0E,IAAI,CAACwG,MAAM,CAACC,OAAO,CAAC,CAAC,GACpE5L,IAAK;AACjB;AACA,qBAAsB,IAAGwL,WAAY,iBAAgBtB,IAAI,CAACqB,QAAS,EAAE;AACrE;AACA,kBAAkB,IAAI,CAACpG,IAAI,CAACwD,QAAQ,CAClB,qDACF,CAAE;AAClB;AACA,cAAc,GACFuB,IAAI,CAAC2B,gBAAgB,IAAI,CAACnB,SAAS,GACjC1K,IAAK;AACnB,iDAAiD,IAAI,CAAC8L,YAAa;AACnE,oBAAoB,IAAI,CAAC3G,IAAI,CAACwD,QAAQ,CAClB,qDACF,CAAE;AACpB;AACA,eAAe,GACD,EAAG;AACjB;AACA;AACA;AACA,mBAAmB,IAAI,CAACxD,IAAI,CAACwD,QAAQ,CAAC,gBAAgB,CAAE;AACxD,kBAAkBxJ,eAAgB;AAClC;AACA,UAAU+K,IAAI,CAAC2B,gBAAgB,IAAInB,SAAS,GAChC1K,IAAK;AACjB,kCAAkC,IAAI,CAAC8L,YAAa;AACpD;AACA;AACA,kDAAkD9M,MAAO;AACzD,gBAAgB,IAAI,CAACmG,IAAI,CAACwD,QAAQ,CAClB,qDACF,CAAE;AAChB,4BAA4B,GAChB,EAAG;AACf,UAAUuB,IAAI,CAACnC,WAAW,IAAII,OAAO,CAACkB,MAAM,GAChCrJ,IAAK;AACjB,qBAAqBmI,OAAO,CAACkB,MAAM,KAAK,CAAC,GACtB,0BAAyBlB,OAAO,CAAC,CAAC,CAAC,CAACmB,EAAG,EAAC,GACxC,wDAAuDY,IAAI,CAACqB,QAAS,EAAE;AAC1F;AACA;AACA,qCAAqCrM,UAAW;AAChD,kBAAkB,IAAI,CAACiG,IAAI,CAACwD,QAAQ,CACjB,mDAAkD,EACnD;UAAEY,KAAK,EAAEpB,OAAO,CAACkB;QAAO,CAC1B,CAAE;AAClB;AACA;AACA,iBAAiB,GACL,EAAG;AACf,UAAUa,IAAI,CAACnC,WAAW,IAAIO,QAAQ,CAACe,MAAM,GACjCrJ,IAAK;AACjB,qBAAqBsI,QAAQ,CAACe,MAAM,KAAK,CAAC,GACvB,0BAAyBf,QAAQ,CAAC,CAAC,CAAC,CAACgB,EAAG,EAAC,GACzC,wDAAuDY,IAAI,CAACqB,QAAS,EAAE;AAC1F;AACA;AACA;AACA,0BAA0BlM,sBAAuB;AACjD;AACA;AACA,kBAAkB,IAAI,CAAC8F,IAAI,CAACwD,QAAQ,CACjB,oDAAmD,EACpD;UAAEY,KAAK,EAAEjB,QAAQ,CAACe;QAAO,CAC3B,CAAE;AAClB;AACA;AACA,iBAAiB,GACL,EAAG;AACf,UAAUa,IAAI,CAACnC,WAAW,IAAI1C,QAAQ,CAACgE,MAAM,GACjCrJ,IAAK;AACjB,qBAAsB,+CAA8CkK,IAAI,CAACqB,QAAS,EAAE;AACpF;AACA;AACA;AACA,0BAA0B1L,eAAgB;AAC1C;AACA;AACA,kBAAkB,IAAI,CAACsF,IAAI,CAACwD,QAAQ,CACjB,oDAAmD,EACpD;UAAEY,KAAK,EAAElE,QAAQ,CAACgE;QAAO,CAC3B,CAAE;AAClB;AACA;AACA,iBAAiB,GACL,EAAG;AACf,UAAU,CAACa,IAAI,CAACnC,WAAW,IACnB1G,kBAAkB,CAACiG,QAAQ,CAAC4C,IAAI,CAAC7J,KAAK,CAAC,IACvC6J,IAAI,CAAC6B,eAAe,IACpB7B,IAAI,CAAC1C,MAAM,KAAK,QAAQ,GACpBxH,IAAK;AACjB,kCAAkC,IAAI,CAACgM,aAAc;AACrD;AACA;AACA,gBAAgB,IAAI,CAAC7G,IAAI,CAACwD,QAAQ,CAClB,kDACF,CAAE;AAChB,kDAAkDjJ,SAAU;AAC5D,4BAA4B,GAChB,EAAG;AACf;AACA,0CAA0C,IAAI,CAACuM,aAAc;AAC7D,YAAY,IAAI,CAAC9G,IAAI,CAACwD,QAAQ,CAClB,kDACF,CAAE;AACZ,8CAA8C/I,YAAa;AAC3D;AACA;AACA;AACA;AACA,UAAU,IAAI,CAACsM,kBAAkB,IAAIhC,IAAI,CAAC7J,KAAK,KAAK,QAAQ,GAChDL,IAAK;AACjB,qBAAqB0B,oCAAoC,CAACwI,IAAI,CAACqB,QAAQ,CAAE;AACzE;AACA,uBAAuB,IAAI,CAACY,QAAS;AACrC;AACA;AACA,kBAAkB,IAAI,CAAChH,IAAI,CAACwD,QAAQ,CAClB,gEACF,CAAE;AAClB,oDAAoDvJ,WAAY;AAChE;AACA,iBAAiB,GACL,EAAG;AACf;AACA;AACA,8BAA8B,IAAI,CAACgN,oBAAqB;AACxD;AACA;AACA,YAAY,IAAI,CAACjH,IAAI,CAACwD,QAAQ,CAClB,0DACF,CAAE;AACZ,8CAA8C3J,MAAO;AACrD;AACA,UAAUkL,IAAI,CAACnC,WAAW,KAAK,MAAM,GACzB/H,IAAK;AACjB,kCAAkC,IAAI,CAAC0L,aAAc;AACrD;AACA;AACA,gBAAgB,IAAI,CAACvG,IAAI,CAACwD,QAAQ,CAAC,kBAAkB,CAAE;AACvD;AACA;AACA,wBAAwBnJ,oBAAqB;AAC7C;AACA,4BAA4B,GAChB0K,IAAI,CAAC1C,MAAM,KAAK,QAAQ,GACtBxH,IAAK;AACnB;AACA,oCAAoC,IAAI,CAACqM,cAAe;AACxD;AACA;AACA,kBAAkB,IAAI,CAAClH,IAAI,CAACwD,QAAQ,CAAC,mBAAmB,CAAE;AAC1D;AACA;AACA;AACA,0BAA0B7I,oBAAqB;AAC/C;AACA,8BAA8B,GAChB,EAAG;AACjB,UAAUoK,IAAI,CAAC1C,MAAM,KAAK,QAAQ,GACtBxH,IAAK;AACjB;AACA,kCAAkC,IAAI,CAACsM,aAAc;AACrD;AACA;AACA,gBAAgB,IAAI,CAACnH,IAAI,CAACwD,QAAQ,CAClB,kDACF,CAAE;AAChB;AACA;AACA;AACA,wBAAwB1J,SAAU;AAClC;AACA,4BAA4B,GAChB,EAAG;AACf;AACA,oBAAoB;MAClB;IAAC;MAAAuE,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAA8C,gBAAA,EAAgC;QAC9B,MAAM9F,UAAU,CAAC,CAAC;QAClB,MAAM2L,OAAO,GAAG,IAAI,CAAC/F,YAAY,CAACC,GAAG,CAAC,cAAc,CAAE;QACtD,MAAM+F,GAAG,GAAG,IAAI,CAACC,UAAU,CAAEC,aAAa,CACvC,mBAAkBH,OAAQ,IAC7B,CAAQ;QACR,IAAIC,GAAG,EAAE;UACPA,GAAG,CAACG,cAAc,CAAC;YACjBC,KAAK,EAAE;UACT,CAAC,CAAC;UACFJ,GAAG,CAACK,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;QAChC;MACF;IAAC;MAAAtJ,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAoG,cAAsBM,EAAE,EAAE;QACxBjI,oBAAoB,CAAC,IAAI,EAAE;UACzB0K,cAAc,EAAEzC,EAAE,CAACC,MAAM,CAAClD,IAAI,CAAC2F,OAAO;UACtCC,oBAAoB,EAAEA,CAAA,KAAM;YAC1B;UAAA;QAEJ,CAAC,CAAC;MACJ;IAAC;MAAAzJ,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAoC,eAAA,EAA+B;QAC7B,IAAI,CAAC,IAAI,CAAC3B,MAAM,EAAE;UAChB;QACF;QACA,IAAI,CAAC4E,SAAS,GAAG,MAAMnH,wBAAwB,CAAC,IAAI,CAACqD,IAAI,EAAE,IAAI,CAACd,MAAM,CAAC;QACvE,IACE,IAAI,CAAC4E,SAAS,CAACmB,gBAAgB,IAC/B,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC9C,QAAQ,CAAC,IAAI,CAAC2B,SAAS,CAACmB,gBAAgB,CAAC,EACvE;UACA,IAAI,CAACtE,mBAAmB,GAAG,MAAM1E,gBAAgB,CAAC,IAAI,CAAC+D,IAAI,EAAE;YAC3Dd,MAAM,EAAE,IAAI,CAACA;UACf,CAAC,CAAC;QACJ;MACF;IAAC;MAAAb,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAqC,kBAAA,EAAkC;QAChC,IAAI,CAAC,IAAI,CAAC5B,MAAM,IAAI,CAAC7D,iBAAiB,CAAC,IAAI,CAAC2E,IAAI,EAAE,aAAa,CAAC,EAAE;UAChE;QACF;QACA,IAAI;UACF,IAAI,CAAC+G,kBAAkB,GAAG,MAAMzK,sBAAsB,CACpD,IAAI,CAAC0D,IAAI,EACT,IAAI,CAACd,MACP,CAAC;QACH,CAAC,CAAC,OAAO6I,GAAQ,EAAE;UACjB;QAAA;MAEJ;IAAC;MAAA1J,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAiG,0BAAA,EAA0C;QACxC,MAAMsD,WAAW,GAAG,IAAI,CAAC9I,MAAM;QAC/B,MAAMnC,sBAAsB,CAC1B,IAAI,CAACiD,IAAI,EACTgI,WAAW,EACXlL,WAAW,CAACA,WAAW,CAAC0H,KAAK,CAAC,EAC9B,MACF,CAAC;MACH;IAAC;MAAAnG,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAgG,2BAAyCU,EAAS,EAAE;QAClD;QACA;QACAA,EAAE,CAAC8C,eAAe,CAAC,CAAC;QACpB,MAAMD,WAAW,GAAG,IAAI,CAAC9I,MAAM;QAC/B,MAAMnC,sBAAsB,CAC1B,IAAI,CAACiD,IAAI,EACTgI,WAAW,EACXlL,WAAW,CAACA,WAAW,CAACoL,MAAM,CAAC,EAC/B,MACF,CAAC;QACD,MAAMC,UAAU,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;QAC9D,MAAMC,WAAW,GAAI,kBAAiBP,WAAY,IAAGG,UAAW,MAAK;QACrE,MAAMK,SAAS,GAAG,MAAM5M,aAAa,CAAC,IAAI,CAACoE,IAAI,EAAEvD,sBAAsB,CAAC;QACxEkB,YAAY,CAAC6K,SAAS,CAACC,IAAI,EAAEF,WAAW,CAAC;MAC3C;IAAC;MAAAlK,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAEsBrD,UAAU,CAC/B,CACEsN,WAA0B,EAC1BC,qBAA4C,KAClB;UAC1B,IAAI,CAACA,qBAAqB,EAAE;YAC1B,OAAO,EAAE;UACX;UACA,MAAMC,QAAQ,GAAGF,WAAW,CAAC/D,GAAG,CAAE9E,KAAK,IAAKA,KAAK,CAACuG,QAAQ,CAAC;UAC3D,OAAOuC,qBAAqB,CAAC/I,MAAM,CAChCiJ,MAAM,IACLA,MAAM,CAACC,eAAe,IAAIF,QAAQ,CAACzG,QAAQ,CAAC0G,MAAM,CAACC,eAAe,CACtE,CAAC;QACH,CACF,CAAC;MAAA;IAAA;MAAAzK,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAEqBrD,UAAU,CAC9B,CACEsN,WAA0B,EAC1BK,qBAA+C,KACrB;UAC1B,IAAI,CAACA,qBAAqB,EAAE;YAC1B,OAAO,EAAE;UACX;UACA,MAAMH,QAAQ,GAAGF,WAAW,CAAC/D,GAAG,CAAE9E,KAAK,IAAKA,KAAK,CAACuG,QAAQ,CAAC;UAC3D,OAAO/G,MAAM,CAACC,MAAM,CAACyJ,qBAAqB,CAAC,CAACnJ,MAAM,CAAEyD,MAAM,IACxDA,MAAM,CAAC2F,cAAc,CAAC5F,IAAI,CAAEgE,OAAO,IAAKwB,QAAQ,CAACzG,QAAQ,CAACiF,OAAO,CAAC,CACpE,CAAC;QACH,CACF,CAAC;MAAA;IAAA;MAAA/I,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAGCiK,WAAwB,IACE;UAC1B,MAAMO,OAAO,GAAG,IAAI,CAACnH,oBAAoB,CACvC,IAAI,CAAC5C,MAAM,EACX,IAAI,CAACyB,mBAAmB,IAAI,IAAI,CAAChB,aACnC,CAAC;UACD,MAAMgJ,qBAAqB,GAAG,IAAI,CAACzF,YAAY,CAAC+F,OAAO,EAAE,IAAI,CAAC9I,SAAS,CAAC;UACxE,OAAOwI,qBAAqB,CAAC/I,MAAM,CAChCiJ,MAAM,IAAKA,MAAM,CAACC,eAAe,KAAKJ,WAAW,CAACtC,QACrD,CAAC;QACH,CAAC;MAAA;IAAA;MAAA/H,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAGCiK,WAAwB,IACE;UAC1B,MAAMO,OAAO,GAAG,IAAI,CAACnH,oBAAoB,CACvC,IAAI,CAAC5C,MAAM,EACX,IAAI,CAACyB,mBAAmB,IAAI,IAAI,CAAChB,aACnC,CAAC;UACD,MAAMoJ,qBAAqB,GAAG,IAAI,CAAC9F,WAAW,CAACgG,OAAO,EAAE,IAAI,CAACjJ,IAAI,CAACgD,OAAO,CAAC;UAC1E,OAAO3D,MAAM,CAACC,MAAM,CAACyJ,qBAAqB,CAAC,CAACnJ,MAAM,CAC/CyD,MAAM,IACLA,MAAM,CAAC2F,cAAc,CAAC7G,QAAQ,CAACuG,WAAW,CAACtC,QAAQ,CAAC,IACpD/C,MAAM,CAACC,UAAU,KAAK,SAC1B,CAAC;QACH,CAAC;MAAA;IAAA;MAAAjF,IAAA;MAAAG,GAAA;MAAAC,MAAA;QAAA,OAGCiK,WAAwB,IACE;UAC1B,MAAMO,OAAO,GAAG,IAAI,CAACnH,oBAAoB,CACvC,IAAI,CAAC5C,MAAM,EACX,IAAI,CAACyB,mBAAmB,IAAI,IAAI,CAAChB,aACnC,CAAC;UACD,MAAMoJ,qBAAqB,GAAG,IAAI,CAAC9F,WAAW,CAACgG,OAAO,EAAE,IAAI,CAACjJ,IAAI,CAACgD,OAAO,CAAC;UAC1E,OAAO3D,MAAM,CAACC,MAAM,CAACyJ,qBAAqB,CAAC,CAACnJ,MAAM,CAC/CyD,MAAM,IACLA,MAAM,CAAC2F,cAAc,CAAC7G,QAAQ,CAACuG,WAAW,CAACtC,QAAQ,CAAC,IACpD/C,MAAM,CAACC,UAAU,KAAK,SAC1B,CAAC;QACH,CAAC;MAAA;IAAA;MAAAjF,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAkI,aAAqBxB,EAAE,EAAE;QACvBhI,qBAAqB,CACnB,IAAI,EACJgI,EAAE,CAACC,MAAM,CAAC8D,OAAO,CAAC,eAAe,CAAC,CAACR,WAAW,EAC9C;UAAES,QAAQ,EAAE,IAAI,CAACrF;QAAU,CAC7B,CAAC;MACH;IAAC;MAAAzF,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAqI,cAAsB3B,EAAsC,EAAQ;QAClE,IAAI,CAAC5J,gCAAgC,CAAC4J,EAAE,CAAC,EAAE;UACzC;QACF;QACA,IAAI,CAACiE,cAAc,CACfjE,EAAE,CAACC,MAAM,CAAiB8D,OAAO,CAAC,eAAe,CAAC,CAASR,WAC/D,CAAC;MACH;IAAC;MAAArK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAoI,cAAsB1B,EAAsC,EAAQ;QAClE,IAAI,CAAC5J,gCAAgC,CAAC4J,EAAE,CAAC,EAAE;UACzC;QACF;QACA,IAAI,CAACkE,kBAAkB,CACnBlE,EAAE,CAACC,MAAM,CAAiB8D,OAAO,CAAC,eAAe,CAAC,CAASR,WAC/D,CAAC;MACH;IAAC;MAAArK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAA0I,cAAsBhC,EAAsC,EAAQ;QAClE,IAAI,CAAC5J,gCAAgC,CAAC4J,EAAE,CAAC,EAAE;UACzC;QACF;QACA,IAAI,CAACmE,kBAAkB,CACnBnE,EAAE,CAACC,MAAM,CAAiB8D,OAAO,CAAC,eAAe,CAAC,CAASR,WAC/D,CAAC;MACH;IAAC;MAAArK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAyI,eAAuB/B,EAAsC,EAAQ;QACnE,IAAI,CAAC5J,gCAAgC,CAAC4J,EAAE,CAAC,EAAE;UACzC;QACF;QACA,IAAI,CAACoE,mBAAmB,CACpBpE,EAAE,CAACC,MAAM,CAAiB8D,OAAO,CAAC,eAAe,CAAC,CAASR,WAC/D,CAAC;MACH;IAAC;MAAArK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAA8H,cAAsBpB,EAAsC,EAAQ;QAClE,IAAIA,EAAE,CAACqE,MAAM,CAACnH,MAAM,IAAI,CAAC9G,gCAAgC,CAAC4J,EAAE,CAAC,EAAE;UAC7D;QACF;QACA,IAAI,CAACsE,kBAAkB,CACnBtE,EAAE,CAACC,MAAM,CAAiB8D,OAAO,CAAC,eAAe,CAAC,CAASR,WAC/D,CAAC;MACH;IAAC;MAAArK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAwI,qBAA6B9B,EAAsC,EAAQ;QACzE,IAAI,CAAC5J,gCAAgC,CAAC4J,EAAE,CAAC,EAAE;UACzC;QACF;QACA,IAAI,CAACuE,kBAAkB,CACnBvE,EAAE,CAACC,MAAM,CAAiB8D,OAAO,CAAC,eAAe,CAAC,CAASR,WAC/D,CAAC;MACH;IAAC;MAAArK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAiL,mBAA2BhB,WAAwB,EAAE;QACnDzL,kCAAkC,CAAC,IAAI,EAAE;UACvC4C,KAAK,EAAE6I,WAAW;UAClBS,QAAQ,EAAE,IAAI,CAACrF;QACjB,CAAC,CAAC;MACJ;IAAC;MAAAzF,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAA8K,oBAAkCb,WAAwB,EAAE;QAC1D,MAAMtB,OAAO,GAAGsB,WAAW,CAACtC,QAAQ;QAEpC,MAAMuD,SAAS,GAAG,MAAMtM,sBAAsB,CAAC,IAAI,EAAE;UACnDwF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CACvB,iEAAiE,EACjE;YAAEX,KAAK,EAAE6F,WAAW,CAAC7F;UAAM,CAC7B,CAAC;UACD+G,IAAI,EAAE,IAAI,CAAC5J,IAAI,CAACwD,QAAQ,CACtB,gEACF,CAAC;UACDqG,WAAW,EAAE,IAAI,CAAC7J,IAAI,CAAEwD,QAAQ,CAAC,mBAAmB,CAAC;UACrDsG,WAAW,EAAE,IAAI,CAAC9J,IAAI,CAAEwD,QAAQ,CAAC,kBAAkB,CAAC;UACpDuG,WAAW,EAAE;QACf,CAAC,CAAC;QAEF,IAAI,CAACJ,SAAS,EAAE;UACd;QACF;QACA,IAAIK,MAAgC;QACpC,IAAI;UACFA,MAAM,GAAG,MAAMlO,kBAAkB,CAAC,IAAI,CAACkE,IAAI,EAAEoH,OAAO,CAAC;QACvD,CAAC,CAAC,OAAOW,GAAQ,EAAE;UACjB3K,eAAe,CAAC,IAAI,EAAE;YACpByF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CACvB,yDACF,CAAC;YACDoG,IAAI,EAAE7B,GAAG,CAACkC;UACZ,CAAC,CAAC;UACF;QACF;QACA,IAAID,MAAM,CAACE,eAAe,EAAE;UAC1B9M,eAAe,CAAC,IAAI,EAAE;YACpBwM,IAAI,EAAE,IAAI,CAAC5J,IAAI,CAACwD,QAAQ,CACtB,mEACF;UACF,CAAC,CAAC;QACJ;MACF;IAAC;MAAAnF,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAgL,mBAAiCf,WAAwB,EAAE;QACzD,MAAMtB,OAAO,GAAGsB,WAAW,CAACtC,QAAQ;QAEpC,IAAI4D,MAAgC;QACpC,IAAI;UACFA,MAAM,GAAG,MAAMjO,iBAAiB,CAAC,IAAI,CAACiE,IAAI,EAAEoH,OAAO,CAAC;QACtD,CAAC,CAAC,OAAOW,GAAQ,EAAE;UACjB3K,eAAe,CAAC,IAAI,EAAE;YACpByF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CACvB,yDACF,CAAC;YACDoG,IAAI,EAAE7B,GAAG,CAACkC;UACZ,CAAC,CAAC;UACF;QACF;QAEA,IAAID,MAAM,CAACE,eAAe,EAAE;UAC1B9M,eAAe,CAAC,IAAI,EAAE;YACpBwM,IAAI,EAAE,IAAI,CAAC5J,IAAI,CAACwD,QAAQ,CACtB,kEACF;UACF,CAAC,CAAC;QACJ;MACF;IAAC;MAAAnF,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAA6K,mBAAiCZ,WAAwB,EAAE;QACzD,MAAMtB,OAAO,GAAGsB,WAAW,CAACtC,QAAQ;QAEpC,MAAM+D,wBAAwB,GAC5B,MAAM,IAAI,CAACC,+BAA+B,CAAChD,OAAO,CAAC;QAErD,MAAMuC,SAAS,GAAG,MAAMtM,sBAAsB,CAAC,IAAI,EAAE;UACnDwF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CACvB,gEAAgE,EAChE;YAAEX,KAAK,EAAE6F,WAAW,CAAC7F;UAAM,CAC7B,CAAC;UACD+G,IAAI,EAAE,IAAI,CAAC5J,IAAI,CAACwD,QAAQ,CACtB,+DACF,CAAC;UACDqG,WAAW,EAAE,IAAI,CAAC7J,IAAI,CAAEwD,QAAQ,CAAC,kBAAkB,CAAC;UACpDsG,WAAW,EAAE,IAAI,CAAC9J,IAAI,CAAEwD,QAAQ,CAAC,kBAAkB,CAAC;UACpDuG,WAAW,EAAE;QACf,CAAC,CAAC;QAEF,IAAI,CAACJ,SAAS,EAAE;UACd;QACF;QACA,MAAMK,MAAM,GAAG,MAAMnO,iBAAiB,CAAC,IAAI,CAACmE,IAAI,EAAEoH,OAAO,CAAC;QAE1D,IAAI4C,MAAM,CAACE,eAAe,EAAE;UAC1B9M,eAAe,CAAC,IAAI,EAAE;YACpBwM,IAAI,EAAE,IAAI,CAAC5J,IAAI,CAACwD,QAAQ,CACtB,2DACF;UACF,CAAC,CAAC;QACJ;QACA,IAAI2G,wBAAwB,EAAE;UAC5B,IAAI,CAACE,4BAA4B,CAACF,wBAAwB,CAAC;QAC7D;MACF;;MAEA;MACA;MACA;IAAA;MAAA9L,IAAA;MAAAG,GAAA;MAAAC,KAAA,EACA,eAAA2L,gCAA8ChD,OAAe,EAAE;QAC7D,IAAI;UACF,OAAO,CAAC,MAAMzL,sCAAsC,CAAC,IAAI,CAACqE,IAAI,EAAEoH,OAAO,CAAC,EACrEkD,0BAA0B;QAC/B,CAAC,CAAC,OAAOvC,GAAQ,EAAE;UACjB;UACA,OAAO,IAAI;QACb;MACF;IAAC;MAAA1J,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAA4L,6BAA2CF,wBAAgC,EAAE;QAC3E,MAAMR,SAAS,GAAG,MAAMtM,sBAAsB,CAAC,IAAI,EAAE;UACnDwF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CACvB,gFACF,CAAC;UACDoG,IAAI,EAAE/O,IAAK,GAAE,IAAI,CAACmF,IAAI,CAACwD,QAAQ,CAC3B,iFACF,CAAE;AACV;AACA;AACA,UAAU,IAAI,CAACxD,IAAI,CAACwD,QAAQ,CAClB,iFACF,CAAE;AACV;AACA;AACA;AACA,iBAAiB9F,gBAAgB,CACrB,IAAI,CAACsC,IAAI,EACT,wCACF,CAAE;AACZ;AACA;AACA;AACA,YAAY,IAAI,CAACA,IAAI,CAACwD,QAAQ,CAClB,8EACF,CAAE;AACZ,aAAa;UACPuG,WAAW,EAAE,IAAI;UACjBF,WAAW,EAAE,IAAI,CAAC7J,IAAI,CAACwD,QAAQ,CAAC,kBAAkB,CAAC;UACnDsG,WAAW,EAAE,IAAI,CAAC9J,IAAI,CAACwD,QAAQ,CAC7B,2EACF;QACF,CAAC,CAAC;QACF,IAAI,CAACmG,SAAS,EAAE;UACd;QACF;QACA,IAAI;UACF,MAAMjO,2BAA2B,CAAC,IAAI,CAACsE,IAAI,EAAEmK,wBAAwB,CAAC;QACxE,CAAC,CAAC,OAAOpC,GAAQ,EAAE;UACjB3K,eAAe,CAAC,IAAI,EAAE;YACpByF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CACvB,sFACF,CAAC;YACDoG,IAAI,EAAE7B,GAAG,CAACkC;UACZ,CAAC,CAAC;QACJ;MACF;IAAC;MAAA5L,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAA4K,mBAAiCX,WAAwB,EAAE;QACzD,MAAMtB,OAAO,GAAGsB,WAAW,CAACtC,QAAQ;QAEpC,MAAM4D,MAAM,GAAG,MAAM7N,iBAAiB,CAAC,IAAI,CAAC6D,IAAI,EAAEoH,OAAO,CAAC;QAC1D,MAAMmD,UAAU,GAAGP,MAAM,CAACE,eAAe,GACrC,wBAAwB,GACxB,gBAAgB;QACpB9M,eAAe,CAAC,IAAI,EAAE;UACpBwM,IAAI,EAAE,IAAI,CAAC5J,IAAI,CAACwD,QAAQ,CACrB,6CAA4C+G,UAAW,EAC1D;QACF,CAAC,CAAC;MACJ;IAAC;MAAAlM,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAA2K,eAA6BV,WAAwB,EAAE;QACrD,MAAM8B,OAAO,GAAG,MAAMlN,gBAAgB,CAAC,IAAI,EAAE;UAC3CuF,KAAK,EAAE,IAAI,CAAC7C,IAAI,CAACwD,QAAQ,CAAC,4CAA4C,CAAC;UACvEiH,YAAY,EAAE/B,WAAW,CAAC7F,KAAK;UAC/B6H,UAAU,EAAE,IAAI,CAAC1K,IAAI,CAACwD,QAAQ,CAC5B,iDACF;QACF,CAAC,CAAC;QACF,IAAIgH,OAAO,KAAK,IAAI,EAAE;UACpB;QACF;QACA,MAAMpO,iBAAiB,CAAC,IAAI,CAAC4D,IAAI,EAAE0I,WAAW,CAACtC,QAAQ,EAAE;UACvDvD,KAAK,EAAE2H;QACT,CAAC,CAAC;MACJ;IAAC;MAAAnM,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAuI,SAAuB7B,EAAE,EAAE;QACzB,MAAMwF,MAAM,GAAGxF,EAAE,CAACC,MAAM,CAAC8D,OAAO,CAAC,GAAG,CAAC;QACrC/D,EAAE,CAACyF,cAAc,CAAC,CAAC;QACnB,MAAMpC,SAAS,GAAG,MAAM5M,aAAa,CACnC,IAAI,CAACoE,IAAI,EACT2K,MAAM,CAACE,YAAY,CAAC,MAAM,CAC5B,CAAC;QACDlN,YAAY,CAAC6K,SAAS,CAACC,IAAI,CAAC;MAC9B;IAAC;MAAApK,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAyG,gBAAA,EAAgC;QAC9BtH,wBAAwB,CAAC,IAAI,EAAE;UAC7BsB,MAAM,EAAE,IAAI,CAACA;QACf,CAAC,CAAC;MACJ;IAAC;MAAAb,IAAA;MAAAyM,MAAA;MAAAtM,GAAA;MAAAC,KAAA,EAED,SAAAsM,OAAA,EAAoC;QAClC,OAAO,CACLvN,OAAO,EACP5C,GAAI;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CACF;MACH;IAAC;EAAA;AAAA,GAlzCmC2C,cAAc,CAACzC,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}