{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport \"@material/mwc-button/mwc-button\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport \"../../../components/ha-analytics\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-checkbox\";\nimport \"../../../components/ha-settings-row\";\nimport { getAnalyticsDetails, setAnalyticsPreferences } from \"../../../data/analytics\";\nimport { haStyle } from \"../../../resources/styles\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nlet ConfigAnalytics = _decorate([customElement(\"ha-config-analytics\")], function (_initialize, _LitElement) {\n  class ConfigAnalytics extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: ConfigAnalytics,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_analyticsDetails\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        const error = this._error ? this._error : !isComponentLoaded(this.hass, \"analytics\") ? \"Analytics integration not loaded\" : undefined;\n        return html`\n      <ha-card outlined>\n        <div class=\"card-content\">\n          ${error ? html`<div class=\"error\">${error}</div>` : \"\"}\n          <p>${this.hass.localize(\"ui.panel.config.analytics.intro\")}</p>\n          <ha-analytics\n            translation_key_panel=\"config\"\n            @analytics-preferences-changed=${this._preferencesChanged}\n            .localize=${this.hass.localize}\n            .analytics=${this._analyticsDetails}\n          ></ha-analytics>\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._save}>\n            ${this.hass.localize(\"ui.panel.config.core.section.core.core_config.save_button\")}\n          </mwc-button>\n        </div>\n      </ha-card>\n      <div class=\"footer\">\n        <a\n          .href=${documentationUrl(this.hass, \"/integrations/analytics/\")}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          ${this.hass.localize(\"ui.panel.config.analytics.learn_more\")}\n        </a>\n      </div>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        _get(_getPrototypeOf(ConfigAnalytics.prototype), \"firstUpdated\", this).call(this, changedProps);\n        if (isComponentLoaded(this.hass, \"analytics\")) {\n          this._load();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_load\",\n      value: async function _load() {\n        this._error = undefined;\n        try {\n          this._analyticsDetails = await getAnalyticsDetails(this.hass);\n        } catch (err) {\n          this._error = err.message || err;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_save\",\n      value: async function _save() {\n        this._error = undefined;\n        try {\n          var _this$_analyticsDetai;\n          await setAnalyticsPreferences(this.hass, ((_this$_analyticsDetai = this._analyticsDetails) === null || _this$_analyticsDetai === void 0 ? void 0 : _this$_analyticsDetai.preferences) || {});\n        } catch (err) {\n          this._error = err.message || err;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_preferencesChanged\",\n      value: function _preferencesChanged(event) {\n        this._analyticsDetails = {\n          ...this._analyticsDetails,\n          preferences: event.detail.preferences\n        };\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, css`\n        .error {\n          color: var(--error-color);\n        }\n\n        ha-settings-row {\n          padding: 0;\n        }\n        p {\n          margin-top: 0;\n        }\n        .card-actions {\n          display: flex;\n          flex-direction: row-reverse;\n          justify-content: space-between;\n          align-items: center;\n        }\n        .footer {\n          padding: 32px 0 16px;\n          text-align: center;\n        }\n      ` // row-reverse so we tab first to \"save\"\n        ];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","state","isComponentLoaded","getAnalyticsDetails","setAnalyticsPreferences","haStyle","documentationUrl","ConfigAnalytics","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","render","error","_error","hass","undefined","localize","_preferencesChanged","_analyticsDetails","_save","firstUpdated","changedProps","_get","_getPrototypeOf","prototype","call","_load","err","message","_this$_analyticsDetai","preferences","event","detail","static","styles"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/config/core/ha-config-analytics.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport \"../../../components/ha-analytics\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-checkbox\";\nimport \"../../../components/ha-settings-row\";\nimport {\n  Analytics,\n  getAnalyticsDetails,\n  setAnalyticsPreferences,\n} from \"../../../data/analytics\";\nimport { haStyle } from \"../../../resources/styles\";\nimport type { HomeAssistant } from \"../../../types\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\n\n@customElement(\"ha-config-analytics\")\nclass ConfigAnalytics extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _analyticsDetails?: Analytics;\n\n  @state() private _error?: string;\n\n  protected render(): TemplateResult {\n    const error = this._error\n      ? this._error\n      : !isComponentLoaded(this.hass, \"analytics\")\n        ? \"Analytics integration not loaded\"\n        : undefined;\n\n    return html`\n      <ha-card outlined>\n        <div class=\"card-content\">\n          ${error ? html`<div class=\"error\">${error}</div>` : \"\"}\n          <p>${this.hass.localize(\"ui.panel.config.analytics.intro\")}</p>\n          <ha-analytics\n            translation_key_panel=\"config\"\n            @analytics-preferences-changed=${this._preferencesChanged}\n            .localize=${this.hass.localize}\n            .analytics=${this._analyticsDetails}\n          ></ha-analytics>\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._save}>\n            ${this.hass.localize(\n              \"ui.panel.config.core.section.core.core_config.save_button\"\n            )}\n          </mwc-button>\n        </div>\n      </ha-card>\n      <div class=\"footer\">\n        <a\n          .href=${documentationUrl(this.hass, \"/integrations/analytics/\")}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          ${this.hass.localize(\"ui.panel.config.analytics.learn_more\")}\n        </a>\n      </div>\n    `;\n  }\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n    if (isComponentLoaded(this.hass, \"analytics\")) {\n      this._load();\n    }\n  }\n\n  private async _load() {\n    this._error = undefined;\n    try {\n      this._analyticsDetails = await getAnalyticsDetails(this.hass);\n    } catch (err: any) {\n      this._error = err.message || err;\n    }\n  }\n\n  private async _save() {\n    this._error = undefined;\n    try {\n      await setAnalyticsPreferences(\n        this.hass,\n        this._analyticsDetails?.preferences || {}\n      );\n    } catch (err: any) {\n      this._error = err.message || err;\n    }\n  }\n\n  private _preferencesChanged(event: CustomEvent): void {\n    this._analyticsDetails = {\n      ...this._analyticsDetails!,\n      preferences: event.detail.preferences,\n    };\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        .error {\n          color: var(--error-color);\n        }\n\n        ha-settings-row {\n          padding: 0;\n        }\n        p {\n          margin-top: 0;\n        }\n        .card-actions {\n          display: flex;\n          flex-direction: row-reverse;\n          justify-content: space-between;\n          align-items: center;\n        }\n        .footer {\n          padding: 32px 0 16px;\n          text-align: center;\n        }\n      `, // row-reverse so we tab first to \"save\"\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-analytics\": ConfigAnalytics;\n  }\n}\n"],"mappings":";;;AAAA,OAAO,iCAAiC;AACxC,SACEA,GAAG,EAEHC,IAAI,EACJC,UAAU,QAGL,KAAK;AACZ,SAASC,aAAa,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,gBAAgB;AAC/D,SAASC,iBAAiB,QAAQ,4CAA4C;AAC9E,OAAO,kCAAkC;AACzC,OAAO,6BAA6B;AACpC,OAAO,iCAAiC;AACxC,OAAO,qCAAqC;AAC5C,SAEEC,mBAAmB,EACnBC,uBAAuB,QAClB,yBAAyB;AAChC,SAASC,OAAO,QAAQ,2BAA2B;AAEnD,SAASC,gBAAgB,QAAQ,iCAAiC;AAAC,IAG7DC,eAAe,GAAAC,SAAA,EADpBT,aAAa,CAAC,qBAAqB,CAAC,aAAAU,WAAA,EAAAC,WAAA;EAArC,MACMH,eAAe,SAAAG,WAAA,CAAoB;IAAAC,YAAA,GAAAC,IAAA;MAAA,SAAAA,IAAA;MAAAH,WAAA;IAAA;EA4GzC;EAAC;IAAAI,CAAA,EA5GKN,eAAe;IAAAO,CAAA;MAAAC,IAAA;MAAAC,UAAA,GAClBhB,QAAQ,CAAC;QAAEiB,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAE9Bf,KAAK,CAAC,CAAC;MAAAiB,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEPf,KAAK,CAAC,CAAC;MAAAiB,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAER,SAAAC,OAAA,EAAmC;QACjC,MAAMC,KAAK,GAAG,IAAI,CAACC,MAAM,GACrB,IAAI,CAACA,MAAM,GACX,CAACpB,iBAAiB,CAAC,IAAI,CAACqB,IAAI,EAAE,WAAW,CAAC,GACxC,kCAAkC,GAClCC,SAAS;QAEf,OAAO3B,IAAK;AAChB;AACA;AACA,YAAYwB,KAAK,GAAGxB,IAAK,sBAAqBwB,KAAM,QAAO,GAAG,EAAG;AACjE,eAAe,IAAI,CAACE,IAAI,CAACE,QAAQ,CAAC,iCAAiC,CAAE;AACrE;AACA;AACA,6CAA6C,IAAI,CAACC,mBAAoB;AACtE,wBAAwB,IAAI,CAACH,IAAI,CAACE,QAAS;AAC3C,yBAAyB,IAAI,CAACE,iBAAkB;AAChD;AACA;AACA;AACA,+BAA+B,IAAI,CAACC,KAAM;AAC1C,cAAc,IAAI,CAACL,IAAI,CAACE,QAAQ,CAClB,2DACF,CAAE;AACd;AACA;AACA;AACA;AACA;AACA,kBAAkBnB,gBAAgB,CAAC,IAAI,CAACiB,IAAI,EAAE,0BAA0B,CAAE;AAC1E;AACA;AACA;AACA,YAAY,IAAI,CAACA,IAAI,CAACE,QAAQ,CAAC,sCAAsC,CAAE;AACvE;AACA;AACA,KAAK;MACH;IAAC;MAAAV,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAU,aAAuBC,YAA4B,EAAE;QACnDC,IAAA,CAAAC,eAAA,CA/CEzB,eAAe,CAAA0B,SAAA,yBAAAC,IAAA,OA+CEJ,YAAY;QAC/B,IAAI5B,iBAAiB,CAAC,IAAI,CAACqB,IAAI,EAAE,WAAW,CAAC,EAAE;UAC7C,IAAI,CAACY,KAAK,CAAC,CAAC;QACd;MACF;IAAC;MAAApB,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAgB,MAAA,EAAsB;QACpB,IAAI,CAACb,MAAM,GAAGE,SAAS;QACvB,IAAI;UACF,IAAI,CAACG,iBAAiB,GAAG,MAAMxB,mBAAmB,CAAC,IAAI,CAACoB,IAAI,CAAC;QAC/D,CAAC,CAAC,OAAOa,GAAQ,EAAE;UACjB,IAAI,CAACd,MAAM,GAAGc,GAAG,CAACC,OAAO,IAAID,GAAG;QAClC;MACF;IAAC;MAAArB,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,eAAAS,MAAA,EAAsB;QACpB,IAAI,CAACN,MAAM,GAAGE,SAAS;QACvB,IAAI;UAAA,IAAAc,qBAAA;UACF,MAAMlC,uBAAuB,CAC3B,IAAI,CAACmB,IAAI,EACT,EAAAe,qBAAA,OAAI,CAACX,iBAAiB,cAAAW,qBAAA,uBAAtBA,qBAAA,CAAwBC,WAAW,KAAI,CAAC,CAC1C,CAAC;QACH,CAAC,CAAC,OAAOH,GAAQ,EAAE;UACjB,IAAI,CAACd,MAAM,GAAGc,GAAG,CAACC,OAAO,IAAID,GAAG;QAClC;MACF;IAAC;MAAArB,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAO,oBAA4Bc,KAAkB,EAAQ;QACpD,IAAI,CAACb,iBAAiB,GAAG;UACvB,GAAG,IAAI,CAACA,iBAAkB;UAC1BY,WAAW,EAAEC,KAAK,CAACC,MAAM,CAACF;QAC5B,CAAC;MACH;IAAC;MAAAxB,IAAA;MAAA2B,MAAA;MAAAxB,GAAA;MAAAC,KAAA,EAED,SAAAwB,OAAA,EAAoC;QAClC,OAAO,CACLtC,OAAO,EACPT,GAAI;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAAE;QAAA,CACJ;MACH;IAAC;EAAA;AAAA,GA3G2BE,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}