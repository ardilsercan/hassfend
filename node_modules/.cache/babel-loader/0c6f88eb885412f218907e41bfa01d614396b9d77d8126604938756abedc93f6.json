{"ast":null,"code":"import { historyPromise } from \"../state/url-sync-mixin\";\nimport { fireEvent } from \"./dom/fire_event\";\nimport { mainWindow } from \"./dom/get_main_window\";\nexport const navigate = (path, options) => {\n  const replace = (options === null || options === void 0 ? void 0 : options.replace) || false;\n  if (historyPromise) {\n    historyPromise.then(() => navigate(path, options));\n    return;\n  }\n  if (__DEMO__) {\n    if (replace) {\n      var _mainWindow$history$s;\n      mainWindow.history.replaceState((_mainWindow$history$s = mainWindow.history.state) !== null && _mainWindow$history$s !== void 0 && _mainWindow$history$s.root ? {\n        root: true\n      } : null, \"\", `${mainWindow.location.pathname}#${path}`);\n    } else {\n      mainWindow.location.hash = path;\n    }\n  } else if (replace) {\n    var _mainWindow$history$s2;\n    mainWindow.history.replaceState((_mainWindow$history$s2 = mainWindow.history.state) !== null && _mainWindow$history$s2 !== void 0 && _mainWindow$history$s2.root ? {\n      root: true\n    } : null, \"\", path);\n  } else {\n    mainWindow.history.pushState(null, \"\", path);\n  }\n  fireEvent(mainWindow, \"location-changed\", {\n    replace\n  });\n};","map":{"version":3,"names":["historyPromise","fireEvent","mainWindow","navigate","path","options","replace","then","__DEMO__","_mainWindow$history$s","history","replaceState","state","root","location","pathname","hash","_mainWindow$history$s2","pushState"],"sources":["/workspaces/frontend/src/common/navigate.ts"],"sourcesContent":["import { historyPromise } from \"../state/url-sync-mixin\";\nimport { fireEvent } from \"./dom/fire_event\";\nimport { mainWindow } from \"./dom/get_main_window\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"location-changed\": NavigateOptions;\n  }\n}\n\nexport interface NavigateOptions {\n  replace?: boolean;\n}\n\nexport const navigate = (path: string, options?: NavigateOptions) => {\n  const replace = options?.replace || false;\n\n  if (historyPromise) {\n    historyPromise.then(() => navigate(path, options));\n    return;\n  }\n\n  if (__DEMO__) {\n    if (replace) {\n      mainWindow.history.replaceState(\n        mainWindow.history.state?.root ? { root: true } : null,\n        \"\",\n        `${mainWindow.location.pathname}#${path}`\n      );\n    } else {\n      mainWindow.location.hash = path;\n    }\n  } else if (replace) {\n    mainWindow.history.replaceState(\n      mainWindow.history.state?.root ? { root: true } : null,\n      \"\",\n      path\n    );\n  } else {\n    mainWindow.history.pushState(null, \"\", path);\n  }\n  fireEvent(mainWindow, \"location-changed\", {\n    replace,\n  });\n};\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,yBAAyB;AACxD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,UAAU,QAAQ,uBAAuB;AAalD,OAAO,MAAMC,QAAQ,GAAGA,CAACC,IAAY,EAAEC,OAAyB,KAAK;EACnE,MAAMC,OAAO,GAAG,CAAAD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,OAAO,KAAI,KAAK;EAEzC,IAAIN,cAAc,EAAE;IAClBA,cAAc,CAACO,IAAI,CAAC,MAAMJ,QAAQ,CAACC,IAAI,EAAEC,OAAO,CAAC,CAAC;IAClD;EACF;EAEA,IAAIG,QAAQ,EAAE;IACZ,IAAIF,OAAO,EAAE;MAAA,IAAAG,qBAAA;MACXP,UAAU,CAACQ,OAAO,CAACC,YAAY,CAC7B,CAAAF,qBAAA,GAAAP,UAAU,CAACQ,OAAO,CAACE,KAAK,cAAAH,qBAAA,eAAxBA,qBAAA,CAA0BI,IAAI,GAAG;QAAEA,IAAI,EAAE;MAAK,CAAC,GAAG,IAAI,EACtD,EAAE,EACD,GAAEX,UAAU,CAACY,QAAQ,CAACC,QAAS,IAAGX,IAAK,EAC1C,CAAC;IACH,CAAC,MAAM;MACLF,UAAU,CAACY,QAAQ,CAACE,IAAI,GAAGZ,IAAI;IACjC;EACF,CAAC,MAAM,IAAIE,OAAO,EAAE;IAAA,IAAAW,sBAAA;IAClBf,UAAU,CAACQ,OAAO,CAACC,YAAY,CAC7B,CAAAM,sBAAA,GAAAf,UAAU,CAACQ,OAAO,CAACE,KAAK,cAAAK,sBAAA,eAAxBA,sBAAA,CAA0BJ,IAAI,GAAG;MAAEA,IAAI,EAAE;IAAK,CAAC,GAAG,IAAI,EACtD,EAAE,EACFT,IACF,CAAC;EACH,CAAC,MAAM;IACLF,UAAU,CAACQ,OAAO,CAACQ,SAAS,CAAC,IAAI,EAAE,EAAE,EAAEd,IAAI,CAAC;EAC9C;EACAH,SAAS,CAACC,UAAU,EAAE,kBAAkB,EAAE;IACxCI;EACF,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}