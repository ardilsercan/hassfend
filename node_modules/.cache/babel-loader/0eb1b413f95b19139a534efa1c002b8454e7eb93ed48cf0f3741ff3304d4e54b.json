{"ast":null,"code":"export const fetchWithAuth = async (auth, input, init = {}) => {\n  if (auth.expired) {\n    await auth.refreshAccessToken();\n  }\n  init.credentials = \"same-origin\";\n  if (!init.headers) {\n    init.headers = {};\n  }\n  if (!init.headers) {\n    init.headers = {};\n  }\n  // @ts-ignore\n  init.headers.authorization = `Bearer ${auth.accessToken}`;\n  return fetch(input, init);\n};","map":{"version":3,"names":["fetchWithAuth","auth","input","init","expired","refreshAccessToken","credentials","headers","authorization","accessToken","fetch"],"sources":["/Users/sercanardil/Desktop/frontend/src/util/fetch-with-auth.ts"],"sourcesContent":["import { Auth } from \"home-assistant-js-websocket\";\n\nexport const fetchWithAuth = async (\n  auth: Auth,\n  input: RequestInfo,\n  init: RequestInit = {}\n) => {\n  if (auth.expired) {\n    await auth.refreshAccessToken();\n  }\n  init.credentials = \"same-origin\";\n  if (!init.headers) {\n    init.headers = {};\n  }\n  if (!init.headers) {\n    init.headers = {};\n  }\n  // @ts-ignore\n  init.headers.authorization = `Bearer ${auth.accessToken}`;\n  return fetch(input, init);\n};\n"],"mappings":"AAEA,OAAO,MAAMA,aAAa,GAAG,MAAAA,CAC3BC,IAAU,EACVC,KAAkB,EAClBC,IAAiB,GAAG,CAAC,CAAC,KACnB;EACH,IAAIF,IAAI,CAACG,OAAO,EAAE;IAChB,MAAMH,IAAI,CAACI,kBAAkB,CAAC,CAAC;EACjC;EACAF,IAAI,CAACG,WAAW,GAAG,aAAa;EAChC,IAAI,CAACH,IAAI,CAACI,OAAO,EAAE;IACjBJ,IAAI,CAACI,OAAO,GAAG,CAAC,CAAC;EACnB;EACA,IAAI,CAACJ,IAAI,CAACI,OAAO,EAAE;IACjBJ,IAAI,CAACI,OAAO,GAAG,CAAC,CAAC;EACnB;EACA;EACAJ,IAAI,CAACI,OAAO,CAACC,aAAa,GAAI,UAASP,IAAI,CAACQ,WAAY,EAAC;EACzD,OAAOC,KAAK,CAACR,KAAK,EAAEC,IAAI,CAAC;AAC3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}