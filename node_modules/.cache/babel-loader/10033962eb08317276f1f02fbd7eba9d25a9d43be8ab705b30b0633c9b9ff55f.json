{"ast":null,"code":"import { createCollection } from \"home-assistant-js-websocket\";\nimport { debounce } from \"../common/util/debounce\";\nconst fetchAreaRegistry = conn => conn.sendMessagePromise({\n  type: \"config/area_registry/list\"\n});\nconst subscribeAreaRegistryUpdates = (conn, store) => conn.subscribeEvents(debounce(() => fetchAreaRegistry(conn).then(areas => store.setState(areas, true)), 500, true), \"area_registry_updated\");\nexport const subscribeAreaRegistry = (conn, onChange) => createCollection(\"_areaRegistry\", fetchAreaRegistry, subscribeAreaRegistryUpdates, conn, onChange);","map":{"version":3,"names":["createCollection","debounce","fetchAreaRegistry","conn","sendMessagePromise","type","subscribeAreaRegistryUpdates","store","subscribeEvents","then","areas","setState","subscribeAreaRegistry","onChange"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/ws-area_registry.ts"],"sourcesContent":["import { Connection, createCollection } from \"home-assistant-js-websocket\";\nimport { Store } from \"home-assistant-js-websocket/dist/store\";\nimport { debounce } from \"../common/util/debounce\";\nimport { AreaRegistryEntry } from \"./area_registry\";\n\nconst fetchAreaRegistry = (conn: Connection) =>\n  conn.sendMessagePromise<AreaRegistryEntry[]>({\n    type: \"config/area_registry/list\",\n  });\n\nconst subscribeAreaRegistryUpdates = (\n  conn: Connection,\n  store: Store<AreaRegistryEntry[]>\n) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchAreaRegistry(conn).then((areas: AreaRegistryEntry[]) =>\n          store.setState(areas, true)\n        ),\n      500,\n      true\n    ),\n    \"area_registry_updated\"\n  );\n\nexport const subscribeAreaRegistry = (\n  conn: Connection,\n  onChange: (areas: AreaRegistryEntry[]) => void\n) =>\n  createCollection<AreaRegistryEntry[]>(\n    \"_areaRegistry\",\n    fetchAreaRegistry,\n    subscribeAreaRegistryUpdates,\n    conn,\n    onChange\n  );\n"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAQ,6BAA6B;AAE1E,SAASC,QAAQ,QAAQ,yBAAyB;AAGlD,MAAMC,iBAAiB,GAAIC,IAAgB,IACzCA,IAAI,CAACC,kBAAkB,CAAsB;EAC3CC,IAAI,EAAE;AACR,CAAC,CAAC;AAEJ,MAAMC,4BAA4B,GAAGA,CACnCH,IAAgB,EAChBI,KAAiC,KAEjCJ,IAAI,CAACK,eAAe,CAClBP,QAAQ,CACN,MACEC,iBAAiB,CAACC,IAAI,CAAC,CAACM,IAAI,CAAEC,KAA0B,IACtDH,KAAK,CAACI,QAAQ,CAACD,KAAK,EAAE,IAAI,CAC5B,CAAC,EACH,GAAG,EACH,IACF,CAAC,EACD,uBACF,CAAC;AAEH,OAAO,MAAME,qBAAqB,GAAGA,CACnCT,IAAgB,EAChBU,QAA8C,KAE9Cb,gBAAgB,CACd,eAAe,EACfE,iBAAiB,EACjBI,4BAA4B,EAC5BH,IAAI,EACJU,QACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}