{"ast":null,"code":"import \"core-js/modules/es.object.assign.js\";\nimport { differenceInDays, differenceInWeeks, startOfWeek } from \"date-fns/esm\";\nimport { firstWeekdayIndex } from \"../datetime/first_weekday\";\nvar MS_PER_SECOND = 1e3;\nvar SECS_PER_MIN = 60;\nvar SECS_PER_HOUR = SECS_PER_MIN * 60;\n\n// Adapted from https://github.com/formatjs/formatjs/blob/186cef62f980ec66252ee232f438a42d0b51b9f9/packages/intl-utils/src/diff.ts\nexport function selectUnit(from) {\n  var to = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Date.now();\n  var locale = arguments.length > 2 ? arguments[2] : undefined;\n  var thresholds = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var resolvedThresholds = Object.assign(Object.assign({}, DEFAULT_THRESHOLDS), thresholds || {});\n  var secs = (+from - +to) / MS_PER_SECOND;\n  if (Math.abs(secs) < resolvedThresholds.second) {\n    return {\n      value: Math.round(secs),\n      unit: \"second\"\n    };\n  }\n  var mins = secs / SECS_PER_MIN;\n  if (Math.abs(mins) < resolvedThresholds.minute) {\n    return {\n      value: Math.round(mins),\n      unit: \"minute\"\n    };\n  }\n  var hours = secs / SECS_PER_HOUR;\n  if (Math.abs(hours) < resolvedThresholds.hour) {\n    return {\n      value: Math.round(hours),\n      unit: \"hour\"\n    };\n  }\n  var fromDate = new Date(from);\n  var toDate = new Date(to);\n\n  // Set time component to zero, which allows us to compare only the days\n  fromDate.setHours(0, 0, 0, 0);\n  toDate.setHours(0, 0, 0, 0);\n  var days = differenceInDays(fromDate, toDate);\n  if (days === 0) {\n    return {\n      value: Math.round(hours),\n      unit: \"hour\"\n    };\n  }\n  if (Math.abs(days) < resolvedThresholds.day) {\n    return {\n      value: days,\n      unit: \"day\"\n    };\n  }\n  var firstWeekday = firstWeekdayIndex(locale);\n  var fromWeek = startOfWeek(fromDate, {\n    weekStartsOn: firstWeekday\n  });\n  var toWeek = startOfWeek(toDate, {\n    weekStartsOn: firstWeekday\n  });\n  var weeks = differenceInWeeks(fromWeek, toWeek);\n  if (weeks === 0) {\n    return {\n      value: days,\n      unit: \"day\"\n    };\n  }\n  if (Math.abs(weeks) < resolvedThresholds.week) {\n    return {\n      value: weeks,\n      unit: \"week\"\n    };\n  }\n  var years = fromDate.getFullYear() - toDate.getFullYear();\n  var months = years * 12 + fromDate.getMonth() - toDate.getMonth();\n  if (months === 0) {\n    return {\n      value: weeks,\n      unit: \"week\"\n    };\n  }\n  if (Math.abs(months) < resolvedThresholds.month || years === 0) {\n    return {\n      value: months,\n      unit: \"month\"\n    };\n  }\n  return {\n    value: Math.round(years),\n    unit: \"year\"\n  };\n}\nexport var DEFAULT_THRESHOLDS = {\n  second: 45,\n  // seconds to minute\n  minute: 45,\n  // minutes to hour\n  hour: 22,\n  // hour to day\n  day: 5,\n  // day to week\n  week: 4,\n  // week to months\n  month: 11 // month to years\n};","map":{"version":3,"names":["differenceInDays","differenceInWeeks","startOfWeek","firstWeekdayIndex","MS_PER_SECOND","SECS_PER_MIN","SECS_PER_HOUR","selectUnit","from","to","arguments","length","undefined","Date","now","locale","thresholds","resolvedThresholds","Object","assign","DEFAULT_THRESHOLDS","secs","Math","abs","second","value","round","unit","mins","minute","hours","hour","fromDate","toDate","setHours","days","day","firstWeekday","fromWeek","weekStartsOn","toWeek","weeks","week","years","getFullYear","months","getMonth","month"],"sources":["/Users/sercanardil/Desktop/frontend/src/common/util/select-unit.ts"],"sourcesContent":["import { differenceInDays, differenceInWeeks, startOfWeek } from \"date-fns/esm\";\nimport { FrontendLocaleData } from \"../../data/translation\";\nimport { firstWeekdayIndex } from \"../datetime/first_weekday\";\n\nexport type Unit =\n  | \"second\"\n  | \"minute\"\n  | \"hour\"\n  | \"day\"\n  | \"week\"\n  | \"month\"\n  | \"quarter\"\n  | \"year\";\n\nconst MS_PER_SECOND = 1e3;\nconst SECS_PER_MIN = 60;\nconst SECS_PER_HOUR = SECS_PER_MIN * 60;\n\n// Adapted from https://github.com/formatjs/formatjs/blob/186cef62f980ec66252ee232f438a42d0b51b9f9/packages/intl-utils/src/diff.ts\nexport function selectUnit(\n  from: Date | number,\n  // eslint-disable-next-line @typescript-eslint/default-param-last\n  to: Date | number = Date.now(),\n  locale: FrontendLocaleData,\n  thresholds: Partial<Thresholds> = {}\n): { value: number; unit: Unit } {\n  const resolvedThresholds: Thresholds = {\n    ...DEFAULT_THRESHOLDS,\n    ...(thresholds || {}),\n  };\n\n  const secs = (+from - +to) / MS_PER_SECOND;\n  if (Math.abs(secs) < resolvedThresholds.second) {\n    return {\n      value: Math.round(secs),\n      unit: \"second\",\n    };\n  }\n\n  const mins = secs / SECS_PER_MIN;\n  if (Math.abs(mins) < resolvedThresholds.minute) {\n    return {\n      value: Math.round(mins),\n      unit: \"minute\",\n    };\n  }\n\n  const hours = secs / SECS_PER_HOUR;\n  if (Math.abs(hours) < resolvedThresholds.hour) {\n    return {\n      value: Math.round(hours),\n      unit: \"hour\",\n    };\n  }\n\n  const fromDate = new Date(from);\n  const toDate = new Date(to);\n\n  // Set time component to zero, which allows us to compare only the days\n  fromDate.setHours(0, 0, 0, 0);\n  toDate.setHours(0, 0, 0, 0);\n\n  const days = differenceInDays(fromDate, toDate);\n  if (days === 0) {\n    return {\n      value: Math.round(hours),\n      unit: \"hour\",\n    };\n  }\n  if (Math.abs(days) < resolvedThresholds.day) {\n    return {\n      value: days,\n      unit: \"day\",\n    };\n  }\n\n  const firstWeekday = firstWeekdayIndex(locale);\n  const fromWeek = startOfWeek(fromDate, { weekStartsOn: firstWeekday });\n  const toWeek = startOfWeek(toDate, { weekStartsOn: firstWeekday });\n\n  const weeks = differenceInWeeks(fromWeek, toWeek);\n  if (weeks === 0) {\n    return {\n      value: days,\n      unit: \"day\",\n    };\n  }\n  if (Math.abs(weeks) < resolvedThresholds.week) {\n    return {\n      value: weeks,\n      unit: \"week\",\n    };\n  }\n\n  const years = fromDate.getFullYear() - toDate.getFullYear();\n  const months = years * 12 + fromDate.getMonth() - toDate.getMonth();\n  if (months === 0) {\n    return {\n      value: weeks,\n      unit: \"week\",\n    };\n  }\n  if (Math.abs(months) < resolvedThresholds.month || years === 0) {\n    return {\n      value: months,\n      unit: \"month\",\n    };\n  }\n\n  return {\n    value: Math.round(years),\n    unit: \"year\",\n  };\n}\n\ntype Thresholds = Record<\n  \"second\" | \"minute\" | \"hour\" | \"day\" | \"week\" | \"month\",\n  number\n>;\n\nexport const DEFAULT_THRESHOLDS: Thresholds = {\n  second: 45, // seconds to minute\n  minute: 45, // minutes to hour\n  hour: 22, // hour to day\n  day: 5, // day to week\n  week: 4, // week to months\n  month: 11, // month to years\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}