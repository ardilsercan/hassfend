{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"@material/mwc-button/mwc-button\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { slugify } from \"../../../../common/string/slugify\";\nimport { createCloseHeading } from \"../../../../components/ha-dialog\";\nimport \"../../../../components/ha-form/ha-form\";\nimport { DEFAULT_PANEL, setDefaultPanel } from \"../../../../data/panel\";\nimport { haStyleDialog } from \"../../../../resources/styles\";\nexport var DialogLovelaceDashboardDetail = _decorate([customElement(\"dialog-lovelace-dashboard-detail\")], function (_initialize, _LitElement) {\n  var DialogLovelaceDashboardDetail = /*#__PURE__*/function (_LitElement2) {\n    _inherits(DialogLovelaceDashboardDetail, _LitElement2);\n    function DialogLovelaceDashboardDetail() {\n      var _this;\n      _classCallCheck(this, DialogLovelaceDashboardDetail);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, DialogLovelaceDashboardDetail, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(DialogLovelaceDashboardDetail);\n  }(_LitElement);\n  return {\n    F: DialogLovelaceDashboardDetail,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_params\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_urlPathChanged\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_data\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_submitting\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"showDialog\",\n      value: function showDialog(params) {\n        this._params = params;\n        this._error = undefined;\n        this._urlPathChanged = false;\n        if (this._params.dashboard) {\n          this._data = this._params.dashboard;\n        } else {\n          this._data = {\n            show_in_sidebar: true,\n            icon: undefined,\n            title: \"\",\n            require_admin: false,\n            mode: \"storage\"\n          };\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"closeDialog\",\n      value: function closeDialog() {\n        this._params = undefined;\n        this._data = undefined;\n        fireEvent(this, \"dialog-closed\", {\n          dialog: this.localName\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_params$dashboa, _this$_params$dashboa2;\n        if (!this._params || !this._data) {\n          return nothing;\n        }\n        var defaultPanelUrlPath = this.hass.defaultPanel;\n        var titleInvalid = !this._data.title || !this._data.title.trim();\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-dialog\\n        open\\n        @closed=\", \"\\n        scrimClickAction\\n        escapeKeyAction\\n        .heading=\", \"\\n      >\\n        <div>\\n          \", \"\\n        </div>\\n        \", \"\\n        <mwc-button\\n          slot=\\\"primaryAction\\\"\\n          @click=\", \"\\n          .disabled=\", \"\\n          dialogInitialFocus\\n        >\\n          \", \"\\n        </mwc-button>\\n      </ha-dialog>\\n    \"])), this.closeDialog, createCloseHeading(this.hass, this._params.urlPath ? this._data.title || this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.edit_dashboard\") : this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.new_dashboard\")), this._params.dashboard && !this._params.dashboard.id ? this.hass.localize(\"ui.panel.config.lovelace.dashboards.cant_edit_yaml\") : this._params.urlPath === \"lovelace\" ? this.hass.localize(\"ui.panel.config.lovelace.dashboards.cant_edit_default\") : html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n                  <ha-form\\n                    .schema=\", \"\\n                    .data=\", \"\\n                    .hass=\", \"\\n                    .error=\", \"\\n                    .computeLabel=\", \"\\n                    @value-changed=\", \"\\n                  ></ha-form>\\n                \"])), this._schema(this._params, this.hass.userData), this._data, this.hass, this._error, this._computeLabel, this._valueChanged), this._params.urlPath ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n              \", \"\\n              <mwc-button\\n                slot=\\\"secondaryAction\\\"\\n                @click=\", \"\\n                .disabled=\", \"\\n              >\\n                \", \"\\n              </mwc-button>\\n            \"])), (_this$_params$dashboa = this._params.dashboard) !== null && _this$_params$dashboa !== void 0 && _this$_params$dashboa.id ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                    <mwc-button\\n                      slot=\\\"secondaryAction\\\"\\n                      class=\\\"warning\\\"\\n                      @click=\", \"\\n                      .disabled=\", \"\\n                    >\\n                      \", \"\\n                    </mwc-button>\\n                  \"])), this._deleteDashboard, this._submitting, this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.delete\")) : \"\", this._toggleDefault, this._params.urlPath === \"lovelace\" && defaultPanelUrlPath === \"lovelace\", this._params.urlPath === defaultPanelUrlPath ? this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.remove_default\") : this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.set_default\")) : \"\", this._updateDashboard, this._error && \"url_path\" in this._error || titleInvalid || this._submitting, this._params.urlPath ? (_this$_params$dashboa2 = this._params.dashboard) !== null && _this$_params$dashboa2 !== void 0 && _this$_params$dashboa2.id ? this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.update\") : this.hass.localize(\"ui.common.close\") : this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.create\"));\n      }\n    }, {\n      kind: \"field\",\n      key: \"_schema\",\n      value: function value() {\n        return memoizeOne(function (params, userData) {\n          return [{\n            name: \"title\",\n            required: true,\n            selector: {\n              text: {}\n            }\n          }, {\n            name: \"icon\",\n            required: true,\n            selector: {\n              icon: {}\n            }\n          }].concat(_toConsumableArray(!params.dashboard && userData !== null && userData !== void 0 && userData.showAdvanced ? [{\n            name: \"url_path\",\n            required: true,\n            selector: {\n              text: {}\n            }\n          }] : []), [{\n            name: \"require_admin\",\n            required: true,\n            selector: {\n              boolean: {}\n            }\n          }, {\n            name: \"show_in_sidebar\",\n            required: true,\n            selector: {\n              boolean: {}\n            }\n          }]);\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeLabel\",\n      value: function value() {\n        var _this2 = this;\n        return function (entry) {\n          return _this2.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.\".concat(entry.name === \"show_in_sidebar\" ? \"show_sidebar\" : entry.name === \"url_path\" ? \"url\" : entry.name));\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        var _this$_data, _this$_data2;\n        this._error = undefined;\n        var value = ev.detail.value;\n        if (value.url_path !== ((_this$_data = this._data) === null || _this$_data === void 0 ? void 0 : _this$_data.url_path)) {\n          this._urlPathChanged = true;\n          if (!value.url_path || value.url_path === \"lovelace\" || !/^[a-zA-Z0-9_-]+-[a-zA-Z0-9_-]+$/.test(value.url_path)) {\n            this._error = {\n              url_path: this.hass.localize(\"ui.panel.config.lovelace.dashboards.detail.url_error_msg\")\n            };\n          }\n        }\n        if (value.title !== ((_this$_data2 = this._data) === null || _this$_data2 === void 0 ? void 0 : _this$_data2.title)) {\n          this._data = value;\n          this._fillUrlPath(value.title);\n        } else {\n          this._data = value;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fillUrlPath\",\n      value: function _fillUrlPath(title) {\n        var _this$hass$userData;\n        if ((_this$hass$userData = this.hass.userData) !== null && _this$hass$userData !== void 0 && _this$hass$userData.showAdvanced && this._urlPathChanged || !title) {\n          return;\n        }\n        var slugifyTitle = slugify(title, \"-\");\n        this._data = Object.assign(Object.assign({}, this._data), {}, {\n          url_path: slugifyTitle.includes(\"-\") ? slugifyTitle : \"dashboard-\".concat(slugifyTitle)\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_toggleDefault\",\n      value: function _toggleDefault() {\n        var _this$_params;\n        var urlPath = (_this$_params = this._params) === null || _this$_params === void 0 ? void 0 : _this$_params.urlPath;\n        if (!urlPath) {\n          return;\n        }\n        setDefaultPanel(this, urlPath === this.hass.defaultPanel ? DEFAULT_PANEL : urlPath);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateDashboard\",\n      value: function () {\n        var _updateDashboard2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var _this$_params2, _this$_params$dashboa3;\n          var values;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if ((_this$_params2 = this._params) !== null && _this$_params2 !== void 0 && _this$_params2.urlPath && !((_this$_params$dashboa3 = this._params.dashboard) !== null && _this$_params$dashboa3 !== void 0 && _this$_params$dashboa3.id)) {\n                  this.closeDialog();\n                }\n                this._submitting = true;\n                _context.prev = 2;\n                if (!this._params.dashboard) {\n                  _context.next = 9;\n                  break;\n                }\n                values = {\n                  require_admin: this._data.require_admin,\n                  show_in_sidebar: this._data.show_in_sidebar,\n                  icon: this._data.icon || undefined,\n                  title: this._data.title\n                };\n                _context.next = 7;\n                return this._params.updateDashboard(values);\n              case 7:\n                _context.next = 11;\n                break;\n              case 9:\n                _context.next = 11;\n                return this._params.createDashboard(this._data);\n              case 11:\n                this.closeDialog();\n                _context.next = 17;\n                break;\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](2);\n                this._error = {\n                  base: (_context.t0 === null || _context.t0 === void 0 ? void 0 : _context.t0.message) || \"Unknown error\"\n                };\n              case 17:\n                _context.prev = 17;\n                this._submitting = false;\n                return _context.finish(17);\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[2, 14, 17, 20]]);\n        }));\n        function _updateDashboard() {\n          return _updateDashboard2.apply(this, arguments);\n        }\n        return _updateDashboard;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_deleteDashboard\",\n      value: function () {\n        var _deleteDashboard2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                this._submitting = true;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return this._params.removeDashboard();\n              case 4:\n                if (!_context2.sent) {\n                  _context2.next = 6;\n                  break;\n                }\n                this.closeDialog();\n              case 6:\n                _context2.prev = 6;\n                this._submitting = false;\n                return _context2.finish(6);\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[1,, 6, 9]]);\n        }));\n        function _deleteDashboard() {\n          return _deleteDashboard2.apply(this, arguments);\n        }\n        return _deleteDashboard;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyleDialog, css(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","state","memoizeOne","fireEvent","slugify","createCloseHeading","DEFAULT_PANEL","setDefaultPanel","haStyleDialog","DialogLovelaceDashboardDetail","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","showDialog","params","_params","_error","undefined","_urlPathChanged","dashboard","_data","show_in_sidebar","icon","title","require_admin","mode","closeDialog","dialog","localName","render","_this$_params$dashboa","_this$_params$dashboa2","defaultPanelUrlPath","hass","defaultPanel","titleInvalid","trim","_templateObject","_taggedTemplateLiteral","urlPath","localize","id","_templateObject2","_schema","userData","_computeLabel","_valueChanged","_templateObject3","_templateObject4","_deleteDashboard","_submitting","_toggleDefault","_updateDashboard","name","required","selector","text","_toConsumableArray","showAdvanced","boolean","_this2","entry","ev","_this$_data","_this$_data2","detail","url_path","test","_fillUrlPath","_this$hass$userData","slugifyTitle","Object","assign","includes","_this$_params","_updateDashboard2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_this$_params2","_this$_params$dashboa3","values","wrap","_callee$","_context","prev","next","updateDashboard","createDashboard","t0","base","message","finish","stop","apply","_deleteDashboard2","_callee2","_callee2$","_context2","removeDashboard","sent","static","styles","_templateObject5"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/config/lovelace/dashboards/dialog-lovelace-dashboard-detail.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport { css, CSSResultGroup, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { slugify } from \"../../../../common/string/slugify\";\nimport { createCloseHeading } from \"../../../../components/ha-dialog\";\nimport \"../../../../components/ha-form/ha-form\";\nimport { SchemaUnion } from \"../../../../components/ha-form/types\";\nimport { CoreFrontendUserData } from \"../../../../data/frontend\";\nimport {\n  LovelaceDashboard,\n  LovelaceDashboardCreateParams,\n  LovelaceDashboardMutableParams,\n} from \"../../../../data/lovelace/dashboard\";\nimport { DEFAULT_PANEL, setDefaultPanel } from \"../../../../data/panel\";\nimport { haStyleDialog } from \"../../../../resources/styles\";\nimport { HomeAssistant } from \"../../../../types\";\nimport { LovelaceDashboardDetailsDialogParams } from \"./show-dialog-lovelace-dashboard-detail\";\n\n@customElement(\"dialog-lovelace-dashboard-detail\")\nexport class DialogLovelaceDashboardDetail extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _params?: LovelaceDashboardDetailsDialogParams;\n\n  @state() private _urlPathChanged = false;\n\n  @state() private _data?: Partial<LovelaceDashboard>;\n\n  @state() private _error?: Record<string, string>;\n\n  @state() private _submitting = false;\n\n  public showDialog(params: LovelaceDashboardDetailsDialogParams): void {\n    this._params = params;\n    this._error = undefined;\n    this._urlPathChanged = false;\n    if (this._params.dashboard) {\n      this._data = this._params.dashboard;\n    } else {\n      this._data = {\n        show_in_sidebar: true,\n        icon: undefined,\n        title: \"\",\n        require_admin: false,\n        mode: \"storage\",\n      };\n    }\n  }\n\n  public closeDialog(): void {\n    this._params = undefined;\n    this._data = undefined;\n    fireEvent(this, \"dialog-closed\", { dialog: this.localName });\n  }\n\n  protected render() {\n    if (!this._params || !this._data) {\n      return nothing;\n    }\n    const defaultPanelUrlPath = this.hass.defaultPanel;\n    const titleInvalid = !this._data.title || !this._data.title.trim();\n\n    return html`\n      <ha-dialog\n        open\n        @closed=${this.closeDialog}\n        scrimClickAction\n        escapeKeyAction\n        .heading=${createCloseHeading(\n          this.hass,\n          this._params.urlPath\n            ? this._data.title ||\n                this.hass.localize(\n                  \"ui.panel.config.lovelace.dashboards.detail.edit_dashboard\"\n                )\n            : this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.detail.new_dashboard\"\n              )\n        )}\n      >\n        <div>\n          ${this._params.dashboard && !this._params.dashboard.id\n            ? this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.cant_edit_yaml\"\n              )\n            : this._params.urlPath === \"lovelace\"\n              ? this.hass.localize(\n                  \"ui.panel.config.lovelace.dashboards.cant_edit_default\"\n                )\n              : html`\n                  <ha-form\n                    .schema=${this._schema(this._params, this.hass.userData)}\n                    .data=${this._data}\n                    .hass=${this.hass}\n                    .error=${this._error}\n                    .computeLabel=${this._computeLabel}\n                    @value-changed=${this._valueChanged}\n                  ></ha-form>\n                `}\n        </div>\n        ${this._params.urlPath\n          ? html`\n              ${this._params.dashboard?.id\n                ? html`\n                    <mwc-button\n                      slot=\"secondaryAction\"\n                      class=\"warning\"\n                      @click=${this._deleteDashboard}\n                      .disabled=${this._submitting}\n                    >\n                      ${this.hass.localize(\n                        \"ui.panel.config.lovelace.dashboards.detail.delete\"\n                      )}\n                    </mwc-button>\n                  `\n                : \"\"}\n              <mwc-button\n                slot=\"secondaryAction\"\n                @click=${this._toggleDefault}\n                .disabled=${this._params.urlPath === \"lovelace\" &&\n                defaultPanelUrlPath === \"lovelace\"}\n              >\n                ${this._params.urlPath === defaultPanelUrlPath\n                  ? this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.remove_default\"\n                    )\n                  : this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.set_default\"\n                    )}\n              </mwc-button>\n            `\n          : \"\"}\n        <mwc-button\n          slot=\"primaryAction\"\n          @click=${this._updateDashboard}\n          .disabled=${(this._error && \"url_path\" in this._error) ||\n          titleInvalid ||\n          this._submitting}\n          dialogInitialFocus\n        >\n          ${this._params.urlPath\n            ? this._params.dashboard?.id\n              ? this.hass.localize(\n                  \"ui.panel.config.lovelace.dashboards.detail.update\"\n                )\n              : this.hass.localize(\"ui.common.close\")\n            : this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.detail.create\"\n              )}\n        </mwc-button>\n      </ha-dialog>\n    `;\n  }\n\n  private _schema = memoizeOne(\n    (\n      params: LovelaceDashboardDetailsDialogParams,\n      userData: CoreFrontendUserData | null | undefined\n    ) =>\n      [\n        {\n          name: \"title\",\n          required: true,\n          selector: {\n            text: {},\n          },\n        },\n        {\n          name: \"icon\",\n          required: true,\n          selector: {\n            icon: {},\n          },\n        },\n        ...(!params.dashboard && userData?.showAdvanced\n          ? ([\n              {\n                name: \"url_path\",\n                required: true,\n                selector: { text: {} },\n              },\n            ] as const)\n          : []),\n        {\n          name: \"require_admin\",\n          required: true,\n          selector: {\n            boolean: {},\n          },\n        },\n        {\n          name: \"show_in_sidebar\",\n          required: true,\n          selector: {\n            boolean: {},\n          },\n        },\n      ] as const\n  );\n\n  private _computeLabel = (\n    entry: SchemaUnion<ReturnType<typeof this._schema>>\n  ): string =>\n    this.hass.localize(\n      `ui.panel.config.lovelace.dashboards.detail.${\n        entry.name === \"show_in_sidebar\"\n          ? \"show_sidebar\"\n          : entry.name === \"url_path\"\n            ? \"url\"\n            : entry.name\n      }`\n    );\n\n  private _valueChanged(ev: CustomEvent) {\n    this._error = undefined;\n    const value = ev.detail.value;\n    if (value.url_path !== this._data?.url_path) {\n      this._urlPathChanged = true;\n      if (\n        !value.url_path ||\n        value.url_path === \"lovelace\" ||\n        !/^[a-zA-Z0-9_-]+-[a-zA-Z0-9_-]+$/.test(value.url_path)\n      ) {\n        this._error = {\n          url_path: this.hass.localize(\n            \"ui.panel.config.lovelace.dashboards.detail.url_error_msg\"\n          ),\n        };\n      }\n    }\n    if (value.title !== this._data?.title) {\n      this._data = value;\n      this._fillUrlPath(value.title);\n    } else {\n      this._data = value;\n    }\n  }\n\n  private _fillUrlPath(title: string) {\n    if ((this.hass.userData?.showAdvanced && this._urlPathChanged) || !title) {\n      return;\n    }\n\n    const slugifyTitle = slugify(title, \"-\");\n    this._data = {\n      ...this._data,\n      url_path: slugifyTitle.includes(\"-\")\n        ? slugifyTitle\n        : `dashboard-${slugifyTitle}`,\n    };\n  }\n\n  private _toggleDefault() {\n    const urlPath = this._params?.urlPath;\n    if (!urlPath) {\n      return;\n    }\n    setDefaultPanel(\n      this,\n      urlPath === this.hass.defaultPanel ? DEFAULT_PANEL : urlPath\n    );\n  }\n\n  private async _updateDashboard() {\n    if (this._params?.urlPath && !this._params.dashboard?.id) {\n      this.closeDialog();\n    }\n    this._submitting = true;\n    try {\n      if (this._params!.dashboard) {\n        const values: Partial<LovelaceDashboardMutableParams> = {\n          require_admin: this._data!.require_admin,\n          show_in_sidebar: this._data!.show_in_sidebar,\n          icon: this._data!.icon || undefined,\n          title: this._data!.title,\n        };\n        await this._params!.updateDashboard(values);\n      } else {\n        await this._params!.createDashboard(\n          this._data as LovelaceDashboardCreateParams\n        );\n      }\n      this.closeDialog();\n    } catch (err: any) {\n      this._error = { base: err?.message || \"Unknown error\" };\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  private async _deleteDashboard() {\n    this._submitting = true;\n    try {\n      if (await this._params!.removeDashboard()) {\n        this.closeDialog();\n      }\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return [haStyleDialog, css``];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"dialog-lovelace-dashboard-detail\": DialogLovelaceDashboardDetail;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAO,iCAAiC;AACxC,SAASA,GAAG,EAAkBC,IAAI,EAAEC,UAAU,EAAEC,OAAO,QAAQ,KAAK;AACpE,SAASC,aAAa,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,gBAAgB;AAC/D,OAAOC,UAAU,MAAM,aAAa;AACpC,SAASC,SAAS,QAAQ,mCAAmC;AAC7D,SAASC,OAAO,QAAQ,mCAAmC;AAC3D,SAASC,kBAAkB,QAAQ,kCAAkC;AACrE,OAAO,wCAAwC;AAQ/C,SAASC,aAAa,EAAEC,eAAe,QAAQ,wBAAwB;AACvE,SAASC,aAAa,QAAQ,8BAA8B;AAI5D,WACaC,6BAA6B,GAAAC,SAAA,EADzCX,aAAa,CAAC,kCAAkC,CAAC,aAAAY,WAAA,EAAAC,WAAA;EAAA,IACrCH,6BAA6B,0BAAAI,YAAA;IAAAC,SAAA,CAAAL,6BAAA,EAAAI,YAAA;IAAA,SAAAJ,8BAAA;MAAA,IAAAM,KAAA;MAAAC,eAAA,OAAAP,6BAAA;MAAA,SAAAQ,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAAP,KAAA,GAAAQ,UAAA,OAAAd,6BAAA,KAAAe,MAAA,CAAAJ,IAAA;MAAAT,WAAA,CAAAc,sBAAA,CAAAV,KAAA;MAAA,OAAAA,KAAA;IAAA;IAAA,OAAAW,YAAA,CAAAjB,6BAAA;EAAA,EAAAG,WAAA;EAAA;IAAAe,CAAA,EAA7BlB,6BAA6B;IAAAmB,CAAA;MAAAC,IAAA;MAAAC,UAAA,GACvC9B,QAAQ,CAAC;QAAE+B,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAE9B7B,KAAK,CAAC,CAAC;MAAA+B,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEP7B,KAAK,CAAC,CAAC;MAAA+B,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,OAA2B,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEvC7B,KAAK,CAAC,CAAC;MAAA+B,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEP7B,KAAK,CAAC,CAAC;MAAA+B,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEP7B,KAAK,CAAC,CAAC;MAAA+B,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,OAAuB,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAEpC,SAAAC,WAAkBC,MAA4C,EAAQ;QACpE,IAAI,CAACC,OAAO,GAAGD,MAAM;QACrB,IAAI,CAACE,MAAM,GAAGC,SAAS;QACvB,IAAI,CAACC,eAAe,GAAG,KAAK;QAC5B,IAAI,IAAI,CAACH,OAAO,CAACI,SAAS,EAAE;UAC1B,IAAI,CAACC,KAAK,GAAG,IAAI,CAACL,OAAO,CAACI,SAAS;QACrC,CAAC,MAAM;UACL,IAAI,CAACC,KAAK,GAAG;YACXC,eAAe,EAAE,IAAI;YACrBC,IAAI,EAAEL,SAAS;YACfM,KAAK,EAAE,EAAE;YACTC,aAAa,EAAE,KAAK;YACpBC,IAAI,EAAE;UACR,CAAC;QACH;MACF;IAAC;MAAAjB,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAc,YAAA,EAA2B;QACzB,IAAI,CAACX,OAAO,GAAGE,SAAS;QACxB,IAAI,CAACG,KAAK,GAAGH,SAAS;QACtBnC,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE;UAAE6C,MAAM,EAAE,IAAI,CAACC;QAAU,CAAC,CAAC;MAC9D;IAAC;MAAApB,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAiB,OAAA,EAAmB;QAAA,IAAAC,qBAAA,EAAAC,sBAAA;QACjB,IAAI,CAAC,IAAI,CAAChB,OAAO,IAAI,CAAC,IAAI,CAACK,KAAK,EAAE;UAChC,OAAO3C,OAAO;QAChB;QACA,IAAMuD,mBAAmB,GAAG,IAAI,CAACC,IAAI,CAACC,YAAY;QAClD,IAAMC,YAAY,GAAG,CAAC,IAAI,CAACf,KAAK,CAACG,KAAK,IAAI,CAAC,IAAI,CAACH,KAAK,CAACG,KAAK,CAACa,IAAI,CAAC,CAAC;QAElE,OAAO7D,IAAI,CAAA8D,eAAA,KAAAA,eAAA,GAAAC,sBAAA,iaAGG,IAAI,CAACZ,WAAW,EAGf1C,kBAAkB,CAC3B,IAAI,CAACiD,IAAI,EACT,IAAI,CAAClB,OAAO,CAACwB,OAAO,GAChB,IAAI,CAACnB,KAAK,CAACG,KAAK,IACd,IAAI,CAACU,IAAI,CAACO,QAAQ,CAChB,2DACF,CAAC,GACH,IAAI,CAACP,IAAI,CAACO,QAAQ,CAChB,0DACF,CACN,CAAC,EAGG,IAAI,CAACzB,OAAO,CAACI,SAAS,IAAI,CAAC,IAAI,CAACJ,OAAO,CAACI,SAAS,CAACsB,EAAE,GAClD,IAAI,CAACR,IAAI,CAACO,QAAQ,CAChB,oDACF,CAAC,GACD,IAAI,CAACzB,OAAO,CAACwB,OAAO,KAAK,UAAU,GACjC,IAAI,CAACN,IAAI,CAACO,QAAQ,CAChB,uDACF,CAAC,GACDjE,IAAI,CAAAmE,gBAAA,KAAAA,gBAAA,GAAAJ,sBAAA,0SAEU,IAAI,CAACK,OAAO,CAAC,IAAI,CAAC5B,OAAO,EAAE,IAAI,CAACkB,IAAI,CAACW,QAAQ,CAAC,EAChD,IAAI,CAACxB,KAAK,EACV,IAAI,CAACa,IAAI,EACR,IAAI,CAACjB,MAAM,EACJ,IAAI,CAAC6B,aAAa,EACjB,IAAI,CAACC,aAAa,CAEtC,EAEP,IAAI,CAAC/B,OAAO,CAACwB,OAAO,GAClBhE,IAAI,CAAAwE,gBAAA,KAAAA,gBAAA,GAAAT,sBAAA,iPACA,CAAAR,qBAAA,OAAI,CAACf,OAAO,CAACI,SAAS,cAAAW,qBAAA,eAAtBA,qBAAA,CAAwBW,EAAE,GACxBlE,IAAI,CAAAyE,gBAAA,KAAAA,gBAAA,GAAAV,sBAAA,sTAIS,IAAI,CAACW,gBAAgB,EAClB,IAAI,CAACC,WAAW,EAE1B,IAAI,CAACjB,IAAI,CAACO,QAAQ,CAClB,mDACF,CAAC,IAGL,EAAE,EAGK,IAAI,CAACW,cAAc,EAChB,IAAI,CAACpC,OAAO,CAACwB,OAAO,KAAK,UAAU,IAC/CP,mBAAmB,KAAK,UAAU,EAEhC,IAAI,CAACjB,OAAO,CAACwB,OAAO,KAAKP,mBAAmB,GAC1C,IAAI,CAACC,IAAI,CAACO,QAAQ,CAChB,2DACF,CAAC,GACD,IAAI,CAACP,IAAI,CAACO,QAAQ,CAChB,wDACF,CAAC,IAGT,EAAE,EAGK,IAAI,CAACY,gBAAgB,EACjB,IAAI,CAACpC,MAAM,IAAI,UAAU,IAAI,IAAI,CAACA,MAAM,IACrDmB,YAAY,IACZ,IAAI,CAACe,WAAW,EAGd,IAAI,CAACnC,OAAO,CAACwB,OAAO,GAClB,CAAAR,sBAAA,OAAI,CAAChB,OAAO,CAACI,SAAS,cAAAY,sBAAA,eAAtBA,sBAAA,CAAwBU,EAAE,GACxB,IAAI,CAACR,IAAI,CAACO,QAAQ,CAChB,mDACF,CAAC,GACD,IAAI,CAACP,IAAI,CAACO,QAAQ,CAAC,iBAAiB,CAAC,GACvC,IAAI,CAACP,IAAI,CAACO,QAAQ,CAChB,mDACF,CAAC;MAIb;IAAC;MAAAhC,IAAA;MAAAG,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,OAEiB/B,UAAU,CAC1B,UACEiC,MAA4C,EAC5C8B,QAAiD;UAAA,QAG/C;YACES,IAAI,EAAE,OAAO;YACbC,QAAQ,EAAE,IAAI;YACdC,QAAQ,EAAE;cACRC,IAAI,EAAE,CAAC;YACT;UACF,CAAC,EACD;YACEH,IAAI,EAAE,MAAM;YACZC,QAAQ,EAAE,IAAI;YACdC,QAAQ,EAAE;cACRjC,IAAI,EAAE,CAAC;YACT;UACF,CAAC,EAAAnB,MAAA,CAAAsD,kBAAA,CACG,CAAC3C,MAAM,CAACK,SAAS,IAAIyB,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEc,YAAY,GAC1C,CACC;YACEL,IAAI,EAAE,UAAU;YAChBC,QAAQ,EAAE,IAAI;YACdC,QAAQ,EAAE;cAAEC,IAAI,EAAE,CAAC;YAAE;UACvB,CAAC,CACF,GACD,EAAE,IACN;YACEH,IAAI,EAAE,eAAe;YACrBC,QAAQ,EAAE,IAAI;YACdC,QAAQ,EAAE;cACRI,OAAO,EAAE,CAAC;YACZ;UACF,CAAC,EACD;YACEN,IAAI,EAAE,iBAAiB;YACvBC,QAAQ,EAAE,IAAI;YACdC,QAAQ,EAAE;cACRI,OAAO,EAAE,CAAC;YACZ;UACF,CAAC;QAAA,CAEP,CAAC;MAAA;IAAA;MAAAnD,IAAA;MAAAG,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,IAAAgD,MAAA;QAAA,OAEuB,UACtBC,KAAmD;UAAA,OAEnDD,MAAI,CAAC3B,IAAI,CAACO,QAAQ,+CAAArC,MAAA,CAEd0D,KAAK,CAACR,IAAI,KAAK,iBAAiB,GAC5B,cAAc,GACdQ,KAAK,CAACR,IAAI,KAAK,UAAU,GACvB,KAAK,GACLQ,KAAK,CAACR,IAAI,CAEpB,CAAC;QAAA;MAAA;IAAA;MAAA7C,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAEH,SAAAkC,cAAsBgB,EAAe,EAAE;QAAA,IAAAC,WAAA,EAAAC,YAAA;QACrC,IAAI,CAAChD,MAAM,GAAGC,SAAS;QACvB,IAAML,KAAK,GAAGkD,EAAE,CAACG,MAAM,CAACrD,KAAK;QAC7B,IAAIA,KAAK,CAACsD,QAAQ,OAAAH,WAAA,GAAK,IAAI,CAAC3C,KAAK,cAAA2C,WAAA,uBAAVA,WAAA,CAAYG,QAAQ,GAAE;UAC3C,IAAI,CAAChD,eAAe,GAAG,IAAI;UAC3B,IACE,CAACN,KAAK,CAACsD,QAAQ,IACftD,KAAK,CAACsD,QAAQ,KAAK,UAAU,IAC7B,CAAC,iCAAiC,CAACC,IAAI,CAACvD,KAAK,CAACsD,QAAQ,CAAC,EACvD;YACA,IAAI,CAAClD,MAAM,GAAG;cACZkD,QAAQ,EAAE,IAAI,CAACjC,IAAI,CAACO,QAAQ,CAC1B,0DACF;YACF,CAAC;UACH;QACF;QACA,IAAI5B,KAAK,CAACW,KAAK,OAAAyC,YAAA,GAAK,IAAI,CAAC5C,KAAK,cAAA4C,YAAA,uBAAVA,YAAA,CAAYzC,KAAK,GAAE;UACrC,IAAI,CAACH,KAAK,GAAGR,KAAK;UAClB,IAAI,CAACwD,YAAY,CAACxD,KAAK,CAACW,KAAK,CAAC;QAChC,CAAC,MAAM;UACL,IAAI,CAACH,KAAK,GAAGR,KAAK;QACpB;MACF;IAAC;MAAAJ,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAwD,aAAqB7C,KAAa,EAAE;QAAA,IAAA8C,mBAAA;QAClC,IAAK,CAAAA,mBAAA,OAAI,CAACpC,IAAI,CAACW,QAAQ,cAAAyB,mBAAA,eAAlBA,mBAAA,CAAoBX,YAAY,IAAI,IAAI,CAACxC,eAAe,IAAK,CAACK,KAAK,EAAE;UACxE;QACF;QAEA,IAAM+C,YAAY,GAAGvF,OAAO,CAACwC,KAAK,EAAE,GAAG,CAAC;QACxC,IAAI,CAACH,KAAK,GAAAmD,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACL,IAAI,CAACpD,KAAK;UACb8C,QAAQ,EAAEI,YAAY,CAACG,QAAQ,CAAC,GAAG,CAAC,GAChCH,YAAY,gBAAAnE,MAAA,CACCmE,YAAY;QAAE,EAChC;MACH;IAAC;MAAA9D,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAuC,eAAA,EAAyB;QAAA,IAAAuB,aAAA;QACvB,IAAMnC,OAAO,IAAAmC,aAAA,GAAG,IAAI,CAAC3D,OAAO,cAAA2D,aAAA,uBAAZA,aAAA,CAAcnC,OAAO;QACrC,IAAI,CAACA,OAAO,EAAE;UACZ;QACF;QACArD,eAAe,CACb,IAAI,EACJqD,OAAO,KAAK,IAAI,CAACN,IAAI,CAACC,YAAY,GAAGjD,aAAa,GAAGsD,OACvD,CAAC;MACH;IAAC;MAAA/B,IAAA;MAAAG,GAAA;MAAAC,KAAA;QAAA,IAAA+D,iBAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAC,QAAA;UAAA,IAAAC,cAAA,EAAAC,sBAAA;UAAA,IAAAC,MAAA;UAAA,OAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBACE,IAAI,CAAAP,cAAA,OAAI,CAACjE,OAAO,cAAAiE,cAAA,eAAZA,cAAA,CAAczC,OAAO,IAAI,GAAA0C,sBAAA,GAAC,IAAI,CAAClE,OAAO,CAACI,SAAS,cAAA8D,sBAAA,eAAtBA,sBAAA,CAAwBxC,EAAE,GAAE;kBACxD,IAAI,CAACf,WAAW,CAAC,CAAC;gBACpB;gBACA,IAAI,CAACwB,WAAW,GAAG,IAAI;gBAACmC,QAAA,CAAAC,IAAA;gBAAA,KAElB,IAAI,CAACvE,OAAO,CAAEI,SAAS;kBAAAkE,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBACnBL,MAA+C,GAAG;kBACtD1D,aAAa,EAAE,IAAI,CAACJ,KAAK,CAAEI,aAAa;kBACxCH,eAAe,EAAE,IAAI,CAACD,KAAK,CAAEC,eAAe;kBAC5CC,IAAI,EAAE,IAAI,CAACF,KAAK,CAAEE,IAAI,IAAIL,SAAS;kBACnCM,KAAK,EAAE,IAAI,CAACH,KAAK,CAAEG;gBACrB,CAAC;gBAAA8D,QAAA,CAAAE,IAAA;gBAAA,OACK,IAAI,CAACxE,OAAO,CAAEyE,eAAe,CAACN,MAAM,CAAC;cAAA;gBAAAG,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAE,IAAA;gBAAA,OAErC,IAAI,CAACxE,OAAO,CAAE0E,eAAe,CACjC,IAAI,CAACrE,KACP,CAAC;cAAA;gBAEH,IAAI,CAACM,WAAW,CAAC,CAAC;gBAAC2D,QAAA,CAAAE,IAAA;gBAAA;cAAA;gBAAAF,QAAA,CAAAC,IAAA;gBAAAD,QAAA,CAAAK,EAAA,GAAAL,QAAA;gBAEnB,IAAI,CAACrE,MAAM,GAAG;kBAAE2E,IAAI,EAAE,CAAAN,QAAA,CAAAK,EAAA,aAAAL,QAAA,CAAAK,EAAA,uBAAAL,QAAA,CAAAK,EAAA,CAAKE,OAAO,KAAI;gBAAgB,CAAC;cAAC;gBAAAP,QAAA,CAAAC,IAAA;gBAExD,IAAI,CAACpC,WAAW,GAAG,KAAK;gBAAC,OAAAmC,QAAA,CAAAQ,MAAA;cAAA;cAAA;gBAAA,OAAAR,QAAA,CAAAS,IAAA;YAAA;UAAA,GAAAf,OAAA;QAAA,CAE5B;QAAA,SAAA3B,iBAAA;UAAA,OAAAuB,iBAAA,CAAAoB,KAAA,OAAAlG,SAAA;QAAA;QAAA,OAAAuD,gBAAA;MAAA;IAAA;MAAA5C,IAAA;MAAAG,GAAA;MAAAC,KAAA;QAAA,IAAAoF,iBAAA,GAAApB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAmB,SAAA;UAAA,OAAApB,mBAAA,GAAAM,IAAA,UAAAe,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAb,IAAA,GAAAa,SAAA,CAAAZ,IAAA;cAAA;gBACE,IAAI,CAACrC,WAAW,GAAG,IAAI;gBAACiD,SAAA,CAAAb,IAAA;gBAAAa,SAAA,CAAAZ,IAAA;gBAAA,OAEZ,IAAI,CAACxE,OAAO,CAAEqF,eAAe,CAAC,CAAC;cAAA;gBAAA,KAAAD,SAAA,CAAAE,IAAA;kBAAAF,SAAA,CAAAZ,IAAA;kBAAA;gBAAA;gBACvC,IAAI,CAAC7D,WAAW,CAAC,CAAC;cAAC;gBAAAyE,SAAA,CAAAb,IAAA;gBAGrB,IAAI,CAACpC,WAAW,GAAG,KAAK;gBAAC,OAAAiD,SAAA,CAAAN,MAAA;cAAA;cAAA;gBAAA,OAAAM,SAAA,CAAAL,IAAA;YAAA;UAAA,GAAAG,QAAA;QAAA,CAE5B;QAAA,SAAAhD,iBAAA;UAAA,OAAA+C,iBAAA,CAAAD,KAAA,OAAAlG,SAAA;QAAA;QAAA,OAAAoD,gBAAA;MAAA;IAAA;MAAAzC,IAAA;MAAA8F,MAAA;MAAA3F,GAAA;MAAAC,KAAA,EAED,SAAA2F,OAAA,EAAoC;QAClC,OAAO,CAACpH,aAAa,EAAEb,GAAG,CAAAkI,gBAAA,KAAAA,gBAAA,GAAAlE,sBAAA,SAAG;MAC/B;IAAC;EAAA;AAAA,GA5RgD9D,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}