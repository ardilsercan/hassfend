{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitizeUrl = void 0;\nvar constants_1 = require(\"./constants\");\nfunction isRelativeUrlWithoutProtocol(url) {\n  return constants_1.relativeFirstCharacters.indexOf(url[0]) > -1;\n}\n// adapted from https://stackoverflow.com/a/29824550/2601552\nfunction decodeHtmlCharacters(str) {\n  var removedNullByte = str.replace(constants_1.ctrlCharactersRegex, \"\");\n  return removedNullByte.replace(constants_1.htmlEntitiesRegex, function (match, dec) {\n    return String.fromCharCode(dec);\n  });\n}\nfunction sanitizeUrl(url) {\n  if (!url) {\n    return constants_1.BLANK_URL;\n  }\n  var sanitizedUrl = decodeHtmlCharacters(url).replace(constants_1.htmlCtrlEntityRegex, \"\").replace(constants_1.ctrlCharactersRegex, \"\").trim();\n  if (!sanitizedUrl) {\n    return constants_1.BLANK_URL;\n  }\n  if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {\n    return sanitizedUrl;\n  }\n  var urlSchemeParseResults = sanitizedUrl.match(constants_1.urlSchemeRegex);\n  if (!urlSchemeParseResults) {\n    return sanitizedUrl;\n  }\n  var urlScheme = urlSchemeParseResults[0];\n  if (constants_1.invalidProtocolRegex.test(urlScheme)) {\n    return constants_1.BLANK_URL;\n  }\n  return sanitizedUrl;\n}\nexports.sanitizeUrl = sanitizeUrl;","map":{"version":3,"names":["Object","defineProperty","exports","value","sanitizeUrl","constants_1","require","isRelativeUrlWithoutProtocol","url","relativeFirstCharacters","indexOf","decodeHtmlCharacters","str","removedNullByte","replace","ctrlCharactersRegex","htmlEntitiesRegex","match","dec","String","fromCharCode","BLANK_URL","sanitizedUrl","htmlCtrlEntityRegex","trim","urlSchemeParseResults","urlSchemeRegex","urlScheme","invalidProtocolRegex","test"],"sources":["/workspaces/frontend/node_modules/@braintree/sanitize-url/dist/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sanitizeUrl = void 0;\nvar constants_1 = require(\"./constants\");\nfunction isRelativeUrlWithoutProtocol(url) {\n    return constants_1.relativeFirstCharacters.indexOf(url[0]) > -1;\n}\n// adapted from https://stackoverflow.com/a/29824550/2601552\nfunction decodeHtmlCharacters(str) {\n    var removedNullByte = str.replace(constants_1.ctrlCharactersRegex, \"\");\n    return removedNullByte.replace(constants_1.htmlEntitiesRegex, function (match, dec) {\n        return String.fromCharCode(dec);\n    });\n}\nfunction sanitizeUrl(url) {\n    if (!url) {\n        return constants_1.BLANK_URL;\n    }\n    var sanitizedUrl = decodeHtmlCharacters(url)\n        .replace(constants_1.htmlCtrlEntityRegex, \"\")\n        .replace(constants_1.ctrlCharactersRegex, \"\")\n        .trim();\n    if (!sanitizedUrl) {\n        return constants_1.BLANK_URL;\n    }\n    if (isRelativeUrlWithoutProtocol(sanitizedUrl)) {\n        return sanitizedUrl;\n    }\n    var urlSchemeParseResults = sanitizedUrl.match(constants_1.urlSchemeRegex);\n    if (!urlSchemeParseResults) {\n        return sanitizedUrl;\n    }\n    var urlScheme = urlSchemeParseResults[0];\n    if (constants_1.invalidProtocolRegex.test(urlScheme)) {\n        return constants_1.BLANK_URL;\n    }\n    return sanitizedUrl;\n}\nexports.sanitizeUrl = sanitizeUrl;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,WAAW,GAAG,KAAK,CAAC;AAC5B,IAAIC,WAAW,GAAGC,OAAO,CAAC,aAAa,CAAC;AACxC,SAASC,4BAA4BA,CAACC,GAAG,EAAE;EACvC,OAAOH,WAAW,CAACI,uBAAuB,CAACC,OAAO,CAACF,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACnE;AACA;AACA,SAASG,oBAAoBA,CAACC,GAAG,EAAE;EAC/B,IAAIC,eAAe,GAAGD,GAAG,CAACE,OAAO,CAACT,WAAW,CAACU,mBAAmB,EAAE,EAAE,CAAC;EACtE,OAAOF,eAAe,CAACC,OAAO,CAACT,WAAW,CAACW,iBAAiB,EAAE,UAAUC,KAAK,EAAEC,GAAG,EAAE;IAChF,OAAOC,MAAM,CAACC,YAAY,CAACF,GAAG,CAAC;EACnC,CAAC,CAAC;AACN;AACA,SAASd,WAAWA,CAACI,GAAG,EAAE;EACtB,IAAI,CAACA,GAAG,EAAE;IACN,OAAOH,WAAW,CAACgB,SAAS;EAChC;EACA,IAAIC,YAAY,GAAGX,oBAAoB,CAACH,GAAG,CAAC,CACvCM,OAAO,CAACT,WAAW,CAACkB,mBAAmB,EAAE,EAAE,CAAC,CAC5CT,OAAO,CAACT,WAAW,CAACU,mBAAmB,EAAE,EAAE,CAAC,CAC5CS,IAAI,CAAC,CAAC;EACX,IAAI,CAACF,YAAY,EAAE;IACf,OAAOjB,WAAW,CAACgB,SAAS;EAChC;EACA,IAAId,4BAA4B,CAACe,YAAY,CAAC,EAAE;IAC5C,OAAOA,YAAY;EACvB;EACA,IAAIG,qBAAqB,GAAGH,YAAY,CAACL,KAAK,CAACZ,WAAW,CAACqB,cAAc,CAAC;EAC1E,IAAI,CAACD,qBAAqB,EAAE;IACxB,OAAOH,YAAY;EACvB;EACA,IAAIK,SAAS,GAAGF,qBAAqB,CAAC,CAAC,CAAC;EACxC,IAAIpB,WAAW,CAACuB,oBAAoB,CAACC,IAAI,CAACF,SAAS,CAAC,EAAE;IAClD,OAAOtB,WAAW,CAACgB,SAAS;EAChC;EACA,OAAOC,YAAY;AACvB;AACApB,OAAO,CAACE,WAAW,GAAGA,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}