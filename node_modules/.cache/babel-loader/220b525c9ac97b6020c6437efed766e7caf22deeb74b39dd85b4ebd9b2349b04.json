{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport \"@material/mwc-list/mwc-list-item\";\nvar mdiFan = \"M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12.5,2C17,2 17.11,5.57 14.75,6.75C13.76,7.24 13.32,8.29 13.13,9.22C13.61,9.42 14.03,9.73 14.35,10.13C18.05,8.13 22.03,8.92 22.03,12.5C22.03,17 18.46,17.1 17.28,14.73C16.78,13.74 15.72,13.3 14.79,13.11C14.59,13.59 14.28,14 13.88,14.34C15.87,18.03 15.08,22 11.5,22C7,22 6.91,18.42 9.27,17.24C10.25,16.75 10.69,15.71 10.89,14.79C10.4,14.59 9.97,14.27 9.65,13.87C5.96,15.85 2,15.07 2,11.5C2,7 5.56,6.89 6.74,9.26C7.24,10.25 8.29,10.68 9.22,10.87C9.41,10.39 9.73,9.97 10.14,9.65C8.15,5.96 8.94,2 12.5,2Z\";\nvar mdiHomeImportOutline = \"M15 13L11 17V14H2V12H11V9L15 13M5 20V16H7V18H17V10.19L12 5.69L7.21 10H4.22L12 3L22 12H19V20H5Z\";\nvar mdiMapMarker = \"M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z\";\nvar mdiPause = \"M14,19H18V5H14M6,19H10V5H6V19Z\";\nvar mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nvar mdiPlayPause = \"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5\";\nvar mdiStop = \"M18,18H6V6H18V18Z\";\nvar mdiTargetVariant = \"M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z\";\nimport { LitElement, css, html, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { computeStateDomain } from \"../../../common/entity/compute_state_domain\";\nimport { supportsFeature } from \"../../../common/entity/supports-feature\";\nimport \"../../../components/entity/ha-battery-icon\";\nimport \"../../../components/ha-attributes\";\nimport \"../../../components/ha-icon\";\nimport \"../../../components/ha-icon-button\";\nimport \"../../../components/ha-select\";\nimport { UNAVAILABLE } from \"../../../data/entity\";\nimport { findBatteryChargingEntity, findBatteryEntity } from \"../../../data/entity_registry\";\nimport { VacuumEntityFeature } from \"../../../data/vacuum\";\nvar VACUUM_COMMANDS = [{\n  translationKey: \"start\",\n  icon: mdiPlay,\n  serviceName: \"start\",\n  isVisible: function isVisible(stateObj) {\n    return supportsFeature(stateObj, VacuumEntityFeature.START);\n  }\n}, {\n  translationKey: \"pause\",\n  icon: mdiPause,\n  serviceName: \"pause\",\n  isVisible: function isVisible(stateObj) {\n    return (\n      // We need also to check if Start is supported because if not we show start-pause\n      // Start-pause service is only available for old vacuum entities, new entities have the `STATE` feature\n      supportsFeature(stateObj, VacuumEntityFeature.PAUSE) && (supportsFeature(stateObj, VacuumEntityFeature.STATE) || supportsFeature(stateObj, VacuumEntityFeature.START))\n    );\n  }\n}, {\n  translationKey: \"start_pause\",\n  icon: mdiPlayPause,\n  serviceName: \"start_pause\",\n  isVisible: function isVisible(stateObj) {\n    return (\n      // If start is supported, we don't show this button\n      // This service is only available for old vacuum entities, new entities have the `STATE` feature\n      !supportsFeature(stateObj, VacuumEntityFeature.STATE) && !supportsFeature(stateObj, VacuumEntityFeature.START) && supportsFeature(stateObj, VacuumEntityFeature.PAUSE)\n    );\n  }\n}, {\n  translationKey: \"stop\",\n  icon: mdiStop,\n  serviceName: \"stop\",\n  isVisible: function isVisible(stateObj) {\n    return supportsFeature(stateObj, VacuumEntityFeature.STOP);\n  }\n}, {\n  translationKey: \"clean_spot\",\n  icon: mdiTargetVariant,\n  serviceName: \"clean_spot\",\n  isVisible: function isVisible(stateObj) {\n    return supportsFeature(stateObj, VacuumEntityFeature.CLEAN_SPOT);\n  }\n}, {\n  translationKey: \"locate\",\n  icon: mdiMapMarker,\n  serviceName: \"locate\",\n  isVisible: function isVisible(stateObj) {\n    return supportsFeature(stateObj, VacuumEntityFeature.LOCATE);\n  }\n}, {\n  translationKey: \"return_home\",\n  icon: mdiHomeImportOutline,\n  serviceName: \"return_to_base\",\n  isVisible: function isVisible(stateObj) {\n    return supportsFeature(stateObj, VacuumEntityFeature.RETURN_HOME);\n  }\n}];\nvar MoreInfoVacuum = _decorate([customElement(\"more-info-vacuum\")], function (_initialize, _LitElement) {\n  var MoreInfoVacuum = /*#__PURE__*/function (_LitElement2) {\n    _inherits(MoreInfoVacuum, _LitElement2);\n    function MoreInfoVacuum() {\n      var _this;\n      _classCallCheck(this, MoreInfoVacuum);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, MoreInfoVacuum, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(MoreInfoVacuum);\n  }(_LitElement);\n  return {\n    F: MoreInfoVacuum,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        if (!this.hass || !this.stateObj) {\n          return nothing;\n        }\n        var stateObj = this.stateObj;\n        var filterExtraAttributes = \"fan_speed,fan_speed_list,status,battery_level,battery_icon\";\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      \", \"\\n      \", \"\\n      \", \"\\n\\n      <ha-attributes\\n        .hass=\", \"\\n        .stateObj=\", \"\\n        .extraFilters=\", \"\\n      ></ha-attributes>\\n    \"])), stateObj.state !== UNAVAILABLE ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\" <div class=\\\"flex-horizontal\\\">\\n            <div>\\n              <span class=\\\"status-subtitle\\\"\\n                >\", \":\\n              </span>\\n              <span>\\n                <strong>\\n                  \", \"\\n                </strong>\\n              </span>\\n            </div>\\n            \", \"\\n          </div>\"])), this.hass.localize(\"ui.dialogs.more_info_control.vacuum.status\"), supportsFeature(stateObj, VacuumEntityFeature.STATUS) && stateObj.attributes.status ? this.hass.formatEntityAttributeValue(stateObj, \"status\") : this.hass.formatEntityState(stateObj), this._renderBattery()) : \"\", VACUUM_COMMANDS.some(function (item) {\n          return item.isVisible(stateObj);\n        }) ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n            <div>\\n              <p></p>\\n              <div class=\\\"status-subtitle\\\">\\n                \", \"\\n              </div>\\n              <div class=\\\"flex-horizontal\\\">\\n                \", \"\\n              </div>\\n            </div>\\n          \"])), this.hass.localize(\"ui.dialogs.more_info_control.vacuum.commands\"), VACUUM_COMMANDS.filter(function (item) {\n          return item.isVisible(stateObj);\n        }).map(function (item) {\n          return html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                    <div>\\n                      <ha-icon-button\\n                        .path=\", \"\\n                        .entry=\", \"\\n                        @click=\", \"\\n                        .label=\", \"\\n                        .disabled=\", \"\\n                      ></ha-icon-button>\\n                    </div>\\n                  \"])), item.icon, item, _this2.callService, _this2.hass.localize(\"ui.dialogs.more_info_control.vacuum.\".concat(item.translationKey)), stateObj.state === UNAVAILABLE);\n        })) : \"\", supportsFeature(stateObj, VacuumEntityFeature.FAN_SPEED) ? html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n            <div>\\n              <div class=\\\"flex-horizontal\\\">\\n                <ha-select\\n                  .label=\", \"\\n                  .disabled=\", \"\\n                  .value=\", \"\\n                  @selected=\", \"\\n                  fixedMenuPosition\\n                  naturalMenuWidth\\n                  @closed=\", \"\\n                >\\n                  \", \"\\n                </ha-select>\\n                <div\\n                  style=\\\"justify-content: center; align-self: center; padding-top: 1.3em\\\"\\n                >\\n                  <span>\\n                    <ha-svg-icon .path=\", \"></ha-svg-icon>\\n                    \", \"\\n                  </span>\\n                </div>\\n              </div>\\n              <p></p>\\n            </div>\\n          \"])), this.hass.localize(\"ui.dialogs.more_info_control.vacuum.fan_speed\"), stateObj.state === UNAVAILABLE, stateObj.attributes.fan_speed, this.handleFanSpeedChanged, stopPropagation, stateObj.attributes.fan_speed_list.map(function (mode) {\n          return html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n                      <mwc-list-item .value=\", \">\\n                        \", \"\\n                      </mwc-list-item>\\n                    \"])), mode, _this2.hass.formatEntityAttributeValue(stateObj, \"fan_speed\", mode));\n        }), mdiFan, this.hass.formatEntityAttributeValue(stateObj, \"fan_speed\")) : \"\", this.hass, this.stateObj, filterExtraAttributes);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_deviceEntities\",\n      value: function value() {\n        return memoizeOne(function (deviceId, entities) {\n          var entries = Object.values(entities);\n          return entries.filter(function (entity) {\n            return entity.device_id === deviceId;\n          });\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderBattery\",\n      value: function _renderBattery() {\n        var _this$hass$entities$s;\n        var stateObj = this.stateObj;\n        var deviceId = (_this$hass$entities$s = this.hass.entities[stateObj.entity_id]) === null || _this$hass$entities$s === void 0 ? void 0 : _this$hass$entities$s.device_id;\n        var entities = deviceId ? this._deviceEntities(deviceId, this.hass.entities) : [];\n        var batteryEntity = findBatteryEntity(this.hass, entities);\n        var battery = batteryEntity ? this.hass.states[batteryEntity.entity_id] : undefined;\n        var batteryDomain = battery ? computeStateDomain(battery) : undefined;\n\n        // Use device battery entity\n        if (battery && (batteryDomain === \"binary_sensor\" || !isNaN(battery.state))) {\n          var batteryChargingEntity = findBatteryChargingEntity(this.hass, entities);\n          var batteryCharging = batteryChargingEntity ? this.hass.states[batteryChargingEntity === null || batteryChargingEntity === void 0 ? void 0 : batteryChargingEntity.entity_id] : undefined;\n          return html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n        <div>\\n          <span>\\n            \", \"\\n            <ha-battery-icon\\n              .hass=\", \"\\n              .batteryStateObj=\", \"\\n              .batteryChargingStateObj=\", \"\\n            ></ha-battery-icon>\\n          </span>\\n        </div>\\n      \"])), batteryDomain === \"sensor\" ? this.hass.formatEntityState(battery) : nothing, this.hass, battery, batteryCharging);\n        }\n\n        // Use battery_level and battery_icon deprecated attributes\n        if (supportsFeature(stateObj, VacuumEntityFeature.BATTERY) && stateObj.attributes.battery_level) {\n          return html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n        <div>\\n          <span>\\n            \", \"\\n\\n            <ha-icon .icon=\", \"></ha-icon>\\n          </span>\\n        </div>\\n      \"])), this.hass.formatEntityAttributeValue(stateObj, \"battery_level\", Math.round(stateObj.attributes.battery_level)), stateObj.attributes.battery_icon);\n        }\n        return nothing;\n      }\n    }, {\n      kind: \"method\",\n      key: \"callService\",\n      value: function callService(ev) {\n        var entry = ev.target.entry;\n        this.hass.callService(\"vacuum\", entry.serviceName, {\n          entity_id: this.stateObj.entity_id\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"handleFanSpeedChanged\",\n      value: function handleFanSpeedChanged(ev) {\n        var oldVal = this.stateObj.attributes.fan_speed;\n        var newVal = ev.target.value;\n        if (!newVal || oldVal === newVal) {\n          return;\n        }\n        this.hass.callService(\"vacuum\", \"set_fan_speed\", {\n          entity_id: this.stateObj.entity_id,\n          fan_speed: newVal\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n      :host {\\n        line-height: 1.5;\\n      }\\n      .status-subtitle {\\n        color: var(--secondary-text-color);\\n      }\\n      .flex-horizontal {\\n        display: flex;\\n        flex-direction: row;\\n        justify-content: space-between;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["mdiFan","mdiHomeImportOutline","mdiMapMarker","mdiPause","mdiPlay","mdiPlayPause","mdiStop","mdiTargetVariant","LitElement","css","html","nothing","customElement","property","memoizeOne","stopPropagation","computeStateDomain","supportsFeature","UNAVAILABLE","findBatteryChargingEntity","findBatteryEntity","VacuumEntityFeature","VACUUM_COMMANDS","translationKey","icon","serviceName","isVisible","stateObj","START","PAUSE","STATE","STOP","CLEAN_SPOT","LOCATE","RETURN_HOME","MoreInfoVacuum","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","render","_this2","hass","filterExtraAttributes","_templateObject","_taggedTemplateLiteral","state","_templateObject2","localize","STATUS","attributes","status","formatEntityAttributeValue","formatEntityState","_renderBattery","some","item","_templateObject3","filter","map","_templateObject4","callService","FAN_SPEED","_templateObject5","fan_speed","handleFanSpeedChanged","fan_speed_list","mode","_templateObject6","deviceId","entities","entries","Object","values","entity","device_id","_this$hass$entities$s","entity_id","_deviceEntities","batteryEntity","battery","states","undefined","batteryDomain","isNaN","batteryChargingEntity","batteryCharging","_templateObject7","BATTERY","battery_level","_templateObject8","Math","round","battery_icon","ev","entry","target","oldVal","newVal","static","styles","_templateObject9"],"sources":["/Users/sercanardil/Desktop/frontend/src/dialogs/more-info/controls/more-info-vacuum.ts"],"sourcesContent":["import \"@material/mwc-list/mwc-list-item\";\nimport {\n  mdiFan,\n  mdiHomeImportOutline,\n  mdiMapMarker,\n  mdiPause,\n  mdiPlay,\n  mdiPlayPause,\n  mdiStop,\n  mdiTargetVariant,\n} from \"@mdi/js\";\nimport { CSSResultGroup, LitElement, css, html, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { computeStateDomain } from \"../../../common/entity/compute_state_domain\";\nimport { supportsFeature } from \"../../../common/entity/supports-feature\";\nimport \"../../../components/entity/ha-battery-icon\";\nimport \"../../../components/ha-attributes\";\nimport \"../../../components/ha-icon\";\nimport \"../../../components/ha-icon-button\";\nimport \"../../../components/ha-select\";\nimport { UNAVAILABLE } from \"../../../data/entity\";\nimport {\n  EntityRegistryDisplayEntry,\n  findBatteryChargingEntity,\n  findBatteryEntity,\n} from \"../../../data/entity_registry\";\nimport { VacuumEntity, VacuumEntityFeature } from \"../../../data/vacuum\";\nimport { HomeAssistant } from \"../../../types\";\n\ninterface VacuumCommand {\n  translationKey: string;\n  icon: string;\n  serviceName: string;\n  isVisible: (stateObj: VacuumEntity) => boolean;\n}\n\nconst VACUUM_COMMANDS: VacuumCommand[] = [\n  {\n    translationKey: \"start\",\n    icon: mdiPlay,\n    serviceName: \"start\",\n    isVisible: (stateObj) =>\n      supportsFeature(stateObj, VacuumEntityFeature.START),\n  },\n  {\n    translationKey: \"pause\",\n    icon: mdiPause,\n    serviceName: \"pause\",\n    isVisible: (stateObj) =>\n      // We need also to check if Start is supported because if not we show start-pause\n      // Start-pause service is only available for old vacuum entities, new entities have the `STATE` feature\n      supportsFeature(stateObj, VacuumEntityFeature.PAUSE) &&\n      (supportsFeature(stateObj, VacuumEntityFeature.STATE) ||\n        supportsFeature(stateObj, VacuumEntityFeature.START)),\n  },\n  {\n    translationKey: \"start_pause\",\n    icon: mdiPlayPause,\n    serviceName: \"start_pause\",\n    isVisible: (stateObj) =>\n      // If start is supported, we don't show this button\n      // This service is only available for old vacuum entities, new entities have the `STATE` feature\n      !supportsFeature(stateObj, VacuumEntityFeature.STATE) &&\n      !supportsFeature(stateObj, VacuumEntityFeature.START) &&\n      supportsFeature(stateObj, VacuumEntityFeature.PAUSE),\n  },\n  {\n    translationKey: \"stop\",\n    icon: mdiStop,\n    serviceName: \"stop\",\n    isVisible: (stateObj) =>\n      supportsFeature(stateObj, VacuumEntityFeature.STOP),\n  },\n  {\n    translationKey: \"clean_spot\",\n    icon: mdiTargetVariant,\n    serviceName: \"clean_spot\",\n    isVisible: (stateObj) =>\n      supportsFeature(stateObj, VacuumEntityFeature.CLEAN_SPOT),\n  },\n  {\n    translationKey: \"locate\",\n    icon: mdiMapMarker,\n    serviceName: \"locate\",\n    isVisible: (stateObj) =>\n      supportsFeature(stateObj, VacuumEntityFeature.LOCATE),\n  },\n  {\n    translationKey: \"return_home\",\n    icon: mdiHomeImportOutline,\n    serviceName: \"return_to_base\",\n    isVisible: (stateObj) =>\n      supportsFeature(stateObj, VacuumEntityFeature.RETURN_HOME),\n  },\n];\n\n@customElement(\"more-info-vacuum\")\nclass MoreInfoVacuum extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public stateObj?: VacuumEntity;\n\n  protected render() {\n    if (!this.hass || !this.stateObj) {\n      return nothing;\n    }\n\n    const stateObj = this.stateObj;\n\n    const filterExtraAttributes =\n      \"fan_speed,fan_speed_list,status,battery_level,battery_icon\";\n\n    return html`\n      ${stateObj.state !== UNAVAILABLE\n        ? html` <div class=\"flex-horizontal\">\n            <div>\n              <span class=\"status-subtitle\"\n                >${this.hass!.localize(\n                  \"ui.dialogs.more_info_control.vacuum.status\"\n                )}:\n              </span>\n              <span>\n                <strong>\n                  ${supportsFeature(stateObj, VacuumEntityFeature.STATUS) &&\n                  stateObj.attributes.status\n                    ? this.hass.formatEntityAttributeValue(stateObj, \"status\")\n                    : this.hass.formatEntityState(stateObj)}\n                </strong>\n              </span>\n            </div>\n            ${this._renderBattery()}\n          </div>`\n        : \"\"}\n      ${VACUUM_COMMANDS.some((item) => item.isVisible(stateObj))\n        ? html`\n            <div>\n              <p></p>\n              <div class=\"status-subtitle\">\n                ${this.hass!.localize(\n                  \"ui.dialogs.more_info_control.vacuum.commands\"\n                )}\n              </div>\n              <div class=\"flex-horizontal\">\n                ${VACUUM_COMMANDS.filter((item) =>\n                  item.isVisible(stateObj)\n                ).map(\n                  (item) => html`\n                    <div>\n                      <ha-icon-button\n                        .path=${item.icon}\n                        .entry=${item}\n                        @click=${this.callService}\n                        .label=${this.hass!.localize(\n                          `ui.dialogs.more_info_control.vacuum.${item.translationKey}`\n                        )}\n                        .disabled=${stateObj.state === UNAVAILABLE}\n                      ></ha-icon-button>\n                    </div>\n                  `\n                )}\n              </div>\n            </div>\n          `\n        : \"\"}\n      ${supportsFeature(stateObj, VacuumEntityFeature.FAN_SPEED)\n        ? html`\n            <div>\n              <div class=\"flex-horizontal\">\n                <ha-select\n                  .label=${this.hass!.localize(\n                    \"ui.dialogs.more_info_control.vacuum.fan_speed\"\n                  )}\n                  .disabled=${stateObj.state === UNAVAILABLE}\n                  .value=${stateObj.attributes.fan_speed}\n                  @selected=${this.handleFanSpeedChanged}\n                  fixedMenuPosition\n                  naturalMenuWidth\n                  @closed=${stopPropagation}\n                >\n                  ${stateObj.attributes.fan_speed_list!.map(\n                    (mode) => html`\n                      <mwc-list-item .value=${mode}>\n                        ${this.hass.formatEntityAttributeValue(\n                          stateObj,\n                          \"fan_speed\",\n                          mode\n                        )}\n                      </mwc-list-item>\n                    `\n                  )}\n                </ha-select>\n                <div\n                  style=\"justify-content: center; align-self: center; padding-top: 1.3em\"\n                >\n                  <span>\n                    <ha-svg-icon .path=${mdiFan}></ha-svg-icon>\n                    ${this.hass.formatEntityAttributeValue(\n                      stateObj,\n                      \"fan_speed\"\n                    )}\n                  </span>\n                </div>\n              </div>\n              <p></p>\n            </div>\n          `\n        : \"\"}\n\n      <ha-attributes\n        .hass=${this.hass}\n        .stateObj=${this.stateObj}\n        .extraFilters=${filterExtraAttributes}\n      ></ha-attributes>\n    `;\n  }\n\n  private _deviceEntities = memoizeOne(\n    (\n      deviceId: string,\n      entities: HomeAssistant[\"entities\"]\n    ): EntityRegistryDisplayEntry[] => {\n      const entries = Object.values(entities);\n      return entries.filter((entity) => entity.device_id === deviceId);\n    }\n  );\n\n  private _renderBattery() {\n    const stateObj = this.stateObj!;\n\n    const deviceId = this.hass.entities[stateObj.entity_id]?.device_id;\n\n    const entities = deviceId\n      ? this._deviceEntities(deviceId, this.hass.entities)\n      : [];\n\n    const batteryEntity = findBatteryEntity(this.hass, entities);\n    const battery = batteryEntity\n      ? this.hass.states[batteryEntity.entity_id]\n      : undefined;\n    const batteryDomain = battery ? computeStateDomain(battery) : undefined;\n\n    // Use device battery entity\n    if (\n      battery &&\n      (batteryDomain === \"binary_sensor\" || !isNaN(battery.state as any))\n    ) {\n      const batteryChargingEntity = findBatteryChargingEntity(\n        this.hass,\n        entities\n      );\n      const batteryCharging = batteryChargingEntity\n        ? this.hass.states[batteryChargingEntity?.entity_id]\n        : undefined;\n\n      return html`\n        <div>\n          <span>\n            ${batteryDomain === \"sensor\"\n              ? this.hass.formatEntityState(battery)\n              : nothing}\n            <ha-battery-icon\n              .hass=${this.hass}\n              .batteryStateObj=${battery}\n              .batteryChargingStateObj=${batteryCharging}\n            ></ha-battery-icon>\n          </span>\n        </div>\n      `;\n    }\n\n    // Use battery_level and battery_icon deprecated attributes\n    if (\n      supportsFeature(stateObj, VacuumEntityFeature.BATTERY) &&\n      stateObj.attributes.battery_level\n    ) {\n      return html`\n        <div>\n          <span>\n            ${this.hass.formatEntityAttributeValue(\n              stateObj,\n              \"battery_level\",\n              Math.round(stateObj.attributes.battery_level)\n            )}\n\n            <ha-icon .icon=${stateObj.attributes.battery_icon}></ha-icon>\n          </span>\n        </div>\n      `;\n    }\n\n    return nothing;\n  }\n\n  private callService(ev: CustomEvent) {\n    const entry = (ev.target! as any).entry as VacuumCommand;\n    this.hass.callService(\"vacuum\", entry.serviceName, {\n      entity_id: this.stateObj!.entity_id,\n    });\n  }\n\n  private handleFanSpeedChanged(ev) {\n    const oldVal = this.stateObj!.attributes.fan_speed;\n    const newVal = ev.target.value;\n\n    if (!newVal || oldVal === newVal) {\n      return;\n    }\n\n    this.hass.callService(\"vacuum\", \"set_fan_speed\", {\n      entity_id: this.stateObj!.entity_id,\n      fan_speed: newVal,\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        line-height: 1.5;\n      }\n      .status-subtitle {\n        color: var(--secondary-text-color);\n      }\n      .flex-horizontal {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"more-info-vacuum\": MoreInfoVacuum;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}