{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nexport var fetchBlueprints = function fetchBlueprints(hass, domain) {\n  return hass.callWS({\n    type: \"blueprint/list\",\n    domain: domain\n  });\n};\nexport var importBlueprint = function importBlueprint(hass, url) {\n  return hass.callWS({\n    type: \"blueprint/import\",\n    url: url\n  });\n};\nexport var saveBlueprint = function saveBlueprint(hass, domain, path, yaml, source_url, allow_override) {\n  return hass.callWS({\n    type: \"blueprint/save\",\n    domain: domain,\n    path: path,\n    yaml: yaml,\n    source_url: source_url,\n    allow_override: allow_override\n  });\n};\nexport var deleteBlueprint = function deleteBlueprint(hass, domain, path) {\n  return hass.callWS({\n    type: \"blueprint/delete\",\n    domain: domain,\n    path: path\n  });\n};\nexport var getBlueprintSourceType = function getBlueprintSourceType(blueprint) {\n  var sourceUrl = blueprint.metadata.source_url;\n  if (!sourceUrl) {\n    return \"local\";\n  }\n  if (sourceUrl.includes(\"github.com/home-assistant\")) {\n    return \"homeassistant\";\n  }\n  return \"community\";\n};","map":{"version":3,"names":["fetchBlueprints","hass","domain","callWS","type","importBlueprint","url","saveBlueprint","path","yaml","source_url","allow_override","deleteBlueprint","getBlueprintSourceType","blueprint","sourceUrl","metadata","includes"],"sources":["/workspaces/frontend/src/data/blueprint.ts"],"sourcesContent":["import { HomeAssistant } from \"../types\";\nimport { Selector } from \"./selector\";\n\nexport type BlueprintDomain = \"automation\" | \"script\";\n\nexport type Blueprints = Record<string, BlueprintOrError>;\n\nexport type BlueprintOrError = Blueprint | { error: string };\nexport interface Blueprint {\n  metadata: BlueprintMetaData;\n}\n\nexport interface BlueprintMetaData {\n  domain: BlueprintDomain;\n  name: string;\n  input?: Record<string, BlueprintInput | null>;\n  description?: string;\n  source_url?: string;\n  author?: string;\n}\n\nexport interface BlueprintInput {\n  name?: string;\n  description?: string;\n  selector?: Selector;\n  default?: any;\n}\n\nexport interface BlueprintImportResult {\n  suggested_filename: string;\n  raw_data: string;\n  exists?: boolean;\n  blueprint: Blueprint;\n  validation_errors: string[] | null;\n}\n\nexport const fetchBlueprints = (hass: HomeAssistant, domain: BlueprintDomain) =>\n  hass.callWS<Blueprints>({ type: \"blueprint/list\", domain });\n\nexport const importBlueprint = (hass: HomeAssistant, url: string) =>\n  hass.callWS<BlueprintImportResult>({ type: \"blueprint/import\", url });\n\nexport const saveBlueprint = (\n  hass: HomeAssistant,\n  domain: BlueprintDomain,\n  path: string,\n  yaml: string,\n  source_url?: string,\n  allow_override?: boolean\n) =>\n  hass.callWS({\n    type: \"blueprint/save\",\n    domain,\n    path,\n    yaml,\n    source_url,\n    allow_override,\n  });\n\nexport const deleteBlueprint = (\n  hass: HomeAssistant,\n  domain: BlueprintDomain,\n  path: string\n) =>\n  hass.callWS<BlueprintImportResult>({\n    type: \"blueprint/delete\",\n    domain,\n    path,\n  });\n\nexport type BlueprintSourceType = \"local\" | \"community\" | \"homeassistant\";\n\nexport const getBlueprintSourceType = (\n  blueprint: Blueprint\n): BlueprintSourceType => {\n  const sourceUrl = blueprint.metadata.source_url;\n\n  if (!sourceUrl) {\n    return \"local\";\n  }\n  if (sourceUrl.includes(\"github.com/home-assistant\")) {\n    return \"homeassistant\";\n  }\n  return \"community\";\n};\n"],"mappings":";;AAoCA,OAAO,IAAMA,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,IAAmB,EAAEC,MAAuB;EAAA,OAC1ED,IAAI,CAACE,MAAM,CAAa;IAAEC,IAAI,EAAE,gBAAgB;IAAEF,MAAM,EAANA;EAAO,CAAC,CAAC;AAAA;AAE7D,OAAO,IAAMG,eAAe,GAAG,SAAlBA,eAAeA,CAAIJ,IAAmB,EAAEK,GAAW;EAAA,OAC9DL,IAAI,CAACE,MAAM,CAAwB;IAAEC,IAAI,EAAE,kBAAkB;IAAEE,GAAG,EAAHA;EAAI,CAAC,CAAC;AAAA;AAEvE,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CACxBN,IAAmB,EACnBC,MAAuB,EACvBM,IAAY,EACZC,IAAY,EACZC,UAAmB,EACnBC,cAAwB;EAAA,OAExBV,IAAI,CAACE,MAAM,CAAC;IACVC,IAAI,EAAE,gBAAgB;IACtBF,MAAM,EAANA,MAAM;IACNM,IAAI,EAAJA,IAAI;IACJC,IAAI,EAAJA,IAAI;IACJC,UAAU,EAAVA,UAAU;IACVC,cAAc,EAAdA;EACF,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAC1BX,IAAmB,EACnBC,MAAuB,EACvBM,IAAY;EAAA,OAEZP,IAAI,CAACE,MAAM,CAAwB;IACjCC,IAAI,EAAE,kBAAkB;IACxBF,MAAM,EAANA,MAAM;IACNM,IAAI,EAAJA;EACF,CAAC,CAAC;AAAA;AAIJ,OAAO,IAAMK,sBAAsB,GAAG,SAAzBA,sBAAsBA,CACjCC,SAAoB,EACI;EACxB,IAAMC,SAAS,GAAGD,SAAS,CAACE,QAAQ,CAACN,UAAU;EAE/C,IAAI,CAACK,SAAS,EAAE;IACd,OAAO,OAAO;EAChB;EACA,IAAIA,SAAS,CAACE,QAAQ,CAAC,2BAA2B,CAAC,EAAE;IACnD,OAAO,eAAe;EACxB;EACA,OAAO,WAAW;AACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}