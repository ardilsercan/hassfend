{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27, _templateObject28, _templateObject29, _templateObject30, _templateObject31, _templateObject32, _templateObject33, _templateObject34, _templateObject35, _templateObject36;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"@material/mwc-button/mwc-button\";\nimport \"@material/mwc-formfield/mwc-formfield\";\nvar mdiContentCopy = \"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { until } from \"lit/directives/until\";\nimport memoizeOne from \"memoize-one\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { computeDomain } from \"../../../common/entity/compute_domain\";\nimport { computeObjectId } from \"../../../common/entity/compute_object_id\";\nimport { supportsFeature } from \"../../../common/entity/supports-feature\";\nimport { formatNumber } from \"../../../common/number/format_number\";\nimport { stringCompare } from \"../../../common/string/compare\";\nimport { copyToClipboard } from \"../../../common/util/copy-clipboard\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-area-picker\";\nimport \"../../../components/ha-icon\";\nimport \"../../../components/ha-icon-button-next\";\nimport \"../../../components/ha-icon-picker\";\nimport \"../../../components/ha-state-icon\";\nimport \"../../../components/ha-list-item\";\nimport \"../../../components/ha-radio\";\nimport \"../../../components/ha-select\";\nimport \"../../../components/ha-settings-row\";\nimport \"../../../components/ha-switch\";\nimport \"../../../components/ha-textfield\";\nimport { CAMERA_ORIENTATIONS, CAMERA_SUPPORT_STREAM, fetchCameraPrefs, STREAM_TYPE_HLS, updateCameraPrefs } from \"../../../data/camera\";\nimport { deleteConfigEntry } from \"../../../data/config_entries\";\nimport { createConfigFlow, handleConfigFlowStep } from \"../../../data/config_flow\";\nimport { createOptionsFlow, handleOptionsFlowStep } from \"../../../data/options_flow\";\nimport { updateDeviceRegistryEntry } from \"../../../data/device_registry\";\nimport { subscribeEntityRegistry, updateEntityRegistryEntry } from \"../../../data/entity_registry\";\nimport { entityIcon } from \"../../../data/icons\";\nimport { domainToName } from \"../../../data/integration\";\nimport { getNumberDeviceClassConvertibleUnits } from \"../../../data/number\";\nimport { getSensorDeviceClassConvertibleUnits, getSensorNumericDeviceClasses } from \"../../../data/sensor\";\nimport { getWeatherConvertibleUnits } from \"../../../data/weather\";\nimport { showOptionsFlowDialog } from \"../../../dialogs/config-flow/show-dialog-options-flow\";\nimport { showAlertDialog, showConfirmationDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport { showVoiceAssistantsView } from \"../../../dialogs/more-info/components/voice/show-view-voice-assistants\";\nimport { showMoreInfoDialog } from \"../../../dialogs/more-info/show-ha-more-info-dialog\";\nimport { haStyle } from \"../../../resources/styles\";\nimport { showToast } from \"../../../util/toast\";\nimport { showDeviceRegistryDetailDialog } from \"../devices/device-registry-detail/show-dialog-device-registry-detail\";\nvar OVERRIDE_DEVICE_CLASSES = {\n  cover: [[\"awning\", \"blind\", \"curtain\", \"damper\", \"door\", \"garage\", \"gate\", \"shade\", \"shutter\", \"window\"]],\n  binary_sensor: [[\"lock\"],\n  // Lock\n  [\"window\", \"door\", \"garage_door\", \"opening\"],\n  // Door\n  [\"battery\", \"battery_charging\"],\n  // Battery\n  [\"cold\", \"gas\", \"heat\"],\n  // Climate\n  [\"running\", \"motion\", \"moving\", \"occupancy\", \"presence\", \"vibration\"],\n  // Presence\n  [\"power\", \"plug\", \"light\"],\n  // Power\n  [\"smoke\", \"safety\", \"sound\", \"problem\", \"tamper\", \"carbon_monoxide\", \"moisture\"],\n  // Alarm\n  [\"connectivity\"],\n  // Connectivity\n  [\"update\"] // Update\n  ]\n};\nvar SWITCH_AS_DOMAINS = [\"cover\", \"fan\", \"light\", \"lock\", \"siren\", \"valve\"];\nvar SWITCH_AS_DOMAINS_INVERT = [\"cover\", \"lock\", \"valve\"];\nvar PRECISIONS = [0, 1, 2, 3, 4, 5, 6];\nexport var EntityRegistrySettingsEditor = _decorate([customElement(\"entity-registry-settings-editor\")], function (_initialize, _LitElement) {\n  var EntityRegistrySettingsEditor = /*#__PURE__*/function (_LitElement2) {\n    _inherits(EntityRegistrySettingsEditor, _LitElement2);\n    function EntityRegistrySettingsEditor() {\n      var _this;\n      _classCallCheck(this, EntityRegistrySettingsEditor);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, EntityRegistrySettingsEditor, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(EntityRegistrySettingsEditor);\n  }(_LitElement);\n  return {\n    F: EntityRegistrySettingsEditor,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Object\n      })],\n      key: \"entry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"hideName\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"hideIcon\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"helperConfigEntry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_name\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_icon\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_deviceClass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_switchAsDomain\",\n      value: function value() {\n        return \"switch\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_switchAsInvert\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_areaId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_disabledBy\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_hiddenBy\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_device\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_unit_of_measurement\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_precision\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_precipitation_unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_pressure_unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_temperature_unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_visibility_unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_wind_speed_unit\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_cameraPrefs\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_numberDeviceClassConvertibleUnits\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_sensorDeviceClassConvertibleUnits\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_sensorNumericalDeviceClasses\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_weatherConvertibleUnits\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_defaultCode\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_noDeviceArea\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_origEntityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_deviceClassOptions\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProperties) {\n        var _changedProperties$ge, _this$entry$options;\n        _get(_getPrototypeOf(EntityRegistrySettingsEditor.prototype), \"willUpdate\", this).call(this, changedProperties);\n        if (!changedProperties.has(\"entry\") || ((_changedProperties$ge = changedProperties.get(\"entry\")) === null || _changedProperties$ge === void 0 ? void 0 : _changedProperties$ge.id) === this.entry.id) {\n          return;\n        }\n        this._name = this.entry.name || \"\";\n        this._icon = this.entry.icon || \"\";\n        this._deviceClass = this.entry.device_class || this.entry.original_device_class;\n        this._origEntityId = this.entry.entity_id;\n        this._areaId = this.entry.area_id;\n        this._entityId = this.entry.entity_id;\n        this._disabledBy = this.entry.disabled_by;\n        this._hiddenBy = this.entry.hidden_by;\n        this._device = this.entry.device_id ? this.hass.devices[this.entry.device_id] : undefined;\n        this._switchAsInvert = ((_this$entry$options = this.entry.options) === null || _this$entry$options === void 0 || (_this$entry$options = _this$entry$options.switch_as_x) === null || _this$entry$options === void 0 ? void 0 : _this$entry$options.invert) === true;\n        var domain = computeDomain(this.entry.entity_id);\n        if (domain === \"camera\" && isComponentLoaded(this.hass, \"stream\")) {\n          var stateObj = this.hass.states[this.entry.entity_id];\n          if (stateObj && supportsFeature(stateObj, CAMERA_SUPPORT_STREAM) &&\n          // The stream component for HLS streams supports a server-side pre-load\n          // option that client initiated WebRTC streams do not\n          stateObj.attributes.frontend_stream_type === STREAM_TYPE_HLS) {\n            this._fetchCameraPrefs();\n          }\n        }\n        if (domain === \"number\" || domain === \"sensor\") {\n          var _stateObj$attributes;\n          var _stateObj = this.hass.states[this.entry.entity_id];\n          this._unit_of_measurement = _stateObj === null || _stateObj === void 0 || (_stateObj$attributes = _stateObj.attributes) === null || _stateObj$attributes === void 0 ? void 0 : _stateObj$attributes.unit_of_measurement;\n        }\n        if (domain === \"sensor\") {\n          var _this$entry$options2;\n          this._precision = (_this$entry$options2 = this.entry.options) === null || _this$entry$options2 === void 0 || (_this$entry$options2 = _this$entry$options2.sensor) === null || _this$entry$options2 === void 0 ? void 0 : _this$entry$options2.display_precision;\n        }\n        if (domain === \"lock\") {\n          var _this$entry$options3;\n          this._defaultCode = (_this$entry$options3 = this.entry.options) === null || _this$entry$options3 === void 0 || (_this$entry$options3 = _this$entry$options3.lock) === null || _this$entry$options3 === void 0 ? void 0 : _this$entry$options3.default_code;\n        }\n        if (domain === \"weather\") {\n          var _stateObj2$attributes, _stateObj2$attributes2, _stateObj2$attributes3, _stateObj2$attributes4, _stateObj2$attributes5;\n          var _stateObj2 = this.hass.states[this.entry.entity_id];\n          this._precipitation_unit = _stateObj2 === null || _stateObj2 === void 0 || (_stateObj2$attributes = _stateObj2.attributes) === null || _stateObj2$attributes === void 0 ? void 0 : _stateObj2$attributes.precipitation_unit;\n          this._pressure_unit = _stateObj2 === null || _stateObj2 === void 0 || (_stateObj2$attributes2 = _stateObj2.attributes) === null || _stateObj2$attributes2 === void 0 ? void 0 : _stateObj2$attributes2.pressure_unit;\n          this._temperature_unit = _stateObj2 === null || _stateObj2 === void 0 || (_stateObj2$attributes3 = _stateObj2.attributes) === null || _stateObj2$attributes3 === void 0 ? void 0 : _stateObj2$attributes3.temperature_unit;\n          this._visibility_unit = _stateObj2 === null || _stateObj2 === void 0 || (_stateObj2$attributes4 = _stateObj2.attributes) === null || _stateObj2$attributes4 === void 0 ? void 0 : _stateObj2$attributes4.visibility_unit;\n          this._wind_speed_unit = _stateObj2 === null || _stateObj2 === void 0 || (_stateObj2$attributes5 = _stateObj2.attributes) === null || _stateObj2$attributes5 === void 0 ? void 0 : _stateObj2$attributes5.wind_speed_unit;\n        }\n        var deviceClasses = OVERRIDE_DEVICE_CLASSES[domain];\n        if (!deviceClasses) {\n          return;\n        }\n        this._deviceClassOptions = [[], []];\n        var _iterator = _createForOfIteratorHelper(deviceClasses),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var deviceClass = _step.value;\n            if (deviceClass.includes(this.entry.original_device_class)) {\n              this._deviceClassOptions[0] = deviceClass;\n            } else {\n              var _this$_deviceClassOpt;\n              (_this$_deviceClassOpt = this._deviceClassOptions[1]).push.apply(_this$_deviceClassOpt, _toConsumableArray(deviceClass));\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"precisionLabel\",\n      value: function precisionLabel(precision, stateValue) {\n        var stateValueNumber = Number(stateValue);\n        var value = !isNaN(stateValueNumber) ? stateValue : 0;\n        return formatNumber(value, this.hass.locale, {\n          minimumFractionDigits: precision,\n          maximumFractionDigits: precision\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_isInvalidDefaultCode\",\n      value: function _isInvalidDefaultCode(codeFormat, value) {\n        if (codeFormat && value) {\n          return !RegExp(codeFormat).test(value);\n        }\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function () {\n        var _updated = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(changedProps) {\n          var domain, _yield$getNumberDevic, units, _yield$getSensorNumer, numeric_device_classes, _yield$getSensorDevic, _units, _domain, _yield$getWeatherConv, _units2, _this$helperConfigEnt;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (!changedProps.has(\"_deviceClass\")) {\n                  _context.next = 29;\n                  break;\n                }\n                domain = computeDomain(this.entry.entity_id);\n                if (!(domain === \"number\" && this._deviceClass)) {\n                  _context.next = 10;\n                  break;\n                }\n                _context.next = 5;\n                return getNumberDeviceClassConvertibleUnits(this.hass, this._deviceClass);\n              case 5:\n                _yield$getNumberDevic = _context.sent;\n                units = _yield$getNumberDevic.units;\n                this._numberDeviceClassConvertibleUnits = units;\n                _context.next = 11;\n                break;\n              case 10:\n                this._numberDeviceClassConvertibleUnits = [];\n              case 11:\n                if (!(domain === \"sensor\")) {\n                  _context.next = 19;\n                  break;\n                }\n                _context.next = 14;\n                return getSensorNumericDeviceClasses(this.hass);\n              case 14:\n                _yield$getSensorNumer = _context.sent;\n                numeric_device_classes = _yield$getSensorNumer.numeric_device_classes;\n                this._sensorNumericalDeviceClasses = numeric_device_classes;\n                _context.next = 20;\n                break;\n              case 19:\n                this._sensorNumericalDeviceClasses = [];\n              case 20:\n                if (!(domain === \"sensor\" && this._deviceClass)) {\n                  _context.next = 28;\n                  break;\n                }\n                _context.next = 23;\n                return getSensorDeviceClassConvertibleUnits(this.hass, this._deviceClass);\n              case 23:\n                _yield$getSensorDevic = _context.sent;\n                _units = _yield$getSensorDevic.units;\n                this._sensorDeviceClassConvertibleUnits = _units;\n                _context.next = 29;\n                break;\n              case 28:\n                this._sensorDeviceClassConvertibleUnits = [];\n              case 29:\n                if (!changedProps.has(\"_entityId\")) {\n                  _context.next = 40;\n                  break;\n                }\n                _domain = computeDomain(this.entry.entity_id);\n                if (!(_domain === \"weather\")) {\n                  _context.next = 39;\n                  break;\n                }\n                _context.next = 34;\n                return getWeatherConvertibleUnits(this.hass);\n              case 34:\n                _yield$getWeatherConv = _context.sent;\n                _units2 = _yield$getWeatherConv.units;\n                this._weatherConvertibleUnits = _units2;\n                _context.next = 40;\n                break;\n              case 39:\n                this._weatherConvertibleUnits = undefined;\n              case 40:\n                if (changedProps.has(\"helperConfigEntry\")) {\n                  if (((_this$helperConfigEnt = this.helperConfigEntry) === null || _this$helperConfigEnt === void 0 ? void 0 : _this$helperConfigEnt.domain) === \"switch_as_x\") {\n                    this._switchAsDomain = computeDomain(this.entry.entity_id);\n                  } else {\n                    this._switchAsDomain = \"switch\";\n                    this._switchAsInvert = false;\n                  }\n                }\n              case 41:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function updated(_x) {\n          return _updated.apply(this, arguments);\n        }\n        return updated;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _stateObj$attributes2,\n          _this$entry$options$s,\n          _this$entry$options4,\n          _this$helperConfigEnt2,\n          _this$entry$options5,\n          _this$_numberDeviceCl,\n          _this$_sensorDeviceCl,\n          _this$_sensorNumerica,\n          _this2 = this,\n          _this$_weatherConvert,\n          _this$_weatherConvert2,\n          _this$_weatherConvert3,\n          _this$_weatherConvert4,\n          _this$_weatherConvert5,\n          _this$_device,\n          _this$hass$areas,\n          _this$_device2;\n        if (this.entry.entity_id !== this._origEntityId) {\n          return nothing;\n        }\n        var stateObj = this.hass.states[this.entry.entity_id];\n        var domain = computeDomain(this.entry.entity_id);\n        var invalidDefaultCode = domain === \"lock\" && this._isInvalidDefaultCode(stateObj === null || stateObj === void 0 || (_stateObj$attributes2 = stateObj.attributes) === null || _stateObj$attributes2 === void 0 ? void 0 : _stateObj$attributes2.code_format, this._defaultCode);\n        var defaultPrecision = (_this$entry$options$s = (_this$entry$options4 = this.entry.options) === null || _this$entry$options4 === void 0 || (_this$entry$options4 = _this$entry$options4.sensor) === null || _this$entry$options4 === void 0 ? void 0 : _this$entry$options4.suggested_display_precision) !== null && _this$entry$options$s !== void 0 ? _this$entry$options$s : undefined;\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      \", \"\\n      \", \"\\n      \", \"\\n      \", \"\\n      \", \"\\n      \", \"\\n      \", \"\\n      \", \"\\n      \", \"\\n      <ha-textfield\\n        class=\\\"entityId\\\"\\n        .value=\", \"\\n        .prefix=\", \"\\n        .label=\", \"\\n        .disabled=\", \"\\n        required\\n        @input=\", \"\\n        iconTrailing\\n        autocapitalize=\\\"none\\\"\\n        autocomplete=\\\"off\\\"\\n        autocorrect=\\\"off\\\"\\n        input-spellcheck=\\\"false\\\"\\n      >\\n        <ha-icon-button\\n          @click=\", \"\\n          slot=\\\"trailingIcon\\\"\\n          .path=\", \"\\n        ></ha-icon-button>\\n      </ha-textfield>\\n      \", \"\\n      \", \"\\n      \", \"\\n\\n      <ha-list-item\\n        class=\\\"menu-item\\\"\\n        twoline\\n        hasMeta\\n        .disabled=\", \"\\n        @click=\", \"\\n      >\\n        <span\\n          >\", \"</span\\n        >\\n        <span slot=\\\"secondary\\\">\\n          \", \"\\n        </span>\\n        <ha-icon-next slot=\\\"meta\\\"></ha-icon-next>\\n      </ha-list-item>\\n\\n      \", \"\\n\\n      <ha-settings-row>\\n        <span slot=\\\"heading\\\"\\n          >\", \"</span\\n        >\\n        <span slot=\\\"description\\\"\\n          >\", \"</span\\n        >\\n        <ha-switch\\n          .checked=\", \"\\n          .disabled=\", \"\\n          @change=\", \"\\n        ></ha-switch>\\n      </ha-settings-row>\\n\\n      \", \"\\n\\n      <ha-settings-row>\\n        <span slot=\\\"heading\\\"\\n          >\", \"</span\\n        >\\n        <span slot=\\\"description\\\"\\n          >\", \"</span\\n        >\\n        <ha-switch\\n          .checked=\", \"\\n          .disabled=\", \"\\n          @change=\", \"\\n        ></ha-switch>\\n      </ha-settings-row>\\n\\n      \", \"\\n    \"])), this.hideName ? nothing : html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-textfield\\n            .value=\", \"\\n            .label=\", \"\\n            .disabled=\", \"\\n            .placeholder=\", \"\\n            @input=\", \"\\n          ></ha-textfield>\"])), this._name, this.hass.localize(\"ui.dialogs.entity_registry.editor.name\"), this.disabled, this.entry.original_name, this._nameChanged), this.hideIcon ? nothing : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n            <ha-icon-picker\\n              .hass=\", \"\\n              .value=\", \"\\n              @value-changed=\", \"\\n              .label=\", \"\\n              .placeholder=\", \"\\n              .disabled=\", \"\\n            >\\n              \", \"\\n            </ha-icon-picker>\\n          \"])), this.hass, this._icon, this._iconChanged, this.hass.localize(\"ui.dialogs.entity_registry.editor.icon\"), this.entry.original_icon || (stateObj === null || stateObj === void 0 ? void 0 : stateObj.attributes.icon) || stateObj && until(entityIcon(this.hass, stateObj)), this.disabled, !this._icon && !(stateObj !== null && stateObj !== void 0 && stateObj.attributes.icon) && stateObj ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                    <ha-state-icon\\n                      slot=\\\"fallback\\\"\\n                      .hass=\", \"\\n                      .stateObj=\", \"\\n                    ></ha-state-icon>\\n                  \"])), this.hass, stateObj) : nothing), domain === \"switch\" ? html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<ha-select\\n            .label=\", \"\\n            naturalMenuWidth\\n            fixedMenuPosition\\n            @selected=\", \"\\n            @closed=\", \"\\n          >\\n            <ha-list-item\\n              value=\\\"switch\\\"\\n              .selected=\", \"\\n            >\\n              \", \"\\n            </ha-list-item>\\n            <ha-list-item\\n              value=\\\"outlet\\\"\\n              .selected=\", \"\\n            >\\n              \", \"\\n            </ha-list-item>\\n            <li divider role=\\\"separator\\\"></li>\\n            \", \"\\n          </ha-select>\"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.device_class\"), this._switchAsDomainChanged, stopPropagation, !this._deviceClass || this._deviceClass === \"switch\", domainToName(this.hass.localize, \"switch\"), this._deviceClass === \"outlet\", this.hass.localize(\"ui.dialogs.entity_registry.editor.device_classes.switch.outlet\"), this._switchAsDomainsSorted(SWITCH_AS_DOMAINS, this.hass.localize).map(function (entry) {\n          return html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n                <ha-list-item .value=\", \">\\n                  \", \"\\n                </ha-list-item>\\n              \"])), entry.domain, entry.label);\n        })) : ((_this$helperConfigEnt2 = this.helperConfigEntry) === null || _this$helperConfigEnt2 === void 0 ? void 0 : _this$helperConfigEnt2.domain) === \"switch_as_x\" ? html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<ha-select\\n                .label=\", \"\\n                .value=\", \"\\n                naturalMenuWidth\\n                fixedMenuPosition\\n                @selected=\", \"\\n                @closed=\", \"\\n              >\\n                <ha-list-item value=\\\"switch\\\">\\n                  \", \"\\n                </ha-list-item>\\n                <ha-list-item .value=\", \">\\n                  \", \"\\n                </ha-list-item>\\n                <li divider role=\\\"separator\\\"></li>\\n                \", \"\\n              </ha-select>\\n              \", \" \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.switch_as_x\"), this._switchAsDomain, this._switchAsDomainChanged, stopPropagation, domainToName(this.hass.localize, \"switch\"), domain, domainToName(this.hass.localize, domain), this._switchAsDomainsSorted(SWITCH_AS_DOMAINS, this.hass.localize).map(function (entry) {\n          return domain === entry.domain ? nothing : html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n                        <ha-list-item .value=\", \">\\n                          \", \"\\n                        </ha-list-item>\\n                      \"])), entry.domain, entry.label);\n        }), SWITCH_AS_DOMAINS_INVERT.includes(this._switchAsDomain) ? html(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n                    <ha-settings-row>\\n                      <span slot=\\\"heading\\\"\\n                        >\", \"</span\\n                      >\\n                      <span slot=\\\"description\\\"\\n                        >\", \"</span\\n                      >\\n                      <ha-switch\\n                        .checked=\", \"\\n                        @change=\", \"\\n                      ></ha-switch>\\n                    </ha-settings-row>\\n                  \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.invert.label\"), this.hass.localize(\"ui.dialogs.entity_registry.editor.invert.descriptions.\".concat(this._switchAsDomain)), (_this$entry$options5 = this.entry.options) === null || _this$entry$options5 === void 0 || (_this$entry$options5 = _this$entry$options5.switch_as_x) === null || _this$entry$options5 === void 0 ? void 0 : _this$entry$options5.invert, this._switchAsInvertChanged) : nothing) : nothing, this._deviceClassOptions ? html(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              clearable\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n              \", \"\\n              \", \"\\n            </ha-select>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.device_class\"), this._deviceClass, this._deviceClassChanged, stopPropagation, this._deviceClassesSorted(domain, this._deviceClassOptions[0], this.hass.localize).map(function (entry) {\n          return html(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\\n                    \", \"\\n                  </ha-list-item>\\n                \"])), entry.deviceClass, entry.label);\n        }), this._deviceClassOptions[0].length && this._deviceClassOptions[1].length ? html(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"<li divider role=\\\"separator\\\"></li>\"]))) : \"\", this._deviceClassesSorted(domain, this._deviceClassOptions[1], this.hass.localize).map(function (entry) {\n          return html(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\\n                    \", \"\\n                  </ha-list-item>\\n                \"])), entry.deviceClass, entry.label);\n        })) : \"\", domain === \"number\" && this._deviceClass && stateObj !== null && stateObj !== void 0 && stateObj.attributes.unit_of_measurement && (_this$_numberDeviceCl = this._numberDeviceClassConvertibleUnits) !== null && _this$_numberDeviceCl !== void 0 && _this$_numberDeviceCl.includes(stateObj === null || stateObj === void 0 ? void 0 : stateObj.attributes.unit_of_measurement) ? html(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.unit_of_measurement\"), stateObj.attributes.unit_of_measurement, this._unitChanged, stopPropagation, this._numberDeviceClassConvertibleUnits.map(function (unit) {\n          return html(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        })) : \"\", domain === \"lock\" ? html(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\\n            <ha-textfield\\n              .validationMessage=\", \"\\n              .value=\", \"\\n              .label=\", \"\\n              type=\\\"password\\\"\\n              .invalid=\", \"\\n              .disabled=\", \"\\n              @input=\", \"\\n            ></ha-textfield>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.default_code_error\"), this._defaultCode == null ? \"\" : this._defaultCode, this.hass.localize(\"ui.dialogs.entity_registry.editor.default_code\"), invalidDefaultCode, this.disabled, this._defaultcodeChanged) : \"\", domain === \"sensor\" && this._deviceClass && stateObj !== null && stateObj !== void 0 && stateObj.attributes.unit_of_measurement && (_this$_sensorDeviceCl = this._sensorDeviceClassConvertibleUnits) !== null && _this$_sensorDeviceCl !== void 0 && _this$_sensorDeviceCl.includes(stateObj === null || stateObj === void 0 ? void 0 : stateObj.attributes.unit_of_measurement) ? html(_templateObject17 || (_templateObject17 = _taggedTemplateLiteral([\"\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.unit_of_measurement\"), stateObj.attributes.unit_of_measurement, this._unitChanged, stopPropagation, this._sensorDeviceClassConvertibleUnits.map(function (unit) {\n          return html(_templateObject18 || (_templateObject18 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        })) : \"\", domain === \"sensor\" && (\n        // Allow customizing the precision for a sensor with numerical device class,\n        // a unit of measurement or state class\n        this._deviceClass && (_this$_sensorNumerica = this._sensorNumericalDeviceClasses) !== null && _this$_sensorNumerica !== void 0 && _this$_sensorNumerica.includes(this._deviceClass) || stateObj !== null && stateObj !== void 0 && stateObj.attributes.unit_of_measurement || stateObj !== null && stateObj !== void 0 && stateObj.attributes.state_class) ? html(_templateObject19 || (_templateObject19 = _taggedTemplateLiteral([\"\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              <ha-list-item value=\\\"default\\\"\\n                >\", \"</ha-list-item\\n              >\\n              \", \"\\n            </ha-select>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.precision\"), this._precision == null ? \"default\" : this._precision.toString(), this._precisionChanged, stopPropagation, this.hass.localize(\"ui.dialogs.entity_registry.editor.precision_default\", {\n          value: this.precisionLabel(defaultPrecision, stateObj === null || stateObj === void 0 ? void 0 : stateObj.state)\n        }), PRECISIONS.map(function (precision) {\n          return html(_templateObject20 || (_templateObject20 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\\n                    \", \"\\n                  </ha-list-item>\\n                \"])), precision.toString(), _this2.precisionLabel(precision, stateObj === null || stateObj === void 0 ? void 0 : stateObj.state));\n        })) : \"\", domain === \"weather\" ? html(_templateObject21 || (_templateObject21 = _taggedTemplateLiteral([\"\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n            <ha-select\\n              .label=\", \"\\n              .value=\", \"\\n              naturalMenuWidth\\n              fixedMenuPosition\\n              @selected=\", \"\\n              @closed=\", \"\\n            >\\n              \", \"\\n            </ha-select>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.precipitation_unit\"), this._precipitation_unit, this._precipitationUnitChanged, stopPropagation, (_this$_weatherConvert = this._weatherConvertibleUnits) === null || _this$_weatherConvert === void 0 ? void 0 : _this$_weatherConvert.precipitation_unit.map(function (unit) {\n          return html(_templateObject22 || (_templateObject22 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        }), this.hass.localize(\"ui.dialogs.entity_registry.editor.pressure_unit\"), this._pressure_unit, this._pressureUnitChanged, stopPropagation, (_this$_weatherConvert2 = this._weatherConvertibleUnits) === null || _this$_weatherConvert2 === void 0 ? void 0 : _this$_weatherConvert2.pressure_unit.map(function (unit) {\n          return html(_templateObject23 || (_templateObject23 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        }), this.hass.localize(\"ui.dialogs.entity_registry.editor.temperature_unit\"), this._temperature_unit, this._temperatureUnitChanged, stopPropagation, (_this$_weatherConvert3 = this._weatherConvertibleUnits) === null || _this$_weatherConvert3 === void 0 ? void 0 : _this$_weatherConvert3.temperature_unit.map(function (unit) {\n          return html(_templateObject24 || (_templateObject24 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        }), this.hass.localize(\"ui.dialogs.entity_registry.editor.visibility_unit\"), this._visibility_unit, this._visibilityUnitChanged, stopPropagation, (_this$_weatherConvert4 = this._weatherConvertibleUnits) === null || _this$_weatherConvert4 === void 0 ? void 0 : _this$_weatherConvert4.visibility_unit.map(function (unit) {\n          return html(_templateObject25 || (_templateObject25 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        }), this.hass.localize(\"ui.dialogs.entity_registry.editor.wind_speed_unit\"), this._wind_speed_unit, this._windSpeedUnitChanged, stopPropagation, (_this$_weatherConvert5 = this._weatherConvertibleUnits) === null || _this$_weatherConvert5 === void 0 ? void 0 : _this$_weatherConvert5.wind_speed_unit.map(function (unit) {\n          return html(_templateObject26 || (_templateObject26 = _taggedTemplateLiteral([\"\\n                  <ha-list-item .value=\", \">\", \"</ha-list-item>\\n                \"])), unit, unit);\n        })) : \"\", computeObjectId(this._entityId), domain + \".\", this.hass.localize(\"ui.dialogs.entity_registry.editor.entity_id\"), this.disabled, this._entityIdChanged, this._copyEntityId, mdiContentCopy, !this.entry.device_id ? html(_templateObject27 || (_templateObject27 = _taggedTemplateLiteral([\"<ha-area-picker\\n            .hass=\", \"\\n            .value=\", \"\\n            .disabled=\", \"\\n            @value-changed=\", \"\\n          ></ha-area-picker>\"])), this.hass, this._areaId, this.disabled, this._areaPicked) : \"\", this._cameraPrefs ? html(_templateObject28 || (_templateObject28 = _taggedTemplateLiteral([\"\\n            <ha-settings-row>\\n              <span slot=\\\"heading\\\"\\n                >\", \"</span\\n              >\\n              <span slot=\\\"description\\\"\\n                >\", \"</span\\n              >\\n              <ha-switch\\n                .checked=\", \"\\n                .disabled=\", \"\\n                @change=\", \"\\n              >\\n              </ha-switch>\\n            </ha-settings-row>\\n            <ha-settings-row>\\n              <span slot=\\\"heading\\\"\\n                >\", \"</span\\n              >\\n              <span slot=\\\"description\\\"\\n                >\", \"</span\\n              >\\n              <ha-select\\n                .label=\", \"\\n                naturalMenuWidth\\n                fixedMenuPosition\\n                .disabled=\", \"\\n                @selected=\", \"\\n                @closed=\", \"\\n              >\\n                \", \"\\n              </ha-select>\\n            </ha-settings-row>\\n          \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.stream.preload_stream\"), this.hass.localize(\"ui.dialogs.entity_registry.editor.stream.preload_stream_description\"), this._cameraPrefs.preload_stream, this.disabled, this._handleCameraPrefsChanged, this.hass.localize(\"ui.dialogs.entity_registry.editor.stream.stream_orientation\"), this.hass.localize(\"ui.dialogs.entity_registry.editor.stream.stream_orientation_description\"), this.hass.localize(\"ui.dialogs.entity_registry.editor.stream.stream_orientation\"), this.disabled, this._handleCameraOrientationChanged, stopPropagation, CAMERA_ORIENTATIONS.map(function (num) {\n          var localizeStr = \"ui.dialogs.entity_registry.editor.stream.stream_orientation_\" + num.toString();\n          return html(_templateObject29 || (_templateObject29 = _taggedTemplateLiteral([\"\\n                    <ha-list-item value=\", \">\\n                      \", \"\\n                    </ha-list-item>\\n                  \"])), num, _this2.hass.localize(localizeStr));\n        })) : \"\", this.helperConfigEntry && this.helperConfigEntry.supports_options && this.helperConfigEntry.domain !== \"switch_as_x\" ? html(_templateObject30 || (_templateObject30 = _taggedTemplateLiteral([\"\\n            <ha-list-item\\n              class=\\\"menu-item\\\"\\n              twoline\\n              hasMeta\\n              .disabled=\", \"\\n              @click=\", \"\\n            >\\n              <span\\n                >\", \"</span\\n              >\\n              <span slot=\\\"secondary\\\"\\n                >\", \"</span\\n              >\\n              <ha-icon-next slot=\\\"meta\\\"></ha-icon-next>\\n            </ha-list-item>\\n          \"])), this.disabled, this._showOptionsFlow, this.hass.localize(\"ui.dialogs.entity_registry.editor.configure_state\", {\n          integration: domainToName(this.hass.localize, this.helperConfigEntry.domain)\n        }), this.hass.localize(\"ui.dialogs.entity_registry.editor.configure_state_secondary\", {\n          integration: domainToName(this.hass.localize, this.helperConfigEntry.domain)\n        })) : \"\", this.disabled, this._handleVoiceAssistantsClicked, this.hass.localize(\"ui.dialogs.entity_registry.editor.voice_assistants\"), this.entry.aliases.length ? _toConsumableArray(this.entry.aliases).sort(function (a, b) {\n          return stringCompare(a, b, _this2.hass.locale.language);\n        }).join(\", \") : this.hass.localize(\"ui.dialogs.entity_registry.editor.no_aliases\"), this._disabledBy && this._disabledBy !== \"user\" && this._disabledBy !== \"integration\" ? html(_templateObject31 || (_templateObject31 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"warning\\\"\\n            >\", \"</ha-alert\\n          >\"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.enabled_cause\", {\n          cause: this.hass.localize(\"config_entry.disabled_by.\".concat(this._disabledBy))\n        })) : \"\", this.hass.localize(\"ui.dialogs.entity_registry.editor.enabled_label\"), this.hass.localize(\"ui.dialogs.entity_registry.editor.enabled_description\"), !this._disabledBy, this.disabled || ((_this$_device = this._device) === null || _this$_device === void 0 ? void 0 : _this$_device.disabled_by) || this._disabledBy && this._disabledBy !== \"user\" && this._disabledBy !== \"integration\", this._enabledChanged, this._hiddenBy && this._hiddenBy !== \"user\" ? html(_templateObject32 || (_templateObject32 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"warning\\\"\\n            >\", \"</ha-alert\\n          >\"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.hidden_cause\", {\n          cause: this.hass.localize(\"config_entry.hidden_by.\".concat(this._hiddenBy))\n        })) : \"\", this.hass.localize(\"ui.dialogs.entity_registry.editor.visible_label\"), this.hass.localize(\"ui.dialogs.entity_registry.editor.hidden_description\"), !this._disabledBy && !this._hiddenBy, this.disabled || this._disabledBy || this._hiddenBy && this._hiddenBy !== \"user\", this._hiddenChanged, this.entry.device_id ? html(_templateObject33 || (_templateObject33 = _taggedTemplateLiteral([\"<ha-settings-row>\\n              <span slot=\\\"heading\\\"\\n                >\", \"\\n                \", \"</span\\n              >\\n              <span slot=\\\"description\\\"\\n                >\", \"</span\\n              >\\n              <ha-switch\\n                .checked=\", \"\\n                .disabled=\", \"\\n                @change=\", \"\\n              >\\n              </ha-switch\\n            ></ha-settings-row>\\n            \", \" \"])), this.hass.localize(\"ui.dialogs.entity_registry.editor.use_device_area\"), this.hass.devices[this.entry.device_id].area_id ? \"(\".concat((_this$hass$areas = this.hass.areas[this.hass.devices[this.entry.device_id].area_id]) === null || _this$hass$areas === void 0 ? void 0 : _this$hass$areas.name, \")\") : \"\", this.hass.localize(\"ui.dialogs.entity_registry.editor.change_device_settings\", {\n          link: html(_templateObject34 || (_templateObject34 = _taggedTemplateLiteral([\"<button\\n                      class=\\\"link\\\"\\n                      @click=\", \"\\n                    >\\n                      \", \"\\n                    </button>\"])), this._openDeviceSettings, this.hass.localize(\"ui.dialogs.entity_registry.editor.change_device_area_link\"))\n        }), !this._areaId || this._noDeviceArea, this.disabled, this._useDeviceAreaChanged, this._areaId || this._noDeviceArea ? html(_templateObject35 || (_templateObject35 = _taggedTemplateLiteral([\"<ha-area-picker\\n                  .hass=\", \"\\n                  .value=\", \"\\n                  .placeholder=\", \"\\n                  .disabled=\", \"\\n                  @value-changed=\", \"\\n                ></ha-area-picker>\"])), this.hass, this._areaId, (_this$_device2 = this._device) === null || _this$_device2 === void 0 ? void 0 : _this$_device2.area_id, this.disabled, this._areaPicked) : \"\") : \"\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"updateEntry\",\n      value: function () {\n        var _updateEntry = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n          var _stateObj$attributes3, _this$entry$options7, _this$entry$options9, _stateObj$attributes4, _stateObj$attributes5, _stateObj$attributes6, _stateObj$attributes7, _stateObj$attributes8, _this$helperConfigEnt3, _this$helperConfigEnt4, _this$entry$options12;\n          var close, parent, _parent, params, stateObj, domain, _this$entry$options6, _this$entry$options8, _this$entry$options10, result, _configFlowResult$res, configFlow, configFlowResult, entry, _this$entry$options11, origEntityId, _configFlowResult$res2, _configFlow, _configFlowResult, _entry, _this$entry$options13, _origEntityId, _configFlow2;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                close = true; // eslint-disable-next-line @typescript-eslint/no-this-alias\n                parent = this;\n                while (((_parent = parent) === null || _parent === void 0 ? void 0 : _parent.localName) !== \"home-assistant\") {\n                  parent = parent.getRootNode().host;\n                }\n                params = {\n                  name: this._name.trim() || null,\n                  icon: this._icon.trim() || null,\n                  area_id: this._areaId || null,\n                  new_entity_id: this._entityId.trim()\n                }; // Only update device class if changed by user\n                if (this._deviceClass !== (this.entry.device_class || this.entry.original_device_class)) {\n                  params.device_class = this._deviceClass;\n                }\n                stateObj = this.hass.states[this.entry.entity_id];\n                domain = computeDomain(this.entry.entity_id);\n                if (this.entry.disabled_by !== this._disabledBy && (this._disabledBy === null || this._disabledBy === \"user\")) {\n                  params.disabled_by = this._disabledBy;\n                }\n                if (this.entry.hidden_by !== this._hiddenBy && (this._hiddenBy === null || this._hiddenBy === \"user\")) {\n                  params.hidden_by = this._hiddenBy;\n                }\n                if ((domain === \"number\" || domain === \"sensor\") && (stateObj === null || stateObj === void 0 || (_stateObj$attributes3 = stateObj.attributes) === null || _stateObj$attributes3 === void 0 ? void 0 : _stateObj$attributes3.unit_of_measurement) !== this._unit_of_measurement) {\n                  params.options_domain = domain;\n                  params.options = ((_this$entry$options6 = this.entry.options) === null || _this$entry$options6 === void 0 ? void 0 : _this$entry$options6[domain]) || {};\n                  params.options.unit_of_measurement = this._unit_of_measurement;\n                }\n                if (domain === \"sensor\" && ((_this$entry$options7 = this.entry.options) === null || _this$entry$options7 === void 0 || (_this$entry$options7 = _this$entry$options7[domain]) === null || _this$entry$options7 === void 0 ? void 0 : _this$entry$options7.display_precision) !== this._precision) {\n                  params.options_domain = domain;\n                  params.options = params.options || ((_this$entry$options8 = this.entry.options) === null || _this$entry$options8 === void 0 ? void 0 : _this$entry$options8[domain]) || {};\n                  params.options.display_precision = this._precision;\n                }\n                if (domain === \"lock\" && ((_this$entry$options9 = this.entry.options) === null || _this$entry$options9 === void 0 || (_this$entry$options9 = _this$entry$options9[domain]) === null || _this$entry$options9 === void 0 ? void 0 : _this$entry$options9.default_code) !== this._defaultCode) {\n                  params.options_domain = domain;\n                  params.options = ((_this$entry$options10 = this.entry.options) === null || _this$entry$options10 === void 0 ? void 0 : _this$entry$options10[domain]) || {};\n                  params.options.default_code = this._defaultCode;\n                }\n                if (domain === \"weather\" && ((stateObj === null || stateObj === void 0 || (_stateObj$attributes4 = stateObj.attributes) === null || _stateObj$attributes4 === void 0 ? void 0 : _stateObj$attributes4.precipitation_unit) !== this._precipitation_unit || (stateObj === null || stateObj === void 0 || (_stateObj$attributes5 = stateObj.attributes) === null || _stateObj$attributes5 === void 0 ? void 0 : _stateObj$attributes5.pressure_unit) !== this._pressure_unit || (stateObj === null || stateObj === void 0 || (_stateObj$attributes6 = stateObj.attributes) === null || _stateObj$attributes6 === void 0 ? void 0 : _stateObj$attributes6.temperature_unit) !== this._temperature_unit || (stateObj === null || stateObj === void 0 || (_stateObj$attributes7 = stateObj.attributes) === null || _stateObj$attributes7 === void 0 ? void 0 : _stateObj$attributes7.visbility_unit) !== this._visibility_unit || (stateObj === null || stateObj === void 0 || (_stateObj$attributes8 = stateObj.attributes) === null || _stateObj$attributes8 === void 0 ? void 0 : _stateObj$attributes8.wind_speed_unit) !== this._wind_speed_unit)) {\n                  params.options_domain = \"weather\";\n                  params.options = {\n                    precipitation_unit: this._precipitation_unit,\n                    pressure_unit: this._pressure_unit,\n                    temperature_unit: this._temperature_unit,\n                    visibility_unit: this._visibility_unit,\n                    wind_speed_unit: this._wind_speed_unit\n                  };\n                }\n                _context2.next = 15;\n                return updateEntityRegistryEntry(this.hass, this.entry.entity_id, params);\n              case 15:\n                result = _context2.sent;\n                if (result.require_restart) {\n                  showAlertDialog(this, {\n                    text: this.hass.localize(\"ui.dialogs.entity_registry.editor.enabled_restart_confirm\")\n                  });\n                }\n                if (result.reload_delay) {\n                  showAlertDialog(this, {\n                    text: this.hass.localize(\"ui.dialogs.entity_registry.editor.enabled_delay_confirm\", {\n                      delay: result.reload_delay\n                    })\n                  });\n                }\n                if (!(domain === \"switch\" && this._switchAsDomain !== \"switch\")) {\n                  _context2.next = 41;\n                  break;\n                }\n                _context2.next = 21;\n                return showConfirmationDialog(this, {\n                  text: this.hass.localize(\"ui.dialogs.entity_registry.editor.switch_as_x_confirm\", {\n                    domain: domainToName(this.hass.localize, this._switchAsDomain).toLowerCase()\n                  })\n                });\n              case 21:\n                if (!_context2.sent) {\n                  _context2.next = 39;\n                  break;\n                }\n                _context2.next = 24;\n                return createConfigFlow(this.hass, \"switch_as_x\");\n              case 24:\n                configFlow = _context2.sent;\n                _context2.next = 27;\n                return handleConfigFlowStep(this.hass, configFlow.flow_id, {\n                  entity_id: this._entityId.trim(),\n                  invert: this._switchAsInvert,\n                  target_domain: this._switchAsDomain\n                });\n              case 27:\n                configFlowResult = _context2.sent;\n                if (!((_configFlowResult$res = configFlowResult.result) !== null && _configFlowResult$res !== void 0 && _configFlowResult$res.entry_id)) {\n                  _context2.next = 39;\n                  break;\n                }\n                _context2.prev = 29;\n                _context2.next = 32;\n                return this._waitForEntityRegistryUpdate(configFlowResult.result.entry_id);\n              case 32:\n                entry = _context2.sent;\n                showMoreInfoDialog(parent, {\n                  entityId: entry.entity_id\n                });\n                close = false;\n                _context2.next = 39;\n                break;\n              case 37:\n                _context2.prev = 37;\n                _context2.t0 = _context2[\"catch\"](29);\n              case 39:\n                _context2.next = 85;\n                break;\n              case 41:\n                if (!(((_this$helperConfigEnt3 = this.helperConfigEntry) === null || _this$helperConfigEnt3 === void 0 ? void 0 : _this$helperConfigEnt3.domain) === \"switch_as_x\" && this._switchAsDomain !== domain)) {\n                  _context2.next = 75;\n                  break;\n                }\n                _context2.next = 44;\n                return showConfirmationDialog(this, {\n                  text: this._switchAsDomain === \"switch\" ? this.hass.localize(\"ui.dialogs.entity_registry.editor.switch_as_x_remove_confirm\", {\n                    domain: domainToName(this.hass.localize, domain).toLowerCase()\n                  }) : this.hass.localize(\"ui.dialogs.entity_registry.editor.switch_as_x_change_confirm\", {\n                    domain_1: domainToName(this.hass.localize, domain).toLowerCase(),\n                    domain_2: domainToName(this.hass.localize, this._switchAsDomain).toLowerCase()\n                  })\n                });\n              case 44:\n                if (!_context2.sent) {\n                  _context2.next = 73;\n                  break;\n                }\n                origEntityId = (_this$entry$options11 = this.entry.options) === null || _this$entry$options11 === void 0 || (_this$entry$options11 = _this$entry$options11.switch_as_x) === null || _this$entry$options11 === void 0 ? void 0 : _this$entry$options11.entity_id; // remove current helper\n                _context2.next = 48;\n                return deleteConfigEntry(this.hass, this.helperConfigEntry.entry_id);\n              case 48:\n                if (origEntityId) {\n                  _context2.next = 51;\n                  break;\n                }\n                _context2.next = 73;\n                break;\n              case 51:\n                if (!(this._switchAsDomain === \"switch\")) {\n                  _context2.next = 56;\n                  break;\n                }\n                // done, original switch is back\n                showMoreInfoDialog(parent, {\n                  entityId: origEntityId\n                });\n                close = false;\n                _context2.next = 73;\n                break;\n              case 56:\n                _context2.next = 58;\n                return createConfigFlow(this.hass, \"switch_as_x\");\n              case 58:\n                _configFlow = _context2.sent;\n                _context2.next = 61;\n                return handleConfigFlowStep(this.hass, _configFlow.flow_id, {\n                  entity_id: origEntityId,\n                  invert: this._switchAsInvert,\n                  target_domain: this._switchAsDomain\n                });\n              case 61:\n                _configFlowResult = _context2.sent;\n                if (!((_configFlowResult$res2 = _configFlowResult.result) !== null && _configFlowResult$res2 !== void 0 && _configFlowResult$res2.entry_id)) {\n                  _context2.next = 73;\n                  break;\n                }\n                _context2.prev = 63;\n                _context2.next = 66;\n                return this._waitForEntityRegistryUpdate(_configFlowResult.result.entry_id);\n              case 66:\n                _entry = _context2.sent;\n                showMoreInfoDialog(parent, {\n                  entityId: _entry.entity_id\n                });\n                close = false;\n                _context2.next = 73;\n                break;\n              case 71:\n                _context2.prev = 71;\n                _context2.t1 = _context2[\"catch\"](63);\n              case 73:\n                _context2.next = 85;\n                break;\n              case 75:\n                if (!(((_this$helperConfigEnt4 = this.helperConfigEntry) === null || _this$helperConfigEnt4 === void 0 ? void 0 : _this$helperConfigEnt4.domain) === \"switch_as_x\" && this._switchAsDomain === domain && this._switchAsInvert !== ((_this$entry$options12 = this.entry.options) === null || _this$entry$options12 === void 0 || (_this$entry$options12 = _this$entry$options12.switch_as_x) === null || _this$entry$options12 === void 0 ? void 0 : _this$entry$options12.invert))) {\n                  _context2.next = 85;\n                  break;\n                }\n                // Change invert setting\n                _origEntityId = (_this$entry$options13 = this.entry.options) === null || _this$entry$options13 === void 0 || (_this$entry$options13 = _this$entry$options13.switch_as_x) === null || _this$entry$options13 === void 0 ? void 0 : _this$entry$options13.entity_id;\n                if (_origEntityId) {\n                  _context2.next = 80;\n                  break;\n                }\n                _context2.next = 85;\n                break;\n              case 80:\n                _context2.next = 82;\n                return createOptionsFlow(this.hass, this.helperConfigEntry.entry_id);\n              case 82:\n                _configFlow2 = _context2.sent;\n                _context2.next = 85;\n                return handleOptionsFlowStep(this.hass, _configFlow2.flow_id, {\n                  invert: this._switchAsInvert\n                });\n              case 85:\n                return _context2.abrupt(\"return\", {\n                  close: close,\n                  entry: result.entity_entry\n                });\n              case 86:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[29, 37], [63, 71]]);\n        }));\n        function updateEntry() {\n          return _updateEntry.apply(this, arguments);\n        }\n        return updateEntry;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_waitForEntityRegistryUpdate\",\n      value: function () {\n        var _waitForEntityRegistryUpdate2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(config_entry_id) {\n          var _this3 = this;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var _this3$hass$connectio;\n                  var timeout = setTimeout(reject, 5000);\n                  var unsub = subscribeEntityRegistry(_this3.hass.connection, function (entityRegistry) {\n                    var entity = entityRegistry.find(function (reg) {\n                      return reg.config_entry_id === config_entry_id;\n                    });\n                    if (entity) {\n                      clearTimeout(timeout);\n                      unsub();\n                      resolve(entity);\n                    }\n                  });\n                  // @ts-ignore Force refresh\n                  (_this3$hass$connectio = _this3.hass.connection._entityRegistry) === null || _this3$hass$connectio === void 0 || _this3$hass$connectio.refresh();\n                }));\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3);\n        }));\n        function _waitForEntityRegistryUpdate(_x2) {\n          return _waitForEntityRegistryUpdate2.apply(this, arguments);\n        }\n        return _waitForEntityRegistryUpdate;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_nameChanged\",\n      value: function _nameChanged(ev) {\n        fireEvent(this, \"change\");\n        this._name = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_iconChanged\",\n      value: function _iconChanged(ev) {\n        fireEvent(this, \"change\");\n        this._icon = ev.detail.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_copyEntityId\",\n      value: function () {\n        var _copyEntityId2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return copyToClipboard(this._entityId);\n              case 2:\n                showToast(this, {\n                  message: this.hass.localize(\"ui.common.copied_clipboard\")\n                });\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4, this);\n        }));\n        function _copyEntityId() {\n          return _copyEntityId2.apply(this, arguments);\n        }\n        return _copyEntityId;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_entityIdChanged\",\n      value: function _entityIdChanged(ev) {\n        fireEvent(this, \"change\");\n        this._entityId = \"\".concat(computeDomain(this._origEntityId), \".\").concat(ev.target.value);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_deviceClassChanged\",\n      value: function _deviceClassChanged(ev) {\n        fireEvent(this, \"change\");\n        this._deviceClass = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_unitChanged\",\n      value: function _unitChanged(ev) {\n        fireEvent(this, \"change\");\n        this._unit_of_measurement = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_defaultcodeChanged\",\n      value: function _defaultcodeChanged(ev) {\n        fireEvent(this, \"change\");\n        this._defaultCode = ev.target.value === \"\" ? null : ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_precipitationUnitChanged\",\n      value: function _precipitationUnitChanged(ev) {\n        fireEvent(this, \"change\");\n        this._precipitation_unit = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_precisionChanged\",\n      value: function _precisionChanged(ev) {\n        fireEvent(this, \"change\");\n        this._precision = ev.target.value === \"default\" ? null : Number(ev.target.value);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_pressureUnitChanged\",\n      value: function _pressureUnitChanged(ev) {\n        fireEvent(this, \"change\");\n        this._pressure_unit = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_temperatureUnitChanged\",\n      value: function _temperatureUnitChanged(ev) {\n        fireEvent(this, \"change\");\n        this._temperature_unit = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_visibilityUnitChanged\",\n      value: function _visibilityUnitChanged(ev) {\n        fireEvent(this, \"change\");\n        this._visibility_unit = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_windSpeedUnitChanged\",\n      value: function _windSpeedUnitChanged(ev) {\n        fireEvent(this, \"change\");\n        this._wind_speed_unit = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_switchAsDomainChanged\",\n      value: function _switchAsDomainChanged(ev) {\n        if (ev.target.value === \"\") {\n          return;\n        }\n\n        // If value is \"outlet\" that means the user kept the \"switch\" domain, but actually changed\n        // the device_class of the switch to \"outlet\".\n        var switchAs = ev.target.value === \"outlet\" ? \"switch\" : ev.target.value;\n        this._switchAsDomain = switchAs;\n        if (computeDomain(this.entry.entity_id) === \"switch\" && ev.target.value === \"outlet\" || ev.target.value === \"switch\") {\n          this._deviceClass = ev.target.value;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_switchAsInvertChanged\",\n      value: function _switchAsInvertChanged(ev) {\n        this._switchAsInvert = ev.target.checked;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_useDeviceAreaChanged\",\n      value: function _useDeviceAreaChanged(ev) {\n        this._noDeviceArea = !ev.target.checked;\n        if (!this._noDeviceArea) {\n          this._areaId = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_areaPicked\",\n      value: function _areaPicked(ev) {\n        fireEvent(this, \"change\");\n        this._areaId = ev.detail.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_fetchCameraPrefs\",\n      value: function () {\n        var _fetchCameraPrefs2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return fetchCameraPrefs(this.hass, this.entry.entity_id);\n              case 2:\n                this._cameraPrefs = _context5.sent;\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5, this);\n        }));\n        function _fetchCameraPrefs() {\n          return _fetchCameraPrefs2.apply(this, arguments);\n        }\n        return _fetchCameraPrefs;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_handleCameraPrefsChanged\",\n      value: function () {\n        var _handleCameraPrefsChanged2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(ev) {\n          var checkbox;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) switch (_context6.prev = _context6.next) {\n              case 0:\n                checkbox = ev.currentTarget;\n                _context6.prev = 1;\n                _context6.next = 4;\n                return updateCameraPrefs(this.hass, this.entry.entity_id, {\n                  preload_stream: checkbox.checked\n                });\n              case 4:\n                this._cameraPrefs = _context6.sent;\n                _context6.next = 11;\n                break;\n              case 7:\n                _context6.prev = 7;\n                _context6.t0 = _context6[\"catch\"](1);\n                showAlertDialog(this, {\n                  text: _context6.t0.message\n                });\n                checkbox.checked = !checkbox.checked;\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }, _callee6, this, [[1, 7]]);\n        }));\n        function _handleCameraPrefsChanged(_x3) {\n          return _handleCameraPrefsChanged2.apply(this, arguments);\n        }\n        return _handleCameraPrefsChanged;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_handleCameraOrientationChanged\",\n      value: function () {\n        var _handleCameraOrientationChanged2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(ev) {\n          return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n            while (1) switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.prev = 0;\n                _context7.next = 3;\n                return updateCameraPrefs(this.hass, this.entry.entity_id, {\n                  orientation: ev.currentTarget.value\n                });\n              case 3:\n                this._cameraPrefs = _context7.sent;\n                _context7.next = 9;\n                break;\n              case 6:\n                _context7.prev = 6;\n                _context7.t0 = _context7[\"catch\"](0);\n                showAlertDialog(this, {\n                  text: _context7.t0.message\n                });\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }, _callee7, this, [[0, 6]]);\n        }));\n        function _handleCameraOrientationChanged(_x4) {\n          return _handleCameraOrientationChanged2.apply(this, arguments);\n        }\n        return _handleCameraOrientationChanged;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_enabledChanged\",\n      value: function _enabledChanged(ev) {\n        if (ev.target.checked) {\n          this._disabledBy = null;\n        } else {\n          this._disabledBy = \"user\";\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_hiddenChanged\",\n      value: function _hiddenChanged(ev) {\n        if (ev.target.checked) {\n          this._hiddenBy = null;\n        } else {\n          this._hiddenBy = \"user\";\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openDeviceSettings\",\n      value: function _openDeviceSettings() {\n        var _this4 = this;\n        showDeviceRegistryDetailDialog(this, {\n          device: this._device,\n          updateEntry: function () {\n            var _updateEntry2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(updates) {\n              return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n                while (1) switch (_context8.prev = _context8.next) {\n                  case 0:\n                    _context8.next = 2;\n                    return updateDeviceRegistryEntry(_this4.hass, _this4._device.id, updates);\n                  case 2:\n                  case \"end\":\n                    return _context8.stop();\n                }\n              }, _callee8);\n            }));\n            function updateEntry(_x5) {\n              return _updateEntry2.apply(this, arguments);\n            }\n            return updateEntry;\n          }()\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleVoiceAssistantsClicked\",\n      value: function _handleVoiceAssistantsClicked() {\n        showVoiceAssistantsView(this, this.hass.localize(\"ui.dialogs.entity_registry.editor.voice_assistants\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_showOptionsFlow\",\n      value: function () {\n        var _showOptionsFlow2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n          return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n            while (1) switch (_context9.prev = _context9.next) {\n              case 0:\n                showOptionsFlowDialog(this, this.helperConfigEntry);\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }, _callee9, this);\n        }));\n        function _showOptionsFlow() {\n          return _showOptionsFlow2.apply(this, arguments);\n        }\n        return _showOptionsFlow;\n      }()\n    }, {\n      kind: \"field\",\n      key: \"_switchAsDomainsSorted\",\n      value: function value() {\n        var _this5 = this;\n        return memoizeOne(function (domains, localize) {\n          return domains.map(function (domain) {\n            return {\n              domain: domain,\n              label: domainToName(localize, domain)\n            };\n          }).sort(function (a, b) {\n            return stringCompare(a.label, b.label, _this5.hass.locale.language);\n          });\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_deviceClassesSorted\",\n      value: function value() {\n        var _this6 = this;\n        return memoizeOne(function (domain, deviceClasses, localize) {\n          return deviceClasses.map(function (entry) {\n            return {\n              deviceClass: entry,\n              label: localize(\"ui.dialogs.entity_registry.editor.device_classes.\".concat(domain, \".\").concat(entry))\n            };\n          }).sort(function (a, b) {\n            return stringCompare(a.label, b.label, _this6.hass.locale.language);\n          });\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, css(_templateObject36 || (_templateObject36 = _taggedTemplateLiteral([\"\\n        :host {\\n          display: block;\\n        }\\n        ha-textfield.entityId {\\n          --text-field-prefix-padding-right: 0;\\n          --textfield-icon-trailing-padding: 0;\\n        }\\n        ha-textfield.entityId > ha-icon-button {\\n          position: relative;\\n          right: -8px;\\n          --mdc-icon-button-size: 36px;\\n          --mdc-icon-size: 20px;\\n          color: var(--secondary-text-color);\\n          inset-inline-start: initial;\\n          inset-inline-end: -8px;\\n          direction: var(--direction);\\n        }\\n        ha-switch {\\n          margin-right: 16px;\\n          margin-inline-end: 16px;\\n          margin-inline-start: initial;\\n        }\\n        ha-settings-row ha-switch {\\n          margin-right: 0;\\n          margin-inline-end: 0;\\n          margin-inline-start: initial;\\n        }\\n        ha-textfield,\\n        ha-icon-picker,\\n        ha-select,\\n        ha-area-picker {\\n          display: block;\\n          margin: 8px 0;\\n          width: 100%;\\n        }\\n        li[divider] {\\n          border-bottom-color: var(--divider-color);\\n        }\\n        ha-alert mwc-button {\\n          width: max-content;\\n        }\\n        .menu-item {\\n          border-radius: 4px;\\n          margin-top: 3px;\\n          margin-bottom: 3px;\\n          overflow: hidden;\\n          --mdc-list-side-padding: 13px;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["mdiContentCopy","css","html","LitElement","nothing","customElement","property","state","until","memoizeOne","isComponentLoaded","fireEvent","stopPropagation","computeDomain","computeObjectId","supportsFeature","formatNumber","stringCompare","copyToClipboard","CAMERA_ORIENTATIONS","CAMERA_SUPPORT_STREAM","fetchCameraPrefs","STREAM_TYPE_HLS","updateCameraPrefs","deleteConfigEntry","createConfigFlow","handleConfigFlowStep","createOptionsFlow","handleOptionsFlowStep","updateDeviceRegistryEntry","subscribeEntityRegistry","updateEntityRegistryEntry","entityIcon","domainToName","getNumberDeviceClassConvertibleUnits","getSensorDeviceClassConvertibleUnits","getSensorNumericDeviceClasses","getWeatherConvertibleUnits","showOptionsFlowDialog","showAlertDialog","showConfirmationDialog","showVoiceAssistantsView","showMoreInfoDialog","haStyle","showToast","showDeviceRegistryDetailDialog","OVERRIDE_DEVICE_CLASSES","cover","binary_sensor","SWITCH_AS_DOMAINS","SWITCH_AS_DOMAINS_INVERT","PRECISIONS","EntityRegistrySettingsEditor","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","type","Object","Boolean","willUpdate","changedProperties","_changedProperties$ge","_this$entry$options","_get","_getPrototypeOf","prototype","call","has","get","id","entry","_name","name","_icon","icon","_deviceClass","device_class","original_device_class","_origEntityId","entity_id","_areaId","area_id","_entityId","_disabledBy","disabled_by","_hiddenBy","hidden_by","_device","device_id","hass","devices","undefined","_switchAsInvert","options","switch_as_x","invert","domain","stateObj","states","attributes","frontend_stream_type","_fetchCameraPrefs","_stateObj$attributes","_unit_of_measurement","unit_of_measurement","_this$entry$options2","_precision","sensor","display_precision","_this$entry$options3","_defaultCode","lock","default_code","_stateObj2$attributes","_stateObj2$attributes2","_stateObj2$attributes3","_stateObj2$attributes4","_stateObj2$attributes5","_precipitation_unit","precipitation_unit","_pressure_unit","pressure_unit","_temperature_unit","temperature_unit","_visibility_unit","visibility_unit","_wind_speed_unit","wind_speed_unit","deviceClasses","_deviceClassOptions","_iterator","_createForOfIteratorHelper","_step","s","n","done","deviceClass","includes","_this$_deviceClassOpt","push","apply","_toConsumableArray","err","e","f","precisionLabel","precision","stateValue","stateValueNumber","Number","isNaN","locale","minimumFractionDigits","maximumFractionDigits","_isInvalidDefaultCode","codeFormat","RegExp","test","_updated","_asyncToGenerator","_regeneratorRuntime","mark","_callee","changedProps","_yield$getNumberDevic","units","_yield$getSensorNumer","numeric_device_classes","_yield$getSensorDevic","_units","_domain","_yield$getWeatherConv","_units2","_this$helperConfigEnt","wrap","_callee$","_context","prev","next","sent","_numberDeviceClassConvertibleUnits","_sensorNumericalDeviceClasses","_sensorDeviceClassConvertibleUnits","_weatherConvertibleUnits","helperConfigEntry","_switchAsDomain","stop","updated","_x","render","_stateObj$attributes2","_this$entry$options$s","_this$entry$options4","_this$helperConfigEnt2","_this$entry$options5","_this$_numberDeviceCl","_this$_sensorDeviceCl","_this$_sensorNumerica","_this2","_this$_weatherConvert","_this$_weatherConvert2","_this$_weatherConvert3","_this$_weatherConvert4","_this$_weatherConvert5","_this$_device","_this$hass$areas","_this$_device2","invalidDefaultCode","code_format","defaultPrecision","suggested_display_precision","_templateObject","_taggedTemplateLiteral","hideName","_templateObject2","localize","disabled","original_name","_nameChanged","hideIcon","_templateObject3","_iconChanged","original_icon","_templateObject4","_templateObject5","_switchAsDomainChanged","_switchAsDomainsSorted","map","_templateObject6","label","_templateObject7","_templateObject8","_templateObject9","_switchAsInvertChanged","_templateObject10","_deviceClassChanged","_deviceClassesSorted","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_unitChanged","unit","_templateObject15","_templateObject16","_defaultcodeChanged","_templateObject17","_templateObject18","state_class","_templateObject19","toString","_precisionChanged","_templateObject20","_templateObject21","_precipitationUnitChanged","_templateObject22","_pressureUnitChanged","_templateObject23","_temperatureUnitChanged","_templateObject24","_visibilityUnitChanged","_templateObject25","_windSpeedUnitChanged","_templateObject26","_entityIdChanged","_copyEntityId","_templateObject27","_areaPicked","_cameraPrefs","_templateObject28","preload_stream","_handleCameraPrefsChanged","_handleCameraOrientationChanged","num","localizeStr","_templateObject29","supports_options","_templateObject30","_showOptionsFlow","integration","_handleVoiceAssistantsClicked","aliases","sort","a","b","language","join","_templateObject31","cause","_enabledChanged","_templateObject32","_hiddenChanged","_templateObject33","areas","link","_templateObject34","_openDeviceSettings","_noDeviceArea","_useDeviceAreaChanged","_templateObject35","_updateEntry","_callee2","_stateObj$attributes3","_this$entry$options7","_this$entry$options9","_stateObj$attributes4","_stateObj$attributes5","_stateObj$attributes6","_stateObj$attributes7","_stateObj$attributes8","_this$helperConfigEnt3","_this$helperConfigEnt4","_this$entry$options12","close","parent","_parent","params","_this$entry$options6","_this$entry$options8","_this$entry$options10","result","_configFlowResult$res","configFlow","configFlowResult","_this$entry$options11","origEntityId","_configFlowResult$res2","_configFlow","_configFlowResult","_entry","_this$entry$options13","_configFlow2","_callee2$","_context2","localName","getRootNode","host","trim","new_entity_id","options_domain","visbility_unit","require_restart","text","reload_delay","delay","toLowerCase","flow_id","target_domain","entry_id","_waitForEntityRegistryUpdate","entityId","t0","domain_1","domain_2","t1","abrupt","entity_entry","updateEntry","_waitForEntityRegistryUpdate2","_callee3","config_entry_id","_this3","_callee3$","_context3","Promise","resolve","reject","_this3$hass$connectio","timeout","setTimeout","unsub","connection","entityRegistry","entity","find","reg","clearTimeout","_entityRegistry","refresh","_x2","ev","target","detail","_copyEntityId2","_callee4","_callee4$","_context4","message","switchAs","checked","_fetchCameraPrefs2","_callee5","_callee5$","_context5","_handleCameraPrefsChanged2","_callee6","checkbox","_callee6$","_context6","currentTarget","_x3","_handleCameraOrientationChanged2","_callee7","_callee7$","_context7","orientation","_x4","_this4","device","_updateEntry2","_callee8","updates","_callee8$","_context8","_x5","_showOptionsFlow2","_callee9","_callee9$","_context9","_this5","domains","_this6","static","styles","_templateObject36"],"sources":["/workspaces/frontend/src/panels/config/entities/entity-registry-settings-editor.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport \"@material/mwc-formfield/mwc-formfield\";\nimport { mdiContentCopy } from \"@mdi/js\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  nothing,\n  PropertyValues,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { until } from \"lit/directives/until\";\nimport memoizeOne from \"memoize-one\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { computeDomain } from \"../../../common/entity/compute_domain\";\nimport { computeObjectId } from \"../../../common/entity/compute_object_id\";\nimport { supportsFeature } from \"../../../common/entity/supports-feature\";\nimport { formatNumber } from \"../../../common/number/format_number\";\nimport { stringCompare } from \"../../../common/string/compare\";\nimport {\n  LocalizeFunc,\n  LocalizeKeys,\n} from \"../../../common/translations/localize\";\nimport { copyToClipboard } from \"../../../common/util/copy-clipboard\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-area-picker\";\nimport \"../../../components/ha-icon\";\nimport \"../../../components/ha-icon-button-next\";\nimport \"../../../components/ha-icon-picker\";\nimport \"../../../components/ha-state-icon\";\nimport \"../../../components/ha-list-item\";\nimport \"../../../components/ha-radio\";\nimport \"../../../components/ha-select\";\nimport \"../../../components/ha-settings-row\";\nimport \"../../../components/ha-switch\";\nimport type { HaSwitch } from \"../../../components/ha-switch\";\nimport \"../../../components/ha-textfield\";\nimport {\n  CAMERA_ORIENTATIONS,\n  CAMERA_SUPPORT_STREAM,\n  CameraPreferences,\n  fetchCameraPrefs,\n  STREAM_TYPE_HLS,\n  updateCameraPrefs,\n} from \"../../../data/camera\";\nimport { ConfigEntry, deleteConfigEntry } from \"../../../data/config_entries\";\nimport {\n  createConfigFlow,\n  handleConfigFlowStep,\n} from \"../../../data/config_flow\";\nimport {\n  createOptionsFlow,\n  handleOptionsFlowStep,\n} from \"../../../data/options_flow\";\nimport { DataEntryFlowStepCreateEntry } from \"../../../data/data_entry_flow\";\nimport {\n  DeviceRegistryEntry,\n  updateDeviceRegistryEntry,\n} from \"../../../data/device_registry\";\nimport {\n  EntityRegistryEntry,\n  EntityRegistryEntryUpdateParams,\n  ExtEntityRegistryEntry,\n  LockEntityOptions,\n  SensorEntityOptions,\n  subscribeEntityRegistry,\n  updateEntityRegistryEntry,\n} from \"../../../data/entity_registry\";\nimport { entityIcon } from \"../../../data/icons\";\nimport { domainToName } from \"../../../data/integration\";\nimport { getNumberDeviceClassConvertibleUnits } from \"../../../data/number\";\nimport {\n  getSensorDeviceClassConvertibleUnits,\n  getSensorNumericDeviceClasses,\n} from \"../../../data/sensor\";\nimport {\n  getWeatherConvertibleUnits,\n  WeatherUnits,\n} from \"../../../data/weather\";\nimport { showOptionsFlowDialog } from \"../../../dialogs/config-flow/show-dialog-options-flow\";\nimport {\n  showAlertDialog,\n  showConfirmationDialog,\n} from \"../../../dialogs/generic/show-dialog-box\";\nimport { showVoiceAssistantsView } from \"../../../dialogs/more-info/components/voice/show-view-voice-assistants\";\nimport { showMoreInfoDialog } from \"../../../dialogs/more-info/show-ha-more-info-dialog\";\nimport { haStyle } from \"../../../resources/styles\";\nimport type { HomeAssistant } from \"../../../types\";\nimport { showToast } from \"../../../util/toast\";\nimport { showDeviceRegistryDetailDialog } from \"../devices/device-registry-detail/show-dialog-device-registry-detail\";\n\nconst OVERRIDE_DEVICE_CLASSES = {\n  cover: [\n    [\n      \"awning\",\n      \"blind\",\n      \"curtain\",\n      \"damper\",\n      \"door\",\n      \"garage\",\n      \"gate\",\n      \"shade\",\n      \"shutter\",\n      \"window\",\n    ],\n  ],\n  binary_sensor: [\n    [\"lock\"], // Lock\n    [\"window\", \"door\", \"garage_door\", \"opening\"], // Door\n    [\"battery\", \"battery_charging\"], // Battery\n    [\"cold\", \"gas\", \"heat\"], // Climate\n    [\"running\", \"motion\", \"moving\", \"occupancy\", \"presence\", \"vibration\"], // Presence\n    [\"power\", \"plug\", \"light\"], // Power\n    [\n      \"smoke\",\n      \"safety\",\n      \"sound\",\n      \"problem\",\n      \"tamper\",\n      \"carbon_monoxide\",\n      \"moisture\",\n    ], // Alarm\n    [\"connectivity\"], // Connectivity\n    [\"update\"], // Update\n  ],\n};\n\nconst SWITCH_AS_DOMAINS = [\"cover\", \"fan\", \"light\", \"lock\", \"siren\", \"valve\"];\nconst SWITCH_AS_DOMAINS_INVERT = [\"cover\", \"lock\", \"valve\"];\n\nconst PRECISIONS = [0, 1, 2, 3, 4, 5, 6];\n\n@customElement(\"entity-registry-settings-editor\")\nexport class EntityRegistrySettingsEditor extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Object }) public entry!: ExtEntityRegistryEntry;\n\n  @property({ type: Boolean }) public hideName = false;\n\n  @property({ type: Boolean }) public hideIcon = false;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ attribute: false }) public helperConfigEntry?: ConfigEntry;\n\n  @state() private _name!: string;\n\n  @state() private _icon!: string;\n\n  @state() private _entityId!: string;\n\n  @state() private _deviceClass?: string;\n\n  @state() private _switchAsDomain = \"switch\";\n\n  @state() private _switchAsInvert = false;\n\n  @state() private _areaId?: string | null;\n\n  @state() private _disabledBy!: EntityRegistryEntry[\"disabled_by\"];\n\n  @state() private _hiddenBy!: EntityRegistryEntry[\"hidden_by\"];\n\n  @state() private _device?: DeviceRegistryEntry;\n\n  @state() private _unit_of_measurement?: string | null;\n\n  @state() private _precision?: number | null;\n\n  @state() private _precipitation_unit?: string | null;\n\n  @state() private _pressure_unit?: string | null;\n\n  @state() private _temperature_unit?: string | null;\n\n  @state() private _visibility_unit?: string | null;\n\n  @state() private _wind_speed_unit?: string | null;\n\n  @state() private _cameraPrefs?: CameraPreferences;\n\n  @state() private _numberDeviceClassConvertibleUnits?: string[];\n\n  @state() private _sensorDeviceClassConvertibleUnits?: string[];\n\n  @state() private _sensorNumericalDeviceClasses?: string[];\n\n  @state() private _weatherConvertibleUnits?: WeatherUnits;\n\n  @state() private _defaultCode?: string | null;\n\n  @state() private _noDeviceArea?: boolean;\n\n  private _origEntityId!: string;\n\n  private _deviceClassOptions?: string[][];\n\n  protected willUpdate(changedProperties: PropertyValues) {\n    super.willUpdate(changedProperties);\n    if (\n      !changedProperties.has(\"entry\") ||\n      changedProperties.get(\"entry\")?.id === this.entry.id\n    ) {\n      return;\n    }\n\n    this._name = this.entry.name || \"\";\n    this._icon = this.entry.icon || \"\";\n    this._deviceClass =\n      this.entry.device_class || this.entry.original_device_class;\n    this._origEntityId = this.entry.entity_id;\n    this._areaId = this.entry.area_id;\n    this._entityId = this.entry.entity_id;\n    this._disabledBy = this.entry.disabled_by;\n    this._hiddenBy = this.entry.hidden_by;\n    this._device = this.entry.device_id\n      ? this.hass.devices[this.entry.device_id]\n      : undefined;\n    this._switchAsInvert = this.entry.options?.switch_as_x?.invert === true;\n\n    const domain = computeDomain(this.entry.entity_id);\n\n    if (domain === \"camera\" && isComponentLoaded(this.hass, \"stream\")) {\n      const stateObj: HassEntity | undefined =\n        this.hass.states[this.entry.entity_id];\n      if (\n        stateObj &&\n        supportsFeature(stateObj, CAMERA_SUPPORT_STREAM) &&\n        // The stream component for HLS streams supports a server-side pre-load\n        // option that client initiated WebRTC streams do not\n        stateObj.attributes.frontend_stream_type === STREAM_TYPE_HLS\n      ) {\n        this._fetchCameraPrefs();\n      }\n    }\n\n    if (domain === \"number\" || domain === \"sensor\") {\n      const stateObj: HassEntity | undefined =\n        this.hass.states[this.entry.entity_id];\n      this._unit_of_measurement = stateObj?.attributes?.unit_of_measurement;\n    }\n\n    if (domain === \"sensor\") {\n      this._precision = this.entry.options?.sensor?.display_precision;\n    }\n\n    if (domain === \"lock\") {\n      this._defaultCode = this.entry.options?.lock?.default_code;\n    }\n\n    if (domain === \"weather\") {\n      const stateObj: HassEntity | undefined =\n        this.hass.states[this.entry.entity_id];\n      this._precipitation_unit = stateObj?.attributes?.precipitation_unit;\n      this._pressure_unit = stateObj?.attributes?.pressure_unit;\n      this._temperature_unit = stateObj?.attributes?.temperature_unit;\n      this._visibility_unit = stateObj?.attributes?.visibility_unit;\n      this._wind_speed_unit = stateObj?.attributes?.wind_speed_unit;\n    }\n\n    const deviceClasses: string[][] = OVERRIDE_DEVICE_CLASSES[domain];\n\n    if (!deviceClasses) {\n      return;\n    }\n\n    this._deviceClassOptions = [[], []];\n    for (const deviceClass of deviceClasses) {\n      if (deviceClass.includes(this.entry.original_device_class!)) {\n        this._deviceClassOptions[0] = deviceClass;\n      } else {\n        this._deviceClassOptions[1].push(...deviceClass);\n      }\n    }\n  }\n\n  private precisionLabel(precision?: number, stateValue?: string) {\n    const stateValueNumber = Number(stateValue);\n    const value = !isNaN(stateValueNumber) ? stateValue! : 0;\n    return formatNumber(value, this.hass.locale, {\n      minimumFractionDigits: precision,\n      maximumFractionDigits: precision,\n    });\n  }\n\n  private _isInvalidDefaultCode(\n    codeFormat?: string,\n    value?: string | null\n  ): boolean {\n    if (codeFormat && value) {\n      return !RegExp(codeFormat).test(value);\n    }\n    return false;\n  }\n\n  protected async updated(changedProps: PropertyValues): Promise<void> {\n    if (changedProps.has(\"_deviceClass\")) {\n      const domain = computeDomain(this.entry.entity_id);\n\n      if (domain === \"number\" && this._deviceClass) {\n        const { units } = await getNumberDeviceClassConvertibleUnits(\n          this.hass,\n          this._deviceClass\n        );\n        this._numberDeviceClassConvertibleUnits = units;\n      } else {\n        this._numberDeviceClassConvertibleUnits = [];\n      }\n      if (domain === \"sensor\") {\n        const { numeric_device_classes } = await getSensorNumericDeviceClasses(\n          this.hass\n        );\n        this._sensorNumericalDeviceClasses = numeric_device_classes;\n      } else {\n        this._sensorNumericalDeviceClasses = [];\n      }\n      if (domain === \"sensor\" && this._deviceClass) {\n        const { units } = await getSensorDeviceClassConvertibleUnits(\n          this.hass,\n          this._deviceClass\n        );\n        this._sensorDeviceClassConvertibleUnits = units;\n      } else {\n        this._sensorDeviceClassConvertibleUnits = [];\n      }\n    }\n    if (changedProps.has(\"_entityId\")) {\n      const domain = computeDomain(this.entry.entity_id);\n\n      if (domain === \"weather\") {\n        const { units } = await getWeatherConvertibleUnits(this.hass);\n        this._weatherConvertibleUnits = units;\n      } else {\n        this._weatherConvertibleUnits = undefined;\n      }\n    }\n    if (changedProps.has(\"helperConfigEntry\")) {\n      if (this.helperConfigEntry?.domain === \"switch_as_x\") {\n        this._switchAsDomain = computeDomain(this.entry.entity_id);\n      } else {\n        this._switchAsDomain = \"switch\";\n        this._switchAsInvert = false;\n      }\n    }\n  }\n\n  protected render() {\n    if (this.entry.entity_id !== this._origEntityId) {\n      return nothing;\n    }\n    const stateObj: HassEntity | undefined =\n      this.hass.states[this.entry.entity_id];\n\n    const domain = computeDomain(this.entry.entity_id);\n\n    const invalidDefaultCode =\n      domain === \"lock\" &&\n      this._isInvalidDefaultCode(\n        stateObj?.attributes?.code_format,\n        this._defaultCode\n      );\n\n    const defaultPrecision =\n      this.entry.options?.sensor?.suggested_display_precision ?? undefined;\n\n    return html`\n      ${this.hideName\n        ? nothing\n        : html`<ha-textfield\n            .value=${this._name}\n            .label=${this.hass.localize(\n              \"ui.dialogs.entity_registry.editor.name\"\n            )}\n            .disabled=${this.disabled}\n            .placeholder=${this.entry.original_name}\n            @input=${this._nameChanged}\n          ></ha-textfield>`}\n      ${this.hideIcon\n        ? nothing\n        : html`\n            <ha-icon-picker\n              .hass=${this.hass}\n              .value=${this._icon}\n              @value-changed=${this._iconChanged}\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.icon\"\n              )}\n              .placeholder=${this.entry.original_icon ||\n              stateObj?.attributes.icon ||\n              (stateObj && until(entityIcon(this.hass, stateObj)))}\n              .disabled=${this.disabled}\n            >\n              ${!this._icon && !stateObj?.attributes.icon && stateObj\n                ? html`\n                    <ha-state-icon\n                      slot=\"fallback\"\n                      .hass=${this.hass}\n                      .stateObj=${stateObj}\n                    ></ha-state-icon>\n                  `\n                : nothing}\n            </ha-icon-picker>\n          `}\n      ${domain === \"switch\"\n        ? html`<ha-select\n            .label=${this.hass.localize(\n              \"ui.dialogs.entity_registry.editor.device_class\"\n            )}\n            naturalMenuWidth\n            fixedMenuPosition\n            @selected=${this._switchAsDomainChanged}\n            @closed=${stopPropagation}\n          >\n            <ha-list-item\n              value=\"switch\"\n              .selected=${!this._deviceClass || this._deviceClass === \"switch\"}\n            >\n              ${domainToName(this.hass.localize, \"switch\")}\n            </ha-list-item>\n            <ha-list-item\n              value=\"outlet\"\n              .selected=${this._deviceClass === \"outlet\"}\n            >\n              ${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.device_classes.switch.outlet\"\n              )}\n            </ha-list-item>\n            <li divider role=\"separator\"></li>\n            ${this._switchAsDomainsSorted(\n              SWITCH_AS_DOMAINS,\n              this.hass.localize\n            ).map(\n              (entry) => html`\n                <ha-list-item .value=${entry.domain}>\n                  ${entry.label}\n                </ha-list-item>\n              `\n            )}\n          </ha-select>`\n        : this.helperConfigEntry?.domain === \"switch_as_x\"\n          ? html`<ha-select\n                .label=${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.switch_as_x\"\n                )}\n                .value=${this._switchAsDomain}\n                naturalMenuWidth\n                fixedMenuPosition\n                @selected=${this._switchAsDomainChanged}\n                @closed=${stopPropagation}\n              >\n                <ha-list-item value=\"switch\">\n                  ${domainToName(this.hass.localize, \"switch\")}\n                </ha-list-item>\n                <ha-list-item .value=${domain}>\n                  ${domainToName(this.hass.localize, domain)}\n                </ha-list-item>\n                <li divider role=\"separator\"></li>\n                ${this._switchAsDomainsSorted(\n                  SWITCH_AS_DOMAINS,\n                  this.hass.localize\n                ).map((entry) =>\n                  domain === entry.domain\n                    ? nothing\n                    : html`\n                        <ha-list-item .value=${entry.domain}>\n                          ${entry.label}\n                        </ha-list-item>\n                      `\n                )}\n              </ha-select>\n              ${SWITCH_AS_DOMAINS_INVERT.includes(this._switchAsDomain)\n                ? html`\n                    <ha-settings-row>\n                      <span slot=\"heading\"\n                        >${this.hass.localize(\n                          \"ui.dialogs.entity_registry.editor.invert.label\"\n                        )}</span\n                      >\n                      <span slot=\"description\"\n                        >${this.hass.localize(\n                          `ui.dialogs.entity_registry.editor.invert.descriptions.${this._switchAsDomain}`\n                        )}</span\n                      >\n                      <ha-switch\n                        .checked=${this.entry.options?.switch_as_x?.invert}\n                        @change=${this._switchAsInvertChanged}\n                      ></ha-switch>\n                    </ha-settings-row>\n                  `\n                : nothing} `\n          : nothing}\n      ${this._deviceClassOptions\n        ? html`\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.device_class\"\n              )}\n              .value=${this._deviceClass}\n              naturalMenuWidth\n              fixedMenuPosition\n              clearable\n              @selected=${this._deviceClassChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._deviceClassesSorted(\n                domain,\n                this._deviceClassOptions[0],\n                this.hass.localize\n              ).map(\n                (entry) => html`\n                  <ha-list-item .value=${entry.deviceClass}>\n                    ${entry.label}\n                  </ha-list-item>\n                `\n              )}\n              ${this._deviceClassOptions[0].length &&\n              this._deviceClassOptions[1].length\n                ? html`<li divider role=\"separator\"></li>`\n                : \"\"}\n              ${this._deviceClassesSorted(\n                domain,\n                this._deviceClassOptions[1],\n                this.hass.localize\n              ).map(\n                (entry) => html`\n                  <ha-list-item .value=${entry.deviceClass}>\n                    ${entry.label}\n                  </ha-list-item>\n                `\n              )}\n            </ha-select>\n          `\n        : \"\"}\n      ${domain === \"number\" &&\n      this._deviceClass &&\n      stateObj?.attributes.unit_of_measurement &&\n      this._numberDeviceClassConvertibleUnits?.includes(\n        stateObj?.attributes.unit_of_measurement\n      )\n        ? html`\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.unit_of_measurement\"\n              )}\n              .value=${stateObj.attributes.unit_of_measurement}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._unitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._numberDeviceClassConvertibleUnits.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n          `\n        : \"\"}\n      ${domain === \"lock\"\n        ? html`\n            <ha-textfield\n              .validationMessage=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.default_code_error\"\n              )}\n              .value=${this._defaultCode == null ? \"\" : this._defaultCode}\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.default_code\"\n              )}\n              type=\"password\"\n              .invalid=${invalidDefaultCode}\n              .disabled=${this.disabled}\n              @input=${this._defaultcodeChanged}\n            ></ha-textfield>\n          `\n        : \"\"}\n      ${domain === \"sensor\" &&\n      this._deviceClass &&\n      stateObj?.attributes.unit_of_measurement &&\n      this._sensorDeviceClassConvertibleUnits?.includes(\n        stateObj?.attributes.unit_of_measurement\n      )\n        ? html`\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.unit_of_measurement\"\n              )}\n              .value=${stateObj.attributes.unit_of_measurement}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._unitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._sensorDeviceClassConvertibleUnits.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n          `\n        : \"\"}\n      ${domain === \"sensor\" &&\n      // Allow customizing the precision for a sensor with numerical device class,\n      // a unit of measurement or state class\n      ((this._deviceClass &&\n        this._sensorNumericalDeviceClasses?.includes(this._deviceClass)) ||\n        stateObj?.attributes.unit_of_measurement ||\n        stateObj?.attributes.state_class)\n        ? html`\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.precision\"\n              )}\n              .value=${this._precision == null\n                ? \"default\"\n                : this._precision.toString()}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._precisionChanged}\n              @closed=${stopPropagation}\n            >\n              <ha-list-item value=\"default\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.precision_default\",\n                  {\n                    value: this.precisionLabel(\n                      defaultPrecision,\n                      stateObj?.state\n                    ),\n                  }\n                )}</ha-list-item\n              >\n              ${PRECISIONS.map(\n                (precision) => html`\n                  <ha-list-item .value=${precision.toString()}>\n                    ${this.precisionLabel(precision, stateObj?.state)}\n                  </ha-list-item>\n                `\n              )}\n            </ha-select>\n          `\n        : \"\"}\n      ${domain === \"weather\"\n        ? html`\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.precipitation_unit\"\n              )}\n              .value=${this._precipitation_unit}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._precipitationUnitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._weatherConvertibleUnits?.precipitation_unit.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.pressure_unit\"\n              )}\n              .value=${this._pressure_unit}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._pressureUnitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._weatherConvertibleUnits?.pressure_unit.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.temperature_unit\"\n              )}\n              .value=${this._temperature_unit}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._temperatureUnitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._weatherConvertibleUnits?.temperature_unit.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.visibility_unit\"\n              )}\n              .value=${this._visibility_unit}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._visibilityUnitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._weatherConvertibleUnits?.visibility_unit.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n            <ha-select\n              .label=${this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.wind_speed_unit\"\n              )}\n              .value=${this._wind_speed_unit}\n              naturalMenuWidth\n              fixedMenuPosition\n              @selected=${this._windSpeedUnitChanged}\n              @closed=${stopPropagation}\n            >\n              ${this._weatherConvertibleUnits?.wind_speed_unit.map(\n                (unit: string) => html`\n                  <ha-list-item .value=${unit}>${unit}</ha-list-item>\n                `\n              )}\n            </ha-select>\n          `\n        : \"\"}\n      <ha-textfield\n        class=\"entityId\"\n        .value=${computeObjectId(this._entityId)}\n        .prefix=${domain + \".\"}\n        .label=${this.hass.localize(\n          \"ui.dialogs.entity_registry.editor.entity_id\"\n        )}\n        .disabled=${this.disabled}\n        required\n        @input=${this._entityIdChanged}\n        iconTrailing\n        autocapitalize=\"none\"\n        autocomplete=\"off\"\n        autocorrect=\"off\"\n        input-spellcheck=\"false\"\n      >\n        <ha-icon-button\n          @click=${this._copyEntityId}\n          slot=\"trailingIcon\"\n          .path=${mdiContentCopy}\n        ></ha-icon-button>\n      </ha-textfield>\n      ${!this.entry.device_id\n        ? html`<ha-area-picker\n            .hass=${this.hass}\n            .value=${this._areaId}\n            .disabled=${this.disabled}\n            @value-changed=${this._areaPicked}\n          ></ha-area-picker>`\n        : \"\"}\n      ${this._cameraPrefs\n        ? html`\n            <ha-settings-row>\n              <span slot=\"heading\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.stream.preload_stream\"\n                )}</span\n              >\n              <span slot=\"description\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.stream.preload_stream_description\"\n                )}</span\n              >\n              <ha-switch\n                .checked=${this._cameraPrefs.preload_stream}\n                .disabled=${this.disabled}\n                @change=${this._handleCameraPrefsChanged}\n              >\n              </ha-switch>\n            </ha-settings-row>\n            <ha-settings-row>\n              <span slot=\"heading\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.stream.stream_orientation\"\n                )}</span\n              >\n              <span slot=\"description\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.stream.stream_orientation_description\"\n                )}</span\n              >\n              <ha-select\n                .label=${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.stream.stream_orientation\"\n                )}\n                naturalMenuWidth\n                fixedMenuPosition\n                .disabled=${this.disabled}\n                @selected=${this._handleCameraOrientationChanged}\n                @closed=${stopPropagation}\n              >\n                ${CAMERA_ORIENTATIONS.map((num) => {\n                  const localizeStr =\n                    \"ui.dialogs.entity_registry.editor.stream.stream_orientation_\" +\n                    num.toString();\n                  return html`\n                    <ha-list-item value=${num}>\n                      ${this.hass.localize(localizeStr as LocalizeKeys)}\n                    </ha-list-item>\n                  `;\n                })}\n              </ha-select>\n            </ha-settings-row>\n          `\n        : \"\"}\n      ${this.helperConfigEntry &&\n      this.helperConfigEntry.supports_options &&\n      this.helperConfigEntry.domain !== \"switch_as_x\"\n        ? html`\n            <ha-list-item\n              class=\"menu-item\"\n              twoline\n              hasMeta\n              .disabled=${this.disabled}\n              @click=${this._showOptionsFlow}\n            >\n              <span\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.configure_state\",\n                  {\n                    integration: domainToName(\n                      this.hass.localize,\n                      this.helperConfigEntry.domain\n                    ),\n                  }\n                )}</span\n              >\n              <span slot=\"secondary\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.configure_state_secondary\",\n                  {\n                    integration: domainToName(\n                      this.hass.localize,\n                      this.helperConfigEntry.domain\n                    ),\n                  }\n                )}</span\n              >\n              <ha-icon-next slot=\"meta\"></ha-icon-next>\n            </ha-list-item>\n          `\n        : \"\"}\n\n      <ha-list-item\n        class=\"menu-item\"\n        twoline\n        hasMeta\n        .disabled=${this.disabled}\n        @click=${this._handleVoiceAssistantsClicked}\n      >\n        <span\n          >${this.hass.localize(\n            \"ui.dialogs.entity_registry.editor.voice_assistants\"\n          )}</span\n        >\n        <span slot=\"secondary\">\n          ${this.entry.aliases.length\n            ? [...this.entry.aliases]\n                .sort((a, b) => stringCompare(a, b, this.hass.locale.language))\n                .join(\", \")\n            : this.hass.localize(\n                \"ui.dialogs.entity_registry.editor.no_aliases\"\n              )}\n        </span>\n        <ha-icon-next slot=\"meta\"></ha-icon-next>\n      </ha-list-item>\n\n      ${this._disabledBy &&\n      this._disabledBy !== \"user\" &&\n      this._disabledBy !== \"integration\"\n        ? html`<ha-alert alert-type=\"warning\"\n            >${this.hass.localize(\n              \"ui.dialogs.entity_registry.editor.enabled_cause\",\n              {\n                cause: this.hass.localize(\n                  `config_entry.disabled_by.${this._disabledBy!}`\n                ),\n              }\n            )}</ha-alert\n          >`\n        : \"\"}\n\n      <ha-settings-row>\n        <span slot=\"heading\"\n          >${this.hass.localize(\n            \"ui.dialogs.entity_registry.editor.enabled_label\"\n          )}</span\n        >\n        <span slot=\"description\"\n          >${this.hass.localize(\n            \"ui.dialogs.entity_registry.editor.enabled_description\"\n          )}</span\n        >\n        <ha-switch\n          .checked=${!this._disabledBy}\n          .disabled=${this.disabled ||\n          this._device?.disabled_by ||\n          (this._disabledBy &&\n            this._disabledBy !== \"user\" &&\n            this._disabledBy !== \"integration\")}\n          @change=${this._enabledChanged}\n        ></ha-switch>\n      </ha-settings-row>\n\n      ${this._hiddenBy && this._hiddenBy !== \"user\"\n        ? html`<ha-alert alert-type=\"warning\"\n            >${this.hass.localize(\n              \"ui.dialogs.entity_registry.editor.hidden_cause\",\n              {\n                cause: this.hass.localize(\n                  `config_entry.hidden_by.${this._hiddenBy!}`\n                ),\n              }\n            )}</ha-alert\n          >`\n        : \"\"}\n\n      <ha-settings-row>\n        <span slot=\"heading\"\n          >${this.hass.localize(\n            \"ui.dialogs.entity_registry.editor.visible_label\"\n          )}</span\n        >\n        <span slot=\"description\"\n          >${this.hass.localize(\n            \"ui.dialogs.entity_registry.editor.hidden_description\"\n          )}</span\n        >\n        <ha-switch\n          .checked=${!this._disabledBy && !this._hiddenBy}\n          .disabled=${this.disabled ||\n          this._disabledBy ||\n          (this._hiddenBy && this._hiddenBy !== \"user\")}\n          @change=${this._hiddenChanged}\n        ></ha-switch>\n      </ha-settings-row>\n\n      ${this.entry.device_id\n        ? html`<ha-settings-row>\n              <span slot=\"heading\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.use_device_area\"\n                )}\n                ${this.hass.devices[this.entry.device_id].area_id\n                  ? `(${\n                      this.hass.areas[\n                        this.hass.devices[this.entry.device_id].area_id!\n                      ]?.name\n                    })`\n                  : \"\"}</span\n              >\n              <span slot=\"description\"\n                >${this.hass.localize(\n                  \"ui.dialogs.entity_registry.editor.change_device_settings\",\n                  {\n                    link: html`<button\n                      class=\"link\"\n                      @click=${this._openDeviceSettings}\n                    >\n                      ${this.hass.localize(\n                        \"ui.dialogs.entity_registry.editor.change_device_area_link\"\n                      )}\n                    </button>`,\n                  }\n                )}</span\n              >\n              <ha-switch\n                .checked=${!this._areaId || this._noDeviceArea}\n                .disabled=${this.disabled}\n                @change=${this._useDeviceAreaChanged}\n              >\n              </ha-switch\n            ></ha-settings-row>\n            ${this._areaId || this._noDeviceArea\n              ? html`<ha-area-picker\n                  .hass=${this.hass}\n                  .value=${this._areaId}\n                  .placeholder=${this._device?.area_id}\n                  .disabled=${this.disabled}\n                  @value-changed=${this._areaPicked}\n                ></ha-area-picker>`\n              : \"\"} `\n        : \"\"}\n    `;\n  }\n\n  public async updateEntry(): Promise<{\n    close: boolean;\n    entry: ExtEntityRegistryEntry;\n  }> {\n    let close = true;\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let parent: HTMLElement = this;\n    while (parent?.localName !== \"home-assistant\") {\n      parent = (parent.getRootNode() as ShadowRoot).host as HTMLElement;\n    }\n\n    const params: Partial<EntityRegistryEntryUpdateParams> = {\n      name: this._name.trim() || null,\n      icon: this._icon.trim() || null,\n      area_id: this._areaId || null,\n      new_entity_id: this._entityId.trim(),\n    };\n\n    // Only update device class if changed by user\n    if (\n      this._deviceClass !==\n      (this.entry.device_class || this.entry.original_device_class)\n    ) {\n      params.device_class = this._deviceClass;\n    }\n\n    const stateObj: HassEntity | undefined =\n      this.hass.states[this.entry.entity_id];\n    const domain = computeDomain(this.entry.entity_id);\n\n    if (\n      this.entry.disabled_by !== this._disabledBy &&\n      (this._disabledBy === null || this._disabledBy === \"user\")\n    ) {\n      params.disabled_by = this._disabledBy;\n    }\n    if (\n      this.entry.hidden_by !== this._hiddenBy &&\n      (this._hiddenBy === null || this._hiddenBy === \"user\")\n    ) {\n      params.hidden_by = this._hiddenBy;\n    }\n    if (\n      (domain === \"number\" || domain === \"sensor\") &&\n      stateObj?.attributes?.unit_of_measurement !== this._unit_of_measurement\n    ) {\n      params.options_domain = domain;\n      params.options = this.entry.options?.[domain] || {};\n      params.options.unit_of_measurement = this._unit_of_measurement;\n    }\n    if (\n      domain === \"sensor\" &&\n      this.entry.options?.[domain]?.display_precision !== this._precision\n    ) {\n      params.options_domain = domain;\n      params.options = params.options || this.entry.options?.[domain] || {};\n      (params.options as SensorEntityOptions).display_precision =\n        this._precision;\n    }\n    if (\n      domain === \"lock\" &&\n      this.entry.options?.[domain]?.default_code !== this._defaultCode\n    ) {\n      params.options_domain = domain;\n      params.options = this.entry.options?.[domain] || {};\n      (params.options as LockEntityOptions).default_code = this._defaultCode;\n    }\n    if (\n      domain === \"weather\" &&\n      (stateObj?.attributes?.precipitation_unit !== this._precipitation_unit ||\n        stateObj?.attributes?.pressure_unit !== this._pressure_unit ||\n        stateObj?.attributes?.temperature_unit !== this._temperature_unit ||\n        stateObj?.attributes?.visbility_unit !== this._visibility_unit ||\n        stateObj?.attributes?.wind_speed_unit !== this._wind_speed_unit)\n    ) {\n      params.options_domain = \"weather\";\n      params.options = {\n        precipitation_unit: this._precipitation_unit,\n        pressure_unit: this._pressure_unit,\n        temperature_unit: this._temperature_unit,\n        visibility_unit: this._visibility_unit,\n        wind_speed_unit: this._wind_speed_unit,\n      };\n    }\n\n    const result = await updateEntityRegistryEntry(\n      this.hass!,\n      this.entry.entity_id,\n      params\n    );\n    if (result.require_restart) {\n      showAlertDialog(this, {\n        text: this.hass.localize(\n          \"ui.dialogs.entity_registry.editor.enabled_restart_confirm\"\n        ),\n      });\n    }\n    if (result.reload_delay) {\n      showAlertDialog(this, {\n        text: this.hass.localize(\n          \"ui.dialogs.entity_registry.editor.enabled_delay_confirm\",\n          { delay: result.reload_delay }\n        ),\n      });\n    }\n\n    if (domain === \"switch\" && this._switchAsDomain !== \"switch\") {\n      // generate config flow for switch_as_x\n      if (\n        await showConfirmationDialog(this, {\n          text: this.hass!.localize(\n            \"ui.dialogs.entity_registry.editor.switch_as_x_confirm\",\n            {\n              domain: domainToName(\n                this.hass.localize,\n                this._switchAsDomain\n              ).toLowerCase(),\n            }\n          ),\n        })\n      ) {\n        const configFlow = await createConfigFlow(this.hass, \"switch_as_x\");\n        const configFlowResult = (await handleConfigFlowStep(\n          this.hass,\n          configFlow.flow_id,\n          {\n            entity_id: this._entityId.trim(),\n            invert: this._switchAsInvert,\n            target_domain: this._switchAsDomain,\n          }\n        )) as DataEntryFlowStepCreateEntry;\n        if (configFlowResult.result?.entry_id) {\n          try {\n            const entry = await this._waitForEntityRegistryUpdate(\n              configFlowResult.result.entry_id\n            );\n            showMoreInfoDialog(parent, { entityId: entry.entity_id });\n            close = false;\n          } catch (err) {\n            // ignore\n          }\n        }\n      }\n    } else if (\n      this.helperConfigEntry?.domain === \"switch_as_x\" &&\n      this._switchAsDomain !== domain\n    ) {\n      // change a current switch as x to something else\n      if (\n        await showConfirmationDialog(this, {\n          text:\n            this._switchAsDomain === \"switch\"\n              ? this.hass!.localize(\n                  \"ui.dialogs.entity_registry.editor.switch_as_x_remove_confirm\",\n                  {\n                    domain: domainToName(\n                      this.hass.localize,\n                      domain\n                    ).toLowerCase(),\n                  }\n                )\n              : this.hass!.localize(\n                  \"ui.dialogs.entity_registry.editor.switch_as_x_change_confirm\",\n                  {\n                    domain_1: domainToName(\n                      this.hass.localize,\n                      domain\n                    ).toLowerCase(),\n                    domain_2: domainToName(\n                      this.hass.localize,\n                      this._switchAsDomain\n                    ).toLowerCase(),\n                  }\n                ),\n        })\n      ) {\n        const origEntityId = this.entry.options?.switch_as_x?.entity_id;\n        // remove current helper\n        await deleteConfigEntry(this.hass, this.helperConfigEntry.entry_id);\n\n        if (!origEntityId) {\n          // should not happen, guard for types\n        } else if (this._switchAsDomain === \"switch\") {\n          // done, original switch is back\n          showMoreInfoDialog(parent, { entityId: origEntityId });\n          close = false;\n        } else {\n          const configFlow = await createConfigFlow(this.hass, \"switch_as_x\");\n          const configFlowResult = (await handleConfigFlowStep(\n            this.hass,\n            configFlow.flow_id,\n            {\n              entity_id: origEntityId,\n              invert: this._switchAsInvert,\n              target_domain: this._switchAsDomain,\n            }\n          )) as DataEntryFlowStepCreateEntry;\n          if (configFlowResult.result?.entry_id) {\n            try {\n              const entry = await this._waitForEntityRegistryUpdate(\n                configFlowResult.result.entry_id\n              );\n              showMoreInfoDialog(parent, { entityId: entry.entity_id });\n              close = false;\n            } catch (err) {\n              // ignore\n            }\n          }\n        }\n      }\n    } else if (\n      this.helperConfigEntry?.domain === \"switch_as_x\" &&\n      this._switchAsDomain === domain &&\n      this._switchAsInvert !== this.entry.options?.switch_as_x?.invert\n    ) {\n      // Change invert setting\n      const origEntityId = this.entry.options?.switch_as_x?.entity_id;\n      if (!origEntityId) {\n        // should not happen, guard for types\n      } else {\n        const configFlow = await createOptionsFlow(\n          this.hass,\n          this.helperConfigEntry.entry_id\n        );\n        await handleOptionsFlowStep(this.hass, configFlow.flow_id, {\n          invert: this._switchAsInvert,\n        });\n      }\n    }\n\n    return { close, entry: result.entity_entry };\n  }\n\n  private async _waitForEntityRegistryUpdate(config_entry_id: string) {\n    return new Promise<EntityRegistryEntry>((resolve, reject) => {\n      const timeout = setTimeout(reject, 5000);\n      const unsub = subscribeEntityRegistry(\n        this.hass.connection,\n        (entityRegistry) => {\n          const entity = entityRegistry.find(\n            (reg) => reg.config_entry_id === config_entry_id\n          );\n          if (entity) {\n            clearTimeout(timeout);\n            unsub();\n            resolve(entity);\n          }\n        }\n      );\n      // @ts-ignore Force refresh\n      this.hass.connection._entityRegistry?.refresh();\n    });\n  }\n\n  private _nameChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._name = ev.target.value;\n  }\n\n  private _iconChanged(ev: CustomEvent): void {\n    fireEvent(this, \"change\");\n    this._icon = ev.detail.value;\n  }\n\n  private async _copyEntityId(): Promise<void> {\n    await copyToClipboard(this._entityId);\n    showToast(this, {\n      message: this.hass.localize(\"ui.common.copied_clipboard\"),\n    });\n  }\n\n  private _entityIdChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._entityId = `${computeDomain(this._origEntityId)}.${ev.target.value}`;\n  }\n\n  private _deviceClassChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._deviceClass = ev.target.value;\n  }\n\n  private _unitChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._unit_of_measurement = ev.target.value;\n  }\n\n  private _defaultcodeChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._defaultCode = ev.target.value === \"\" ? null : ev.target.value;\n  }\n\n  private _precipitationUnitChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._precipitation_unit = ev.target.value;\n  }\n\n  private _precisionChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._precision =\n      ev.target.value === \"default\" ? null : Number(ev.target.value);\n  }\n\n  private _pressureUnitChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._pressure_unit = ev.target.value;\n  }\n\n  private _temperatureUnitChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._temperature_unit = ev.target.value;\n  }\n\n  private _visibilityUnitChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._visibility_unit = ev.target.value;\n  }\n\n  private _windSpeedUnitChanged(ev): void {\n    fireEvent(this, \"change\");\n    this._wind_speed_unit = ev.target.value;\n  }\n\n  private _switchAsDomainChanged(ev): void {\n    if (ev.target.value === \"\") {\n      return;\n    }\n\n    // If value is \"outlet\" that means the user kept the \"switch\" domain, but actually changed\n    // the device_class of the switch to \"outlet\".\n    const switchAs = ev.target.value === \"outlet\" ? \"switch\" : ev.target.value;\n    this._switchAsDomain = switchAs;\n\n    if (\n      (computeDomain(this.entry.entity_id) === \"switch\" &&\n        ev.target.value === \"outlet\") ||\n      ev.target.value === \"switch\"\n    ) {\n      this._deviceClass = ev.target.value;\n    }\n  }\n\n  private _switchAsInvertChanged(ev): void {\n    this._switchAsInvert = ev.target.checked;\n  }\n\n  private _useDeviceAreaChanged(ev): void {\n    this._noDeviceArea = !ev.target.checked;\n    if (!this._noDeviceArea) {\n      this._areaId = undefined;\n    }\n  }\n\n  private _areaPicked(ev: CustomEvent) {\n    fireEvent(this, \"change\");\n    this._areaId = ev.detail.value;\n  }\n\n  private async _fetchCameraPrefs() {\n    this._cameraPrefs = await fetchCameraPrefs(this.hass, this.entry.entity_id);\n  }\n\n  private async _handleCameraPrefsChanged(ev) {\n    const checkbox = ev.currentTarget as HaSwitch;\n    try {\n      this._cameraPrefs = await updateCameraPrefs(\n        this.hass,\n        this.entry.entity_id,\n        {\n          preload_stream: checkbox.checked!,\n        }\n      );\n    } catch (err: any) {\n      showAlertDialog(this, { text: err.message });\n      checkbox.checked = !checkbox.checked;\n    }\n  }\n\n  private async _handleCameraOrientationChanged(ev) {\n    try {\n      this._cameraPrefs = await updateCameraPrefs(\n        this.hass,\n        this.entry.entity_id,\n        {\n          orientation: ev.currentTarget.value,\n        }\n      );\n    } catch (err: any) {\n      showAlertDialog(this, { text: err.message });\n    }\n  }\n\n  private _enabledChanged(ev: CustomEvent): void {\n    if ((ev.target as any).checked) {\n      this._disabledBy = null;\n    } else {\n      this._disabledBy = \"user\";\n    }\n  }\n\n  private _hiddenChanged(ev: CustomEvent): void {\n    if ((ev.target as any).checked) {\n      this._hiddenBy = null;\n    } else {\n      this._hiddenBy = \"user\";\n    }\n  }\n\n  private _openDeviceSettings() {\n    showDeviceRegistryDetailDialog(this, {\n      device: this._device!,\n      updateEntry: async (updates) => {\n        await updateDeviceRegistryEntry(this.hass, this._device!.id, updates);\n      },\n    });\n  }\n\n  private _handleVoiceAssistantsClicked() {\n    showVoiceAssistantsView(\n      this,\n      this.hass.localize(\"ui.dialogs.entity_registry.editor.voice_assistants\")\n    );\n  }\n\n  private async _showOptionsFlow() {\n    showOptionsFlowDialog(this, this.helperConfigEntry!);\n  }\n\n  private _switchAsDomainsSorted = memoizeOne(\n    (domains: string[], localize: LocalizeFunc) =>\n      domains\n        .map((domain) => ({\n          domain,\n          label: domainToName(localize, domain),\n        }))\n        .sort((a, b) =>\n          stringCompare(a.label, b.label, this.hass.locale.language)\n        )\n  );\n\n  private _deviceClassesSorted = memoizeOne(\n    (domain: string, deviceClasses: string[], localize: LocalizeFunc) =>\n      deviceClasses\n        .map((entry) => ({\n          deviceClass: entry,\n          label: localize(\n            `ui.dialogs.entity_registry.editor.device_classes.${domain}.${entry}`\n          ),\n        }))\n        .sort((a, b) =>\n          stringCompare(a.label, b.label, this.hass.locale.language)\n        )\n  );\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        :host {\n          display: block;\n        }\n        ha-textfield.entityId {\n          --text-field-prefix-padding-right: 0;\n          --textfield-icon-trailing-padding: 0;\n        }\n        ha-textfield.entityId > ha-icon-button {\n          position: relative;\n          right: -8px;\n          --mdc-icon-button-size: 36px;\n          --mdc-icon-size: 20px;\n          color: var(--secondary-text-color);\n          inset-inline-start: initial;\n          inset-inline-end: -8px;\n          direction: var(--direction);\n        }\n        ha-switch {\n          margin-right: 16px;\n          margin-inline-end: 16px;\n          margin-inline-start: initial;\n        }\n        ha-settings-row ha-switch {\n          margin-right: 0;\n          margin-inline-end: 0;\n          margin-inline-start: initial;\n        }\n        ha-textfield,\n        ha-icon-picker,\n        ha-select,\n        ha-area-picker {\n          display: block;\n          margin: 8px 0;\n          width: 100%;\n        }\n        li[divider] {\n          border-bottom-color: var(--divider-color);\n        }\n        ha-alert mwc-button {\n          width: max-content;\n        }\n        .menu-item {\n          border-radius: 4px;\n          margin-top: 3px;\n          margin-bottom: 3px;\n          overflow: hidden;\n          --mdc-list-side-padding: 13px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"entity-registry-settings-editor\": EntityRegistrySettingsEditor;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}