{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { createCloseHeading } from \"../../components/ha-dialog\";\nimport \"../../components/ha-hls-player\";\nimport { haStyleDialog } from \"../../resources/styles\";\nexport let HuiDialogWebBrowserPlayMedia = _decorate([customElement(\"hui-dialog-web-browser-play-media\")], function (_initialize, _LitElement) {\n  class HuiDialogWebBrowserPlayMedia extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiDialogWebBrowserPlayMedia,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_params\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"showDialog\",\n      value: function showDialog(params) {\n        this._params = params;\n      }\n    }, {\n      kind: \"method\",\n      key: \"closeDialog\",\n      value: function closeDialog() {\n        this._params = undefined;\n        fireEvent(this, \"dialog-closed\", {\n          dialog: this.localName\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this._params || !this._params.sourceType || !this._params.sourceUrl) {\n          return nothing;\n        }\n        const mediaType = this._params.sourceType.split(\"/\", 1)[0];\n        return html`\n      <ha-dialog\n        open\n        hideActions\n        .heading=${createCloseHeading(this.hass, this._params.title || this.hass.localize(\"ui.components.media-browser.media_player\"))}\n        @closed=${this.closeDialog}\n      >\n        ${mediaType === \"audio\" ? html`\n              <audio controls autoplay>\n                <source\n                  src=${this._params.sourceUrl}\n                  type=${this._params.sourceType}\n                />\n                ${this.hass.localize(\"ui.components.media-browser.audio_not_supported\")}\n              </audio>\n            ` : mediaType === \"video\" ? html`\n                <video controls autoplay playsinline>\n                  <source\n                    src=${this._params.sourceUrl}\n                    type=${this._params.sourceType}\n                  />\n                  ${this.hass.localize(\"ui.components.media-browser.video_not_supported\")}\n                </video>\n              ` : this._params.sourceType === \"application/x-mpegURL\" ? html`\n                  <ha-hls-player\n                    controls\n                    autoplay\n                    playsinline\n                    .hass=${this.hass}\n                    .url=${this._params.sourceUrl}\n                  ></ha-hls-player>\n                ` : mediaType === \"image\" ? html`<img\n                    alt=${this._params.title || nothing}\n                    src=${this._params.sourceUrl}\n                  />` : html`${this.hass.localize(\"ui.components.media-browser.media_not_supported\")}`}\n      </ha-dialog>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyleDialog, css`\n        @media (min-width: 800px) {\n          ha-dialog {\n            --mdc-dialog-max-width: 800px;\n            --mdc-dialog-min-width: 400px;\n          }\n        }\n\n        video,\n        audio,\n        img {\n          outline: none;\n          width: 100%;\n        }\n      `];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","state","fireEvent","createCloseHeading","haStyleDialog","HuiDialogWebBrowserPlayMedia","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","showDialog","params","_params","closeDialog","undefined","dialog","localName","render","sourceType","sourceUrl","mediaType","split","hass","title","localize","static","styles"],"sources":["/workspaces/frontend/src/panels/media-browser/hui-dialog-web-browser-play-media.ts"],"sourcesContent":["import { css, CSSResultGroup, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { createCloseHeading } from \"../../components/ha-dialog\";\nimport \"../../components/ha-hls-player\";\nimport { haStyleDialog } from \"../../resources/styles\";\nimport type { HomeAssistant } from \"../../types\";\nimport { WebBrowserPlayMediaDialogParams } from \"./show-media-player-dialog\";\n\n@customElement(\"hui-dialog-web-browser-play-media\")\nexport class HuiDialogWebBrowserPlayMedia extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _params?: WebBrowserPlayMediaDialogParams;\n\n  public showDialog(params: WebBrowserPlayMediaDialogParams): void {\n    this._params = params;\n  }\n\n  public closeDialog() {\n    this._params = undefined;\n    fireEvent(this, \"dialog-closed\", { dialog: this.localName });\n  }\n\n  protected render() {\n    if (!this._params || !this._params.sourceType || !this._params.sourceUrl) {\n      return nothing;\n    }\n\n    const mediaType = this._params.sourceType.split(\"/\", 1)[0];\n\n    return html`\n      <ha-dialog\n        open\n        hideActions\n        .heading=${createCloseHeading(\n          this.hass,\n          this._params.title ||\n            this.hass.localize(\"ui.components.media-browser.media_player\")\n        )}\n        @closed=${this.closeDialog}\n      >\n        ${mediaType === \"audio\"\n          ? html`\n              <audio controls autoplay>\n                <source\n                  src=${this._params.sourceUrl}\n                  type=${this._params.sourceType}\n                />\n                ${this.hass.localize(\n                  \"ui.components.media-browser.audio_not_supported\"\n                )}\n              </audio>\n            `\n          : mediaType === \"video\"\n            ? html`\n                <video controls autoplay playsinline>\n                  <source\n                    src=${this._params.sourceUrl}\n                    type=${this._params.sourceType}\n                  />\n                  ${this.hass.localize(\n                    \"ui.components.media-browser.video_not_supported\"\n                  )}\n                </video>\n              `\n            : this._params.sourceType === \"application/x-mpegURL\"\n              ? html`\n                  <ha-hls-player\n                    controls\n                    autoplay\n                    playsinline\n                    .hass=${this.hass}\n                    .url=${this._params.sourceUrl}\n                  ></ha-hls-player>\n                `\n              : mediaType === \"image\"\n                ? html`<img\n                    alt=${this._params.title || nothing}\n                    src=${this._params.sourceUrl}\n                  />`\n                : html`${this.hass.localize(\n                    \"ui.components.media-browser.media_not_supported\"\n                  )}`}\n      </ha-dialog>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyleDialog,\n      css`\n        @media (min-width: 800px) {\n          ha-dialog {\n            --mdc-dialog-max-width: 800px;\n            --mdc-dialog-min-width: 400px;\n          }\n        }\n\n        video,\n        audio,\n        img {\n          outline: none;\n          width: 100%;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-dialog-web-browser-play-media\": HuiDialogWebBrowserPlayMedia;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}