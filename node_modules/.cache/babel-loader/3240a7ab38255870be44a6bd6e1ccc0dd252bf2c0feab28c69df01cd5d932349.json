{"ast":null,"code":"/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { AnimationFrame } from '@material/animation/animationframe';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nvar AnimationKeys;\n(function (AnimationKeys) {\n  AnimationKeys[\"POLL_SCROLL_POS\"] = \"poll_scroll_position\";\n  AnimationKeys[\"POLL_LAYOUT_CHANGE\"] = \"poll_layout_change\";\n})(AnimationKeys || (AnimationKeys = {}));\nvar MDCDialogFoundation = /** @class */function (_super) {\n  __extends(MDCDialogFoundation, _super);\n  function MDCDialogFoundation(adapter) {\n    var _this = _super.call(this, __assign(__assign({}, MDCDialogFoundation.defaultAdapter), adapter)) || this;\n    _this.dialogOpen = false;\n    _this.isFullscreen = false;\n    _this.animationFrame = 0;\n    _this.animationTimer = 0;\n    _this.escapeKeyAction = strings.CLOSE_ACTION;\n    _this.scrimClickAction = strings.CLOSE_ACTION;\n    _this.autoStackButtons = true;\n    _this.areButtonsStacked = false;\n    _this.suppressDefaultPressSelector = strings.SUPPRESS_DEFAULT_PRESS_SELECTOR;\n    _this.animFrame = new AnimationFrame();\n    _this.contentScrollHandler = function () {\n      _this.handleScrollEvent();\n    };\n    _this.windowResizeHandler = function () {\n      _this.layout();\n    };\n    _this.windowOrientationChangeHandler = function () {\n      _this.layout();\n    };\n    return _this;\n  }\n  Object.defineProperty(MDCDialogFoundation, \"cssClasses\", {\n    get: function get() {\n      return cssClasses;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCDialogFoundation, \"strings\", {\n    get: function get() {\n      return strings;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCDialogFoundation, \"numbers\", {\n    get: function get() {\n      return numbers;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCDialogFoundation, \"defaultAdapter\", {\n    get: function get() {\n      return {\n        addBodyClass: function addBodyClass() {\n          return undefined;\n        },\n        addClass: function addClass() {\n          return undefined;\n        },\n        areButtonsStacked: function areButtonsStacked() {\n          return false;\n        },\n        clickDefaultButton: function clickDefaultButton() {\n          return undefined;\n        },\n        eventTargetMatches: function eventTargetMatches() {\n          return false;\n        },\n        getActionFromEvent: function getActionFromEvent() {\n          return '';\n        },\n        getInitialFocusEl: function getInitialFocusEl() {\n          return null;\n        },\n        hasClass: function hasClass() {\n          return false;\n        },\n        isContentScrollable: function isContentScrollable() {\n          return false;\n        },\n        notifyClosed: function notifyClosed() {\n          return undefined;\n        },\n        notifyClosing: function notifyClosing() {\n          return undefined;\n        },\n        notifyOpened: function notifyOpened() {\n          return undefined;\n        },\n        notifyOpening: function notifyOpening() {\n          return undefined;\n        },\n        releaseFocus: function releaseFocus() {\n          return undefined;\n        },\n        removeBodyClass: function removeBodyClass() {\n          return undefined;\n        },\n        removeClass: function removeClass() {\n          return undefined;\n        },\n        reverseButtons: function reverseButtons() {\n          return undefined;\n        },\n        trapFocus: function trapFocus() {\n          return undefined;\n        },\n        registerContentEventHandler: function registerContentEventHandler() {\n          return undefined;\n        },\n        deregisterContentEventHandler: function deregisterContentEventHandler() {\n          return undefined;\n        },\n        isScrollableContentAtTop: function isScrollableContentAtTop() {\n          return false;\n        },\n        isScrollableContentAtBottom: function isScrollableContentAtBottom() {\n          return false;\n        },\n        registerWindowEventHandler: function registerWindowEventHandler() {\n          return undefined;\n        },\n        deregisterWindowEventHandler: function deregisterWindowEventHandler() {\n          return undefined;\n        }\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  MDCDialogFoundation.prototype.init = function () {\n    if (this.adapter.hasClass(cssClasses.STACKED)) {\n      this.setAutoStackButtons(false);\n    }\n    this.isFullscreen = this.adapter.hasClass(cssClasses.FULLSCREEN);\n  };\n  MDCDialogFoundation.prototype.destroy = function () {\n    if (this.animationTimer) {\n      clearTimeout(this.animationTimer);\n      this.handleAnimationTimerEnd();\n    }\n    if (this.isFullscreen) {\n      this.adapter.deregisterContentEventHandler('scroll', this.contentScrollHandler);\n    }\n    this.animFrame.cancelAll();\n    this.adapter.deregisterWindowEventHandler('resize', this.windowResizeHandler);\n    this.adapter.deregisterWindowEventHandler('orientationchange', this.windowOrientationChangeHandler);\n  };\n  MDCDialogFoundation.prototype.open = function (dialogOptions) {\n    var _this = this;\n    this.dialogOpen = true;\n    this.adapter.notifyOpening();\n    this.adapter.addClass(cssClasses.OPENING);\n    if (this.isFullscreen) {\n      // A scroll event listener is registered even if the dialog is not\n      // scrollable on open, since the window resize event, or orientation\n      // change may make the dialog scrollable after it is opened.\n      this.adapter.registerContentEventHandler('scroll', this.contentScrollHandler);\n    }\n    if (dialogOptions && dialogOptions.isAboveFullscreenDialog) {\n      this.adapter.addClass(cssClasses.SCRIM_HIDDEN);\n    }\n    this.adapter.registerWindowEventHandler('resize', this.windowResizeHandler);\n    this.adapter.registerWindowEventHandler('orientationchange', this.windowOrientationChangeHandler);\n    // Wait a frame once display is no longer \"none\", to establish basis for\n    // animation\n    this.runNextAnimationFrame(function () {\n      _this.adapter.addClass(cssClasses.OPEN);\n      _this.adapter.addBodyClass(cssClasses.SCROLL_LOCK);\n      _this.layout();\n      _this.animationTimer = setTimeout(function () {\n        _this.handleAnimationTimerEnd();\n        _this.adapter.trapFocus(_this.adapter.getInitialFocusEl());\n        _this.adapter.notifyOpened();\n      }, numbers.DIALOG_ANIMATION_OPEN_TIME_MS);\n    });\n  };\n  MDCDialogFoundation.prototype.close = function (action) {\n    var _this = this;\n    if (action === void 0) {\n      action = '';\n    }\n    if (!this.dialogOpen) {\n      // Avoid redundant close calls (and events), e.g. from keydown on elements\n      // that inherently emit click\n      return;\n    }\n    this.dialogOpen = false;\n    this.adapter.notifyClosing(action);\n    this.adapter.addClass(cssClasses.CLOSING);\n    this.adapter.removeClass(cssClasses.OPEN);\n    this.adapter.removeBodyClass(cssClasses.SCROLL_LOCK);\n    if (this.isFullscreen) {\n      this.adapter.deregisterContentEventHandler('scroll', this.contentScrollHandler);\n    }\n    this.adapter.deregisterWindowEventHandler('resize', this.windowResizeHandler);\n    this.adapter.deregisterWindowEventHandler('orientationchange', this.windowOrientationChangeHandler);\n    cancelAnimationFrame(this.animationFrame);\n    this.animationFrame = 0;\n    clearTimeout(this.animationTimer);\n    this.animationTimer = setTimeout(function () {\n      _this.adapter.releaseFocus();\n      _this.handleAnimationTimerEnd();\n      _this.adapter.notifyClosed(action);\n    }, numbers.DIALOG_ANIMATION_CLOSE_TIME_MS);\n  };\n  /**\n   * Used only in instances of showing a secondary dialog over a full-screen\n   * dialog. Shows the \"surface scrim\" displayed over the full-screen dialog.\n   */\n  MDCDialogFoundation.prototype.showSurfaceScrim = function () {\n    var _this = this;\n    this.adapter.addClass(cssClasses.SURFACE_SCRIM_SHOWING);\n    this.runNextAnimationFrame(function () {\n      _this.adapter.addClass(cssClasses.SURFACE_SCRIM_SHOWN);\n    });\n  };\n  /**\n   * Used only in instances of showing a secondary dialog over a full-screen\n   * dialog. Hides the \"surface scrim\" displayed over the full-screen dialog.\n   */\n  MDCDialogFoundation.prototype.hideSurfaceScrim = function () {\n    this.adapter.removeClass(cssClasses.SURFACE_SCRIM_SHOWN);\n    this.adapter.addClass(cssClasses.SURFACE_SCRIM_HIDING);\n  };\n  /**\n   * Handles `transitionend` event triggered when surface scrim animation is\n   * finished.\n   */\n  MDCDialogFoundation.prototype.handleSurfaceScrimTransitionEnd = function () {\n    this.adapter.removeClass(cssClasses.SURFACE_SCRIM_HIDING);\n    this.adapter.removeClass(cssClasses.SURFACE_SCRIM_SHOWING);\n  };\n  MDCDialogFoundation.prototype.isOpen = function () {\n    return this.dialogOpen;\n  };\n  MDCDialogFoundation.prototype.getEscapeKeyAction = function () {\n    return this.escapeKeyAction;\n  };\n  MDCDialogFoundation.prototype.setEscapeKeyAction = function (action) {\n    this.escapeKeyAction = action;\n  };\n  MDCDialogFoundation.prototype.getScrimClickAction = function () {\n    return this.scrimClickAction;\n  };\n  MDCDialogFoundation.prototype.setScrimClickAction = function (action) {\n    this.scrimClickAction = action;\n  };\n  MDCDialogFoundation.prototype.getAutoStackButtons = function () {\n    return this.autoStackButtons;\n  };\n  MDCDialogFoundation.prototype.setAutoStackButtons = function (autoStack) {\n    this.autoStackButtons = autoStack;\n  };\n  MDCDialogFoundation.prototype.getSuppressDefaultPressSelector = function () {\n    return this.suppressDefaultPressSelector;\n  };\n  MDCDialogFoundation.prototype.setSuppressDefaultPressSelector = function (selector) {\n    this.suppressDefaultPressSelector = selector;\n  };\n  MDCDialogFoundation.prototype.layout = function () {\n    var _this = this;\n    this.animFrame.request(AnimationKeys.POLL_LAYOUT_CHANGE, function () {\n      _this.layoutInternal();\n    });\n  };\n  /** Handles click on the dialog root element. */\n  MDCDialogFoundation.prototype.handleClick = function (evt) {\n    var isScrim = this.adapter.eventTargetMatches(evt.target, strings.SCRIM_SELECTOR);\n    // Check for scrim click first since it doesn't require querying ancestors.\n    if (isScrim && this.scrimClickAction !== '') {\n      this.close(this.scrimClickAction);\n    } else {\n      var action = this.adapter.getActionFromEvent(evt);\n      if (action) {\n        this.close(action);\n      }\n    }\n  };\n  /** Handles keydown on the dialog root element. */\n  MDCDialogFoundation.prototype.handleKeydown = function (evt) {\n    var isEnter = evt.key === 'Enter' || evt.keyCode === 13;\n    if (!isEnter) {\n      return;\n    }\n    var action = this.adapter.getActionFromEvent(evt);\n    if (action) {\n      // Action button callback is handled in `handleClick`,\n      // since space/enter keydowns on buttons trigger click events.\n      return;\n    }\n    // `composedPath` is used here, when available, to account for use cases\n    // where a target meant to suppress the default press behaviour\n    // may exist in a shadow root.\n    // For example, a textarea inside a web component:\n    // <mwc-dialog>\n    //   <horizontal-layout>\n    //     #shadow-root (open)\n    //       <mwc-textarea>\n    //         #shadow-root (open)\n    //           <textarea></textarea>\n    //       </mwc-textarea>\n    //   </horizontal-layout>\n    // </mwc-dialog>\n    var target = evt.composedPath ? evt.composedPath()[0] : evt.target;\n    var isDefault = this.suppressDefaultPressSelector ? !this.adapter.eventTargetMatches(target, this.suppressDefaultPressSelector) : true;\n    if (isEnter && isDefault) {\n      this.adapter.clickDefaultButton();\n    }\n  };\n  /** Handles keydown on the document. */\n  MDCDialogFoundation.prototype.handleDocumentKeydown = function (evt) {\n    var isEscape = evt.key === 'Escape' || evt.keyCode === 27;\n    if (isEscape && this.escapeKeyAction !== '') {\n      this.close(this.escapeKeyAction);\n    }\n  };\n  /**\n   * Handles scroll event on the dialog's content element -- showing a scroll\n   * divider on the header or footer based on the scroll position. This handler\n   * should only be registered on full-screen dialogs with scrollable content.\n   */\n  MDCDialogFoundation.prototype.handleScrollEvent = function () {\n    var _this = this;\n    // Since scroll events can fire at a high rate, we throttle these events by\n    // using requestAnimationFrame.\n    this.animFrame.request(AnimationKeys.POLL_SCROLL_POS, function () {\n      _this.toggleScrollDividerHeader();\n      _this.toggleScrollDividerFooter();\n    });\n  };\n  MDCDialogFoundation.prototype.layoutInternal = function () {\n    if (this.autoStackButtons) {\n      this.detectStackedButtons();\n    }\n    this.toggleScrollableClasses();\n  };\n  MDCDialogFoundation.prototype.handleAnimationTimerEnd = function () {\n    this.animationTimer = 0;\n    this.adapter.removeClass(cssClasses.OPENING);\n    this.adapter.removeClass(cssClasses.CLOSING);\n  };\n  /**\n   * Runs the given logic on the next animation frame, using setTimeout to\n   * factor in Firefox reflow behavior.\n   */\n  MDCDialogFoundation.prototype.runNextAnimationFrame = function (callback) {\n    var _this = this;\n    cancelAnimationFrame(this.animationFrame);\n    this.animationFrame = requestAnimationFrame(function () {\n      _this.animationFrame = 0;\n      clearTimeout(_this.animationTimer);\n      _this.animationTimer = setTimeout(callback, 0);\n    });\n  };\n  MDCDialogFoundation.prototype.detectStackedButtons = function () {\n    // Remove the class first to let us measure the buttons' natural positions.\n    this.adapter.removeClass(cssClasses.STACKED);\n    var areButtonsStacked = this.adapter.areButtonsStacked();\n    if (areButtonsStacked) {\n      this.adapter.addClass(cssClasses.STACKED);\n    }\n    if (areButtonsStacked !== this.areButtonsStacked) {\n      this.adapter.reverseButtons();\n      this.areButtonsStacked = areButtonsStacked;\n    }\n  };\n  MDCDialogFoundation.prototype.toggleScrollableClasses = function () {\n    // Remove the class first to let us measure the natural height of the\n    // content.\n    this.adapter.removeClass(cssClasses.SCROLLABLE);\n    if (this.adapter.isContentScrollable()) {\n      this.adapter.addClass(cssClasses.SCROLLABLE);\n      if (this.isFullscreen) {\n        // If dialog is full-screen and scrollable, check if a scroll divider\n        // should be shown.\n        this.toggleScrollDividerHeader();\n        this.toggleScrollDividerFooter();\n      }\n    }\n  };\n  MDCDialogFoundation.prototype.toggleScrollDividerHeader = function () {\n    if (!this.adapter.isScrollableContentAtTop()) {\n      this.adapter.addClass(cssClasses.SCROLL_DIVIDER_HEADER);\n    } else if (this.adapter.hasClass(cssClasses.SCROLL_DIVIDER_HEADER)) {\n      this.adapter.removeClass(cssClasses.SCROLL_DIVIDER_HEADER);\n    }\n  };\n  MDCDialogFoundation.prototype.toggleScrollDividerFooter = function () {\n    if (!this.adapter.isScrollableContentAtBottom()) {\n      this.adapter.addClass(cssClasses.SCROLL_DIVIDER_FOOTER);\n    } else if (this.adapter.hasClass(cssClasses.SCROLL_DIVIDER_FOOTER)) {\n      this.adapter.removeClass(cssClasses.SCROLL_DIVIDER_FOOTER);\n    }\n  };\n  return MDCDialogFoundation;\n}(MDCFoundation);\nexport { MDCDialogFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCDialogFoundation;","map":{"version":3,"names":["AnimationFrame","MDCFoundation","cssClasses","numbers","strings","AnimationKeys","MDCDialogFoundation","_super","__extends","adapter","_this","call","__assign","defaultAdapter","dialogOpen","isFullscreen","animationFrame","animationTimer","escapeKeyAction","CLOSE_ACTION","scrimClickAction","autoStackButtons","areButtonsStacked","suppressDefaultPressSelector","SUPPRESS_DEFAULT_PRESS_SELECTOR","animFrame","contentScrollHandler","handleScrollEvent","windowResizeHandler","layout","windowOrientationChangeHandler","Object","defineProperty","get","addBodyClass","undefined","addClass","clickDefaultButton","eventTargetMatches","getActionFromEvent","getInitialFocusEl","hasClass","isContentScrollable","notifyClosed","notifyClosing","notifyOpened","notifyOpening","releaseFocus","removeBodyClass","removeClass","reverseButtons","trapFocus","registerContentEventHandler","deregisterContentEventHandler","isScrollableContentAtTop","isScrollableContentAtBottom","registerWindowEventHandler","deregisterWindowEventHandler","prototype","init","STACKED","setAutoStackButtons","FULLSCREEN","destroy","clearTimeout","handleAnimationTimerEnd","cancelAll","open","dialogOptions","OPENING","isAboveFullscreenDialog","SCRIM_HIDDEN","runNextAnimationFrame","OPEN","SCROLL_LOCK","setTimeout","DIALOG_ANIMATION_OPEN_TIME_MS","close","action","CLOSING","cancelAnimationFrame","DIALOG_ANIMATION_CLOSE_TIME_MS","showSurfaceScrim","SURFACE_SCRIM_SHOWING","SURFACE_SCRIM_SHOWN","hideSurfaceScrim","SURFACE_SCRIM_HIDING","handleSurfaceScrimTransitionEnd","isOpen","getEscapeKeyAction","setEscapeKeyAction","getScrimClickAction","setScrimClickAction","getAutoStackButtons","autoStack","getSuppressDefaultPressSelector","setSuppressDefaultPressSelector","selector","request","POLL_LAYOUT_CHANGE","layoutInternal","handleClick","evt","isScrim","target","SCRIM_SELECTOR","handleKeydown","isEnter","key","keyCode","composedPath","isDefault","handleDocumentKeydown","isEscape","POLL_SCROLL_POS","toggleScrollDividerHeader","toggleScrollDividerFooter","detectStackedButtons","toggleScrollableClasses","callback","requestAnimationFrame","SCROLLABLE","SCROLL_DIVIDER_HEADER","SCROLL_DIVIDER_FOOTER"],"sources":["foundation.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}