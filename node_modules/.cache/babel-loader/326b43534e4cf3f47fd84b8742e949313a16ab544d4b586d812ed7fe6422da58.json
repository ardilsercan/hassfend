{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\nimport { computeShowHistoryComponent, computeShowLogBookComponent, computeShowNewMoreInfo, DOMAINS_NO_INFO, DOMAINS_WITH_MORE_INFO } from \"./const\";\nimport \"./ha-more-info-history\";\nimport \"./ha-more-info-logbook\";\nimport \"./more-info-content\";\nexport let MoreInfoInfo = _decorate([customElement(\"ha-more-info-info\")], function (_initialize, _LitElement) {\n  class MoreInfoInfo extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: MoreInfoInfo,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"entry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"editMode\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [query(\"ha-more-info-history\")],\n      key: \"_history\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"resize\",\n      value: function resize(options) {\n        var _this$_history;\n        (_this$_history = this._history) === null || _this$_history === void 0 || _this$_history.resize(options);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$entry;\n        const entityId = this.entityId;\n        const stateObj = this.hass.states[entityId];\n        const entityRegObj = this.hass.entities[entityId];\n        const domain = computeDomain(entityId);\n        const isNewMoreInfo = stateObj && computeShowNewMoreInfo(stateObj);\n        return html`\n      <div class=\"container\" data-domain=${domain}>\n        ${!stateObj ? html`<ha-alert alert-type=\"warning\">\n              ${(_this$entry = this.entry) !== null && _this$entry !== void 0 && _this$entry.disabled_by ? this.hass.localize(\"ui.dialogs.entity_registry.editor.entity_disabled\") : this.hass.localize(\"ui.dialogs.entity_registry.editor.unavailable\")}\n            </ha-alert>` : nothing}\n        ${stateObj !== null && stateObj !== void 0 && stateObj.attributes.restored && entityRegObj ? html`<ha-alert alert-type=\"warning\">\n              ${this.hass.localize(\"ui.dialogs.more_info_control.restored.no_longer_provided\", {\n          integration: entityRegObj.platform\n        })}\n            </ha-alert>` : nothing}\n        <div class=\"content\">\n          ${DOMAINS_NO_INFO.includes(domain) || isNewMoreInfo ? \"\" : html`\n                <state-card-content\n                  inDialog\n                  .stateObj=${stateObj}\n                  .hass=${this.hass}\n                ></state-card-content>\n              `}\n          ${DOMAINS_WITH_MORE_INFO.includes(domain) || !computeShowHistoryComponent(this.hass, entityId) ? \"\" : html`<ha-more-info-history\n                .hass=${this.hass}\n                .entityId=${this.entityId}\n              ></ha-more-info-history>`}\n          ${DOMAINS_WITH_MORE_INFO.includes(domain) || !computeShowLogBookComponent(this.hass, entityId) ? \"\" : html`<ha-more-info-logbook\n                .hass=${this.hass}\n                .entityId=${this.entityId}\n              ></ha-more-info-logbook>`}\n          <more-info-content\n            ?full-height=${isNewMoreInfo}\n            .stateObj=${stateObj}\n            .hass=${this.hass}\n            .entry=${this.entry}\n            .editMode=${this.editMode}\n          ></more-info-content>\n        </div>\n      </div>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css`\n      :host {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n      .container {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n\n      .content {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n        padding: 24px;\n        padding-bottom: max(env(safe-area-inset-bottom), 24px);\n      }\n\n      [data-domain=\"camera\"] .content {\n        padding: 0;\n        /* max height of the video is full screen, minus the height of the header of the dialog and the padding of the dialog (mdc-dialog-max-height: calc(100% - 72px)) */\n        --video-max-height: calc(100vh - 65px - 72px);\n      }\n\n      more-info-content {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n      }\n      more-info-content[full-height] {\n        flex: 1;\n      }\n\n      state-card-content,\n      ha-more-info-history,\n      ha-more-info-logbook:not(:last-child) {\n        display: block;\n        margin-bottom: 16px;\n      }\n\n      ha-alert {\n        display: block;\n      }\n    `;\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","query","computeDomain","computeShowHistoryComponent","computeShowLogBookComponent","computeShowNewMoreInfo","DOMAINS_NO_INFO","DOMAINS_WITH_MORE_INFO","MoreInfoInfo","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","resize","options","_this$_history","_history","render","_this$entry","entityId","stateObj","hass","states","entityRegObj","entities","domain","isNewMoreInfo","entry","disabled_by","localize","attributes","restored","integration","platform","includes","editMode","static","styles"],"sources":["/workspaces/frontend/src/dialogs/more-info/ha-more-info-info.ts"],"sourcesContent":["import { HassEntity } from \"home-assistant-js-websocket\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\nimport { ChartResizeOptions } from \"../../components/chart/ha-chart-base\";\nimport { ExtEntityRegistryEntry } from \"../../data/entity_registry\";\nimport type { HomeAssistant } from \"../../types\";\nimport {\n  computeShowHistoryComponent,\n  computeShowLogBookComponent,\n  computeShowNewMoreInfo,\n  DOMAINS_NO_INFO,\n  DOMAINS_WITH_MORE_INFO,\n} from \"./const\";\nimport \"./ha-more-info-history\";\nimport type { MoreInfoHistory } from \"./ha-more-info-history\";\nimport \"./ha-more-info-logbook\";\nimport \"./more-info-content\";\n\n@customElement(\"ha-more-info-info\")\nexport class MoreInfoInfo extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public entityId!: string;\n\n  @property({ attribute: false }) public entry?: ExtEntityRegistryEntry | null;\n\n  @property({ attribute: false }) public editMode?: boolean;\n\n  @query(\"ha-more-info-history\")\n  private _history?: MoreInfoHistory;\n\n  public resize(options?: ChartResizeOptions) {\n    this._history?.resize(options);\n  }\n\n  protected render() {\n    const entityId = this.entityId;\n    const stateObj = this.hass.states[entityId] as HassEntity | undefined;\n    const entityRegObj = this.hass.entities[entityId];\n    const domain = computeDomain(entityId);\n    const isNewMoreInfo = stateObj && computeShowNewMoreInfo(stateObj);\n\n    return html`\n      <div class=\"container\" data-domain=${domain}>\n        ${!stateObj\n          ? html`<ha-alert alert-type=\"warning\">\n              ${this.entry?.disabled_by\n                ? this.hass.localize(\n                    \"ui.dialogs.entity_registry.editor.entity_disabled\"\n                  )\n                : this.hass.localize(\n                    \"ui.dialogs.entity_registry.editor.unavailable\"\n                  )}\n            </ha-alert>`\n          : nothing}\n        ${stateObj?.attributes.restored && entityRegObj\n          ? html`<ha-alert alert-type=\"warning\">\n              ${this.hass.localize(\n                \"ui.dialogs.more_info_control.restored.no_longer_provided\",\n                {\n                  integration: entityRegObj.platform,\n                }\n              )}\n            </ha-alert>`\n          : nothing}\n        <div class=\"content\">\n          ${DOMAINS_NO_INFO.includes(domain) || isNewMoreInfo\n            ? \"\"\n            : html`\n                <state-card-content\n                  inDialog\n                  .stateObj=${stateObj}\n                  .hass=${this.hass}\n                ></state-card-content>\n              `}\n          ${DOMAINS_WITH_MORE_INFO.includes(domain) ||\n          !computeShowHistoryComponent(this.hass, entityId)\n            ? \"\"\n            : html`<ha-more-info-history\n                .hass=${this.hass}\n                .entityId=${this.entityId}\n              ></ha-more-info-history>`}\n          ${DOMAINS_WITH_MORE_INFO.includes(domain) ||\n          !computeShowLogBookComponent(this.hass, entityId)\n            ? \"\"\n            : html`<ha-more-info-logbook\n                .hass=${this.hass}\n                .entityId=${this.entityId}\n              ></ha-more-info-logbook>`}\n          <more-info-content\n            ?full-height=${isNewMoreInfo}\n            .stateObj=${stateObj}\n            .hass=${this.hass}\n            .entry=${this.entry}\n            .editMode=${this.editMode}\n          ></more-info-content>\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n      .container {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n\n      .content {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n        padding: 24px;\n        padding-bottom: max(env(safe-area-inset-bottom), 24px);\n      }\n\n      [data-domain=\"camera\"] .content {\n        padding: 0;\n        /* max height of the video is full screen, minus the height of the header of the dialog and the padding of the dialog (mdc-dialog-max-height: calc(100% - 72px)) */\n        --video-max-height: calc(100vh - 65px - 72px);\n      }\n\n      more-info-content {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n      }\n      more-info-content[full-height] {\n        flex: 1;\n      }\n\n      state-card-content,\n      ha-more-info-history,\n      ha-more-info-logbook:not(:last-child) {\n        display: block;\n        margin-bottom: 16px;\n      }\n\n      ha-alert {\n        display: block;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-more-info-info\": MoreInfoInfo;\n  }\n}\n"],"mappings":"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,IAAI,CAACyB,IAAI,EAAEF,QAAQ,CAAC,GAC7C,EAAE,GACF/B,IAAK;AACnB,wBAAwB,IAAI,CAACiC,IAAK;AAClC,4BAA4B,IAAI,CAACF,QAAS;AAC1C,uCAAwC;AACxC;AACA,2BAA2BO,aAAc;AACzC,wBAAwBN,QAAS;AACjC,oBAAoB,IAAI,CAACC,IAAK;AAC9B,qBAAqB,IAAI,CAACM,KAAM;AAChC,wBAAwB,IAAI,CAACQ,QAAS;AACtC;AACA;AACA;AACA,KAAK;MACH;IAAC;MAAA3B,IAAA;MAAA4B,MAAA;MAAAzB,GAAA;MAAAC,KAAA,EAED,SAAAyB,OAAA,EAAoB;QAClB,OAAOlD,GAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;MACH;IAAC;EAAA;AAAA,GAjI+BE,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}