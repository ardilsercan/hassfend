{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _toArray from \"@babel/runtime/helpers/toArray\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar mdiGrid = \"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z\";\nvar mdiListBoxOutline = \"M11 15H17V17H11V15M9 7H7V9H9V7M11 13H17V11H11V13M11 9H17V7H11V9M9 11H7V13H9V11M21 5V19C21 20.1 20.1 21 19 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5M19 5H5V19H19V5M9 15H7V17H9V15Z\";\nvar mdiArrowLeft = \"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\";\nvar mdiAlphaABoxOutline = \"M3,5A2,2 0 0,1 5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5C3.89,21 3,20.1 3,19V5M5,5V19H19V5H5M11,7H13A2,2 0 0,1 15,9V17H13V13H11V17H9V9A2,2 0 0,1 11,7M11,9V11H13V9H11Z\";\nvar mdiDotsVertical = \"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z\";\nimport \"@material/mwc-button\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { storage } from \"../../common/decorators/storage\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { navigate } from \"../../common/navigate\";\nimport \"../../components/ha-menu-button\";\nimport \"../../components/ha-icon-button\";\nimport \"../../components/ha-icon-button-arrow-prev\";\nimport \"../../components/media-player/ha-media-player-browse\";\nimport \"../../components/media-player/ha-media-manage-button\";\nimport { BROWSER_PLAYER, mediaPlayerPlayMedia } from \"../../data/media-player\";\nimport { resolveMediaSource } from \"../../data/media_source\";\nimport { haStyle } from \"../../resources/styles\";\nimport \"./ha-bar-media-player\";\nimport { showWebBrowserPlayMediaDialog } from \"./show-media-player-dialog\";\nimport { showAlertDialog } from \"../../dialogs/generic/show-dialog-box\";\nimport { getEntityIdFromCameraMediaSource, isCameraMediaSource } from \"../../data/camera\";\nimport \"../../components/ha-top-app-bar-fixed\";\nvar createMediaPanelUrl = function createMediaPanelUrl(entityId, items) {\n  var path = \"/media-browser/\".concat(entityId);\n  var _iterator = _createForOfIteratorHelper(items.slice(1)),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      path += \"/\" + encodeURIComponent(\"\".concat(item.media_content_type, \",\").concat(item.media_content_id));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return path;\n};\nvar PanelMediaBrowser = _decorate([customElement(\"ha-panel-media-browser\")], function (_initialize, _LitElement) {\n  var PanelMediaBrowser = /*#__PURE__*/function (_LitElement2) {\n    _inherits(PanelMediaBrowser, _LitElement2);\n    function PanelMediaBrowser() {\n      var _this;\n      _classCallCheck(this, PanelMediaBrowser);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, PanelMediaBrowser, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(PanelMediaBrowser);\n  }(_LitElement);\n  return {\n    F: PanelMediaBrowser,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_currentItem\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_preferredLayout\",\n      value: function value() {\n        return \"auto\";\n      }\n    }, {\n      kind: \"field\",\n      key: \"_navigateIds\",\n      value: function value() {\n        return [{\n          media_content_id: undefined,\n          media_content_type: undefined\n        }];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [storage({\n        key: \"mediaBrowseEntityId\",\n        state: true,\n        subscribe: false\n      })],\n      key: \"_entityId\",\n      value: function value() {\n        return BROWSER_PLAYER;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [query(\"ha-media-player-browse\")],\n      key: \"_browser\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [query(\"ha-bar-media-player\")],\n      key: \"_player\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-top-app-bar-fixed>\\n        \", \"\\n        <div slot=\\\"title\\\">\\n          \", \"\\n        </div>\\n        <ha-media-manage-button\\n          slot=\\\"actionItems\\\"\\n          .hass=\", \"\\n          .currentItem=\", \"\\n          @media-refresh=\", \"\\n        ></ha-media-manage-button>\\n        <ha-button-menu slot=\\\"actionItems\\\" @action=\", \">\\n          <ha-icon-button\\n            slot=\\\"trigger\\\"\\n            .label=\", \"\\n            .path=\", \"\\n          ></ha-icon-button>\\n          <mwc-list-item graphic=\\\"icon\\\">\\n            \", \"\\n            <ha-svg-icon\\n              class=\", \"\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            ></ha-svg-icon>\\n          </mwc-list-item>\\n          <mwc-list-item graphic=\\\"icon\\\">\\n            \", \"\\n            <ha-svg-icon\\n              class=\", \"\\n              slot=\\\"graphic\\\"\\n              .path=\", \"\\n            ></ha-svg-icon>\\n          </mwc-list-item>\\n          <mwc-list-item graphic=\\\"icon\\\">\\n            \", \"\\n            <ha-svg-icon\\n              slot=\\\"graphic\\\"\\n              class=\", \"\\n              .path=\", \"\\n            ></ha-svg-icon>\\n          </mwc-list-item>\\n        </ha-button-menu>\\n        <ha-media-player-browse\\n          .hass=\", \"\\n          .entityId=\", \"\\n          .navigateIds=\", \"\\n          .preferredLayout=\", \"\\n          @media-picked=\", \"\\n          @media-browsed=\", \"\\n        ></ha-media-player-browse>\\n      </ha-top-app-bar-fixed>\\n      <ha-bar-media-player\\n        .hass=\", \"\\n        .entityId=\", \"\\n        .narrow=\", \"\\n        @player-picked=\", \"\\n      ></ha-bar-media-player>\\n    \"])), this._navigateIds.length > 1 ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n              <ha-icon-button-arrow-prev\\n                slot=\\\"navigationIcon\\\"\\n                .path=\", \"\\n                @click=\", \"\\n              ></ha-icon-button-arrow-prev>\\n            \"])), mdiArrowLeft, this._goBack) : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n              <ha-menu-button\\n                slot=\\\"navigationIcon\\\"\\n                .hass=\", \"\\n                .narrow=\", \"\\n              ></ha-menu-button>\\n            \"])), this.hass, this.narrow), !this._currentItem ? this.hass.localize(\"ui.components.media-browser.media-player-browser\") : this._currentItem.title, this.hass, this._currentItem, this._refreshMedia, this._handleMenuAction, this.hass.localize(\"ui.common.menu\"), mdiDotsVertical, this.hass.localize(\"ui.components.media-browser.auto\"), this._preferredLayout === \"auto\" ? \"selected_menu_item\" : \"\", mdiAlphaABoxOutline, this.hass.localize(\"ui.components.media-browser.grid\"), this._preferredLayout === \"grid\" ? \"selected_menu_item\" : \"\", mdiGrid, this.hass.localize(\"ui.components.media-browser.list\"), this._preferredLayout === \"list\" ? \"selected_menu_item\" : \"\", mdiListBoxOutline, this.hass, this._entityId, this._navigateIds, this._preferredLayout, this._mediaPicked, this._mediaBrowsed, this.hass, this._entityId, this.narrow, this._playerPicked);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleMenuAction\",\n      value: function () {\n        var _handleMenuAction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev) {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = ev.detail.index;\n                _context.next = _context.t0 === 0 ? 3 : _context.t0 === 1 ? 5 : _context.t0 === 2 ? 7 : 9;\n                break;\n              case 3:\n                this._preferredLayout = \"auto\";\n                return _context.abrupt(\"break\", 9);\n              case 5:\n                this._preferredLayout = \"grid\";\n                return _context.abrupt(\"break\", 9);\n              case 7:\n                this._preferredLayout = \"list\";\n                return _context.abrupt(\"break\", 9);\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _handleMenuAction(_x) {\n          return _handleMenuAction2.apply(this, arguments);\n        }\n        return _handleMenuAction;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(PanelMediaBrowser.prototype), \"willUpdate\", this).call(this, changedProps);\n        if (!changedProps.has(\"route\")) {\n          return;\n        }\n        if (this.route.path === \"\") {\n          navigate(\"/media-browser/\".concat(this._entityId), {\n            replace: true\n          });\n          return;\n        }\n        var _this$route$path$subs = this.route.path.substring(1).split(\"/\"),\n          _this$route$path$subs2 = _toArray(_this$route$path$subs),\n          routePlayer = _this$route$path$subs2[0],\n          navigateIdsEncoded = _this$route$path$subs2.slice(1);\n        if (routePlayer !== this._entityId) {\n          // Detect if picked player doesn't exist (anymore)\n          // Can happen if URL bookmarked or stored in local storage\n          if (routePlayer !== BROWSER_PLAYER && this.hass.states[routePlayer] === undefined) {\n            navigate(\"/media-browser/\".concat(BROWSER_PLAYER), {\n              replace: true\n            });\n            showAlertDialog(this, {\n              text: this.hass.localize(\"ui.panel.media-browser.error.player_not_exist\", {\n                name: routePlayer\n              })\n            });\n            return;\n          }\n          this._entityId = routePlayer;\n        }\n        this._navigateIds = [{\n          media_content_type: undefined,\n          media_content_id: undefined\n        }].concat(_toConsumableArray(navigateIdsEncoded.map(function (navigateId) {\n          var decoded = decodeURIComponent(navigateId);\n          // Don't use split because media_content_id could contain commas\n          var delimiter = decoded.indexOf(\",\");\n          return {\n            media_content_type: decoded.substring(0, delimiter),\n            media_content_id: decoded.substring(delimiter + 1)\n          };\n        })));\n        this._currentItem = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_goBack\",\n      value: function _goBack() {\n        navigate(createMediaPanelUrl(this._entityId, this._navigateIds.slice(0, -1)));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_mediaBrowsed\",\n      value: function _mediaBrowsed(ev) {\n        if (ev.detail.ids === this._navigateIds) {\n          this._currentItem = ev.detail.current;\n          return;\n        }\n        navigate(createMediaPanelUrl(this._entityId, ev.detail.ids), {\n          replace: ev.detail.replace\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_mediaPicked\",\n      value: function () {\n        var _mediaPicked2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(ev) {\n          var item, resolvedUrl;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                item = ev.detail.item;\n                if (!(this._entityId !== BROWSER_PLAYER)) {\n                  _context2.next = 12;\n                  break;\n                }\n                this._player.showResolvingNewMediaPicked();\n                _context2.prev = 3;\n                _context2.next = 6;\n                return mediaPlayerPlayMedia(this.hass, this._entityId, item.media_content_id, item.media_content_type);\n              case 6:\n                _context2.next = 11;\n                break;\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n                this._player.hideResolvingNewMediaPicked();\n              case 11:\n                return _context2.abrupt(\"return\");\n              case 12:\n                if (!isCameraMediaSource(item.media_content_id)) {\n                  _context2.next = 15;\n                  break;\n                }\n                fireEvent(this, \"hass-more-info\", {\n                  entityId: getEntityIdFromCameraMediaSource(item.media_content_id)\n                });\n                return _context2.abrupt(\"return\");\n              case 15:\n                this._player.showResolvingNewMediaPicked();\n                _context2.prev = 16;\n                _context2.next = 19;\n                return resolveMediaSource(this.hass, item.media_content_id);\n              case 19:\n                resolvedUrl = _context2.sent;\n                _context2.next = 27;\n                break;\n              case 22:\n                _context2.prev = 22;\n                _context2.t1 = _context2[\"catch\"](16);\n                showAlertDialog(this, {\n                  title: this.hass.localize(\"ui.components.media-browser.media_browsing_error\"),\n                  text: _context2.t1.message\n                });\n                this._player.hideResolvingNewMediaPicked();\n                return _context2.abrupt(\"return\");\n              case 27:\n                if (!resolvedUrl.mime_type.startsWith(\"audio/\")) {\n                  _context2.next = 30;\n                  break;\n                }\n                this._player.playItem(item, resolvedUrl);\n                return _context2.abrupt(\"return\");\n              case 30:\n                showWebBrowserPlayMediaDialog(this, {\n                  sourceUrl: resolvedUrl.url,\n                  sourceType: resolvedUrl.mime_type,\n                  title: item.title,\n                  can_play: item.can_play\n                });\n                this._player.hideResolvingNewMediaPicked();\n              case 32:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[3, 8], [16, 22]]);\n        }));\n        function _mediaPicked(_x2) {\n          return _mediaPicked2.apply(this, arguments);\n        }\n        return _mediaPicked;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_playerPicked\",\n      value: function _playerPicked(ev) {\n        var entityId = ev.detail.entityId;\n        if (entityId === this._entityId) {\n          return;\n        }\n        navigate(createMediaPanelUrl(entityId, this._navigateIds));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_refreshMedia\",\n      value: function _refreshMedia() {\n        this._browser.refresh();\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n        ha-media-manage-button {\\n          --mdc-theme-primary: var(--app-header-text-color);\\n        }\\n\\n        ha-media-player-browse {\\n          height: calc(100vh - (100px + var(--header-height)));\\n          direction: ltr;\\n        }\\n\\n        :host([narrow]) ha-media-player-browse {\\n          height: calc(100vh - (57px + var(--header-height)));\\n        }\\n        .selected_menu_item {\\n          color: var(--primary-color);\\n        }\\n\\n        ha-bar-media-player {\\n          position: fixed;\\n          width: var(--mdc-top-app-bar-width, 100%);\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","query","state","storage","fireEvent","navigate","BROWSER_PLAYER","mediaPlayerPlayMedia","resolveMediaSource","haStyle","showWebBrowserPlayMediaDialog","showAlertDialog","getEntityIdFromCameraMediaSource","isCameraMediaSource","createMediaPanelUrl","entityId","items","path","concat","_iterator","_createForOfIteratorHelper","slice","_step","s","n","done","item","value","encodeURIComponent","media_content_type","media_content_id","err","e","f","PanelMediaBrowser","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","type","Boolean","reflect","undefined","subscribe","render","_templateObject","_taggedTemplateLiteral","_navigateIds","_templateObject2","mdiArrowLeft","_goBack","_templateObject3","hass","narrow","_currentItem","localize","title","_refreshMedia","_handleMenuAction","mdiDotsVertical","_preferredLayout","mdiAlphaABoxOutline","mdiGrid","mdiListBoxOutline","_entityId","_mediaPicked","_mediaBrowsed","_playerPicked","_handleMenuAction2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ev","wrap","_callee$","_context","prev","next","t0","detail","index","abrupt","stop","_x","apply","willUpdate","changedProps","_get","_getPrototypeOf","prototype","call","has","route","replace","_this$route$path$subs","substring","split","_this$route$path$subs2","_toArray","routePlayer","navigateIdsEncoded","states","text","name","_toConsumableArray","map","navigateId","decoded","decodeURIComponent","delimiter","indexOf","ids","current","_mediaPicked2","_callee2","resolvedUrl","_callee2$","_context2","_player","showResolvingNewMediaPicked","hideResolvingNewMediaPicked","sent","t1","message","mime_type","startsWith","playItem","sourceUrl","url","sourceType","can_play","_x2","_browser","refresh","static","styles","_templateObject4"],"sources":["/workspaces/frontend/src/panels/media-browser/ha-panel-media-browser.ts"],"sourcesContent":["import {\n  mdiGrid,\n  mdiListBoxOutline,\n  mdiArrowLeft,\n  mdiAlphaABoxOutline,\n  mdiDotsVertical,\n} from \"@mdi/js\";\nimport { ActionDetail } from \"@material/mwc-list\";\nimport \"@material/mwc-button\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { storage } from \"../../common/decorators/storage\";\nimport { fireEvent, HASSDomEvent } from \"../../common/dom/fire_event\";\nimport { navigate } from \"../../common/navigate\";\nimport \"../../components/ha-menu-button\";\nimport \"../../components/ha-icon-button\";\nimport \"../../components/ha-icon-button-arrow-prev\";\nimport \"../../components/media-player/ha-media-player-browse\";\nimport \"../../components/media-player/ha-media-manage-button\";\nimport type {\n  HaMediaPlayerBrowse,\n  MediaPlayerItemId,\n} from \"../../components/media-player/ha-media-player-browse\";\nimport {\n  BROWSER_PLAYER,\n  MediaPickedEvent,\n  MediaPlayerItem,\n  mediaPlayerPlayMedia,\n  MediaPlayerLayoutType,\n} from \"../../data/media-player\";\nimport {\n  ResolvedMediaSource,\n  resolveMediaSource,\n} from \"../../data/media_source\";\nimport { haStyle } from \"../../resources/styles\";\nimport type { HomeAssistant, Route } from \"../../types\";\nimport \"./ha-bar-media-player\";\nimport type { BarMediaPlayer } from \"./ha-bar-media-player\";\nimport { showWebBrowserPlayMediaDialog } from \"./show-media-player-dialog\";\nimport { showAlertDialog } from \"../../dialogs/generic/show-dialog-box\";\nimport {\n  getEntityIdFromCameraMediaSource,\n  isCameraMediaSource,\n} from \"../../data/camera\";\nimport \"../../components/ha-top-app-bar-fixed\";\n\nconst createMediaPanelUrl = (entityId: string, items: MediaPlayerItemId[]) => {\n  let path = `/media-browser/${entityId}`;\n  for (const item of items.slice(1)) {\n    path +=\n      \"/\" +\n      encodeURIComponent(`${item.media_content_type},${item.media_content_id}`);\n  }\n  return path;\n};\n\n@customElement(\"ha-panel-media-browser\")\nclass PanelMediaBrowser extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @state() _currentItem?: MediaPlayerItem;\n\n  @state() _preferredLayout: MediaPlayerLayoutType = \"auto\";\n\n  private _navigateIds: MediaPlayerItemId[] = [\n    {\n      media_content_id: undefined,\n      media_content_type: undefined,\n    },\n  ];\n\n  @storage({\n    key: \"mediaBrowseEntityId\",\n    state: true,\n    subscribe: false,\n  })\n  private _entityId = BROWSER_PLAYER;\n\n  @query(\"ha-media-player-browse\") private _browser!: HaMediaPlayerBrowse;\n\n  @query(\"ha-bar-media-player\") private _player!: BarMediaPlayer;\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-top-app-bar-fixed>\n        ${this._navigateIds.length > 1\n          ? html`\n              <ha-icon-button-arrow-prev\n                slot=\"navigationIcon\"\n                .path=${mdiArrowLeft}\n                @click=${this._goBack}\n              ></ha-icon-button-arrow-prev>\n            `\n          : html`\n              <ha-menu-button\n                slot=\"navigationIcon\"\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `}\n        <div slot=\"title\">\n          ${!this._currentItem\n            ? this.hass.localize(\n                \"ui.components.media-browser.media-player-browser\"\n              )\n            : this._currentItem.title}\n        </div>\n        <ha-media-manage-button\n          slot=\"actionItems\"\n          .hass=${this.hass}\n          .currentItem=${this._currentItem}\n          @media-refresh=${this._refreshMedia}\n        ></ha-media-manage-button>\n        <ha-button-menu slot=\"actionItems\" @action=${this._handleMenuAction}>\n          <ha-icon-button\n            slot=\"trigger\"\n            .label=${this.hass.localize(\"ui.common.menu\")}\n            .path=${mdiDotsVertical}\n          ></ha-icon-button>\n          <mwc-list-item graphic=\"icon\">\n            ${this.hass.localize(\"ui.components.media-browser.auto\")}\n            <ha-svg-icon\n              class=${this._preferredLayout === \"auto\"\n                ? \"selected_menu_item\"\n                : \"\"}\n              slot=\"graphic\"\n              .path=${mdiAlphaABoxOutline}\n            ></ha-svg-icon>\n          </mwc-list-item>\n          <mwc-list-item graphic=\"icon\">\n            ${this.hass.localize(\"ui.components.media-browser.grid\")}\n            <ha-svg-icon\n              class=${this._preferredLayout === \"grid\"\n                ? \"selected_menu_item\"\n                : \"\"}\n              slot=\"graphic\"\n              .path=${mdiGrid}\n            ></ha-svg-icon>\n          </mwc-list-item>\n          <mwc-list-item graphic=\"icon\">\n            ${this.hass.localize(\"ui.components.media-browser.list\")}\n            <ha-svg-icon\n              slot=\"graphic\"\n              class=${this._preferredLayout === \"list\"\n                ? \"selected_menu_item\"\n                : \"\"}\n              .path=${mdiListBoxOutline}\n            ></ha-svg-icon>\n          </mwc-list-item>\n        </ha-button-menu>\n        <ha-media-player-browse\n          .hass=${this.hass}\n          .entityId=${this._entityId}\n          .navigateIds=${this._navigateIds}\n          .preferredLayout=${this._preferredLayout}\n          @media-picked=${this._mediaPicked}\n          @media-browsed=${this._mediaBrowsed}\n        ></ha-media-player-browse>\n      </ha-top-app-bar-fixed>\n      <ha-bar-media-player\n        .hass=${this.hass}\n        .entityId=${this._entityId}\n        .narrow=${this.narrow}\n        @player-picked=${this._playerPicked}\n      ></ha-bar-media-player>\n    `;\n  }\n\n  private async _handleMenuAction(ev: CustomEvent<ActionDetail>) {\n    switch (ev.detail.index) {\n      case 0:\n        this._preferredLayout = \"auto\";\n        break;\n      case 1:\n        this._preferredLayout = \"grid\";\n        break;\n      case 2:\n        this._preferredLayout = \"list\";\n        break;\n    }\n  }\n\n  public willUpdate(changedProps: PropertyValues): void {\n    super.willUpdate(changedProps);\n\n    if (!changedProps.has(\"route\")) {\n      return;\n    }\n\n    if (this.route.path === \"\") {\n      navigate(`/media-browser/${this._entityId}`, { replace: true });\n      return;\n    }\n\n    const [routePlayer, ...navigateIdsEncoded] = this.route.path\n      .substring(1)\n      .split(\"/\");\n\n    if (routePlayer !== this._entityId) {\n      // Detect if picked player doesn't exist (anymore)\n      // Can happen if URL bookmarked or stored in local storage\n      if (\n        routePlayer !== BROWSER_PLAYER &&\n        this.hass.states[routePlayer] === undefined\n      ) {\n        navigate(`/media-browser/${BROWSER_PLAYER}`, { replace: true });\n        showAlertDialog(this, {\n          text: this.hass.localize(\n            \"ui.panel.media-browser.error.player_not_exist\",\n            {\n              name: routePlayer,\n            }\n          ),\n        });\n        return;\n      }\n      this._entityId = routePlayer;\n    }\n\n    this._navigateIds = [\n      {\n        media_content_type: undefined,\n        media_content_id: undefined,\n      },\n      ...navigateIdsEncoded.map((navigateId) => {\n        const decoded = decodeURIComponent(navigateId);\n        // Don't use split because media_content_id could contain commas\n        const delimiter = decoded.indexOf(\",\");\n        return {\n          media_content_type: decoded.substring(0, delimiter),\n          media_content_id: decoded.substring(delimiter + 1),\n        };\n      }),\n    ];\n    this._currentItem = undefined;\n  }\n\n  private _goBack() {\n    navigate(\n      createMediaPanelUrl(this._entityId, this._navigateIds.slice(0, -1))\n    );\n  }\n\n  private _mediaBrowsed(ev: { detail: HASSDomEvents[\"media-browsed\"] }) {\n    if (ev.detail.ids === this._navigateIds) {\n      this._currentItem = ev.detail.current;\n      return;\n    }\n\n    navigate(createMediaPanelUrl(this._entityId, ev.detail.ids), {\n      replace: ev.detail.replace,\n    });\n  }\n\n  private async _mediaPicked(\n    ev: HASSDomEvent<MediaPickedEvent>\n  ): Promise<void> {\n    const item = ev.detail.item;\n\n    if (this._entityId !== BROWSER_PLAYER) {\n      this._player.showResolvingNewMediaPicked();\n      try {\n        await mediaPlayerPlayMedia(\n          this.hass,\n          this._entityId,\n          item.media_content_id,\n          item.media_content_type\n        );\n      } catch (err) {\n        this._player.hideResolvingNewMediaPicked();\n      }\n      return;\n    }\n\n    // We won't cancel current media being played if we're going to\n    // open a camera.\n    if (isCameraMediaSource(item.media_content_id)) {\n      fireEvent(this, \"hass-more-info\", {\n        entityId: getEntityIdFromCameraMediaSource(item.media_content_id),\n      });\n      return;\n    }\n\n    this._player.showResolvingNewMediaPicked();\n    let resolvedUrl: ResolvedMediaSource;\n    try {\n      resolvedUrl = await resolveMediaSource(this.hass, item.media_content_id);\n    } catch (err: any) {\n      showAlertDialog(this, {\n        title: this.hass.localize(\n          \"ui.components.media-browser.media_browsing_error\"\n        ),\n        text: err.message,\n      });\n      this._player.hideResolvingNewMediaPicked();\n      return;\n    }\n\n    if (resolvedUrl.mime_type.startsWith(\"audio/\")) {\n      this._player.playItem(item, resolvedUrl);\n      return;\n    }\n\n    showWebBrowserPlayMediaDialog(this, {\n      sourceUrl: resolvedUrl.url,\n      sourceType: resolvedUrl.mime_type,\n      title: item.title,\n      can_play: item.can_play,\n    });\n    this._player.hideResolvingNewMediaPicked();\n  }\n\n  private _playerPicked(ev) {\n    const entityId: string = ev.detail.entityId;\n    if (entityId === this._entityId) {\n      return;\n    }\n    navigate(createMediaPanelUrl(entityId, this._navigateIds));\n  }\n\n  private _refreshMedia() {\n    this._browser.refresh();\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        ha-media-manage-button {\n          --mdc-theme-primary: var(--app-header-text-color);\n        }\n\n        ha-media-player-browse {\n          height: calc(100vh - (100px + var(--header-height)));\n          direction: ltr;\n        }\n\n        :host([narrow]) ha-media-player-browse {\n          height: calc(100vh - (57px + var(--header-height)));\n        }\n        .selected_menu_item {\n          color: var(--primary-color);\n        }\n\n        ha-bar-media-player {\n          position: fixed;\n          width: var(--mdc-top-app-bar-width, 100%);\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-panel-media-browser\": PanelMediaBrowser;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}