{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport \"../../../../components/data-table/ha-data-table\";\nimport \"../../../../components/entity/state-badge\";\nimport \"../../../../components/ha-relative-time\";\nexport var HuiEntityPickerTable = _decorate([customElement(\"hui-entity-picker-table\")], function (_initialize, _LitElement) {\n  var HuiEntityPickerTable = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HuiEntityPickerTable, _LitElement2);\n    function HuiEntityPickerTable() {\n      var _this;\n      _classCallCheck(this, HuiEntityPickerTable);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HuiEntityPickerTable, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HuiEntityPickerTable);\n  }(_LitElement);\n  return {\n    F: HuiEntityPickerTable,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"narrow\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        attribute: \"no-label-float\"\n      })],\n      key: \"noLabelFloat\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Array\n      })],\n      key: \"entities\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-data-table\\n        .hass=\", \"\\n        selectable\\n        .id=\", \"\\n        .columns=\", \"\\n        .data=\", \"\\n        .searchLabel=\", \"\\n        .noLabelFloat=\", \"\\n        .noDataText=\", \"\\n        @selection-changed=\", \"\\n      ></ha-data-table>\\n    \"])), this.hass, \"entity_id\", this._columns(this.narrow), this.entities, this.hass.localize(\"ui.panel.lovelace.unused_entities.search\"), this.noLabelFloat, this.hass.localize(\"ui.panel.lovelace.unused_entities.no_data\"), this._handleSelectionChanged);\n      }\n    }, {\n      kind: \"field\",\n      key: \"_columns\",\n      value: function value() {\n        var _this2 = this;\n        return memoizeOne(function (narrow) {\n          var columns = {\n            icon: {\n              title: \"\",\n              label: _this2.hass.localize(\"ui.panel.lovelace.unused_entities.state_icon\"),\n              type: \"icon\",\n              template: function template(entity) {\n                return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n          <state-badge\\n            @click=\", \"\\n            .hass=\", \"\\n            .stateObj=\", \"\\n          ></state-badge>\\n        \"])), _this2._handleEntityClicked, _this2.hass, entity.stateObj);\n              }\n            },\n            name: {\n              title: _this2.hass.localize(\"ui.panel.lovelace.unused_entities.entity\"),\n              sortable: true,\n              filterable: true,\n              grows: true,\n              direction: \"asc\",\n              template: function template(entity) {\n                return html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n          <div @click=\", \" style=\\\"cursor: pointer;\\\">\\n            \", \"\\n            \", \"\\n          </div>\\n        \"])), _this2._handleEntityClicked, entity.name, narrow ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\" <div class=\\\"secondary\\\">\", \"</div> \"])), entity.entity_id) : \"\");\n              }\n            }\n          };\n          columns.entity_id = {\n            title: _this2.hass.localize(\"ui.panel.lovelace.unused_entities.entity_id\"),\n            sortable: true,\n            filterable: true,\n            width: \"30%\",\n            hidden: narrow\n          };\n          columns.domain = {\n            title: _this2.hass.localize(\"ui.panel.lovelace.unused_entities.domain\"),\n            sortable: true,\n            filterable: true,\n            width: \"15%\",\n            hidden: narrow\n          };\n          columns.last_changed = {\n            title: _this2.hass.localize(\"ui.panel.lovelace.unused_entities.last_changed\"),\n            type: \"numeric\",\n            sortable: true,\n            width: \"15%\",\n            hidden: narrow,\n            template: function template(entity) {\n              return html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n        <ha-relative-time\\n          .hass=\", \"\\n          .datetime=\", \"\\n          capitalize\\n        ></ha-relative-time>\\n      \"])), _this2.hass, entity.last_changed);\n            }\n          };\n          return columns;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleSelectionChanged\",\n      value: function _handleSelectionChanged(ev) {\n        var selectedEntities = ev.detail.value;\n        fireEvent(this, \"selected-changed\", {\n          selectedEntities: selectedEntities\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleEntityClicked\",\n      value: function _handleEntityClicked(ev) {\n        var entityId = ev.target.closest(\".mdc-data-table__row\").rowId;\n        fireEvent(this, \"hass-more-info\", {\n          entityId: entityId\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n      ha-data-table {\\n        --data-table-border-width: 0;\\n        height: 100%;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","memoizeOne","fireEvent","HuiEntityPickerTable","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","type","Boolean","render","_templateObject","_taggedTemplateLiteral","hass","_columns","narrow","entities","localize","noLabelFloat","_handleSelectionChanged","_this2","columns","icon","title","label","template","entity","_templateObject2","_handleEntityClicked","stateObj","name","sortable","filterable","grows","direction","_templateObject3","_templateObject4","entity_id","width","hidden","domain","last_changed","_templateObject5","ev","selectedEntities","detail","entityId","target","closest","rowId","static","styles","_templateObject6"],"sources":["/workspaces/frontend/src/panels/lovelace/editor/card-editor/hui-entity-picker-table.ts"],"sourcesContent":["import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport type { HASSDomEvent } from \"../../../../common/dom/fire_event\";\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport \"../../../../components/data-table/ha-data-table\";\nimport type {\n  DataTableColumnContainer,\n  DataTableRowData,\n  SelectionChangedEvent,\n} from \"../../../../components/data-table/ha-data-table\";\nimport \"../../../../components/entity/state-badge\";\nimport \"../../../../components/ha-relative-time\";\nimport type { HomeAssistant } from \"../../../../types\";\n\n@customElement(\"hui-entity-picker-table\")\nexport class HuiEntityPickerTable extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public narrow = false;\n\n  @property({ type: Boolean, attribute: \"no-label-float\" })\n  public noLabelFloat? = false;\n\n  @property({ type: Array }) public entities!: DataTableRowData[];\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-data-table\n        .hass=${this.hass}\n        selectable\n        .id=${\"entity_id\"}\n        .columns=${this._columns(this.narrow!)}\n        .data=${this.entities}\n        .searchLabel=${this.hass.localize(\n          \"ui.panel.lovelace.unused_entities.search\"\n        )}\n        .noLabelFloat=${this.noLabelFloat}\n        .noDataText=${this.hass.localize(\n          \"ui.panel.lovelace.unused_entities.no_data\"\n        )}\n        @selection-changed=${this._handleSelectionChanged}\n      ></ha-data-table>\n    `;\n  }\n\n  private _columns = memoizeOne((narrow: boolean) => {\n    const columns: DataTableColumnContainer = {\n      icon: {\n        title: \"\",\n        label: this.hass!.localize(\n          \"ui.panel.lovelace.unused_entities.state_icon\"\n        ),\n        type: \"icon\",\n        template: (entity) => html`\n          <state-badge\n            @click=${this._handleEntityClicked}\n            .hass=${this.hass!}\n            .stateObj=${entity.stateObj}\n          ></state-badge>\n        `,\n      },\n      name: {\n        title: this.hass!.localize(\"ui.panel.lovelace.unused_entities.entity\"),\n        sortable: true,\n        filterable: true,\n        grows: true,\n        direction: \"asc\",\n        template: (entity: any) => html`\n          <div @click=${this._handleEntityClicked} style=\"cursor: pointer;\">\n            ${entity.name}\n            ${narrow\n              ? html` <div class=\"secondary\">${entity.entity_id}</div> `\n              : \"\"}\n          </div>\n        `,\n      },\n    };\n\n    columns.entity_id = {\n      title: this.hass!.localize(\"ui.panel.lovelace.unused_entities.entity_id\"),\n      sortable: true,\n      filterable: true,\n      width: \"30%\",\n      hidden: narrow,\n    };\n\n    columns.domain = {\n      title: this.hass!.localize(\"ui.panel.lovelace.unused_entities.domain\"),\n      sortable: true,\n      filterable: true,\n      width: \"15%\",\n      hidden: narrow,\n    };\n\n    columns.last_changed = {\n      title: this.hass!.localize(\n        \"ui.panel.lovelace.unused_entities.last_changed\"\n      ),\n      type: \"numeric\",\n      sortable: true,\n      width: \"15%\",\n      hidden: narrow,\n      template: (entity) => html`\n        <ha-relative-time\n          .hass=${this.hass!}\n          .datetime=${entity.last_changed}\n          capitalize\n        ></ha-relative-time>\n      `,\n    };\n\n    return columns;\n  });\n\n  private _handleSelectionChanged(\n    ev: HASSDomEvent<SelectionChangedEvent>\n  ): void {\n    const selectedEntities = ev.detail.value;\n\n    fireEvent(this, \"selected-changed\", { selectedEntities });\n  }\n\n  private _handleEntityClicked(ev: Event) {\n    const entityId = (\n      (ev.target as HTMLElement).closest(\".mdc-data-table__row\") as any\n    ).rowId;\n    fireEvent(this, \"hass-more-info\", {\n      entityId,\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ha-data-table {\n        --data-table-border-width: 0;\n        height: 100%;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-entity-picker-table\": HuiEntityPickerTable;\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA,SAASA,GAAG,EAAkBC,IAAI,EAAEC,UAAU,QAAwB,KAAK;AAC3E,SAASC,aAAa,EAAEC,QAAQ,QAAQ,gBAAgB;AACxD,OAAOC,UAAU,MAAM,aAAa;AAEpC,SAASC,SAAS,QAAQ,mCAAmC;AAC7D,OAAO,iDAAiD;AAMxD,OAAO,2CAA2C;AAClD,OAAO,yCAAyC;AAGhD,WACaC,oBAAoB,GAAAC,SAAA,EADhCL,aAAa,CAAC,yBAAyB,CAAC,aAAAM,WAAA,EAAAC,WAAA;EAAA,IAC5BH,oBAAoB,0BAAAI,YAAA;IAAAC,SAAA,CAAAL,oBAAA,EAAAI,YAAA;IAAA,SAAAJ,qBAAA;MAAA,IAAAM,KAAA;MAAAC,eAAA,OAAAP,oBAAA;MAAA,SAAAQ,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAAP,KAAA,GAAAQ,UAAA,OAAAd,oBAAA,KAAAe,MAAA,CAAAJ,IAAA;MAAAT,WAAA,CAAAc,sBAAA,CAAAV,KAAA;MAAA,OAAAA,KAAA;IAAA;IAAA,OAAAW,YAAA,CAAAjB,oBAAA;EAAA,EAAAG,WAAA;EAAA;IAAAe,CAAA,EAApBlB,oBAAoB;IAAAmB,CAAA;MAAAC,IAAA;MAAAC,UAAA,GAC9BxB,QAAQ,CAAC;QAAEyB,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAE9BxB,QAAQ,CAAC;QAAE4B,IAAI,EAAEC;MAAQ,CAAC,CAAC;MAAAH,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,OAAiB,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAEjDxB,QAAQ,CAAC;QAAE4B,IAAI,EAAEC,OAAO;QAAEJ,SAAS,EAAE;MAAiB,CAAC,CAAC;MAAAC,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,OAClC,KAAK;MAAA;IAAA;MAAAJ,IAAA;MAAAC,UAAA,GAE3BxB,QAAQ,CAAC;QAAE4B,IAAI,EAAEb;MAAM,CAAC,CAAC;MAAAW,GAAA;MAAAC,KAAA;IAAA;MAAAJ,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAE1B,SAAAG,OAAA,EAAmC;QACjC,OAAOjC,IAAI,CAAAkC,eAAA,KAAAA,eAAA,GAAAC,sBAAA,qRAEC,IAAI,CAACC,IAAI,EAEX,WAAW,EACN,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,MAAO,CAAC,EAC9B,IAAI,CAACC,QAAQ,EACN,IAAI,CAACH,IAAI,CAACI,QAAQ,CAC/B,0CACF,CAAC,EACe,IAAI,CAACC,YAAY,EACnB,IAAI,CAACL,IAAI,CAACI,QAAQ,CAC9B,2CACF,CAAC,EACoB,IAAI,CAACE,uBAAuB;MAGvD;IAAC;MAAAhB,IAAA;MAAAG,GAAA;MAAAC,KAAA,WAAAA,MAAA;QAAA,IAAAa,MAAA;QAAA,OAEkBvC,UAAU,CAAC,UAACkC,MAAe,EAAK;UACjD,IAAMM,OAAiC,GAAG;YACxCC,IAAI,EAAE;cACJC,KAAK,EAAE,EAAE;cACTC,KAAK,EAAEJ,MAAI,CAACP,IAAI,CAAEI,QAAQ,CACxB,8CACF,CAAC;cACDT,IAAI,EAAE,MAAM;cACZiB,QAAQ,EAAE,SAAAA,SAACC,MAAM;gBAAA,OAAKjD,IAAI,CAAAkD,gBAAA,KAAAA,gBAAA,GAAAf,sBAAA,mJAEbQ,MAAI,CAACQ,oBAAoB,EAC1BR,MAAI,CAACP,IAAI,EACLa,MAAM,CAACG,QAAQ;cAAA;YAGjC,CAAC;YACDC,IAAI,EAAE;cACJP,KAAK,EAAEH,MAAI,CAACP,IAAI,CAAEI,QAAQ,CAAC,0CAA0C,CAAC;cACtEc,QAAQ,EAAE,IAAI;cACdC,UAAU,EAAE,IAAI;cAChBC,KAAK,EAAE,IAAI;cACXC,SAAS,EAAE,KAAK;cAChBT,QAAQ,EAAE,SAAAA,SAACC,MAAW;gBAAA,OAAKjD,IAAI,CAAA0D,gBAAA,KAAAA,gBAAA,GAAAvB,sBAAA,iIACfQ,MAAI,CAACQ,oBAAoB,EACnCF,MAAM,CAACI,IAAI,EACXf,MAAM,GACJtC,IAAI,CAAA2D,gBAAA,KAAAA,gBAAA,GAAAxB,sBAAA,8CAA2Bc,MAAM,CAACW,SAAS,IAC/C,EAAE;cAAA;YAGZ;UACF,CAAC;UAEDhB,OAAO,CAACgB,SAAS,GAAG;YAClBd,KAAK,EAAEH,MAAI,CAACP,IAAI,CAAEI,QAAQ,CAAC,6CAA6C,CAAC;YACzEc,QAAQ,EAAE,IAAI;YACdC,UAAU,EAAE,IAAI;YAChBM,KAAK,EAAE,KAAK;YACZC,MAAM,EAAExB;UACV,CAAC;UAEDM,OAAO,CAACmB,MAAM,GAAG;YACfjB,KAAK,EAAEH,MAAI,CAACP,IAAI,CAAEI,QAAQ,CAAC,0CAA0C,CAAC;YACtEc,QAAQ,EAAE,IAAI;YACdC,UAAU,EAAE,IAAI;YAChBM,KAAK,EAAE,KAAK;YACZC,MAAM,EAAExB;UACV,CAAC;UAEDM,OAAO,CAACoB,YAAY,GAAG;YACrBlB,KAAK,EAAEH,MAAI,CAACP,IAAI,CAAEI,QAAQ,CACxB,gDACF,CAAC;YACDT,IAAI,EAAE,SAAS;YACfuB,QAAQ,EAAE,IAAI;YACdO,KAAK,EAAE,KAAK;YACZC,MAAM,EAAExB,MAAM;YACdU,QAAQ,EAAE,SAAAA,SAACC,MAAM;cAAA,OAAKjD,IAAI,CAAAiE,gBAAA,KAAAA,gBAAA,GAAA9B,sBAAA,gJAEdQ,MAAI,CAACP,IAAI,EACLa,MAAM,CAACe,YAAY;YAAA;UAIrC,CAAC;UAED,OAAOpB,OAAO;QAChB,CAAC,CAAC;MAAA;IAAA;MAAAlB,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAEF,SAAAY,wBACEwB,EAAuC,EACjC;QACN,IAAMC,gBAAgB,GAAGD,EAAE,CAACE,MAAM,CAACtC,KAAK;QAExCzB,SAAS,CAAC,IAAI,EAAE,kBAAkB,EAAE;UAAE8D,gBAAgB,EAAhBA;QAAiB,CAAC,CAAC;MAC3D;IAAC;MAAAzC,IAAA;MAAAG,GAAA;MAAAC,KAAA,EAED,SAAAqB,qBAA6Be,EAAS,EAAE;QACtC,IAAMG,QAAQ,GACXH,EAAE,CAACI,MAAM,CAAiBC,OAAO,CAAC,sBAAsB,CAAC,CAC1DC,KAAK;QACPnE,SAAS,CAAC,IAAI,EAAE,gBAAgB,EAAE;UAChCgE,QAAQ,EAARA;QACF,CAAC,CAAC;MACJ;IAAC;MAAA3C,IAAA;MAAA+C,MAAA;MAAA5C,GAAA;MAAAC,KAAA,EAED,SAAA4C,OAAA,EAAoC;QAClC,OAAO3E,GAAG,CAAA4E,gBAAA,KAAAA,gBAAA,GAAAxC,sBAAA;MAMZ;IAAC;EAAA;AAAA,GA3HuClC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}