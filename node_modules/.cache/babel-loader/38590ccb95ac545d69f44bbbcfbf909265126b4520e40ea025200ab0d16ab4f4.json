{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nfunction findNestedItem(obj, path, createNonExistingPath) {\n  return path.reduce(function (ac, p, index, array) {\n    if (ac === undefined) return undefined;\n    if (!ac[p] && createNonExistingPath) {\n      var nextP = array[index + 1];\n      // Create object or array depending on next path\n      if (nextP === undefined || typeof nextP === \"number\") {\n        ac[p] = [];\n      } else {\n        ac[p] = {};\n      }\n    }\n    return ac[p];\n  }, obj);\n}\nexport function nestedArrayMove(obj, oldIndex, newIndex, oldPath, newPath) {\n  var newObj = Array.isArray(obj) ? _toConsumableArray(obj) : Object.assign({}, obj);\n  var from = oldPath ? findNestedItem(newObj, oldPath) : newObj;\n  var to = newPath ? findNestedItem(newObj, newPath, true) : newObj;\n  if (!Array.isArray(from) || !Array.isArray(to)) {\n    return obj;\n  }\n  var item = from.splice(oldIndex, 1)[0];\n  to.splice(newIndex, 0, item);\n  return newObj;\n}\nexport function arrayMove(array, oldIndex, newIndex) {\n  var newArray = _toConsumableArray(array);\n  var _newArray$splice = newArray.splice(oldIndex, 1),\n    _newArray$splice2 = _slicedToArray(_newArray$splice, 1),\n    item = _newArray$splice2[0];\n  newArray.splice(newIndex, 0, item);\n  return newArray;\n}","map":{"version":3,"names":["findNestedItem","obj","path","createNonExistingPath","reduce","ac","p","index","array","undefined","nextP","nestedArrayMove","oldIndex","newIndex","oldPath","newPath","newObj","Array","isArray","_toConsumableArray","Object","assign","from","to","item","splice","arrayMove","newArray","_newArray$splice","_newArray$splice2","_slicedToArray"],"sources":["/workspaces/frontend/src/common/util/array-move.ts"],"sourcesContent":["import { ItemPath } from \"../../types\";\n\nfunction findNestedItem(\n  obj: any,\n  path: ItemPath,\n  createNonExistingPath?: boolean\n): any {\n  return path.reduce((ac, p, index, array) => {\n    if (ac === undefined) return undefined;\n    if (!ac[p] && createNonExistingPath) {\n      const nextP = array[index + 1];\n      // Create object or array depending on next path\n      if (nextP === undefined || typeof nextP === \"number\") {\n        ac[p] = [];\n      } else {\n        ac[p] = {};\n      }\n    }\n    return ac[p];\n  }, obj);\n}\n\nexport function nestedArrayMove<T>(\n  obj: T | T[],\n  oldIndex: number,\n  newIndex: number,\n  oldPath?: ItemPath,\n  newPath?: ItemPath\n): T | T[] {\n  const newObj = Array.isArray(obj) ? [...obj] : { ...obj };\n  const from = oldPath ? findNestedItem(newObj, oldPath) : newObj;\n  const to = newPath ? findNestedItem(newObj, newPath, true) : newObj;\n\n  if (!Array.isArray(from) || !Array.isArray(to)) {\n    return obj;\n  }\n\n  const item = from.splice(oldIndex, 1)[0];\n  to.splice(newIndex, 0, item);\n\n  return newObj;\n}\n\nexport function arrayMove<T = any>(\n  array: T[],\n  oldIndex: number,\n  newIndex: number\n): T[] {\n  const newArray = [...array];\n  const [item] = newArray.splice(oldIndex, 1);\n  newArray.splice(newIndex, 0, item);\n  return newArray;\n}\n"],"mappings":";;;;;;;;AAEA,SAASA,cAAcA,CACrBC,GAAQ,EACRC,IAAc,EACdC,qBAA+B,EAC1B;EACL,OAAOD,IAAI,CAACE,MAAM,CAAC,UAACC,EAAE,EAAEC,CAAC,EAAEC,KAAK,EAAEC,KAAK,EAAK;IAC1C,IAAIH,EAAE,KAAKI,SAAS,EAAE,OAAOA,SAAS;IACtC,IAAI,CAACJ,EAAE,CAACC,CAAC,CAAC,IAAIH,qBAAqB,EAAE;MACnC,IAAMO,KAAK,GAAGF,KAAK,CAACD,KAAK,GAAG,CAAC,CAAC;MAC9B;MACA,IAAIG,KAAK,KAAKD,SAAS,IAAI,OAAOC,KAAK,KAAK,QAAQ,EAAE;QACpDL,EAAE,CAACC,CAAC,CAAC,GAAG,EAAE;MACZ,CAAC,MAAM;QACLD,EAAE,CAACC,CAAC,CAAC,GAAG,CAAC,CAAC;MACZ;IACF;IACA,OAAOD,EAAE,CAACC,CAAC,CAAC;EACd,CAAC,EAAEL,GAAG,CAAC;AACT;AAEA,OAAO,SAASU,eAAeA,CAC7BV,GAAY,EACZW,QAAgB,EAChBC,QAAgB,EAChBC,OAAkB,EAClBC,OAAkB,EACT;EACT,IAAMC,MAAM,GAAGC,KAAK,CAACC,OAAO,CAACjB,GAAG,CAAC,GAAAkB,kBAAA,CAAOlB,GAAG,IAAAmB,MAAA,CAAAC,MAAA,KAASpB,GAAG,CAAE;EACzD,IAAMqB,IAAI,GAAGR,OAAO,GAAGd,cAAc,CAACgB,MAAM,EAAEF,OAAO,CAAC,GAAGE,MAAM;EAC/D,IAAMO,EAAE,GAAGR,OAAO,GAAGf,cAAc,CAACgB,MAAM,EAAED,OAAO,EAAE,IAAI,CAAC,GAAGC,MAAM;EAEnE,IAAI,CAACC,KAAK,CAACC,OAAO,CAACI,IAAI,CAAC,IAAI,CAACL,KAAK,CAACC,OAAO,CAACK,EAAE,CAAC,EAAE;IAC9C,OAAOtB,GAAG;EACZ;EAEA,IAAMuB,IAAI,GAAGF,IAAI,CAACG,MAAM,CAACb,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACxCW,EAAE,CAACE,MAAM,CAACZ,QAAQ,EAAE,CAAC,EAAEW,IAAI,CAAC;EAE5B,OAAOR,MAAM;AACf;AAEA,OAAO,SAASU,SAASA,CACvBlB,KAAU,EACVI,QAAgB,EAChBC,QAAgB,EACX;EACL,IAAMc,QAAQ,GAAAR,kBAAA,CAAOX,KAAK,CAAC;EAC3B,IAAAoB,gBAAA,GAAeD,QAAQ,CAACF,MAAM,CAACb,QAAQ,EAAE,CAAC,CAAC;IAAAiB,iBAAA,GAAAC,cAAA,CAAAF,gBAAA;IAApCJ,IAAI,GAAAK,iBAAA;EACXF,QAAQ,CAACF,MAAM,CAACZ,QAAQ,EAAE,CAAC,EAAEW,IAAI,CAAC;EAClC,OAAOG,QAAQ;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}