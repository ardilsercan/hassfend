{"ast":null,"code":"import { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nimport { NEXT_KEY_CODES_SET, PREV_KEY_CODES_SET } from '../constants.js';\nimport '../custom_typings.js';\nimport { getNextSelectableDate } from './get-selectable-date.js';\nexport function computeNextFocusedDate(_ref) {\n  var hasAltKey = _ref.hasAltKey,\n    keyCode = _ref.keyCode,\n    focusedDate = _ref.focusedDate,\n    selectedDate = _ref.selectedDate,\n    disabledDaysSet = _ref.disabledDaysSet,\n    disabledDatesSet = _ref.disabledDatesSet,\n    minTime = _ref.minTime,\n    maxTime = _ref.maxTime;\n  var oldFy = focusedDate.getUTCFullYear();\n  var oldM = focusedDate.getUTCMonth();\n  var oldD = focusedDate.getUTCDate();\n  var focusedDateTime = +focusedDate;\n  var sdFy = selectedDate.getUTCFullYear();\n  var sdM = selectedDate.getUTCMonth();\n  var notInCurrentMonth = sdM !== oldM || sdFy !== oldFy;\n  var fy = oldFy;\n  var m = oldM;\n  var d = oldD;\n  var shouldRunSwitch = true;\n  if (notInCurrentMonth) {\n    fy = sdFy;\n    m = sdM;\n    d = 1;\n    shouldRunSwitch = keyCode === 34 || keyCode === 33 || keyCode === 35;\n  }\n  switch (shouldRunSwitch) {\n    case focusedDateTime === minTime && PREV_KEY_CODES_SET.has(keyCode):\n    case focusedDateTime === maxTime && NEXT_KEY_CODES_SET.has(keyCode):\n      break;\n    case keyCode === 38:\n      {\n        d -= 7;\n        break;\n      }\n    case keyCode === 40:\n      {\n        d += 7;\n        break;\n      }\n    case keyCode === 37:\n      {\n        d -= 1;\n        break;\n      }\n    case keyCode === 39:\n      {\n        d += 1;\n        break;\n      }\n    case keyCode === 34:\n      {\n        hasAltKey ? fy += 1 : m += 1;\n        break;\n      }\n    case keyCode === 33:\n      {\n        hasAltKey ? fy -= 1 : m -= 1;\n        break;\n      }\n    case keyCode === 35:\n      {\n        m += 1;\n        d = 0;\n        break;\n      }\n    case keyCode === 36:\n    default:\n      {\n        d = 1;\n      }\n  }\n  if (keyCode === 34 || keyCode === 33) {\n    var totalDaysOfMonth = toUTCDate(fy, m + 1, 0).getUTCDate();\n    if (d > totalDaysOfMonth) {\n      d = totalDaysOfMonth;\n    }\n  }\n  var newFocusedDate = getNextSelectableDate({\n    keyCode: keyCode,\n    maxTime: maxTime,\n    minTime: minTime,\n    disabledDaysSet: disabledDaysSet,\n    disabledDatesSet: disabledDatesSet,\n    focusedDate: toUTCDate(fy, m, d)\n  });\n  return newFocusedDate;\n}","map":{"version":3,"names":["toUTCDate","NEXT_KEY_CODES_SET","PREV_KEY_CODES_SET","getNextSelectableDate","computeNextFocusedDate","_ref","hasAltKey","keyCode","focusedDate","selectedDate","disabledDaysSet","disabledDatesSet","minTime","maxTime","oldFy","getUTCFullYear","oldM","getUTCMonth","oldD","getUTCDate","focusedDateTime","sdFy","sdM","notInCurrentMonth","fy","m","d","shouldRunSwitch","has","totalDaysOfMonth","newFocusedDate"],"sources":["/workspaces/frontend/node_modules/app-datepicker/dist/helpers/compute-next-focus-date.js"],"sourcesContent":["import { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nimport { NEXT_KEY_CODES_SET, PREV_KEY_CODES_SET } from '../constants.js';\nimport '../custom_typings.js';\nimport { getNextSelectableDate } from './get-selectable-date.js';\nexport function computeNextFocusedDate({ hasAltKey, keyCode, focusedDate, selectedDate, disabledDaysSet, disabledDatesSet, minTime, maxTime, }) {\n    const oldFy = focusedDate.getUTCFullYear();\n    const oldM = focusedDate.getUTCMonth();\n    const oldD = focusedDate.getUTCDate();\n    const focusedDateTime = +focusedDate;\n    const sdFy = selectedDate.getUTCFullYear();\n    const sdM = selectedDate.getUTCMonth();\n    const notInCurrentMonth = sdM !== oldM || sdFy !== oldFy;\n    let fy = oldFy;\n    let m = oldM;\n    let d = oldD;\n    let shouldRunSwitch = true;\n    if (notInCurrentMonth) {\n        fy = sdFy;\n        m = sdM;\n        d = 1;\n        shouldRunSwitch =\n            keyCode === 34 ||\n                keyCode === 33 ||\n                keyCode === 35;\n    }\n    switch (shouldRunSwitch) {\n        case focusedDateTime === minTime && PREV_KEY_CODES_SET.has(keyCode):\n        case focusedDateTime === maxTime && NEXT_KEY_CODES_SET.has(keyCode):\n            break;\n        case keyCode === 38: {\n            d -= 7;\n            break;\n        }\n        case keyCode === 40: {\n            d += 7;\n            break;\n        }\n        case keyCode === 37: {\n            d -= 1;\n            break;\n        }\n        case keyCode === 39: {\n            d += 1;\n            break;\n        }\n        case keyCode === 34: {\n            hasAltKey ? fy += 1 : m += 1;\n            break;\n        }\n        case keyCode === 33: {\n            hasAltKey ? fy -= 1 : m -= 1;\n            break;\n        }\n        case keyCode === 35: {\n            m += 1;\n            d = 0;\n            break;\n        }\n        case keyCode === 36:\n        default: {\n            d = 1;\n        }\n    }\n    if (keyCode === 34 || keyCode === 33) {\n        const totalDaysOfMonth = toUTCDate(fy, m + 1, 0).getUTCDate();\n        if (d > totalDaysOfMonth) {\n            d = totalDaysOfMonth;\n        }\n    }\n    const newFocusedDate = getNextSelectableDate({\n        keyCode,\n        maxTime,\n        minTime,\n        disabledDaysSet,\n        disabledDatesSet,\n        focusedDate: toUTCDate(fy, m, d),\n    });\n    return newFocusedDate;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}