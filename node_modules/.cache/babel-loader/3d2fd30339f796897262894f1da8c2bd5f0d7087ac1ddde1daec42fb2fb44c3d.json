{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport { fetchZwaveNodeAlerts } from \"../../../../../../data/zwave_js\";\nexport var getZwaveDeviceAlerts = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(hass, device) {\n    var _nodeAlerts$comments;\n    var nodeAlerts, deviceAlerts;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return fetchZwaveNodeAlerts(hass, device.id);\n        case 2:\n          nodeAlerts = _context.sent;\n          deviceAlerts = [];\n          if ((nodeAlerts === null || nodeAlerts === void 0 ? void 0 : nodeAlerts.is_embedded) === false) {\n            deviceAlerts.push({\n              level: \"info\",\n              text: hass.localize(\"ui.panel.config.zwave_js.device_info.custom_device_config\")\n            });\n          }\n          if (nodeAlerts !== null && nodeAlerts !== void 0 && (_nodeAlerts$comments = nodeAlerts.comments) !== null && _nodeAlerts$comments !== void 0 && _nodeAlerts$comments.length) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"return\", deviceAlerts);\n        case 7:\n          deviceAlerts.push.apply(deviceAlerts, _toConsumableArray(nodeAlerts.comments.map(function (comment) {\n            return {\n              level: comment.level,\n              text: comment.text\n            };\n          })));\n          return _context.abrupt(\"return\", deviceAlerts);\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function getZwaveDeviceAlerts(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["fetchZwaveNodeAlerts","getZwaveDeviceAlerts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hass","device","_nodeAlerts$comments","nodeAlerts","deviceAlerts","wrap","_callee$","_context","prev","next","id","sent","is_embedded","push","level","text","localize","comments","length","abrupt","apply","_toConsumableArray","map","comment","stop","_x","_x2","arguments"],"sources":["/workspaces/frontend/src/panels/config/devices/device-detail/integration-elements/zwave_js/device-alerts.ts"],"sourcesContent":["import { DeviceRegistryEntry } from \"../../../../../../data/device_registry\";\nimport { fetchZwaveNodeAlerts } from \"../../../../../../data/zwave_js\";\nimport { HomeAssistant } from \"../../../../../../types\";\nimport { DeviceAlert } from \"../../../ha-config-device-page\";\n\nexport const getZwaveDeviceAlerts = async (\n  hass: HomeAssistant,\n  device: DeviceRegistryEntry\n): Promise<DeviceAlert[]> => {\n  const nodeAlerts = await fetchZwaveNodeAlerts(hass, device.id);\n  const deviceAlerts: DeviceAlert[] = [];\n\n  if (nodeAlerts?.is_embedded === false) {\n    deviceAlerts.push({\n      level: \"info\",\n      text: hass.localize(\n        \"ui.panel.config.zwave_js.device_info.custom_device_config\"\n      ),\n    });\n  }\n\n  if (!nodeAlerts?.comments?.length) {\n    return deviceAlerts;\n  }\n\n  deviceAlerts.push(\n    ...nodeAlerts.comments.map((comment) => ({\n      level: comment.level,\n      text: comment.text,\n    }))\n  );\n  return deviceAlerts;\n};\n"],"mappings":";;;;;;AACA,SAASA,oBAAoB,QAAQ,iCAAiC;AAItE,OAAO,IAAMC,oBAAoB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAClCC,IAAmB,EACnBC,MAA2B;IAAA,IAAAC,oBAAA;IAAA,IAAAC,UAAA,EAAAC,YAAA;IAAA,OAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OAEFhB,oBAAoB,CAACO,IAAI,EAAEC,MAAM,CAACS,EAAE,CAAC;QAAA;UAAxDP,UAAU,GAAAI,QAAA,CAAAI,IAAA;UACVP,YAA2B,GAAG,EAAE;UAEtC,IAAI,CAAAD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAES,WAAW,MAAK,KAAK,EAAE;YACrCR,YAAY,CAACS,IAAI,CAAC;cAChBC,KAAK,EAAE,MAAM;cACbC,IAAI,EAAEf,IAAI,CAACgB,QAAQ,CACjB,2DACF;YACF,CAAC,CAAC;UACJ;UAAC,IAEIb,UAAU,aAAVA,UAAU,gBAAAD,oBAAA,GAAVC,UAAU,CAAEc,QAAQ,cAAAf,oBAAA,eAApBA,oBAAA,CAAsBgB,MAAM;YAAAX,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAY,MAAA,WACxBf,YAAY;QAAA;UAGrBA,YAAY,CAACS,IAAI,CAAAO,KAAA,CAAjBhB,YAAY,EAAAiB,kBAAA,CACPlB,UAAU,CAACc,QAAQ,CAACK,GAAG,CAAC,UAACC,OAAO;YAAA,OAAM;cACvCT,KAAK,EAAES,OAAO,CAACT,KAAK;cACpBC,IAAI,EAAEQ,OAAO,CAACR;YAChB,CAAC;UAAA,CAAC,CAAC,CACL,CAAC;UAAC,OAAAR,QAAA,CAAAY,MAAA,WACKf,YAAY;QAAA;QAAA;UAAA,OAAAG,QAAA,CAAAiB,IAAA;MAAA;IAAA,GAAAzB,OAAA;EAAA,CACpB;EAAA,gBA3BYL,oBAAoBA,CAAA+B,EAAA,EAAAC,GAAA;IAAA,OAAA/B,IAAA,CAAAyB,KAAA,OAAAO,SAAA;EAAA;AAAA,GA2BhC"},"metadata":{},"sourceType":"module","externalDependencies":[]}