{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"@material/mwc-button/mwc-button\";\nimport \"@material/mwc-list/mwc-list-item\";\nvar mdiCamera = \"M4,4H7L9,2H15L17,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { stopPropagation } from \"../common/dom/stop_propagation\";\nimport \"./ha-alert\";\nimport \"./ha-button-menu\";\nimport \"./ha-textfield\";\nvar HaQrScanner = _decorate([customElement(\"ha-qr-scanner\")], function (_initialize, _LitElement) {\n  var HaQrScanner = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaQrScanner, _LitElement2);\n    function HaQrScanner() {\n      var _this;\n      _classCallCheck(this, HaQrScanner);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HaQrScanner, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HaQrScanner);\n  }(_LitElement);\n  return {\n    F: HaQrScanner,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"localize\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_cameras\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_qrScanner\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_qrNotFoundCount\",\n      value: function value() {\n        return 0;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [query(\"video\", true)],\n      key: \"_video\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [query(\"#canvas-container\", true)],\n      key: \"_canvasContainer\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [query(\"ha-textfield\")],\n      key: \"_manualInput\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        _get(_getPrototypeOf(HaQrScanner.prototype), \"disconnectedCallback\", this).call(this);\n        this._qrNotFoundCount = 0;\n        if (this._qrScanner) {\n          this._qrScanner.stop();\n          this._qrScanner.destroy();\n          this._qrScanner = undefined;\n        }\n        while (this._canvasContainer.lastChild) {\n          this._canvasContainer.removeChild(this._canvasContainer.lastChild);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        _get(_getPrototypeOf(HaQrScanner.prototype), \"connectedCallback\", this).call(this);\n        if (this.hasUpdated && navigator.mediaDevices) {\n          this._loadQrScanner();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated() {\n        if (navigator.mediaDevices) {\n          this._loadQrScanner();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        if (changedProps.has(\"_error\") && this._error) {\n          fireEvent(this, \"qr-code-error\", {\n            message: this._error\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\", \"\\n    \", \"\"])), this._error ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"error\\\">\", \"</ha-alert>\"])), this._error) : \"\", navigator.mediaDevices ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<video></video>\\n          <div id=\\\"canvas-container\\\">\\n            \", \"\\n          </div>\"])), this._cameras && this._cameras.length > 1 ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"<ha-button-menu fixed @closed=\", \">\\n                  <ha-icon-button\\n                    slot=\\\"trigger\\\"\\n                    .label=\", \"\\n                    .path=\", \"\\n                  ></ha-icon-button>\\n                  \", \"\\n                </ha-button-menu>\"])), stopPropagation, this.localize(\"ui.components.qr-scanner.select_camera\"), mdiCamera, this._cameras.map(function (camera) {\n          return html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                      <mwc-list-item\\n                        .value=\", \"\\n                        @click=\", \"\\n                        >\", \"</mwc-list-item\\n                      >\\n                    \"])), camera.id, _this2._cameraChanged, camera.label);\n        })) : \"\") : html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"warning\\\">\\n            \", \"\\n          </ha-alert>\\n          <p>\", \"</p>\\n          <div class=\\\"row\\\">\\n            <ha-textfield\\n              .label=\", \"\\n              @keyup=\", \"\\n              @paste=\", \"\\n            ></ha-textfield>\\n            <mwc-button @click=\", \"\\n              >\", \"</mwc-button\\n            >\\n          </div>\"])), !window.isSecureContext ? this.localize(\"ui.components.qr-scanner.only_https_supported\") : this.localize(\"ui.components.qr-scanner.not_supported\"), this.localize(\"ui.components.qr-scanner.manual_input\"), this.localize(\"ui.components.qr-scanner.enter_qr_code\"), this._manualKeyup, this._manualPaste, this._manualSubmit, this.localize(\"ui.common.submit\")));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_loadQrScanner\",\n      value: function () {\n        var _loadQrScanner2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var QrScanner, canvas;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return import(\"qr-scanner\");\n              case 2:\n                QrScanner = _context.sent.default;\n                _context.next = 5;\n                return QrScanner.hasCamera();\n              case 5:\n                if (_context.sent) {\n                  _context.next = 8;\n                  break;\n                }\n                this._error = \"No camera found\";\n                return _context.abrupt(\"return\");\n              case 8:\n                QrScanner.WORKER_PATH = \"/static/js/qr-scanner-worker.min.js\";\n                this._listCameras(QrScanner);\n                this._qrScanner = new QrScanner(this._video, this._qrCodeScanned, this._qrCodeError);\n                // @ts-ignore\n                canvas = this._qrScanner.$canvas;\n                this._canvasContainer.appendChild(canvas);\n                canvas.style.display = \"block\";\n                _context.prev = 14;\n                _context.next = 17;\n                return this._qrScanner.start();\n              case 17:\n                _context.next = 22;\n                break;\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](14);\n                this._error = _context.t0;\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[14, 19]]);\n        }));\n        function _loadQrScanner() {\n          return _loadQrScanner2.apply(this, arguments);\n        }\n        return _loadQrScanner;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_listCameras\",\n      value: function () {\n        var _listCameras2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(qrScanner) {\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return qrScanner.listCameras(true);\n              case 2:\n                this._cameras = _context2.sent;\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _listCameras(_x) {\n          return _listCameras2.apply(this, arguments);\n        }\n        return _listCameras;\n      }()\n    }, {\n      kind: \"field\",\n      key: \"_qrCodeError\",\n      value: function value() {\n        var _this3 = this;\n        return function (err) {\n          if (err === \"No QR code found\") {\n            _this3._qrNotFoundCount++;\n            if (_this3._qrNotFoundCount === 250) {\n              _this3._error = err;\n            }\n            return;\n          }\n          _this3._error = err.message || err;\n          // eslint-disable-next-line no-console\n          console.log(err);\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_qrCodeScanned\",\n      value: function value() {\n        var _this4 = this;\n        return /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(qrCodeString) {\n            return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n              while (1) switch (_context3.prev = _context3.next) {\n                case 0:\n                  _this4._qrNotFoundCount = 0;\n                  fireEvent(_this4, \"qr-code-scanned\", {\n                    value: qrCodeString\n                  });\n                case 2:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }, _callee3);\n          }));\n          return function (_x2) {\n            return _ref.apply(this, arguments);\n          };\n        }();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_manualKeyup\",\n      value: function _manualKeyup(ev) {\n        if (ev.key === \"Enter\") {\n          this._qrCodeScanned(ev.target.value);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_manualPaste\",\n      value: function _manualPaste(ev) {\n        this._qrCodeScanned(\n        // @ts-ignore\n        (ev.clipboardData || window.clipboardData).getData(\"text\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_manualSubmit\",\n      value: function _manualSubmit() {\n        this._qrCodeScanned(this._manualInput.value);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_cameraChanged\",\n      value: function _cameraChanged(ev) {\n        var _this$_qrScanner;\n        (_this$_qrScanner = this._qrScanner) === null || _this$_qrScanner === void 0 || _this$_qrScanner.setCamera(ev.target.value);\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value: function value() {\n        return css(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n    canvas {\\n      width: 100%;\\n    }\\n    #canvas-container {\\n      position: relative;\\n    }\\n    ha-button-menu {\\n      position: absolute;\\n      bottom: 8px;\\n      right: 8px;\\n      background: #727272b2;\\n      color: white;\\n      border-radius: 50%;\\n    }\\n    .row {\\n      display: flex;\\n      align-items: center;\\n    }\\n    ha-textfield {\\n      flex: 1;\\n      margin-right: 8px;\\n      margin-inline-end: 8px;\\n      margin-inline-start: initial;\\n    }\\n  \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["mdiCamera","css","html","LitElement","customElement","property","query","state","fireEvent","stopPropagation","HaQrScanner","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","disconnectedCallback","_get","_getPrototypeOf","prototype","call","_qrNotFoundCount","_qrScanner","stop","destroy","undefined","_canvasContainer","lastChild","removeChild","connectedCallback","hasUpdated","navigator","mediaDevices","_loadQrScanner","firstUpdated","updated","changedProps","has","_error","message","render","_this2","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_cameras","_templateObject4","localize","map","camera","_templateObject5","id","_cameraChanged","label","_templateObject6","window","isSecureContext","_manualKeyup","_manualPaste","_manualSubmit","_loadQrScanner2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","QrScanner","canvas","wrap","_callee$","_context","prev","next","sent","default","hasCamera","abrupt","WORKER_PATH","_listCameras","_video","_qrCodeScanned","_qrCodeError","$canvas","appendChild","style","display","start","t0","apply","_listCameras2","_callee2","qrScanner","_callee2$","_context2","listCameras","_x","_this3","err","console","log","_this4","_ref","_callee3","qrCodeString","_callee3$","_context3","_x2","ev","target","clipboardData","getData","_manualInput","_this$_qrScanner","setCamera","static","_templateObject7"],"sources":["/Users/sercanardil/Desktop/frontend/src/components/ha-qr-scanner.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport { mdiCamera } from \"@mdi/js\";\nimport { css, html, LitElement, PropertyValues, TemplateResult } from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport type QrScanner from \"qr-scanner\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { stopPropagation } from \"../common/dom/stop_propagation\";\nimport { LocalizeFunc } from \"../common/translations/localize\";\nimport \"./ha-alert\";\nimport \"./ha-button-menu\";\nimport \"./ha-textfield\";\nimport type { HaTextField } from \"./ha-textfield\";\n\n@customElement(\"ha-qr-scanner\")\nclass HaQrScanner extends LitElement {\n  @property({ attribute: false }) public localize!: LocalizeFunc;\n\n  @state() private _cameras?: QrScanner.Camera[];\n\n  @state() private _error?: string;\n\n  private _qrScanner?: QrScanner;\n\n  private _qrNotFoundCount = 0;\n\n  @query(\"video\", true) private _video!: HTMLVideoElement;\n\n  @query(\"#canvas-container\", true) private _canvasContainer!: HTMLDivElement;\n\n  @query(\"ha-textfield\") private _manualInput?: HaTextField;\n\n  public disconnectedCallback(): void {\n    super.disconnectedCallback();\n    this._qrNotFoundCount = 0;\n    if (this._qrScanner) {\n      this._qrScanner.stop();\n      this._qrScanner.destroy();\n      this._qrScanner = undefined;\n    }\n    while (this._canvasContainer.lastChild) {\n      this._canvasContainer.removeChild(this._canvasContainer.lastChild);\n    }\n  }\n\n  public connectedCallback(): void {\n    super.connectedCallback();\n    if (this.hasUpdated && navigator.mediaDevices) {\n      this._loadQrScanner();\n    }\n  }\n\n  protected firstUpdated() {\n    if (navigator.mediaDevices) {\n      this._loadQrScanner();\n    }\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    if (changedProps.has(\"_error\") && this._error) {\n      fireEvent(this, \"qr-code-error\", { message: this._error });\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`${this._error\n      ? html`<ha-alert alert-type=\"error\">${this._error}</ha-alert>`\n      : \"\"}\n    ${navigator.mediaDevices\n      ? html`<video></video>\n          <div id=\"canvas-container\">\n            ${this._cameras && this._cameras.length > 1\n              ? html`<ha-button-menu fixed @closed=${stopPropagation}>\n                  <ha-icon-button\n                    slot=\"trigger\"\n                    .label=${this.localize(\n                      \"ui.components.qr-scanner.select_camera\"\n                    )}\n                    .path=${mdiCamera}\n                  ></ha-icon-button>\n                  ${this._cameras!.map(\n                    (camera) => html`\n                      <mwc-list-item\n                        .value=${camera.id}\n                        @click=${this._cameraChanged}\n                        >${camera.label}</mwc-list-item\n                      >\n                    `\n                  )}\n                </ha-button-menu>`\n              : \"\"}\n          </div>`\n      : html`<ha-alert alert-type=\"warning\">\n            ${!window.isSecureContext\n              ? this.localize(\"ui.components.qr-scanner.only_https_supported\")\n              : this.localize(\"ui.components.qr-scanner.not_supported\")}\n          </ha-alert>\n          <p>${this.localize(\"ui.components.qr-scanner.manual_input\")}</p>\n          <div class=\"row\">\n            <ha-textfield\n              .label=${this.localize(\"ui.components.qr-scanner.enter_qr_code\")}\n              @keyup=${this._manualKeyup}\n              @paste=${this._manualPaste}\n            ></ha-textfield>\n            <mwc-button @click=${this._manualSubmit}\n              >${this.localize(\"ui.common.submit\")}</mwc-button\n            >\n          </div>`}`;\n  }\n\n  private async _loadQrScanner() {\n    const QrScanner = (await import(\"qr-scanner\")).default;\n    if (!(await QrScanner.hasCamera())) {\n      this._error = \"No camera found\";\n      return;\n    }\n    QrScanner.WORKER_PATH = \"/static/js/qr-scanner-worker.min.js\";\n    this._listCameras(QrScanner);\n    this._qrScanner = new QrScanner(\n      this._video,\n      this._qrCodeScanned,\n      this._qrCodeError\n    );\n    // @ts-ignore\n    const canvas = this._qrScanner.$canvas;\n    this._canvasContainer.appendChild(canvas);\n    canvas.style.display = \"block\";\n    try {\n      await this._qrScanner.start();\n    } catch (err: any) {\n      this._error = err;\n    }\n  }\n\n  private async _listCameras(qrScanner: typeof QrScanner): Promise<void> {\n    this._cameras = await qrScanner.listCameras(true);\n  }\n\n  private _qrCodeError = (err: any) => {\n    if (err === \"No QR code found\") {\n      this._qrNotFoundCount++;\n      if (this._qrNotFoundCount === 250) {\n        this._error = err;\n      }\n      return;\n    }\n    this._error = err.message || err;\n    // eslint-disable-next-line no-console\n    console.log(err);\n  };\n\n  private _qrCodeScanned = async (qrCodeString: string): Promise<void> => {\n    this._qrNotFoundCount = 0;\n    fireEvent(this, \"qr-code-scanned\", { value: qrCodeString });\n  };\n\n  private _manualKeyup(ev: KeyboardEvent) {\n    if (ev.key === \"Enter\") {\n      this._qrCodeScanned((ev.target as HaTextField).value);\n    }\n  }\n\n  private _manualPaste(ev: ClipboardEvent) {\n    this._qrCodeScanned(\n      // @ts-ignore\n      (ev.clipboardData || window.clipboardData).getData(\"text\")\n    );\n  }\n\n  private _manualSubmit() {\n    this._qrCodeScanned(this._manualInput!.value);\n  }\n\n  private _cameraChanged(ev: CustomEvent): void {\n    this._qrScanner?.setCamera((ev.target as any).value);\n  }\n\n  static styles = css`\n    canvas {\n      width: 100%;\n    }\n    #canvas-container {\n      position: relative;\n    }\n    ha-button-menu {\n      position: absolute;\n      bottom: 8px;\n      right: 8px;\n      background: #727272b2;\n      color: white;\n      border-radius: 50%;\n    }\n    .row {\n      display: flex;\n      align-items: center;\n    }\n    ha-textfield {\n      flex: 1;\n      margin-right: 8px;\n      margin-inline-end: 8px;\n      margin-inline-start: initial;\n    }\n  `;\n}\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"qr-code-scanned\": { value: string };\n    \"qr-code-error\": { message: string };\n  }\n\n  interface HTMLElementTagNameMap {\n    \"ha-qr-scanner\": HaQrScanner;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}