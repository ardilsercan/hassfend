{"ast":null,"code":"/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport \"core-js/modules/es.array.push.js\";\nimport documentWait from './document-wait.js';\n\n/**\n * @typedef {HTMLStyleElement | {getStyle: function():HTMLStyleElement}}\n */\nexport var CustomStyleProvider;\nvar SEEN_MARKER = '__seenByShadyCSS';\nvar CACHED_STYLE = '__shadyCSSCachedStyle';\n\n/** @type {?function(!HTMLStyleElement)} */\nvar transformFn = null;\n\n/** @type {?function()} */\nvar validateFn = null;\n\n/**\nThis interface is provided to add document-level <style> elements to ShadyCSS for processing.\nThese styles must be processed by ShadyCSS to simulate ShadowRoot upper-bound encapsulation from outside styles\nIn addition, these styles may also need to be processed for @apply rules and CSS Custom Properties\n\nTo add document-level styles to ShadyCSS, one can call `ShadyCSS.addDocumentStyle(styleElement)` or `ShadyCSS.addDocumentStyle({getStyle: () => styleElement})`\n\nIn addition, if the process used to discover document-level styles can be synchronously flushed, one should set `ShadyCSS.documentStyleFlush`.\nThis function will be called when calculating styles.\n\nAn example usage of the document-level styling api can be found in `examples/document-style-lib.js`\n\n@unrestricted\n*/\nvar CustomStyleInterface = /*#__PURE__*/function () {\n  function CustomStyleInterface() {\n    _classCallCheck(this, CustomStyleInterface);\n    /** @type {!Array<!CustomStyleProvider>} */\n    this['customStyles'] = [];\n    this['enqueued'] = false;\n    // NOTE(dfreedm): use quotes here to prevent closure inlining to `function(){}`;\n    documentWait(function () {\n      if (window['ShadyCSS']['flushCustomStyles']) {\n        window['ShadyCSS']['flushCustomStyles']();\n      }\n    });\n  }\n  /**\n   * Queue a validation for new custom styles to batch style recalculations\n   */\n  _createClass(CustomStyleInterface, [{\n    key: \"enqueueDocumentValidation\",\n    value: function enqueueDocumentValidation() {\n      if (this['enqueued'] || !validateFn) {\n        return;\n      }\n      this['enqueued'] = true;\n      documentWait(validateFn);\n    }\n    /**\n     * @param {!HTMLStyleElement} style\n     */\n  }, {\n    key: \"addCustomStyle\",\n    value: function addCustomStyle(style) {\n      if (!style[SEEN_MARKER]) {\n        style[SEEN_MARKER] = true;\n        this['customStyles'].push(style);\n        this.enqueueDocumentValidation();\n      }\n    }\n    /**\n     * @param {!CustomStyleProvider} customStyle\n     * @return {HTMLStyleElement}\n     */\n  }, {\n    key: \"getStyleForCustomStyle\",\n    value: function getStyleForCustomStyle(customStyle) {\n      if (customStyle[CACHED_STYLE]) {\n        return customStyle[CACHED_STYLE];\n      }\n      var style;\n      if (customStyle['getStyle']) {\n        style = customStyle['getStyle']();\n      } else {\n        style = customStyle;\n      }\n      return style;\n    }\n    /**\n     * @return {!Array<!CustomStyleProvider>}\n     */\n  }, {\n    key: \"processStyles\",\n    value: function processStyles() {\n      var cs = this['customStyles'];\n      for (var i = 0; i < cs.length; i++) {\n        var customStyle = cs[i];\n        if (customStyle[CACHED_STYLE]) {\n          continue;\n        }\n        var style = this.getStyleForCustomStyle(customStyle);\n        if (style) {\n          // HTMLImports polyfill may have cloned the style into the main document,\n          // which is referenced with __appliedElement.\n          var styleToTransform = /** @type {!HTMLStyleElement} */style['__appliedElement'] || style;\n          if (transformFn) {\n            transformFn(styleToTransform);\n          }\n          customStyle[CACHED_STYLE] = styleToTransform;\n        }\n      }\n      return cs;\n    }\n  }]);\n  return CustomStyleInterface;\n}();\n/* eslint-disable no-self-assign */\nexport { CustomStyleInterface as default };\nCustomStyleInterface.prototype['addCustomStyle'] = CustomStyleInterface.prototype.addCustomStyle;\nCustomStyleInterface.prototype['getStyleForCustomStyle'] = CustomStyleInterface.prototype.getStyleForCustomStyle;\nCustomStyleInterface.prototype['processStyles'] = CustomStyleInterface.prototype.processStyles;\n/* eslint-enable no-self-assign */\n\nObject.defineProperties(CustomStyleInterface.prototype, {\n  'transformCallback': {\n    /** @return {?function(!HTMLStyleElement)} */get: function get() {\n      return transformFn;\n    },\n    /** @param {?function(!HTMLStyleElement)} fn */set: function set(fn) {\n      transformFn = fn;\n    }\n  },\n  'validateCallback': {\n    /** @return {?function()} */get: function get() {\n      return validateFn;\n    },\n    /**\n     * @param {?function()} fn\n     * @this {CustomStyleInterface}\n     */\n    set: function set(fn) {\n      var needsEnqueue = false;\n      if (!validateFn) {\n        needsEnqueue = true;\n      }\n      validateFn = fn;\n      if (needsEnqueue) {\n        this.enqueueDocumentValidation();\n      }\n    }\n  }\n});\n\n/** @typedef {{\n * customStyles: !Array<!CustomStyleProvider>,\n * addCustomStyle: function(!CustomStyleProvider),\n * getStyleForCustomStyle: function(!CustomStyleProvider): HTMLStyleElement,\n * findStyles: function(),\n * transformCallback: ?function(!HTMLStyleElement),\n * validateCallback: ?function()\n * }}\n */\nexport var CustomStyleInterfaceInterface = {};","map":{"version":3,"names":["_classCallCheck","_createClass","documentWait","CustomStyleProvider","SEEN_MARKER","CACHED_STYLE","transformFn","validateFn","CustomStyleInterface","window","key","value","enqueueDocumentValidation","addCustomStyle","style","push","getStyleForCustomStyle","customStyle","processStyles","cs","i","length","styleToTransform","default","prototype","Object","defineProperties","get","set","fn","needsEnqueue","CustomStyleInterfaceInterface"],"sources":["/workspaces/frontend/node_modules/@webcomponents/shadycss/src/custom-style-interface.js"],"sourcesContent":["/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n'use strict';\n\nimport documentWait from './document-wait.js';\n\n/**\n * @typedef {HTMLStyleElement | {getStyle: function():HTMLStyleElement}}\n */\nexport let CustomStyleProvider;\n\nconst SEEN_MARKER = '__seenByShadyCSS';\nconst CACHED_STYLE = '__shadyCSSCachedStyle';\n\n/** @type {?function(!HTMLStyleElement)} */\nlet transformFn = null;\n\n/** @type {?function()} */\nlet validateFn = null;\n\n/**\nThis interface is provided to add document-level <style> elements to ShadyCSS for processing.\nThese styles must be processed by ShadyCSS to simulate ShadowRoot upper-bound encapsulation from outside styles\nIn addition, these styles may also need to be processed for @apply rules and CSS Custom Properties\n\nTo add document-level styles to ShadyCSS, one can call `ShadyCSS.addDocumentStyle(styleElement)` or `ShadyCSS.addDocumentStyle({getStyle: () => styleElement})`\n\nIn addition, if the process used to discover document-level styles can be synchronously flushed, one should set `ShadyCSS.documentStyleFlush`.\nThis function will be called when calculating styles.\n\nAn example usage of the document-level styling api can be found in `examples/document-style-lib.js`\n\n@unrestricted\n*/\nexport default class CustomStyleInterface {\n  constructor() {\n    /** @type {!Array<!CustomStyleProvider>} */\n    this['customStyles'] = [];\n    this['enqueued'] = false;\n    // NOTE(dfreedm): use quotes here to prevent closure inlining to `function(){}`;\n    documentWait(() => {\n      if (window['ShadyCSS']['flushCustomStyles']) {\n        window['ShadyCSS']['flushCustomStyles']();\n      }\n    });\n  }\n  /**\n   * Queue a validation for new custom styles to batch style recalculations\n   */\n  enqueueDocumentValidation() {\n    if (this['enqueued'] || !validateFn) {\n      return;\n    }\n    this['enqueued'] = true;\n    documentWait(validateFn);\n  }\n  /**\n   * @param {!HTMLStyleElement} style\n   */\n  addCustomStyle(style) {\n    if (!style[SEEN_MARKER]) {\n      style[SEEN_MARKER] = true;\n      this['customStyles'].push(style);\n      this.enqueueDocumentValidation();\n    }\n  }\n  /**\n   * @param {!CustomStyleProvider} customStyle\n   * @return {HTMLStyleElement}\n   */\n  getStyleForCustomStyle(customStyle) {\n    if (customStyle[CACHED_STYLE]) {\n      return customStyle[CACHED_STYLE];\n    }\n    let style;\n    if (customStyle['getStyle']) {\n      style = customStyle['getStyle']();\n    } else {\n      style = customStyle;\n    }\n    return style;\n  }\n  /**\n   * @return {!Array<!CustomStyleProvider>}\n   */\n  processStyles() {\n    const cs = this['customStyles'];\n    for (let i = 0; i < cs.length; i++) {\n      const customStyle = cs[i];\n      if (customStyle[CACHED_STYLE]) {\n        continue;\n      }\n      const style = this.getStyleForCustomStyle(customStyle);\n      if (style) {\n        // HTMLImports polyfill may have cloned the style into the main document,\n        // which is referenced with __appliedElement.\n        const styleToTransform = /** @type {!HTMLStyleElement} */ (style[\n          '__appliedElement'\n        ] || style);\n        if (transformFn) {\n          transformFn(styleToTransform);\n        }\n        customStyle[CACHED_STYLE] = styleToTransform;\n      }\n    }\n    return cs;\n  }\n}\n\n/* eslint-disable no-self-assign */\nCustomStyleInterface.prototype['addCustomStyle'] =\n  CustomStyleInterface.prototype.addCustomStyle;\nCustomStyleInterface.prototype['getStyleForCustomStyle'] =\n  CustomStyleInterface.prototype.getStyleForCustomStyle;\nCustomStyleInterface.prototype['processStyles'] =\n  CustomStyleInterface.prototype.processStyles;\n/* eslint-enable no-self-assign */\n\nObject.defineProperties(CustomStyleInterface.prototype, {\n  'transformCallback': {\n    /** @return {?function(!HTMLStyleElement)} */\n    get() {\n      return transformFn;\n    },\n    /** @param {?function(!HTMLStyleElement)} fn */\n    set(fn) {\n      transformFn = fn;\n    },\n  },\n  'validateCallback': {\n    /** @return {?function()} */\n    get() {\n      return validateFn;\n    },\n    /**\n     * @param {?function()} fn\n     * @this {CustomStyleInterface}\n     */\n    set(fn) {\n      let needsEnqueue = false;\n      if (!validateFn) {\n        needsEnqueue = true;\n      }\n      validateFn = fn;\n      if (needsEnqueue) {\n        this.enqueueDocumentValidation();\n      }\n    },\n  },\n});\n\n/** @typedef {{\n * customStyles: !Array<!CustomStyleProvider>,\n * addCustomStyle: function(!CustomStyleProvider),\n * getStyleForCustomStyle: function(!CustomStyleProvider): HTMLStyleElement,\n * findStyles: function(),\n * transformCallback: ?function(!HTMLStyleElement),\n * validateCallback: ?function()\n * }}\n */\nexport const CustomStyleInterfaceInterface = {};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}