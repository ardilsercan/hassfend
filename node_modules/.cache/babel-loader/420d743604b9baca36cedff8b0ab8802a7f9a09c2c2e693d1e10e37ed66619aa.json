{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport { createCardElement } from \"../create-element/create-card-element\";\nexport let HuiStackCard = _decorate(null, function (_initialize, _LitElement) {\n  class HuiStackCard extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HuiStackCard,\n    d: [{\n      kind: \"method\",\n      static: true,\n      key: \"getConfigElement\",\n      value: async function getConfigElement() {\n        await import(\"../editor/config-elements/hui-stack-card-editor\");\n        return document.createElement(\"hui-stack-card-editor\");\n      }\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"getStubConfig\",\n      value: function getStubConfig() {\n        return {\n          cards: []\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"editMode\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_cards\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 1;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        if (!config || !config.cards || !Array.isArray(config.cards)) {\n          throw new Error(\"Invalid configuration\");\n        }\n        this._config = config;\n        this._cards = config.cards.map(card => {\n          const element = this._createCardElement(card);\n          return element;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(HuiStackCard.prototype), \"updated\", this).call(this, changedProps);\n        if (!this._cards || !changedProps.has(\"hass\") && !changedProps.has(\"editMode\")) {\n          return;\n        }\n        for (const element of this._cards) {\n          if (this.hass) {\n            element.hass = this.hass;\n          }\n          if (this.editMode !== undefined) {\n            element.editMode = this.editMode;\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this._config || !this._cards) {\n          return nothing;\n        }\n        return html`\n      ${this._config.title ? html`<h1 class=\"card-header\">${this._config.title}</h1>` : \"\"}\n      <div id=\"root\">${this._cards}</div>\n    `;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"sharedStyles\",\n      value: function sharedStyles() {\n        return css`\n      .card-header {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        font-weight: normal;\n        margin-block-start: 0px;\n        margin-block-end: 0px;\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        display: block;\n        padding: 24px 16px 16px;\n      }\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_createCardElement\",\n      value: function _createCardElement(cardConfig) {\n        const element = createCardElement(cardConfig);\n        if (this.hass) {\n          element.hass = this.hass;\n        }\n        element.addEventListener(\"ll-rebuild\", ev => {\n          ev.stopPropagation();\n          this._rebuildCard(element, cardConfig);\n        }, {\n          once: true\n        });\n        return element;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_rebuildCard\",\n      value: function _rebuildCard(cardElToReplace, config) {\n        const newCardEl = this._createCardElement(config);\n        if (cardElToReplace.parentElement) {\n          cardElToReplace.parentElement.replaceChild(newCardEl, cardElToReplace);\n        }\n        this._cards = this._cards.map(curCardEl => curCardEl === cardElToReplace ? newCardEl : curCardEl);\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","property","state","createCardElement","HuiStackCard","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","static","key","value","getConfigElement","document","createElement","getStubConfig","cards","decorators","attribute","type","Boolean","getCardSize","setConfig","config","Array","isArray","Error","_config","_cards","map","card","element","_createCardElement","updated","changedProps","_get","_getPrototypeOf","prototype","call","has","hass","editMode","undefined","render","title","sharedStyles","cardConfig","addEventListener","ev","stopPropagation","_rebuildCard","once","cardElToReplace","newCardEl","parentElement","replaceChild","curCardEl"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/lovelace/cards/hui-stack-card.ts"],"sourcesContent":["import {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  nothing,\n} from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport { LovelaceCardConfig } from \"../../../data/lovelace/config/card\";\nimport { HomeAssistant } from \"../../../types\";\nimport { createCardElement } from \"../create-element/create-card-element\";\nimport { LovelaceCard, LovelaceCardEditor } from \"../types\";\nimport { StackCardConfig } from \"./types\";\n\nexport abstract class HuiStackCard<T extends StackCardConfig = StackCardConfig>\n  extends LitElement\n  implements LovelaceCard\n{\n  public static async getConfigElement(): Promise<LovelaceCardEditor> {\n    await import(\"../editor/config-elements/hui-stack-card-editor\");\n    return document.createElement(\"hui-stack-card-editor\");\n  }\n\n  public static getStubConfig(): Record<string, unknown> {\n    return { cards: [] };\n  }\n\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @property({ type: Boolean }) public editMode = false;\n\n  @state() protected _cards?: LovelaceCard[];\n\n  @state() protected _config?: T;\n\n  public getCardSize(): number | Promise<number> {\n    return 1;\n  }\n\n  public setConfig(config: T): void {\n    if (!config || !config.cards || !Array.isArray(config.cards)) {\n      throw new Error(\"Invalid configuration\");\n    }\n    this._config = config;\n    this._cards = config.cards.map((card) => {\n      const element = this._createCardElement(card) as LovelaceCard;\n      return element;\n    });\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n    if (\n      !this._cards ||\n      (!changedProps.has(\"hass\") && !changedProps.has(\"editMode\"))\n    ) {\n      return;\n    }\n\n    for (const element of this._cards) {\n      if (this.hass) {\n        element.hass = this.hass;\n      }\n      if (this.editMode !== undefined) {\n        element.editMode = this.editMode;\n      }\n    }\n  }\n\n  protected render() {\n    if (!this._config || !this._cards) {\n      return nothing;\n    }\n\n    return html`\n      ${this._config.title\n        ? html`<h1 class=\"card-header\">${this._config.title}</h1>`\n        : \"\"}\n      <div id=\"root\">${this._cards}</div>\n    `;\n  }\n\n  static get sharedStyles(): CSSResultGroup {\n    return css`\n      .card-header {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        font-weight: normal;\n        margin-block-start: 0px;\n        margin-block-end: 0px;\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        display: block;\n        padding: 24px 16px 16px;\n      }\n    `;\n  }\n\n  private _createCardElement(cardConfig: LovelaceCardConfig) {\n    const element = createCardElement(cardConfig) as LovelaceCard;\n    if (this.hass) {\n      element.hass = this.hass;\n    }\n    element.addEventListener(\n      \"ll-rebuild\",\n      (ev) => {\n        ev.stopPropagation();\n        this._rebuildCard(element, cardConfig);\n      },\n      { once: true }\n    );\n    return element;\n  }\n\n  private _rebuildCard(\n    cardElToReplace: LovelaceCard,\n    config: LovelaceCardConfig\n  ): void {\n    const newCardEl = this._createCardElement(config);\n    if (cardElToReplace.parentElement) {\n      cardElToReplace.parentElement.replaceChild(newCardEl, cardElToReplace);\n    }\n    this._cards = this._cards!.map((curCardEl) =>\n      curCardEl === cardElToReplace ? newCardEl : curCardEl\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}