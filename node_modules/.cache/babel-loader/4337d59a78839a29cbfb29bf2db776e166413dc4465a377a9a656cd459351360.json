{"ast":null,"code":"import { createCollection } from \"home-assistant-js-websocket\";\nconst fetchPanels = conn => conn.sendMessagePromise({\n  type: \"get_panels\"\n});\nconst subscribeUpdates = (conn, store) => conn.subscribeEvents(() => fetchPanels(conn).then(panels => store.setState(panels, true)), \"panels_updated\");\nexport const subscribePanels = (conn, onChange) => createCollection(\"_pnl\", fetchPanels, subscribeUpdates, conn, onChange);","map":{"version":3,"names":["createCollection","fetchPanels","conn","sendMessagePromise","type","subscribeUpdates","store","subscribeEvents","then","panels","setState","subscribePanels","onChange"],"sources":["/workspaces/frontend/src/data/ws-panels.ts"],"sourcesContent":["import { Connection, createCollection } from \"home-assistant-js-websocket\";\nimport { Panels } from \"../types\";\n\nconst fetchPanels = (conn) =>\n  conn.sendMessagePromise({\n    type: \"get_panels\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchPanels(conn).then((panels) => store.setState(panels, true)),\n    \"panels_updated\"\n  );\n\nexport const subscribePanels = (\n  conn: Connection,\n  onChange: (panels: Panels) => void\n) =>\n  createCollection<Panels>(\n    \"_pnl\",\n    fetchPanels,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAQ,6BAA6B;AAG1E,MAAMC,WAAW,GAAIC,IAAI,IACvBA,IAAI,CAACC,kBAAkB,CAAC;EACtBC,IAAI,EAAE;AACR,CAAC,CAAC;AAEJ,MAAMC,gBAAgB,GAAGA,CAACH,IAAI,EAAEI,KAAK,KACnCJ,IAAI,CAACK,eAAe,CAClB,MAAMN,WAAW,CAACC,IAAI,CAAC,CAACM,IAAI,CAAEC,MAAM,IAAKH,KAAK,CAACI,QAAQ,CAACD,MAAM,EAAE,IAAI,CAAC,CAAC,EACtE,gBACF,CAAC;AAEH,OAAO,MAAME,eAAe,GAAGA,CAC7BT,IAAgB,EAChBU,QAAkC,KAElCZ,gBAAgB,CACd,MAAM,EACNC,WAAW,EACXI,gBAAgB,EAChBH,IAAI,EACJU,QACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}