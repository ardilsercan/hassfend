{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { LitElement, css, html, nothing } from \"lit\";\nvar mdiChevronRight = \"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport \"../../../components/chart/state-history-charts\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon-button\";\nimport { computeHistory, subscribeHistoryStatesTimeWindow } from \"../../../data/history\";\nimport { getSensorNumericDeviceClasses } from \"../../../data/sensor\";\nimport { hasConfigOrEntitiesChanged } from \"../common/has-changed\";\nimport { processConfigEntities } from \"../common/process-config-entities\";\nimport { createSearchParam } from \"../../../common/url/search-params\";\nexport var DEFAULT_HOURS_TO_SHOW = 24;\nexport var HuiHistoryGraphCard = _decorate([customElement(\"hui-history-graph-card\")], function (_initialize, _LitElement) {\n  var HuiHistoryGraphCard = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HuiHistoryGraphCard, _LitElement2);\n    function HuiHistoryGraphCard() {\n      var _this;\n      _classCallCheck(this, HuiHistoryGraphCard);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HuiHistoryGraphCard, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HuiHistoryGraphCard);\n  }(_LitElement);\n  return {\n    F: HuiHistoryGraphCard,\n    d: [{\n      kind: \"method\",\n      static: true,\n      key: \"getConfigElement\",\n      value: function () {\n        var _getConfigElement = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return import(\"../editor/config-elements/hui-history-graph-card-editor\");\n              case 2:\n                return _context.abrupt(\"return\", document.createElement(\"hui-history-graph-card-editor\"));\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function getConfigElement() {\n          return _getConfigElement.apply(this, arguments);\n        }\n        return getConfigElement;\n      }()\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"getStubConfig\",\n      value: function getStubConfig() {\n        // Hard coded to sun.sun to prevent high server load when it would pick an entity with a lot of state changes\n        return {\n          type: \"history-graph\",\n          entities: [\"sun.sun\"]\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_stateHistory\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_names\",\n      value: function value() {\n        return {};\n      }\n    }, {\n      kind: \"field\",\n      key: \"_entityIds\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      key: \"_hoursToShow\",\n      value: function value() {\n        return DEFAULT_HOURS_TO_SHOW;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_interval\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_subscribed\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        var _this$_config, _this$_entityIds;\n        return (_this$_config = this._config) !== null && _this$_config !== void 0 && _this$_config.title ? 2 : 0 + 2 * (((_this$_entityIds = this._entityIds) === null || _this$_entityIds === void 0 ? void 0 : _this$_entityIds.length) || 1);\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        var _this2 = this;\n        if (!config.entities || !Array.isArray(config.entities)) {\n          throw new Error(\"Entities need to be an array\");\n        }\n        if (!config.entities.length) {\n          throw new Error(\"You must include at least one entity\");\n        }\n        var configEntities = config.entities ? processConfigEntities(config.entities) : [];\n        this._entityIds = [];\n        configEntities.forEach(function (entity) {\n          _this2._entityIds.push(entity.entity);\n          if (entity.name) {\n            _this2._names[entity.entity] = entity.name;\n          }\n        });\n        this._hoursToShow = config.hours_to_show || DEFAULT_HOURS_TO_SHOW;\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        _get(_getPrototypeOf(HuiHistoryGraphCard.prototype), \"connectedCallback\", this).call(this);\n        if (this.hasUpdated) {\n          this._subscribeHistory();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        _get(_getPrototypeOf(HuiHistoryGraphCard.prototype), \"disconnectedCallback\", this).call(this);\n        this._unsubscribeHistory();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_subscribeHistory\",\n      value: function () {\n        var _subscribeHistory2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n          var _this3 = this;\n          var _yield$getSensorNumer, sensorNumericDeviceClasses;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(!isComponentLoaded(this.hass, \"history\") || this._subscribed)) {\n                  _context2.next = 2;\n                  break;\n                }\n                return _context2.abrupt(\"return\");\n              case 2:\n                _context2.next = 4;\n                return getSensorNumericDeviceClasses(this.hass);\n              case 4:\n                _yield$getSensorNumer = _context2.sent;\n                sensorNumericDeviceClasses = _yield$getSensorNumer.numeric_device_classes;\n                this._subscribed = subscribeHistoryStatesTimeWindow(this.hass, function (combinedHistory) {\n                  var _this3$_config;\n                  if (!_this3._subscribed) {\n                    // Message came in before we had a chance to unload\n                    return;\n                  }\n                  _this3._stateHistory = computeHistory(_this3.hass, combinedHistory, _this3.hass.localize, sensorNumericDeviceClasses, (_this3$_config = _this3._config) === null || _this3$_config === void 0 ? void 0 : _this3$_config.split_device_classes);\n                }, this._hoursToShow, this._entityIds).catch(function (err) {\n                  _this3._subscribed = undefined;\n                  _this3._error = err;\n                });\n                this._setRedrawTimer();\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _subscribeHistory() {\n          return _subscribeHistory2.apply(this, arguments);\n        }\n        return _subscribeHistory;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_redrawGraph\",\n      value: function _redrawGraph() {\n        if (this._stateHistory) {\n          this._stateHistory = Object.assign({}, this._stateHistory);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_setRedrawTimer\",\n      value: function _setRedrawTimer() {\n        var _this4 = this;\n        // redraw the graph every minute to update the time axis\n        clearInterval(this._interval);\n        this._interval = window.setInterval(function () {\n          return _this4._redrawGraph();\n        }, 1000 * 60);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_unsubscribeHistory\",\n      value: function _unsubscribeHistory() {\n        clearInterval(this._interval);\n        if (this._subscribed) {\n          this._subscribed.then(function (unsub) {\n            return unsub === null || unsub === void 0 ? void 0 : unsub();\n          });\n          this._subscribed = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"shouldUpdate\",\n      value: function shouldUpdate(changedProps) {\n        return hasConfigOrEntitiesChanged(this, changedProps) || changedProps.size > 1 || !changedProps.has(\"hass\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(HuiHistoryGraphCard.prototype), \"updated\", this).call(this, changedProps);\n        if (!this._config || !this.hass || !this._hoursToShow || !this._entityIds.length) {\n          return;\n        }\n        if (!changedProps.has(\"_config\") && !changedProps.has(\"hass\")) {\n          return;\n        }\n        var oldConfig = changedProps.get(\"_config\");\n        if (changedProps.has(\"_config\") && ((oldConfig === null || oldConfig === void 0 ? void 0 : oldConfig.entities) !== this._config.entities || (oldConfig === null || oldConfig === void 0 ? void 0 : oldConfig.hours_to_show) !== this._config.hours_to_show)) {\n          this._unsubscribeHistory();\n          this._subscribeHistory();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this.hass || !this._config) {\n          return nothing;\n        }\n        var now = new Date();\n        now.setHours(now.getHours() - this._hoursToShow);\n        var configUrl = \"/history?\".concat(createSearchParam({\n          entity_id: this._entityIds.join(\",\"),\n          start_date: now.toISOString()\n        }));\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-card>\\n        \", \"\\n        <div\\n          class=\\\"content \", \"\\\"\\n        >\\n          \", \"\\n        </div>\\n      </ha-card>\\n    \"])), this._config.title ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n              <h1 class=\\\"card-header\\\">\\n                \", \"\\n                <a href=\", \"\\n                  ><ha-icon-button .path=\", \"></ha-icon-button\\n                ></a>\\n              </h1>\\n            \"])), this._config.title, configUrl, mdiChevronRight) : nothing, classMap({\n          \"has-header\": !!this._config.title\n        }), this._error ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n                <ha-alert alert-type=\\\"error\\\">\\n                  \", \":\\n                  \", \"\\n                </ha-alert>\\n              \"])), this.hass.localize(\"ui.components.history_charts.error\"), this._error.message || this._error.code) : html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                <state-history-charts\\n                  .hass=\", \"\\n                  .isLoadingData=\", \"\\n                  .historyData=\", \"\\n                  .names=\", \"\\n                  up-to-now\\n                  .hoursToShow=\", \"\\n                  .showNames=\", \"\\n                  .logarithmicScale=\", \"\\n                  .minYAxis=\", \"\\n                  .maxYAxis=\", \"\\n                  .fitYData=\", \"\\n                ></state-history-charts>\\n              \"])), this.hass, !this._stateHistory, this._stateHistory, this._names, this._hoursToShow, this._config.show_names !== undefined ? this._config.show_names : true, this._config.logarithmic_scale || false, this._config.min_y_axis, this._config.max_y_axis, this._config.fit_y_data || false));\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n      ha-card {\\n        height: 100%;\\n      }\\n      .card-header {\\n        justify-content: space-between;\\n        display: flex;\\n      }\\n      .card-header ha-icon-button {\\n        --mdc-icon-button-size: 24px;\\n        line-height: 24px;\\n        color: var(--primary-text-color);\\n      }\\n      .content {\\n        padding: 16px;\\n      }\\n      .has-header {\\n        padding-top: 0;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["LitElement","css","html","nothing","mdiChevronRight","customElement","property","state","classMap","isComponentLoaded","computeHistory","subscribeHistoryStatesTimeWindow","getSensorNumericDeviceClasses","hasConfigOrEntitiesChanged","processConfigEntities","createSearchParam","DEFAULT_HOURS_TO_SHOW","HuiHistoryGraphCard","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","static","key","value","_getConfigElement","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","document","createElement","stop","getConfigElement","apply","getStubConfig","type","entities","decorators","attribute","getCardSize","_this$_config","_this$_entityIds","_config","title","_entityIds","setConfig","config","_this2","isArray","Error","configEntities","forEach","entity","push","name","_names","_hoursToShow","hours_to_show","connectedCallback","_get","_getPrototypeOf","prototype","call","hasUpdated","_subscribeHistory","disconnectedCallback","_unsubscribeHistory","_subscribeHistory2","_callee2","_this3","_yield$getSensorNumer","sensorNumericDeviceClasses","_callee2$","_context2","hass","_subscribed","sent","numeric_device_classes","combinedHistory","_this3$_config","_stateHistory","localize","split_device_classes","catch","err","undefined","_error","_setRedrawTimer","_redrawGraph","Object","assign","_this4","clearInterval","_interval","window","setInterval","then","unsub","shouldUpdate","changedProps","size","has","updated","oldConfig","get","render","now","Date","setHours","getHours","configUrl","entity_id","join","start_date","toISOString","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","message","code","_templateObject4","show_names","logarithmic_scale","min_y_axis","max_y_axis","fit_y_data","styles","_templateObject5"],"sources":["/workspaces/frontend/src/panels/lovelace/cards/hui-history-graph-card.ts"],"sourcesContent":["import {\n  CSSResultGroup,\n  LitElement,\n  PropertyValues,\n  css,\n  html,\n  nothing,\n} from \"lit\";\nimport { mdiChevronRight } from \"@mdi/js\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport \"../../../components/chart/state-history-charts\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon-button\";\nimport {\n  HistoryResult,\n  computeHistory,\n  subscribeHistoryStatesTimeWindow,\n} from \"../../../data/history\";\nimport { getSensorNumericDeviceClasses } from \"../../../data/sensor\";\nimport { HomeAssistant } from \"../../../types\";\nimport { hasConfigOrEntitiesChanged } from \"../common/has-changed\";\nimport { processConfigEntities } from \"../common/process-config-entities\";\nimport { LovelaceCard } from \"../types\";\nimport { HistoryGraphCardConfig } from \"./types\";\nimport { createSearchParam } from \"../../../common/url/search-params\";\n\nexport const DEFAULT_HOURS_TO_SHOW = 24;\n\n@customElement(\"hui-history-graph-card\")\nexport class HuiHistoryGraphCard extends LitElement implements LovelaceCard {\n  public static async getConfigElement() {\n    await import(\"../editor/config-elements/hui-history-graph-card-editor\");\n    return document.createElement(\"hui-history-graph-card-editor\");\n  }\n\n  public static getStubConfig(): HistoryGraphCardConfig {\n    // Hard coded to sun.sun to prevent high server load when it would pick an entity with a lot of state changes\n    return { type: \"history-graph\", entities: [\"sun.sun\"] };\n  }\n\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @state() private _stateHistory?: HistoryResult;\n\n  @state() private _config?: HistoryGraphCardConfig;\n\n  @state() private _error?: { code: string; message: string };\n\n  private _names: Record<string, string> = {};\n\n  private _entityIds: string[] = [];\n\n  private _hoursToShow = DEFAULT_HOURS_TO_SHOW;\n\n  private _interval?: number;\n\n  private _subscribed?: Promise<(() => Promise<void>) | void>;\n\n  public getCardSize(): number {\n    return this._config?.title ? 2 : 0 + 2 * (this._entityIds?.length || 1);\n  }\n\n  public setConfig(config: HistoryGraphCardConfig): void {\n    if (!config.entities || !Array.isArray(config.entities)) {\n      throw new Error(\"Entities need to be an array\");\n    }\n\n    if (!config.entities.length) {\n      throw new Error(\"You must include at least one entity\");\n    }\n\n    const configEntities = config.entities\n      ? processConfigEntities(config.entities)\n      : [];\n\n    this._entityIds = [];\n    configEntities.forEach((entity) => {\n      this._entityIds.push(entity.entity);\n      if (entity.name) {\n        this._names[entity.entity] = entity.name;\n      }\n    });\n\n    this._hoursToShow = config.hours_to_show || DEFAULT_HOURS_TO_SHOW;\n\n    this._config = config;\n  }\n\n  public connectedCallback() {\n    super.connectedCallback();\n    if (this.hasUpdated) {\n      this._subscribeHistory();\n    }\n  }\n\n  public disconnectedCallback() {\n    super.disconnectedCallback();\n    this._unsubscribeHistory();\n  }\n\n  private async _subscribeHistory() {\n    if (!isComponentLoaded(this.hass!, \"history\") || this._subscribed) {\n      return;\n    }\n\n    const { numeric_device_classes: sensorNumericDeviceClasses } =\n      await getSensorNumericDeviceClasses(this.hass!);\n\n    this._subscribed = subscribeHistoryStatesTimeWindow(\n      this.hass!,\n      (combinedHistory) => {\n        if (!this._subscribed) {\n          // Message came in before we had a chance to unload\n          return;\n        }\n\n        this._stateHistory = computeHistory(\n          this.hass!,\n          combinedHistory,\n          this.hass!.localize,\n          sensorNumericDeviceClasses,\n          this._config?.split_device_classes\n        );\n      },\n      this._hoursToShow,\n      this._entityIds\n    ).catch((err) => {\n      this._subscribed = undefined;\n      this._error = err;\n    });\n    this._setRedrawTimer();\n  }\n\n  private _redrawGraph() {\n    if (this._stateHistory) {\n      this._stateHistory = { ...this._stateHistory };\n    }\n  }\n\n  private _setRedrawTimer() {\n    // redraw the graph every minute to update the time axis\n    clearInterval(this._interval);\n    this._interval = window.setInterval(() => this._redrawGraph(), 1000 * 60);\n  }\n\n  private _unsubscribeHistory() {\n    clearInterval(this._interval);\n    if (this._subscribed) {\n      this._subscribed.then((unsub) => unsub?.());\n      this._subscribed = undefined;\n    }\n  }\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    return (\n      hasConfigOrEntitiesChanged(this, changedProps) ||\n      changedProps.size > 1 ||\n      !changedProps.has(\"hass\")\n    );\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n    if (\n      !this._config ||\n      !this.hass ||\n      !this._hoursToShow ||\n      !this._entityIds.length\n    ) {\n      return;\n    }\n\n    if (!changedProps.has(\"_config\") && !changedProps.has(\"hass\")) {\n      return;\n    }\n\n    const oldConfig = changedProps.get(\"_config\") as\n      | HistoryGraphCardConfig\n      | undefined;\n\n    if (\n      changedProps.has(\"_config\") &&\n      (oldConfig?.entities !== this._config.entities ||\n        oldConfig?.hours_to_show !== this._config.hours_to_show)\n    ) {\n      this._unsubscribeHistory();\n      this._subscribeHistory();\n    }\n  }\n\n  protected render() {\n    if (!this.hass || !this._config) {\n      return nothing;\n    }\n    const now = new Date();\n    now.setHours(now.getHours() - this._hoursToShow);\n    const configUrl = `/history?${createSearchParam({\n      entity_id: this._entityIds.join(\",\"),\n      start_date: now.toISOString(),\n    })}`;\n\n    return html`\n      <ha-card>\n        ${this._config.title\n          ? html`\n              <h1 class=\"card-header\">\n                ${this._config.title}\n                <a href=${configUrl}\n                  ><ha-icon-button .path=${mdiChevronRight}></ha-icon-button\n                ></a>\n              </h1>\n            `\n          : nothing}\n        <div\n          class=\"content ${classMap({\n            \"has-header\": !!this._config.title,\n          })}\"\n        >\n          ${this._error\n            ? html`\n                <ha-alert alert-type=\"error\">\n                  ${this.hass.localize(\"ui.components.history_charts.error\")}:\n                  ${this._error.message || this._error.code}\n                </ha-alert>\n              `\n            : html`\n                <state-history-charts\n                  .hass=${this.hass}\n                  .isLoadingData=${!this._stateHistory}\n                  .historyData=${this._stateHistory}\n                  .names=${this._names}\n                  up-to-now\n                  .hoursToShow=${this._hoursToShow}\n                  .showNames=${this._config.show_names !== undefined\n                    ? this._config.show_names\n                    : true}\n                  .logarithmicScale=${this._config.logarithmic_scale || false}\n                  .minYAxis=${this._config.min_y_axis}\n                  .maxYAxis=${this._config.max_y_axis}\n                  .fitYData=${this._config.fit_y_data || false}\n                ></state-history-charts>\n              `}\n        </div>\n      </ha-card>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ha-card {\n        height: 100%;\n      }\n      .card-header {\n        justify-content: space-between;\n        display: flex;\n      }\n      .card-header ha-icon-button {\n        --mdc-icon-button-size: 24px;\n        line-height: 24px;\n        color: var(--primary-text-color);\n      }\n      .content {\n        padding: 16px;\n      }\n      .has-header {\n        padding-top: 0;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-history-graph-card\": HuiHistoryGraphCard;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}