{"ast":null,"code":"import _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { stringCompare } from \"../common/string/compare\";\nexport { subscribeAreaRegistry } from \"./ws-area_registry\";\nexport var createAreaRegistryEntry = function createAreaRegistryEntry(hass, values) {\n  return hass.callWS(Object.assign({\n    type: \"config/area_registry/create\"\n  }, values));\n};\nexport var updateAreaRegistryEntry = function updateAreaRegistryEntry(hass, areaId, updates) {\n  return hass.callWS(Object.assign({\n    type: \"config/area_registry/update\",\n    area_id: areaId\n  }, updates));\n};\nexport var deleteAreaRegistryEntry = function deleteAreaRegistryEntry(hass, areaId) {\n  return hass.callWS({\n    type: \"config/area_registry/delete\",\n    area_id: areaId\n  });\n};\nexport var getAreaEntityLookup = function getAreaEntityLookup(entities) {\n  var areaEntityLookup = {};\n  var _iterator = _createForOfIteratorHelper(entities),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var entity = _step.value;\n      if (!entity.area_id) {\n        continue;\n      }\n      if (!(entity.area_id in areaEntityLookup)) {\n        areaEntityLookup[entity.area_id] = [];\n      }\n      areaEntityLookup[entity.area_id].push(entity);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return areaEntityLookup;\n};\nexport var getAreaDeviceLookup = function getAreaDeviceLookup(devices) {\n  var areaDeviceLookup = {};\n  var _iterator2 = _createForOfIteratorHelper(devices),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var device = _step2.value;\n      if (!device.area_id) {\n        continue;\n      }\n      if (!(device.area_id in areaDeviceLookup)) {\n        areaDeviceLookup[device.area_id] = [];\n      }\n      areaDeviceLookup[device.area_id].push(device);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return areaDeviceLookup;\n};\nexport var areaCompare = function areaCompare(entries, order) {\n  return function (a, b) {\n    var indexA = order ? order.indexOf(a) : -1;\n    var indexB = order ? order.indexOf(b) : -1;\n    if (indexA === -1 && indexB === -1) {\n      var _entries$a$name, _entries$a, _entries$b$name, _entries$b;\n      var nameA = (_entries$a$name = entries === null || entries === void 0 || (_entries$a = entries[a]) === null || _entries$a === void 0 ? void 0 : _entries$a.name) !== null && _entries$a$name !== void 0 ? _entries$a$name : a;\n      var nameB = (_entries$b$name = entries === null || entries === void 0 || (_entries$b = entries[b]) === null || _entries$b === void 0 ? void 0 : _entries$b.name) !== null && _entries$b$name !== void 0 ? _entries$b$name : b;\n      return stringCompare(nameA, nameB);\n    }\n    if (indexA === -1) {\n      return 1;\n    }\n    if (indexB === -1) {\n      return -1;\n    }\n    return indexA - indexB;\n  };\n};","map":{"version":3,"names":["stringCompare","subscribeAreaRegistry","createAreaRegistryEntry","hass","values","callWS","Object","assign","type","updateAreaRegistryEntry","areaId","updates","area_id","deleteAreaRegistryEntry","getAreaEntityLookup","entities","areaEntityLookup","_iterator","_createForOfIteratorHelper","_step","s","n","done","entity","value","push","err","e","f","getAreaDeviceLookup","devices","areaDeviceLookup","_iterator2","_step2","device","areaCompare","entries","order","a","b","indexA","indexOf","indexB","_entries$a$name","_entries$a","_entries$b$name","_entries$b","nameA","name","nameB"],"sources":["/workspaces/frontend/src/data/area_registry.ts"],"sourcesContent":["import { stringCompare } from \"../common/string/compare\";\nimport { HomeAssistant } from \"../types\";\nimport { DeviceRegistryEntry } from \"./device_registry\";\nimport { EntityRegistryEntry } from \"./entity_registry\";\n\nexport { subscribeAreaRegistry } from \"./ws-area_registry\";\n\nexport interface AreaRegistryEntry {\n  area_id: string;\n  name: string;\n  picture: string | null;\n  icon: string | null;\n  aliases: string[];\n}\n\nexport interface AreaEntityLookup {\n  [areaId: string]: EntityRegistryEntry[];\n}\n\nexport interface AreaDeviceLookup {\n  [areaId: string]: DeviceRegistryEntry[];\n}\n\nexport interface AreaRegistryEntryMutableParams {\n  name: string;\n  picture?: string | null;\n  icon?: string | null;\n  aliases?: string[];\n}\n\nexport const createAreaRegistryEntry = (\n  hass: HomeAssistant,\n  values: AreaRegistryEntryMutableParams\n) =>\n  hass.callWS<AreaRegistryEntry>({\n    type: \"config/area_registry/create\",\n    ...values,\n  });\n\nexport const updateAreaRegistryEntry = (\n  hass: HomeAssistant,\n  areaId: string,\n  updates: Partial<AreaRegistryEntryMutableParams>\n) =>\n  hass.callWS<AreaRegistryEntry>({\n    type: \"config/area_registry/update\",\n    area_id: areaId,\n    ...updates,\n  });\n\nexport const deleteAreaRegistryEntry = (hass: HomeAssistant, areaId: string) =>\n  hass.callWS({\n    type: \"config/area_registry/delete\",\n    area_id: areaId,\n  });\n\nexport const getAreaEntityLookup = (\n  entities: EntityRegistryEntry[]\n): AreaEntityLookup => {\n  const areaEntityLookup: AreaEntityLookup = {};\n  for (const entity of entities) {\n    if (!entity.area_id) {\n      continue;\n    }\n    if (!(entity.area_id in areaEntityLookup)) {\n      areaEntityLookup[entity.area_id] = [];\n    }\n    areaEntityLookup[entity.area_id].push(entity);\n  }\n  return areaEntityLookup;\n};\n\nexport const getAreaDeviceLookup = (\n  devices: DeviceRegistryEntry[]\n): AreaDeviceLookup => {\n  const areaDeviceLookup: AreaDeviceLookup = {};\n  for (const device of devices) {\n    if (!device.area_id) {\n      continue;\n    }\n    if (!(device.area_id in areaDeviceLookup)) {\n      areaDeviceLookup[device.area_id] = [];\n    }\n    areaDeviceLookup[device.area_id].push(device);\n  }\n  return areaDeviceLookup;\n};\n\nexport const areaCompare =\n  (entries?: HomeAssistant[\"areas\"], order?: string[]) =>\n  (a: string, b: string) => {\n    const indexA = order ? order.indexOf(a) : -1;\n    const indexB = order ? order.indexOf(b) : -1;\n    if (indexA === -1 && indexB === -1) {\n      const nameA = entries?.[a]?.name ?? a;\n      const nameB = entries?.[b]?.name ?? b;\n      return stringCompare(nameA, nameB);\n    }\n    if (indexA === -1) {\n      return 1;\n    }\n    if (indexB === -1) {\n      return -1;\n    }\n    return indexA - indexB;\n  };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}