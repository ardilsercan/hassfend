{"ast":null,"code":"import { createCollection } from \"home-assistant-js-websocket\";\nvar fetchPanels = function fetchPanels(conn) {\n  return conn.sendMessagePromise({\n    type: \"get_panels\"\n  });\n};\nvar subscribeUpdates = function subscribeUpdates(conn, store) {\n  return conn.subscribeEvents(function () {\n    return fetchPanels(conn).then(function (panels) {\n      return store.setState(panels, true);\n    });\n  }, \"panels_updated\");\n};\nexport var subscribePanels = function subscribePanels(conn, onChange) {\n  return createCollection(\"_pnl\", fetchPanels, subscribeUpdates, conn, onChange);\n};","map":{"version":3,"names":["createCollection","fetchPanels","conn","sendMessagePromise","type","subscribeUpdates","store","subscribeEvents","then","panels","setState","subscribePanels","onChange"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/ws-panels.ts"],"sourcesContent":["import { Connection, createCollection } from \"home-assistant-js-websocket\";\nimport { Panels } from \"../types\";\n\nconst fetchPanels = (conn) =>\n  conn.sendMessagePromise({\n    type: \"get_panels\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchPanels(conn).then((panels) => store.setState(panels, true)),\n    \"panels_updated\"\n  );\n\nexport const subscribePanels = (\n  conn: Connection,\n  onChange: (panels: Panels) => void\n) =>\n  createCollection<Panels>(\n    \"_pnl\",\n    fetchPanels,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAQ,6BAA6B;AAG1E,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAI;EAAA,OACvBA,IAAI,CAACC,kBAAkB,CAAC;IACtBC,IAAI,EAAE;EACR,CAAC,CAAC;AAAA;AAEJ,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIH,IAAI,EAAEI,KAAK;EAAA,OACnCJ,IAAI,CAACK,eAAe,CAClB;IAAA,OAAMN,WAAW,CAACC,IAAI,CAAC,CAACM,IAAI,CAAC,UAACC,MAAM;MAAA,OAAKH,KAAK,CAACI,QAAQ,CAACD,MAAM,EAAE,IAAI,CAAC;IAAA,EAAC;EAAA,GACtE,gBACF,CAAC;AAAA;AAEH,OAAO,IAAME,eAAe,GAAG,SAAlBA,eAAeA,CAC1BT,IAAgB,EAChBU,QAAkC;EAAA,OAElCZ,gBAAgB,CACd,MAAM,EACNC,WAAW,EACXI,gBAAgB,EAChBH,IAAI,EACJU,QACF,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}