{"ast":null,"code":"import { computeStateName } from \"../../../common/entity/compute_state_name\";\nfunction computeActionTooltip(hass, state, config, isHold) {\n  if (!config || !config.action || config.action === \"none\") {\n    return \"\";\n  }\n  var tooltip = isHold ? hass.localize(\"ui.panel.lovelace.cards.picture-elements.hold\") : hass.localize(\"ui.panel.lovelace.cards.picture-elements.tap\");\n  switch (config.action) {\n    case \"navigate\":\n      tooltip += \" \".concat(hass.localize(\"ui.panel.lovelace.cards.picture-elements.navigate_to\", {\n        location: config.navigation_path\n      }));\n      break;\n    case \"url\":\n      tooltip += \" \".concat(hass.localize(\"ui.panel.lovelace.cards.picture-elements.url\", {\n        url_path: config.url_path\n      }));\n      break;\n    case \"toggle\":\n      tooltip += \" \".concat(hass.localize(\"ui.panel.lovelace.cards.picture-elements.toggle\", {\n        name: state\n      }));\n      break;\n    case \"call-service\":\n      tooltip += \"\".concat(hass.localize(\"ui.panel.lovelace.cards.picture-elements.call_service\", {\n        name: config.service\n      }));\n      break;\n    case \"more-info\":\n      tooltip += \"\".concat(hass.localize(\"ui.panel.lovelace.cards.picture-elements.more_info\", {\n        name: state\n      }));\n      break;\n  }\n  return tooltip;\n}\nexport var computeTooltip = function computeTooltip(hass, config) {\n  if (config.title === null) {\n    return \"\";\n  }\n  if (config.title) {\n    return config.title;\n  }\n  var stateName = \"\";\n  var tooltip = \"\";\n  if (config.entity) {\n    stateName = config.entity in hass.states ? computeStateName(hass.states[config.entity]) : config.entity;\n  }\n  if (!config.tap_action && !config.hold_action) {\n    return stateName;\n  }\n  var tapTooltip = config.tap_action ? computeActionTooltip(hass, stateName, config.tap_action, false) : \"\";\n  var holdTooltip = config.hold_action ? computeActionTooltip(hass, stateName, config.hold_action, true) : \"\";\n  var newline = tapTooltip && holdTooltip ? \"\\n\" : \"\";\n  tooltip = tapTooltip + newline + holdTooltip;\n  return tooltip;\n};","map":{"version":3,"names":["computeStateName","computeActionTooltip","hass","state","config","isHold","action","tooltip","localize","concat","location","navigation_path","url_path","name","service","computeTooltip","title","stateName","entity","states","tap_action","hold_action","tapTooltip","holdTooltip","newline"],"sources":["/workspaces/frontend/src/panels/lovelace/common/compute-tooltip.ts"],"sourcesContent":["import { computeStateName } from \"../../../common/entity/compute_state_name\";\nimport { ActionConfig } from \"../../../data/lovelace/config/action\";\nimport { HomeAssistant } from \"../../../types\";\n\ninterface Config {\n  entity?: string;\n  title?: string;\n  tap_action?: ActionConfig;\n  hold_action?: ActionConfig;\n  double_tap_action?: ActionConfig;\n}\n\nfunction computeActionTooltip(\n  hass: HomeAssistant,\n  state: string,\n  config: ActionConfig,\n  isHold: boolean\n) {\n  if (!config || !config.action || config.action === \"none\") {\n    return \"\";\n  }\n\n  let tooltip = isHold\n    ? hass.localize(\"ui.panel.lovelace.cards.picture-elements.hold\")\n    : hass.localize(\"ui.panel.lovelace.cards.picture-elements.tap\");\n\n  switch (config.action) {\n    case \"navigate\":\n      tooltip += ` ${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.navigate_to\",\n        { location: config.navigation_path }\n      )}`;\n      break;\n    case \"url\":\n      tooltip += ` ${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.url\",\n        { url_path: config.url_path }\n      )}`;\n      break;\n    case \"toggle\":\n      tooltip += ` ${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.toggle\",\n        { name: state }\n      )}`;\n      break;\n    case \"call-service\":\n      tooltip += `${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.call_service\",\n        { name: config.service }\n      )}`;\n      break;\n    case \"more-info\":\n      tooltip += `${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.more_info\",\n        { name: state }\n      )}`;\n      break;\n  }\n\n  return tooltip;\n}\n\nexport const computeTooltip = (hass: HomeAssistant, config: Config): string => {\n  if (config.title === null) {\n    return \"\";\n  }\n\n  if (config.title) {\n    return config.title;\n  }\n\n  let stateName = \"\";\n  let tooltip = \"\";\n\n  if (config.entity) {\n    stateName =\n      config.entity in hass.states\n        ? computeStateName(hass.states[config.entity])\n        : config.entity;\n  }\n\n  if (!config.tap_action && !config.hold_action) {\n    return stateName;\n  }\n\n  const tapTooltip = config.tap_action\n    ? computeActionTooltip(hass, stateName, config.tap_action, false)\n    : \"\";\n  const holdTooltip = config.hold_action\n    ? computeActionTooltip(hass, stateName, config.hold_action, true)\n    : \"\";\n\n  const newline = tapTooltip && holdTooltip ? \"\\n\" : \"\";\n\n  tooltip = tapTooltip + newline + holdTooltip;\n\n  return tooltip;\n};\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,2CAA2C;AAY5E,SAASC,oBAAoBA,CAC3BC,IAAmB,EACnBC,KAAa,EACbC,MAAoB,EACpBC,MAAe,EACf;EACA,IAAI,CAACD,MAAM,IAAI,CAACA,MAAM,CAACE,MAAM,IAAIF,MAAM,CAACE,MAAM,KAAK,MAAM,EAAE;IACzD,OAAO,EAAE;EACX;EAEA,IAAIC,OAAO,GAAGF,MAAM,GAChBH,IAAI,CAACM,QAAQ,CAAC,+CAA+C,CAAC,GAC9DN,IAAI,CAACM,QAAQ,CAAC,8CAA8C,CAAC;EAEjE,QAAQJ,MAAM,CAACE,MAAM;IACnB,KAAK,UAAU;MACbC,OAAO,QAAAE,MAAA,CAAQP,IAAI,CAACM,QAAQ,CAC1B,sDAAsD,EACtD;QAAEE,QAAQ,EAAEN,MAAM,CAACO;MAAgB,CACrC,CAAC,CAAE;MACH;IACF,KAAK,KAAK;MACRJ,OAAO,QAAAE,MAAA,CAAQP,IAAI,CAACM,QAAQ,CAC1B,8CAA8C,EAC9C;QAAEI,QAAQ,EAAER,MAAM,CAACQ;MAAS,CAC9B,CAAC,CAAE;MACH;IACF,KAAK,QAAQ;MACXL,OAAO,QAAAE,MAAA,CAAQP,IAAI,CAACM,QAAQ,CAC1B,iDAAiD,EACjD;QAAEK,IAAI,EAAEV;MAAM,CAChB,CAAC,CAAE;MACH;IACF,KAAK,cAAc;MACjBI,OAAO,OAAAE,MAAA,CAAOP,IAAI,CAACM,QAAQ,CACzB,uDAAuD,EACvD;QAAEK,IAAI,EAAET,MAAM,CAACU;MAAQ,CACzB,CAAC,CAAE;MACH;IACF,KAAK,WAAW;MACdP,OAAO,OAAAE,MAAA,CAAOP,IAAI,CAACM,QAAQ,CACzB,oDAAoD,EACpD;QAAEK,IAAI,EAAEV;MAAM,CAChB,CAAC,CAAE;MACH;EACJ;EAEA,OAAOI,OAAO;AAChB;AAEA,OAAO,IAAMQ,cAAc,GAAG,SAAjBA,cAAcA,CAAIb,IAAmB,EAAEE,MAAc,EAAa;EAC7E,IAAIA,MAAM,CAACY,KAAK,KAAK,IAAI,EAAE;IACzB,OAAO,EAAE;EACX;EAEA,IAAIZ,MAAM,CAACY,KAAK,EAAE;IAChB,OAAOZ,MAAM,CAACY,KAAK;EACrB;EAEA,IAAIC,SAAS,GAAG,EAAE;EAClB,IAAIV,OAAO,GAAG,EAAE;EAEhB,IAAIH,MAAM,CAACc,MAAM,EAAE;IACjBD,SAAS,GACPb,MAAM,CAACc,MAAM,IAAIhB,IAAI,CAACiB,MAAM,GACxBnB,gBAAgB,CAACE,IAAI,CAACiB,MAAM,CAACf,MAAM,CAACc,MAAM,CAAC,CAAC,GAC5Cd,MAAM,CAACc,MAAM;EACrB;EAEA,IAAI,CAACd,MAAM,CAACgB,UAAU,IAAI,CAAChB,MAAM,CAACiB,WAAW,EAAE;IAC7C,OAAOJ,SAAS;EAClB;EAEA,IAAMK,UAAU,GAAGlB,MAAM,CAACgB,UAAU,GAChCnB,oBAAoB,CAACC,IAAI,EAAEe,SAAS,EAAEb,MAAM,CAACgB,UAAU,EAAE,KAAK,CAAC,GAC/D,EAAE;EACN,IAAMG,WAAW,GAAGnB,MAAM,CAACiB,WAAW,GAClCpB,oBAAoB,CAACC,IAAI,EAAEe,SAAS,EAAEb,MAAM,CAACiB,WAAW,EAAE,IAAI,CAAC,GAC/D,EAAE;EAEN,IAAMG,OAAO,GAAGF,UAAU,IAAIC,WAAW,GAAG,IAAI,GAAG,EAAE;EAErDhB,OAAO,GAAGe,UAAU,GAAGE,OAAO,GAAGD,WAAW;EAE5C,OAAOhB,OAAO;AAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}