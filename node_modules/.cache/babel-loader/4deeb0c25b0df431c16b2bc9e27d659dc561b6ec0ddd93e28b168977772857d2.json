{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport \"core-js/modules/es.function.name.js\";\nexport var SupervisorMountType = /*#__PURE__*/function (SupervisorMountType) {\n  SupervisorMountType[\"BIND\"] = \"bind\";\n  SupervisorMountType[\"CIFS\"] = \"cifs\";\n  SupervisorMountType[\"NFS\"] = \"nfs\";\n  return SupervisorMountType;\n}({});\nexport var SupervisorMountUsage = /*#__PURE__*/function (SupervisorMountUsage) {\n  SupervisorMountUsage[\"BACKUP\"] = \"backup\";\n  SupervisorMountUsage[\"MEDIA\"] = \"media\";\n  SupervisorMountUsage[\"SHARE\"] = \"share\";\n  return SupervisorMountUsage;\n}({});\nexport var SupervisorMountState = /*#__PURE__*/function (SupervisorMountState) {\n  SupervisorMountState[\"ACTIVE\"] = \"active\";\n  SupervisorMountState[\"FAILED\"] = \"failed\";\n  SupervisorMountState[\"UNKNOWN\"] = \"unknown\";\n  return SupervisorMountState;\n}({});\nexport var fetchSupervisorMounts = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(hass) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", hass.callWS({\n            type: \"supervisor/api\",\n            endpoint: \"/mounts\",\n            method: \"get\",\n            timeout: null\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function fetchSupervisorMounts(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var createSupervisorMount = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(hass, data) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", hass.callWS({\n            type: \"supervisor/api\",\n            endpoint: \"/mounts\",\n            method: \"post\",\n            timeout: null,\n            data: data\n          }));\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function createSupervisorMount(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var updateSupervisorMount = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(hass, data) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", hass.callWS({\n            type: \"supervisor/api\",\n            endpoint: \"/mounts/\".concat(data.name),\n            method: \"put\",\n            timeout: null,\n            data: data\n          }));\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function updateSupervisorMount(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var removeSupervisorMount = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(hass, name) {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", hass.callWS({\n            type: \"supervisor/api\",\n            endpoint: \"/mounts/\".concat(name),\n            method: \"delete\",\n            timeout: null\n          }));\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function removeSupervisorMount(_x6, _x7) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var reloadSupervisorMount = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(hass, data) {\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", hass.callWS({\n            type: \"supervisor/api\",\n            endpoint: \"/mounts/\".concat(data.name, \"/reload\"),\n            method: \"post\",\n            timeout: null\n          }));\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function reloadSupervisorMount(_x8, _x9) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var changeMountOptions = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(hass, data) {\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          return _context6.abrupt(\"return\", hass.callWS({\n            type: \"supervisor/api\",\n            endpoint: \"/mounts/options\",\n            method: \"post\",\n            timeout: null,\n            data: data\n          }));\n        case 1:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function changeMountOptions(_x10, _x11) {\n    return _ref6.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["SupervisorMountType","SupervisorMountUsage","SupervisorMountState","fetchSupervisorMounts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hass","wrap","_callee$","_context","prev","next","abrupt","callWS","type","endpoint","method","timeout","stop","_x","apply","arguments","createSupervisorMount","_ref2","_callee2","data","_callee2$","_context2","_x2","_x3","updateSupervisorMount","_ref3","_callee3","_callee3$","_context3","concat","name","_x4","_x5","removeSupervisorMount","_ref4","_callee4","_callee4$","_context4","_x6","_x7","reloadSupervisorMount","_ref5","_callee5","_callee5$","_context5","_x8","_x9","changeMountOptions","_ref6","_callee6","_callee6$","_context6","_x10","_x11"],"sources":["/workspaces/frontend/src/data/supervisor/mounts.ts"],"sourcesContent":["import { HomeAssistant } from \"../../types\";\n\nexport enum SupervisorMountType {\n  BIND = \"bind\",\n  CIFS = \"cifs\",\n  NFS = \"nfs\",\n}\n\nexport enum SupervisorMountUsage {\n  BACKUP = \"backup\",\n  MEDIA = \"media\",\n  SHARE = \"share\",\n}\n\nexport enum SupervisorMountState {\n  ACTIVE = \"active\",\n  FAILED = \"failed\",\n  UNKNOWN = \"unknown\",\n}\n\ninterface MountOptions {\n  default_backup_mount?: string | null;\n}\n\nexport type CIFSVersion = \"auto\" | \"1.0\" | \"2.0\";\n\ninterface SupervisorMountBase {\n  name: string;\n  usage: SupervisorMountUsage;\n  type: SupervisorMountType;\n  server: string;\n  port: number;\n}\n\nexport interface SupervisorMountResponse extends SupervisorMountBase {\n  state: SupervisorMountState | null;\n}\n\nexport interface SupervisorNFSMount extends SupervisorMountResponse {\n  type: SupervisorMountType.NFS;\n  path: string;\n}\n\nexport interface SupervisorCIFSMount extends SupervisorMountResponse {\n  type: SupervisorMountType.CIFS;\n  share: string;\n  version?: CIFSVersion;\n}\n\nexport type SupervisorMount = SupervisorNFSMount | SupervisorCIFSMount;\n\nexport type SupervisorNFSMountRequestParams = SupervisorNFSMount;\n\nexport interface SupervisorCIFSMountRequestParams extends SupervisorCIFSMount {\n  username?: string;\n  password?: string;\n  version?: CIFSVersion;\n}\n\nexport type SupervisorMountRequestParams =\n  | SupervisorNFSMountRequestParams\n  | SupervisorCIFSMountRequestParams;\n\nexport interface SupervisorMounts {\n  default_backup_mount: string | null;\n  mounts: SupervisorMount[];\n}\n\nexport const fetchSupervisorMounts = async (\n  hass: HomeAssistant\n): Promise<SupervisorMounts> =>\n  hass.callWS({\n    type: \"supervisor/api\",\n    endpoint: `/mounts`,\n    method: \"get\",\n    timeout: null,\n  });\n\nexport const createSupervisorMount = async (\n  hass: HomeAssistant,\n  data: SupervisorMountRequestParams\n): Promise<void> =>\n  hass.callWS({\n    type: \"supervisor/api\",\n    endpoint: `/mounts`,\n    method: \"post\",\n    timeout: null,\n    data,\n  });\n\nexport const updateSupervisorMount = async (\n  hass: HomeAssistant,\n  data: Partial<SupervisorMountRequestParams>\n): Promise<void> =>\n  hass.callWS({\n    type: \"supervisor/api\",\n    endpoint: `/mounts/${data.name}`,\n    method: \"put\",\n    timeout: null,\n    data,\n  });\n\nexport const removeSupervisorMount = async (\n  hass: HomeAssistant,\n  name: string\n): Promise<void> =>\n  hass.callWS({\n    type: \"supervisor/api\",\n    endpoint: `/mounts/${name}`,\n    method: \"delete\",\n    timeout: null,\n  });\n\nexport const reloadSupervisorMount = async (\n  hass: HomeAssistant,\n  data: SupervisorMount\n): Promise<void> =>\n  hass.callWS({\n    type: \"supervisor/api\",\n    endpoint: `/mounts/${data.name}/reload`,\n    method: \"post\",\n    timeout: null,\n  });\n\nexport const changeMountOptions = async (\n  hass: HomeAssistant,\n  data: MountOptions\n): Promise<void> =>\n  hass.callWS({\n    type: \"supervisor/api\",\n    endpoint: `/mounts/options`,\n    method: \"post\",\n    timeout: null,\n    data,\n  });\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}