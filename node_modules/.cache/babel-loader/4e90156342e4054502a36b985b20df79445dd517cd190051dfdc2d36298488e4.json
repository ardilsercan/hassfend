{"ast":null,"code":"import { getCollection } from \"./collection.js\";\nimport { getConfig } from \"./commands.js\";\nfunction processComponentLoaded(state, event) {\n  if (state === undefined) return null;\n  return {\n    components: state.components.concat(event.data.component)\n  };\n}\nconst fetchConfig = conn => getConfig(conn);\nconst subscribeUpdates = (conn, store) => Promise.all([conn.subscribeEvents(store.action(processComponentLoaded), \"component_loaded\"), conn.subscribeEvents(() => fetchConfig(conn).then(config => store.setState(config, true)), \"core_config_updated\")]).then(unsubs => () => unsubs.forEach(unsub => unsub()));\nexport const configColl = conn => getCollection(conn, \"_cnf\", fetchConfig, subscribeUpdates);\nexport const subscribeConfig = (conn, onChange) => configColl(conn).subscribe(onChange);\nexport const STATE_NOT_RUNNING = \"NOT_RUNNING\";\nexport const STATE_STARTING = \"STARTING\";\nexport const STATE_RUNNING = \"RUNNING\";\nexport const STATE_STOPPING = \"STOPPING\";\nexport const STATE_FINAL_WRITE = \"FINAL_WRITE\";","map":{"version":3,"names":["getCollection","getConfig","processComponentLoaded","state","event","undefined","components","concat","data","component","fetchConfig","conn","subscribeUpdates","store","Promise","all","subscribeEvents","action","then","config","setState","unsubs","forEach","unsub","configColl","subscribeConfig","onChange","subscribe","STATE_NOT_RUNNING","STATE_STARTING","STATE_RUNNING","STATE_STOPPING","STATE_FINAL_WRITE"],"sources":["/Users/sercanardil/Desktop/frontend/node_modules/home-assistant-js-websocket/dist/config.js"],"sourcesContent":["import { getCollection } from \"./collection.js\";\nimport { getConfig } from \"./commands.js\";\nfunction processComponentLoaded(state, event) {\n    if (state === undefined)\n        return null;\n    return {\n        components: state.components.concat(event.data.component),\n    };\n}\nconst fetchConfig = (conn) => getConfig(conn);\nconst subscribeUpdates = (conn, store) => Promise.all([\n    conn.subscribeEvents(store.action(processComponentLoaded), \"component_loaded\"),\n    conn.subscribeEvents(() => fetchConfig(conn).then((config) => store.setState(config, true)), \"core_config_updated\"),\n]).then((unsubs) => () => unsubs.forEach((unsub) => unsub()));\nexport const configColl = (conn) => getCollection(conn, \"_cnf\", fetchConfig, subscribeUpdates);\nexport const subscribeConfig = (conn, onChange) => configColl(conn).subscribe(onChange);\nexport const STATE_NOT_RUNNING = \"NOT_RUNNING\";\nexport const STATE_STARTING = \"STARTING\";\nexport const STATE_RUNNING = \"RUNNING\";\nexport const STATE_STOPPING = \"STOPPING\";\nexport const STATE_FINAL_WRITE = \"FINAL_WRITE\";\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,SAAS,QAAQ,eAAe;AACzC,SAASC,sBAAsBA,CAACC,KAAK,EAAEC,KAAK,EAAE;EAC1C,IAAID,KAAK,KAAKE,SAAS,EACnB,OAAO,IAAI;EACf,OAAO;IACHC,UAAU,EAAEH,KAAK,CAACG,UAAU,CAACC,MAAM,CAACH,KAAK,CAACI,IAAI,CAACC,SAAS;EAC5D,CAAC;AACL;AACA,MAAMC,WAAW,GAAIC,IAAI,IAAKV,SAAS,CAACU,IAAI,CAAC;AAC7C,MAAMC,gBAAgB,GAAGA,CAACD,IAAI,EAAEE,KAAK,KAAKC,OAAO,CAACC,GAAG,CAAC,CAClDJ,IAAI,CAACK,eAAe,CAACH,KAAK,CAACI,MAAM,CAACf,sBAAsB,CAAC,EAAE,kBAAkB,CAAC,EAC9ES,IAAI,CAACK,eAAe,CAAC,MAAMN,WAAW,CAACC,IAAI,CAAC,CAACO,IAAI,CAAEC,MAAM,IAAKN,KAAK,CAACO,QAAQ,CAACD,MAAM,EAAE,IAAI,CAAC,CAAC,EAAE,qBAAqB,CAAC,CACtH,CAAC,CAACD,IAAI,CAAEG,MAAM,IAAK,MAAMA,MAAM,CAACC,OAAO,CAAEC,KAAK,IAAKA,KAAK,CAAC,CAAC,CAAC,CAAC;AAC7D,OAAO,MAAMC,UAAU,GAAIb,IAAI,IAAKX,aAAa,CAACW,IAAI,EAAE,MAAM,EAAED,WAAW,EAAEE,gBAAgB,CAAC;AAC9F,OAAO,MAAMa,eAAe,GAAGA,CAACd,IAAI,EAAEe,QAAQ,KAAKF,UAAU,CAACb,IAAI,CAAC,CAACgB,SAAS,CAACD,QAAQ,CAAC;AACvF,OAAO,MAAME,iBAAiB,GAAG,aAAa;AAC9C,OAAO,MAAMC,cAAc,GAAG,UAAU;AACxC,OAAO,MAAMC,aAAa,GAAG,SAAS;AACtC,OAAO,MAAMC,cAAc,GAAG,UAAU;AACxC,OAAO,MAAMC,iBAAiB,GAAG,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}