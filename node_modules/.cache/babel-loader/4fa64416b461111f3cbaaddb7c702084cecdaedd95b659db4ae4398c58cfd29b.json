{"ast":null,"code":"import \"core-js/modules/es.object.assign.js\";\nexport var cloudLogin = function cloudLogin(hass, email, password) {\n  return hass.callApi(\"POST\", \"cloud/login\", {\n    email: email,\n    password: password\n  });\n};\nexport var cloudLogout = function cloudLogout(hass) {\n  return hass.callApi(\"POST\", \"cloud/logout\");\n};\nexport var cloudForgotPassword = function cloudForgotPassword(hass, email) {\n  return hass.callApi(\"POST\", \"cloud/forgot_password\", {\n    email: email\n  });\n};\nexport var cloudRegister = function cloudRegister(hass, email, password) {\n  return hass.callApi(\"POST\", \"cloud/register\", {\n    email: email,\n    password: password\n  });\n};\nexport var cloudResendVerification = function cloudResendVerification(hass, email) {\n  return hass.callApi(\"POST\", \"cloud/resend_confirm\", {\n    email: email\n  });\n};\nexport var fetchCloudStatus = function fetchCloudStatus(hass) {\n  return hass.callWS({\n    type: \"cloud/status\"\n  });\n};\nexport var createCloudhook = function createCloudhook(hass, webhookId) {\n  return hass.callWS({\n    type: \"cloud/cloudhook/create\",\n    webhook_id: webhookId\n  });\n};\nexport var deleteCloudhook = function deleteCloudhook(hass, webhookId) {\n  return hass.callWS({\n    type: \"cloud/cloudhook/delete\",\n    webhook_id: webhookId\n  });\n};\nexport var connectCloudRemote = function connectCloudRemote(hass) {\n  return hass.callWS({\n    type: \"cloud/remote/connect\"\n  });\n};\nexport var disconnectCloudRemote = function disconnectCloudRemote(hass) {\n  return hass.callWS({\n    type: \"cloud/remote/disconnect\"\n  });\n};\nexport var fetchCloudSubscriptionInfo = function fetchCloudSubscriptionInfo(hass) {\n  return hass.callWS({\n    type: \"cloud/subscription\"\n  });\n};\nexport var updateCloudPref = function updateCloudPref(hass, prefs) {\n  return hass.callWS(Object.assign({\n    type: \"cloud/update_prefs\"\n  }, prefs));\n};\nexport var updateCloudGoogleEntityConfig = function updateCloudGoogleEntityConfig(hass, entity_id, disable_2fa) {\n  return hass.callWS({\n    type: \"cloud/google_assistant/entities/update\",\n    entity_id: entity_id,\n    disable_2fa: disable_2fa\n  });\n};\nexport var cloudSyncGoogleAssistant = function cloudSyncGoogleAssistant(hass) {\n  return hass.callApi(\"POST\", \"cloud/google_actions/sync\");\n};","map":{"version":3,"names":["cloudLogin","hass","email","password","callApi","cloudLogout","cloudForgotPassword","cloudRegister","cloudResendVerification","fetchCloudStatus","callWS","type","createCloudhook","webhookId","webhook_id","deleteCloudhook","connectCloudRemote","disconnectCloudRemote","fetchCloudSubscriptionInfo","updateCloudPref","prefs","Object","assign","updateCloudGoogleEntityConfig","entity_id","disable_2fa","cloudSyncGoogleAssistant"],"sources":["/workspaces/frontend/src/data/cloud.ts"],"sourcesContent":["import { EntityFilter } from \"../common/entity/entity_filter\";\nimport { HomeAssistant } from \"../types\";\n\ninterface CloudStatusNotLoggedIn {\n  logged_in: false;\n  cloud: \"disconnected\" | \"connecting\" | \"connected\";\n  http_use_ssl: boolean;\n}\n\nexport interface CertificateInformation {\n  common_name: string;\n  expire_date: string;\n  fingerprint: string;\n  alternative_names: string[];\n}\n\nexport interface CloudPreferences {\n  google_enabled: boolean;\n  alexa_enabled: boolean;\n  remote_enabled: boolean;\n  google_secure_devices_pin: string | undefined;\n  cloudhooks: { [webhookId: string]: CloudWebhook };\n  alexa_report_state: boolean;\n  google_report_state: boolean;\n  tts_default_voice: [string, string];\n}\n\nexport interface CloudStatusLoggedIn {\n  logged_in: true;\n  cloud: \"disconnected\" | \"connecting\" | \"connected\";\n  cloud_last_disconnect_reason: { clean: boolean; reason: string } | null;\n  email: string;\n  google_registered: boolean;\n  google_entities: EntityFilter;\n  google_domains: string[];\n  alexa_registered: boolean;\n  alexa_entities: EntityFilter;\n  prefs: CloudPreferences;\n  remote_domain: string | undefined;\n  remote_connected: boolean;\n  remote_certificate: undefined | CertificateInformation;\n  remote_certificate_status:\n    | null\n    | \"error\"\n    | \"generating\"\n    | \"loaded\"\n    | \"loading\"\n    | \"ready\";\n  http_use_ssl: boolean;\n  active_subscription: boolean;\n}\n\nexport type CloudStatus = CloudStatusNotLoggedIn | CloudStatusLoggedIn;\n\nexport interface SubscriptionInfo {\n  human_description: string;\n  provider: string;\n  plan_renewal_date?: number;\n}\n\nexport interface CloudWebhook {\n  webhook_id: string;\n  cloudhook_id: string;\n  cloudhook_url: string;\n  managed?: boolean;\n}\n\nexport const cloudLogin = (\n  hass: HomeAssistant,\n  email: string,\n  password: string\n) =>\n  hass.callApi<{ success: boolean; cloud_pipeline?: string }>(\n    \"POST\",\n    \"cloud/login\",\n    {\n      email,\n      password,\n    }\n  );\n\nexport const cloudLogout = (hass: HomeAssistant) =>\n  hass.callApi(\"POST\", \"cloud/logout\");\n\nexport const cloudForgotPassword = (hass: HomeAssistant, email: string) =>\n  hass.callApi(\"POST\", \"cloud/forgot_password\", {\n    email,\n  });\n\nexport const cloudRegister = (\n  hass: HomeAssistant,\n  email: string,\n  password: string\n) =>\n  hass.callApi(\"POST\", \"cloud/register\", {\n    email,\n    password,\n  });\n\nexport const cloudResendVerification = (hass: HomeAssistant, email: string) =>\n  hass.callApi(\"POST\", \"cloud/resend_confirm\", {\n    email,\n  });\n\nexport const fetchCloudStatus = (hass: HomeAssistant) =>\n  hass.callWS<CloudStatus>({ type: \"cloud/status\" });\n\nexport const createCloudhook = (hass: HomeAssistant, webhookId: string) =>\n  hass.callWS<CloudWebhook>({\n    type: \"cloud/cloudhook/create\",\n    webhook_id: webhookId,\n  });\n\nexport const deleteCloudhook = (hass: HomeAssistant, webhookId: string) =>\n  hass.callWS({\n    type: \"cloud/cloudhook/delete\",\n    webhook_id: webhookId,\n  });\n\nexport const connectCloudRemote = (hass: HomeAssistant) =>\n  hass.callWS({\n    type: \"cloud/remote/connect\",\n  });\n\nexport const disconnectCloudRemote = (hass: HomeAssistant) =>\n  hass.callWS({\n    type: \"cloud/remote/disconnect\",\n  });\n\nexport const fetchCloudSubscriptionInfo = (hass: HomeAssistant) =>\n  hass.callWS<SubscriptionInfo>({ type: \"cloud/subscription\" });\n\nexport const updateCloudPref = (\n  hass: HomeAssistant,\n  prefs: {\n    google_enabled?: CloudPreferences[\"google_enabled\"];\n    alexa_enabled?: CloudPreferences[\"alexa_enabled\"];\n    alexa_report_state?: CloudPreferences[\"alexa_report_state\"];\n    google_report_state?: CloudPreferences[\"google_report_state\"];\n    google_secure_devices_pin?: CloudPreferences[\"google_secure_devices_pin\"];\n    tts_default_voice?: CloudPreferences[\"tts_default_voice\"];\n  }\n) =>\n  hass.callWS({\n    type: \"cloud/update_prefs\",\n    ...prefs,\n  });\n\nexport const updateCloudGoogleEntityConfig = (\n  hass: HomeAssistant,\n  entity_id: string,\n  disable_2fa: boolean\n) =>\n  hass.callWS({\n    type: \"cloud/google_assistant/entities/update\",\n    entity_id,\n    disable_2fa,\n  });\n\nexport const cloudSyncGoogleAssistant = (hass: HomeAssistant) =>\n  hass.callApi(\"POST\", \"cloud/google_actions/sync\");\n"],"mappings":";AAmEA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAUA,CACrBC,IAAmB,EACnBC,KAAa,EACbC,QAAgB;EAAA,OAEhBF,IAAI,CAACG,OAAO,CACV,MAAM,EACN,aAAa,EACb;IACEF,KAAK,EAALA,KAAK;IACLC,QAAQ,EAARA;EACF,CACF,CAAC;AAAA;AAEH,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAWA,CAAIJ,IAAmB;EAAA,OAC7CA,IAAI,CAACG,OAAO,CAAC,MAAM,EAAE,cAAc,CAAC;AAAA;AAEtC,OAAO,IAAME,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIL,IAAmB,EAAEC,KAAa;EAAA,OACpED,IAAI,CAACG,OAAO,CAAC,MAAM,EAAE,uBAAuB,EAAE;IAC5CF,KAAK,EAALA;EACF,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMK,aAAa,GAAG,SAAhBA,aAAaA,CACxBN,IAAmB,EACnBC,KAAa,EACbC,QAAgB;EAAA,OAEhBF,IAAI,CAACG,OAAO,CAAC,MAAM,EAAE,gBAAgB,EAAE;IACrCF,KAAK,EAALA,KAAK;IACLC,QAAQ,EAARA;EACF,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMK,uBAAuB,GAAG,SAA1BA,uBAAuBA,CAAIP,IAAmB,EAAEC,KAAa;EAAA,OACxED,IAAI,CAACG,OAAO,CAAC,MAAM,EAAE,sBAAsB,EAAE;IAC3CF,KAAK,EAALA;EACF,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMO,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIR,IAAmB;EAAA,OAClDA,IAAI,CAACS,MAAM,CAAc;IAAEC,IAAI,EAAE;EAAe,CAAC,CAAC;AAAA;AAEpD,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIX,IAAmB,EAAEY,SAAiB;EAAA,OACpEZ,IAAI,CAACS,MAAM,CAAe;IACxBC,IAAI,EAAE,wBAAwB;IAC9BG,UAAU,EAAED;EACd,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAME,eAAe,GAAG,SAAlBA,eAAeA,CAAId,IAAmB,EAAEY,SAAiB;EAAA,OACpEZ,IAAI,CAACS,MAAM,CAAC;IACVC,IAAI,EAAE,wBAAwB;IAC9BG,UAAU,EAAED;EACd,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMG,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIf,IAAmB;EAAA,OACpDA,IAAI,CAACS,MAAM,CAAC;IACVC,IAAI,EAAE;EACR,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMM,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIhB,IAAmB;EAAA,OACvDA,IAAI,CAACS,MAAM,CAAC;IACVC,IAAI,EAAE;EACR,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMO,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIjB,IAAmB;EAAA,OAC5DA,IAAI,CAACS,MAAM,CAAmB;IAAEC,IAAI,EAAE;EAAqB,CAAC,CAAC;AAAA;AAE/D,OAAO,IAAMQ,eAAe,GAAG,SAAlBA,eAAeA,CAC1BlB,IAAmB,EACnBmB,KAOC;EAAA,OAEDnB,IAAI,CAACS,MAAM,CAAAW,MAAA,CAAAC,MAAA;IACTX,IAAI,EAAE;EAAoB,GACvBS,KAAK,CACT,CAAC;AAAA;AAEJ,OAAO,IAAMG,6BAA6B,GAAG,SAAhCA,6BAA6BA,CACxCtB,IAAmB,EACnBuB,SAAiB,EACjBC,WAAoB;EAAA,OAEpBxB,IAAI,CAACS,MAAM,CAAC;IACVC,IAAI,EAAE,wCAAwC;IAC9Ca,SAAS,EAATA,SAAS;IACTC,WAAW,EAAXA;EACF,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIzB,IAAmB;EAAA,OAC1DA,IAAI,CAACG,OAAO,CAAC,MAAM,EAAE,2BAA2B,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}