{"ast":null,"code":"import { handleAction } from \"../panels/lovelace/common/handle-action\";\nexport default (superClass => class extends superClass {\n  firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    this.addEventListener(\"hass-action\", ev => this._handleAction(ev));\n  }\n  async _handleAction(ev) {\n    if (!this.hass) return;\n    handleAction(this, this.hass, ev.detail.config, ev.detail.action);\n  }\n});","map":{"version":3,"names":["handleAction","superClass","firstUpdated","changedProps","addEventListener","ev","_handleAction","hass","detail","config","action"],"sources":["/workspaces/frontend/src/state/action-mixin.ts"],"sourcesContent":["import type { PropertyValues } from \"lit\";\nimport type { HASSDomEvent } from \"../common/dom/fire_event\";\nimport {\n  ActionConfigParams,\n  handleAction,\n} from \"../panels/lovelace/common/handle-action\";\nimport type { Constructor } from \"../types\";\nimport type { HassBaseEl } from \"./hass-base-mixin\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"hass-action\": { config: ActionConfigParams; action: string };\n  }\n}\n\nexport default <T extends Constructor<HassBaseEl>>(superClass: T) =>\n  class extends superClass {\n    protected firstUpdated(changedProps: PropertyValues) {\n      super.firstUpdated(changedProps);\n      this.addEventListener(\"hass-action\", (ev) => this._handleAction(ev));\n    }\n\n    private async _handleAction(\n      ev: HASSDomEvent<{ config: ActionConfigParams; action: string }>\n    ) {\n      if (!this.hass) return;\n      handleAction(this, this.hass, ev.detail.config, ev.detail.action);\n    }\n  };\n"],"mappings":"AAEA,SAEEA,YAAY,QACP,yCAAyC;AAWhD,gBAAmDC,UAAa,IAC9D,cAAcA,UAAU,CAAC;EACbC,YAAYA,CAACC,YAA4B,EAAE;IACnD,KAAK,CAACD,YAAY,CAACC,YAAY,CAAC;IAChC,IAAI,CAACC,gBAAgB,CAAC,aAAa,EAAGC,EAAE,IAAK,IAAI,CAACC,aAAa,CAACD,EAAE,CAAC,CAAC;EACtE;EAEA,MAAcC,aAAaA,CACzBD,EAAgE,EAChE;IACA,IAAI,CAAC,IAAI,CAACE,IAAI,EAAE;IAChBP,YAAY,CAAC,IAAI,EAAE,IAAI,CAACO,IAAI,EAAEF,EAAE,CAACG,MAAM,CAACC,MAAM,EAAEJ,EAAE,CAACG,MAAM,CAACE,MAAM,CAAC;EACnE;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}