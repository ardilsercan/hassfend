{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { TimeScale } from \"chart.js\";\nexport var TimeLineScale = /*#__PURE__*/function (_TimeScale) {\n  _inherits(TimeLineScale, _TimeScale);\n  function TimeLineScale() {\n    _classCallCheck(this, TimeLineScale);\n    return _callSuper(this, TimeLineScale, arguments);\n  }\n  _createClass(TimeLineScale, [{\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this = this;\n      var options = this.options;\n      // @ts-ignore\n      var adapter = this._adapter;\n      var unit = options.time.unit || \"day\";\n      var _this$getUserBounds = this.getUserBounds(),\n        min = _this$getUserBounds.min,\n        max = _this$getUserBounds.max;\n      var chart = this.chart;\n\n      // Convert data to timestamps\n      chart.data.datasets.forEach(function (dataset, index) {\n        if (!chart.isDatasetVisible(index)) {\n          return;\n        }\n        for (var _i = 0, _arr = dataset.data; _i < _arr.length; _i++) {\n          var data = _arr[_i];\n          var timestamp0 = adapter.parse(data.start, _this);\n          var timestamp1 = adapter.parse(data.end, _this);\n          if (timestamp0 > timestamp1) {\n            var _ref = [timestamp1, timestamp0];\n            timestamp0 = _ref[0];\n            timestamp1 = _ref[1];\n          }\n          if (min > timestamp0 && timestamp0) {\n            min = timestamp0;\n          }\n          if (max < timestamp1 && timestamp1) {\n            max = timestamp1;\n          }\n        }\n      });\n\n      // In case there is no valid min/max, var's use today limits\n      min = isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n      max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit);\n\n      // Make sure that max is strictly higher than min (required by the lookup table)\n      this.min = Math.min(min, max - 1);\n      this.max = Math.max(min + 1, max);\n    }\n  }]);\n  return TimeLineScale;\n}(TimeScale);\nTimeLineScale.id = \"timeline\";\nTimeLineScale.defaults = {\n  position: \"bottom\",\n  tooltips: {\n    mode: \"nearest\"\n  },\n  ticks: {\n    autoSkip: true\n  }\n};","map":{"version":3,"names":["TimeScale","TimeLineScale","_TimeScale","_inherits","_classCallCheck","_callSuper","arguments","_createClass","key","value","determineDataLimits","_this","options","adapter","_adapter","unit","time","_this$getUserBounds","getUserBounds","min","max","chart","data","datasets","forEach","dataset","index","isDatasetVisible","_i","_arr","length","timestamp0","parse","start","timestamp1","end","_ref","isFinite","isNaN","startOf","Date","now","endOf","Math","id","defaults","position","tooltips","mode","ticks","autoSkip"],"sources":["/Users/sercanardil/Desktop/frontend/src/components/chart/timeline-chart/timeline-scale.ts"],"sourcesContent":["import { TimeScale } from \"chart.js\";\nimport { TimeLineData } from \"./const\";\n\nexport class TimeLineScale extends TimeScale {\n  static id = \"timeline\";\n\n  static defaults = {\n    position: \"bottom\",\n    tooltips: {\n      mode: \"nearest\",\n    },\n    ticks: {\n      autoSkip: true,\n    },\n  };\n\n  determineDataLimits() {\n    const options = this.options;\n    // @ts-ignore\n    const adapter = this._adapter;\n    const unit = options.time.unit || \"day\";\n    let { min, max } = this.getUserBounds();\n\n    const chart = this.chart;\n\n    // Convert data to timestamps\n    chart.data.datasets.forEach((dataset, index) => {\n      if (!chart.isDatasetVisible(index)) {\n        return;\n      }\n      for (const data of dataset.data as TimeLineData[]) {\n        let timestamp0 = adapter.parse(data.start, this);\n        let timestamp1 = adapter.parse(data.end, this);\n        if (timestamp0 > timestamp1) {\n          [timestamp0, timestamp1] = [timestamp1, timestamp0];\n        }\n        if (min > timestamp0 && timestamp0) {\n          min = timestamp0;\n        }\n        if (max < timestamp1 && timestamp1) {\n          max = timestamp1;\n        }\n      }\n    });\n\n    // In case there is no valid min/max, var's use today limits\n    min =\n      isFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit);\n\n    // Make sure that max is strictly higher than min (required by the lookup table)\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}