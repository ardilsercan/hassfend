{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar mdiArrowOscillating = \"M6 14H9L5 18L1 14H4C4 11.3 5.7 6.6 11 6.1V8.1C7.6 8.6 6 11.9 6 14M20 14C20 11.3 18.3 6.6 13 6.1V8.1C16.4 8.7 18 11.9 18 14H15L19 18L23 14H20Z\";\nvar mdiArrowOscillatingOff = \"M13 8.1V6.1C18.3 6.6 20 11.4 20 14H23L20.1 16.9L17.2 14H18C18 11.9 16.4 8.6 13 8.1M7.8 7.1L2.4 1.7L1.1 3L6.3 8.2C4.7 10 4 12.4 4 14H1L5 18L9 14H6C6 12.7 6.6 11 7.9 9.7L20.9 22.7L22.2 21.4L9.3 8.7L7.8 7.1M11 6.1L9.5 6.4L11 7.8V6.1Z\";\nvar mdiFan = \"M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11M12.5,2C17,2 17.11,5.57 14.75,6.75C13.76,7.24 13.32,8.29 13.13,9.22C13.61,9.42 14.03,9.73 14.35,10.13C18.05,8.13 22.03,8.92 22.03,12.5C22.03,17 18.46,17.1 17.28,14.73C16.78,13.74 15.72,13.3 14.79,13.11C14.59,13.59 14.28,14 13.88,14.34C15.87,18.03 15.08,22 11.5,22C7,22 6.91,18.42 9.27,17.24C10.25,16.75 10.69,15.71 10.89,14.79C10.4,14.59 9.97,14.27 9.65,13.87C5.96,15.85 2,15.07 2,11.5C2,7 5.56,6.89 6.74,9.26C7.24,10.25 8.29,10.68 9.22,10.87C9.41,10.39 9.73,9.97 10.14,9.65C8.15,5.96 8.94,2 12.5,2Z\";\nvar mdiFanOff = \"M12.5,2C9.64,2 8.57,4.55 9.29,7.47L15,13.16C15.87,13.37 16.81,13.81 17.28,14.73C18.46,17.1 22.03,17 22.03,12.5C22.03,8.92 18.05,8.13 14.35,10.13C14.03,9.73 13.61,9.42 13.13,9.22C13.32,8.29 13.76,7.24 14.75,6.75C17.11,5.57 17,2 12.5,2M3.28,4L2,5.27L4.47,7.73C3.22,7.74 2,8.87 2,11.5C2,15.07 5.96,15.85 9.65,13.87C9.97,14.27 10.4,14.59 10.89,14.79C10.69,15.71 10.25,16.75 9.27,17.24C6.91,18.42 7,22 11.5,22C13.8,22 14.94,20.36 14.94,18.21L18.73,22L20,20.72L3.28,4Z\";\nvar mdiPower = \"M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13\";\nvar mdiTuneVariant = \"M8 13C6.14 13 4.59 14.28 4.14 16H2V18H4.14C4.59 19.72 6.14 21 8 21S11.41 19.72 11.86 18H22V16H11.86C11.41 14.28 9.86 13 8 13M8 19C6.9 19 6 18.1 6 17C6 15.9 6.9 15 8 15S10 15.9 10 17C10 18.1 9.1 19 8 19M19.86 6C19.41 4.28 17.86 3 16 3S12.59 4.28 12.14 6H2V8H12.14C12.59 9.72 14.14 11 16 11S19.41 9.72 19.86 8H22V6H19.86M16 9C14.9 9 14 8.1 14 7C14 5.9 14.9 5 16 5S18 5.9 18 7C18 8.1 17.1 9 16 9Z\";\nimport { LitElement, html, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { stateActive } from \"../../../common/entity/state_active\";\nimport { supportsFeature } from \"../../../common/entity/supports-feature\";\nimport \"../../../components/ha-attribute-icon\";\nimport \"../../../components/ha-control-select-menu\";\nimport \"../../../components/ha-list-item\";\nimport \"../../../components/ha-outlined-icon-button\";\nimport { UNAVAILABLE } from \"../../../data/entity\";\nimport { FAN_SPEED_COUNT_MAX_FOR_BUTTONS, FanEntityFeature, computeFanSpeedCount, computeFanSpeedStateDisplay } from \"../../../data/fan\";\nimport { forwardHaptic } from \"../../../data/haptics\";\nimport \"../../../state-control/fan/ha-state-control-fan-speed\";\nimport \"../../../state-control/ha-state-control-toggle\";\nimport \"../components/ha-more-info-control-select-container\";\nimport \"../components/ha-more-info-state-header\";\nimport { moreInfoControlStyle } from \"../components/more-info-control-style\";\nvar MoreInfoFan = _decorate([customElement(\"more-info-fan\")], function (_initialize, _LitElement) {\n  var MoreInfoFan = /*#__PURE__*/function (_LitElement2) {\n    _inherits(MoreInfoFan, _LitElement2);\n    function MoreInfoFan() {\n      var _this;\n      _classCallCheck(this, MoreInfoFan);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, MoreInfoFan, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(MoreInfoFan);\n  }(_LitElement);\n  return {\n    F: MoreInfoFan,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_presetMode\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_toggle\",\n      value: function value() {\n        var _this2 = this;\n        return function () {\n          var _this2$stateObj;\n          var service = ((_this2$stateObj = _this2.stateObj) === null || _this2$stateObj === void 0 ? void 0 : _this2$stateObj.state) === \"on\" ? \"turn_off\" : \"turn_on\";\n          forwardHaptic(\"light\");\n          _this2.hass.callService(\"fan\", service, {\n            entity_id: _this2.stateObj.entity_id\n          });\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleDirection\",\n      value: function _handleDirection(ev) {\n        var _this$stateObj;\n        var newVal = ev.target.value;\n        var oldVal = (_this$stateObj = this.stateObj) === null || _this$stateObj === void 0 ? void 0 : _this$stateObj.attributes.direction;\n        if (!newVal || oldVal === newVal) return;\n        this.hass.callService(\"fan\", \"set_direction\", {\n          entity_id: this.stateObj.entity_id,\n          direction: newVal\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handlePresetMode\",\n      value: function _handlePresetMode(ev) {\n        var newVal = ev.target.value;\n        var oldVal = this._presetMode;\n        if (!newVal || oldVal === newVal) return;\n        this._presetMode = newVal;\n        this.hass.callService(\"fan\", \"set_preset_mode\", {\n          entity_id: this.stateObj.entity_id,\n          preset_mode: newVal\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleOscillating\",\n      value: function _handleOscillating(ev) {\n        var _this$stateObj2;\n        var newVal = ev.target.value === \"true\";\n        var oldVal = (_this$stateObj2 = this.stateObj) === null || _this$stateObj2 === void 0 ? void 0 : _this$stateObj2.attributes.oscillating;\n        if (oldVal === newVal) return;\n        this.hass.callService(\"fan\", \"oscillate\", {\n          entity_id: this.stateObj.entity_id,\n          oscillating: newVal\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        if (changedProps.has(\"stateObj\")) {\n          var _this$stateObj3;\n          this._presetMode = (_this$stateObj3 = this.stateObj) === null || _this$stateObj3 === void 0 ? void 0 : _this$stateObj3.attributes.preset_mode;\n        }\n      }\n    }, {\n      kind: \"get\",\n      key: \"_stateOverride\",\n      value: function _stateOverride() {\n        var stateDisplay = this.hass.formatEntityState(this.stateObj);\n        var positionStateDisplay = computeFanSpeedStateDisplay(this.stateObj, this.hass);\n        if (positionStateDisplay && stateActive(this.stateObj)) {\n          return positionStateDisplay;\n        }\n        return stateDisplay;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$stateObj$attrib,\n          _this3 = this;\n        if (!this.hass || !this.stateObj) {\n          return nothing;\n        }\n        var supportsSpeed = supportsFeature(this.stateObj, FanEntityFeature.SET_SPEED);\n        var supportsDirection = supportsFeature(this.stateObj, FanEntityFeature.DIRECTION);\n        var supportsOscillate = supportsFeature(this.stateObj, FanEntityFeature.OSCILLATE);\n        var supportsPresetMode = supportsFeature(this.stateObj, FanEntityFeature.PRESET_MODE);\n        var supportSpeedPercentage = supportsSpeed && computeFanSpeedCount(this.stateObj) > FAN_SPEED_COUNT_MAX_FOR_BUTTONS;\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-more-info-state-header\\n        .hass=\", \"\\n        .stateObj=\", \"\\n        .stateOverride=\", \"\\n      ></ha-more-info-state-header>\\n      <div class=\\\"controls\\\">\\n        \", \"\\n        \", \"\\n      </div>\\n      <ha-more-info-control-select-container>\\n        \", \"\\n        \", \"\\n        \", \"\\n      </ha-more-info-control-select-container>\\n    \"])), this.hass, this.stateObj, this._stateOverride, supportsSpeed ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n              <ha-state-control-fan-speed\\n                .stateObj=\", \"\\n                .hass=\", \"\\n              >\\n              </ha-state-control-fan-speed>\\n            \"])), this.stateObj, this.hass) : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n              <ha-state-control-toggle\\n                .stateObj=\", \"\\n                .hass=\", \"\\n                .iconPathOn=\", \"\\n                .iconPathOff=\", \"\\n              ></ha-state-control-toggle>\\n            \"])), this.stateObj, this.hass, mdiFan, mdiFanOff), supportSpeedPercentage ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n              <div class=\\\"buttons\\\">\\n                \", \"\\n              </div>\\n            \"])), supportSpeedPercentage ? html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                      <ha-outlined-icon-button\\n                        .disabled=\", \"\\n                        @click=\", \"\\n                      >\\n                        <ha-svg-icon .path=\", \"></ha-svg-icon>\\n                      </ha-outlined-icon-button>\\n                    \"])), this.stateObj.state === UNAVAILABLE, this._toggle, mdiPower) : nothing) : nothing, supportsPresetMode && this.stateObj.attributes.preset_modes ? html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n              <ha-control-select-menu\\n                .label=\", \"\\n                .value=\", \"\\n                .disabled=\", \"\\n                fixedMenuPosition\\n                naturalMenuWidth\\n                @selected=\", \"\\n                @closed=\", \"\\n              >\\n                \", \"\\n                \", \"\\n              </ha-control-select-menu>\\n            \"])), this.hass.formatEntityAttributeName(this.stateObj, \"preset_mode\"), this.stateObj.attributes.preset_mode, this.stateObj.state === UNAVAILABLE, this._handlePresetMode, stopPropagation, this.stateObj.attributes.preset_mode ? html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<ha-attribute-icon\\n                      slot=\\\"icon\\\"\\n                      .hass=\", \"\\n                      .stateObj=\", \"\\n                      attribute=\\\"preset_mode\\\"\\n                      .attributeValue=\", \"\\n                    ></ha-attribute-icon>\"])), this.hass, this.stateObj, this.stateObj.attributes.preset_mode) : html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n                      <ha-svg-icon\\n                        slot=\\\"icon\\\"\\n                        .path=\", \"\\n                      ></ha-svg-icon>\\n                    \"])), mdiTuneVariant), (_this$stateObj$attrib = this.stateObj.attributes.preset_modes) === null || _this$stateObj$attrib === void 0 ? void 0 : _this$stateObj$attrib.map(function (mode) {\n          return html(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n                    <ha-list-item .value=\", \" graphic=\\\"icon\\\">\\n                      <ha-attribute-icon\\n                        slot=\\\"graphic\\\"\\n                        .hass=\", \"\\n                        .stateObj=\", \"\\n                        attribute=\\\"preset_mode\\\"\\n                        .attributeValue=\", \"\\n                      ></ha-attribute-icon>\\n                      \", \"\\n                    </ha-list-item>\\n                  \"])), mode, _this3.hass, _this3.stateObj, mode, _this3.hass.formatEntityAttributeValue(_this3.stateObj, \"preset_mode\", mode));\n        })) : nothing, supportsDirection ? html(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n              <ha-control-select-menu\\n                .label=\", \"\\n                .value=\", \"\\n                .disabled=\", \"\\n                fixedMenuPosition\\n                naturalMenuWidth\\n                @selected=\", \"\\n                @closed=\", \"\\n              >\\n                <ha-attribute-icon\\n                  slot=\\\"icon\\\"\\n                  .hass=\", \"\\n                  .stateObj=\", \"\\n                  attribute=\\\"direction\\\"\\n                  .attributeValue=\", \"\\n                ></ha-attribute-icon>\\n                <ha-list-item value=\\\"forward\\\" graphic=\\\"icon\\\">\\n                  <ha-attribute-icon\\n                    slot=\\\"graphic\\\"\\n                    .hass=\", \"\\n                    .stateObj=\", \"\\n                    attribute=\\\"direction\\\"\\n                    attributeValue=\\\"forward\\\"\\n                  ></ha-attribute-icon>\\n                  \", \"\\n                </ha-list-item>\\n                <ha-list-item value=\\\"reverse\\\" graphic=\\\"icon\\\">\\n                  <ha-attribute-icon\\n                    slot=\\\"graphic\\\"\\n                    .hass=\", \"\\n                    .stateObj=\", \"\\n                    attribute=\\\"direction\\\"\\n                    attributeValue=\\\"reverse\\\"\\n                  ></ha-attribute-icon>\\n                  \", \"\\n                </ha-list-item>\\n              </ha-control-select-menu>\\n            \"])), this.hass.formatEntityAttributeName(this.stateObj, \"direction\"), this.stateObj.attributes.direction, this.stateObj.state === UNAVAILABLE, this._handleDirection, stopPropagation, this.hass, this.stateObj, this.stateObj.attributes.direction, this.hass, this.stateObj, this.hass.formatEntityAttributeValue(this.stateObj, \"direction\", \"forward\"), this.hass, this.stateObj, this.hass.formatEntityAttributeValue(this.stateObj, \"direction\", \"reverse\")) : nothing, supportsOscillate ? html(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n              <ha-control-select-menu\\n                .label=\", \"\\n                .value=\", \"\\n                .disabled=\", \"\\n                fixedMenuPosition\\n                naturalMenuWidth\\n                @selected=\", \"\\n                @closed=\", \"\\n              >\\n                <ha-svg-icon\\n                  slot=\\\"icon\\\"\\n                  .path=\", \"\\n                ></ha-svg-icon>\\n                <ha-list-item value=\\\"true\\\" graphic=\\\"icon\\\">\\n                  <ha-svg-icon\\n                    slot=\\\"graphic\\\"\\n                    .path=\", \"\\n                  ></ha-svg-icon>\\n                  \", \"\\n                </ha-list-item>\\n                <ha-list-item value=\\\"false\\\" graphic=\\\"icon\\\">\\n                  <ha-svg-icon\\n                    slot=\\\"graphic\\\"\\n                    .path=\", \"\\n                  ></ha-svg-icon>\\n                  \", \"\\n                </ha-list-item>\\n              </ha-control-select-menu>\\n            \"])), this.hass.formatEntityAttributeName(this.stateObj, \"oscillating\"), this.stateObj.attributes.oscillating ? \"true\" : \"false\", this.stateObj.state === UNAVAILABLE, this._handleOscillating, stopPropagation, mdiArrowOscillatingOff, mdiArrowOscillating, this.hass.formatEntityAttributeValue(this.stateObj, \"oscillating\", true), mdiArrowOscillatingOff, this.hass.formatEntityAttributeValue(this.stateObj, \"oscillating\", false)) : nothing);\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return moreInfoControlStyle;\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["LitElement","html","nothing","customElement","property","state","stopPropagation","stateActive","supportsFeature","UNAVAILABLE","FAN_SPEED_COUNT_MAX_FOR_BUTTONS","FanEntityFeature","computeFanSpeedCount","computeFanSpeedStateDisplay","forwardHaptic","moreInfoControlStyle","MoreInfoFan","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","_this2","_this2$stateObj","service","stateObj","hass","callService","entity_id","_handleDirection","ev","_this$stateObj","newVal","target","oldVal","attributes","direction","_handlePresetMode","_presetMode","preset_mode","_handleOscillating","_this$stateObj2","oscillating","updated","changedProps","has","_this$stateObj3","_stateOverride","stateDisplay","formatEntityState","positionStateDisplay","render","_this$stateObj$attrib","_this3","supportsSpeed","SET_SPEED","supportsDirection","DIRECTION","supportsOscillate","OSCILLATE","supportsPresetMode","PRESET_MODE","supportSpeedPercentage","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","mdiFan","mdiFanOff","_templateObject4","_templateObject5","_toggle","mdiPower","preset_modes","_templateObject6","formatEntityAttributeName","_templateObject7","_templateObject8","mdiTuneVariant","map","mode","_templateObject9","formatEntityAttributeValue","_templateObject10","_templateObject11","mdiArrowOscillatingOff","mdiArrowOscillating","static","styles"],"sources":["/workspaces/frontend/src/dialogs/more-info/controls/more-info-fan.ts"],"sourcesContent":["import {\n  mdiArrowOscillating,\n  mdiArrowOscillatingOff,\n  mdiFan,\n  mdiFanOff,\n  mdiPower,\n  mdiTuneVariant,\n} from \"@mdi/js\";\nimport { CSSResultGroup, LitElement, PropertyValues, html, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { stopPropagation } from \"../../../common/dom/stop_propagation\";\nimport { stateActive } from \"../../../common/entity/state_active\";\nimport { supportsFeature } from \"../../../common/entity/supports-feature\";\nimport \"../../../components/ha-attribute-icon\";\nimport \"../../../components/ha-control-select-menu\";\nimport \"../../../components/ha-list-item\";\nimport \"../../../components/ha-outlined-icon-button\";\nimport { UNAVAILABLE } from \"../../../data/entity\";\nimport {\n  FAN_SPEED_COUNT_MAX_FOR_BUTTONS,\n  FanEntity,\n  FanEntityFeature,\n  computeFanSpeedCount,\n  computeFanSpeedStateDisplay,\n} from \"../../../data/fan\";\nimport { forwardHaptic } from \"../../../data/haptics\";\nimport \"../../../state-control/fan/ha-state-control-fan-speed\";\nimport \"../../../state-control/ha-state-control-toggle\";\nimport type { HomeAssistant } from \"../../../types\";\nimport \"../components/ha-more-info-control-select-container\";\nimport \"../components/ha-more-info-state-header\";\nimport { moreInfoControlStyle } from \"../components/more-info-control-style\";\n\n@customElement(\"more-info-fan\")\nclass MoreInfoFan extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public stateObj?: FanEntity;\n\n  @state() public _presetMode?: string;\n\n  private _toggle = () => {\n    const service = this.stateObj?.state === \"on\" ? \"turn_off\" : \"turn_on\";\n    forwardHaptic(\"light\");\n    this.hass.callService(\"fan\", service, {\n      entity_id: this.stateObj!.entity_id,\n    });\n  };\n\n  _handleDirection(ev) {\n    const newVal = ev.target.value;\n    const oldVal = this.stateObj?.attributes.direction;\n\n    if (!newVal || oldVal === newVal) return;\n\n    this.hass.callService(\"fan\", \"set_direction\", {\n      entity_id: this.stateObj!.entity_id,\n      direction: newVal,\n    });\n  }\n\n  _handlePresetMode(ev) {\n    const newVal = ev.target.value;\n    const oldVal = this._presetMode;\n\n    if (!newVal || oldVal === newVal) return;\n\n    this._presetMode = newVal;\n    this.hass.callService(\"fan\", \"set_preset_mode\", {\n      entity_id: this.stateObj!.entity_id,\n      preset_mode: newVal,\n    });\n  }\n\n  _handleOscillating(ev) {\n    const newVal = ev.target.value === \"true\";\n    const oldVal = this.stateObj?.attributes.oscillating;\n\n    if (oldVal === newVal) return;\n\n    this.hass.callService(\"fan\", \"oscillate\", {\n      entity_id: this.stateObj!.entity_id,\n      oscillating: newVal,\n    });\n  }\n\n  protected updated(changedProps: PropertyValues): void {\n    if (changedProps.has(\"stateObj\")) {\n      this._presetMode = this.stateObj?.attributes.preset_mode;\n    }\n  }\n\n  private get _stateOverride() {\n    const stateDisplay = this.hass.formatEntityState(this.stateObj!);\n\n    const positionStateDisplay = computeFanSpeedStateDisplay(\n      this.stateObj!,\n      this.hass\n    );\n\n    if (positionStateDisplay && stateActive(this.stateObj!)) {\n      return positionStateDisplay;\n    }\n    return stateDisplay;\n  }\n\n  protected render() {\n    if (!this.hass || !this.stateObj) {\n      return nothing;\n    }\n\n    const supportsSpeed = supportsFeature(\n      this.stateObj,\n      FanEntityFeature.SET_SPEED\n    );\n\n    const supportsDirection = supportsFeature(\n      this.stateObj,\n      FanEntityFeature.DIRECTION\n    );\n    const supportsOscillate = supportsFeature(\n      this.stateObj,\n      FanEntityFeature.OSCILLATE\n    );\n    const supportsPresetMode = supportsFeature(\n      this.stateObj,\n      FanEntityFeature.PRESET_MODE\n    );\n\n    const supportSpeedPercentage =\n      supportsSpeed &&\n      computeFanSpeedCount(this.stateObj) > FAN_SPEED_COUNT_MAX_FOR_BUTTONS;\n\n    return html`\n      <ha-more-info-state-header\n        .hass=${this.hass}\n        .stateObj=${this.stateObj}\n        .stateOverride=${this._stateOverride}\n      ></ha-more-info-state-header>\n      <div class=\"controls\">\n        ${supportsSpeed\n          ? html`\n              <ha-state-control-fan-speed\n                .stateObj=${this.stateObj}\n                .hass=${this.hass}\n              >\n              </ha-state-control-fan-speed>\n            `\n          : html`\n              <ha-state-control-toggle\n                .stateObj=${this.stateObj}\n                .hass=${this.hass}\n                .iconPathOn=${mdiFan}\n                .iconPathOff=${mdiFanOff}\n              ></ha-state-control-toggle>\n            `}\n        ${supportSpeedPercentage\n          ? html`\n              <div class=\"buttons\">\n                ${supportSpeedPercentage\n                  ? html`\n                      <ha-outlined-icon-button\n                        .disabled=${this.stateObj.state === UNAVAILABLE}\n                        @click=${this._toggle}\n                      >\n                        <ha-svg-icon .path=${mdiPower}></ha-svg-icon>\n                      </ha-outlined-icon-button>\n                    `\n                  : nothing}\n              </div>\n            `\n          : nothing}\n      </div>\n      <ha-more-info-control-select-container>\n        ${supportsPresetMode && this.stateObj.attributes.preset_modes\n          ? html`\n              <ha-control-select-menu\n                .label=${this.hass.formatEntityAttributeName(\n                  this.stateObj,\n                  \"preset_mode\"\n                )}\n                .value=${this.stateObj.attributes.preset_mode}\n                .disabled=${this.stateObj.state === UNAVAILABLE}\n                fixedMenuPosition\n                naturalMenuWidth\n                @selected=${this._handlePresetMode}\n                @closed=${stopPropagation}\n              >\n                ${this.stateObj.attributes.preset_mode\n                  ? html`<ha-attribute-icon\n                      slot=\"icon\"\n                      .hass=${this.hass}\n                      .stateObj=${this.stateObj}\n                      attribute=\"preset_mode\"\n                      .attributeValue=${this.stateObj.attributes.preset_mode}\n                    ></ha-attribute-icon>`\n                  : html`\n                      <ha-svg-icon\n                        slot=\"icon\"\n                        .path=${mdiTuneVariant}\n                      ></ha-svg-icon>\n                    `}\n                ${this.stateObj.attributes.preset_modes?.map(\n                  (mode) => html`\n                    <ha-list-item .value=${mode} graphic=\"icon\">\n                      <ha-attribute-icon\n                        slot=\"graphic\"\n                        .hass=${this.hass}\n                        .stateObj=${this.stateObj}\n                        attribute=\"preset_mode\"\n                        .attributeValue=${mode}\n                      ></ha-attribute-icon>\n                      ${this.hass.formatEntityAttributeValue(\n                        this.stateObj!,\n                        \"preset_mode\",\n                        mode\n                      )}\n                    </ha-list-item>\n                  `\n                )}\n              </ha-control-select-menu>\n            `\n          : nothing}\n        ${supportsDirection\n          ? html`\n              <ha-control-select-menu\n                .label=${this.hass.formatEntityAttributeName(\n                  this.stateObj,\n                  \"direction\"\n                )}\n                .value=${this.stateObj.attributes.direction}\n                .disabled=${this.stateObj.state === UNAVAILABLE}\n                fixedMenuPosition\n                naturalMenuWidth\n                @selected=${this._handleDirection}\n                @closed=${stopPropagation}\n              >\n                <ha-attribute-icon\n                  slot=\"icon\"\n                  .hass=${this.hass}\n                  .stateObj=${this.stateObj}\n                  attribute=\"direction\"\n                  .attributeValue=${this.stateObj.attributes.direction}\n                ></ha-attribute-icon>\n                <ha-list-item value=\"forward\" graphic=\"icon\">\n                  <ha-attribute-icon\n                    slot=\"graphic\"\n                    .hass=${this.hass}\n                    .stateObj=${this.stateObj}\n                    attribute=\"direction\"\n                    attributeValue=\"forward\"\n                  ></ha-attribute-icon>\n                  ${this.hass.formatEntityAttributeValue(\n                    this.stateObj,\n                    \"direction\",\n                    \"forward\"\n                  )}\n                </ha-list-item>\n                <ha-list-item value=\"reverse\" graphic=\"icon\">\n                  <ha-attribute-icon\n                    slot=\"graphic\"\n                    .hass=${this.hass}\n                    .stateObj=${this.stateObj}\n                    attribute=\"direction\"\n                    attributeValue=\"reverse\"\n                  ></ha-attribute-icon>\n                  ${this.hass.formatEntityAttributeValue(\n                    this.stateObj,\n                    \"direction\",\n                    \"reverse\"\n                  )}\n                </ha-list-item>\n              </ha-control-select-menu>\n            `\n          : nothing}\n        ${supportsOscillate\n          ? html`\n              <ha-control-select-menu\n                .label=${this.hass.formatEntityAttributeName(\n                  this.stateObj,\n                  \"oscillating\"\n                )}\n                .value=${this.stateObj.attributes.oscillating\n                  ? \"true\"\n                  : \"false\"}\n                .disabled=${this.stateObj.state === UNAVAILABLE}\n                fixedMenuPosition\n                naturalMenuWidth\n                @selected=${this._handleOscillating}\n                @closed=${stopPropagation}\n              >\n                <ha-svg-icon\n                  slot=\"icon\"\n                  .path=${mdiArrowOscillatingOff}\n                ></ha-svg-icon>\n                <ha-list-item value=\"true\" graphic=\"icon\">\n                  <ha-svg-icon\n                    slot=\"graphic\"\n                    .path=${mdiArrowOscillating}\n                  ></ha-svg-icon>\n                  ${this.hass.formatEntityAttributeValue(\n                    this.stateObj,\n                    \"oscillating\",\n                    true\n                  )}\n                </ha-list-item>\n                <ha-list-item value=\"false\" graphic=\"icon\">\n                  <ha-svg-icon\n                    slot=\"graphic\"\n                    .path=${mdiArrowOscillatingOff}\n                  ></ha-svg-icon>\n                  ${this.hass.formatEntityAttributeValue(\n                    this.stateObj,\n                    \"oscillating\",\n                    false\n                  )}\n                </ha-list-item>\n              </ha-control-select-menu>\n            `\n          : nothing}\n      </ha-more-info-control-select-container>\n    `;\n  }\n\n  static get styles(): CSSResultGroup {\n    return moreInfoControlStyle;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"more-info-fan\": MoreInfoFan;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}