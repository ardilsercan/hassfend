{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport \"@material/mwc-button\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { atLeastVersion } from \"../common/config/version\";\nimport { applyThemesOnElement } from \"../common/dom/apply_themes_on_element\";\nimport \"../components/ha-card\";\nimport { haStyle } from \"../resources/styles\";\nimport \"./hass-subpage\";\nlet SupervisorErrorScreen = _decorate([customElement(\"supervisor-error-screen\")], function (_initialize, _LitElement) {\n  class SupervisorErrorScreen extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: SupervisorErrorScreen,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        _get(_getPrototypeOf(SupervisorErrorScreen.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this._applyTheme();\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(SupervisorErrorScreen.prototype), \"updated\", this).call(this, changedProps);\n        const oldHass = changedProps.get(\"hass\");\n        if (!oldHass) {\n          return;\n        }\n        if (oldHass.themes !== this.hass.themes) {\n          this._applyTheme();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html`\n      <hass-subpage\n        .hass=${this.hass}\n        .header=${this.hass.localize(\"ui.errors.supervisor.title\")}\n      >\n        <ha-card header=\"Troubleshooting\">\n          <div class=\"card-content\">\n            <ol>\n              <li>${this.hass.localize(\"ui.errors.supervisor.wait\")}</li>\n              <li>\n                <a\n                  class=\"supervisor_error-link\"\n                  href=\"http://homeassistant.local:4357\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  ${this.hass.localize(\"ui.errors.supervisor.observer\")}\n                </a>\n              </li>\n              <li>${this.hass.localize(\"ui.errors.supervisor.reboot\")}</li>\n              <li>\n                <a href=\"/config/info\" target=\"_parent\">\n                  ${this.hass.localize(\"ui.errors.supervisor.system_health\")}\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://www.home-assistant.io/help/\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  ${this.hass.localize(\"ui.errors.supervisor.ask\")}\n                </a>\n              </li>\n            </ol>\n          </div>\n        </ha-card>\n      </hass-subpage>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_applyTheme\",\n      value: function _applyTheme() {\n        let themeName;\n        let themeSettings;\n        if (atLeastVersion(this.hass.config.version, 0, 114)) {\n          var _this$hass$selectedTh;\n          themeName = ((_this$hass$selectedTh = this.hass.selectedTheme) === null || _this$hass$selectedTh === void 0 ? void 0 : _this$hass$selectedTh.theme) || (this.hass.themes.darkMode && this.hass.themes.default_dark_theme ? this.hass.themes.default_dark_theme : this.hass.themes.default_theme);\n          themeSettings = this.hass.selectedTheme;\n        } else {\n          themeName = this.hass.selectedTheme || this.hass.themes.default_theme;\n        }\n        applyThemesOnElement(this.parentElement, this.hass.themes, themeName, themeSettings, true);\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, css`\n        a {\n          color: var(--mdc-theme-primary);\n        }\n\n        ha-card {\n          width: 600px;\n          margin: auto;\n          padding: 8px;\n        }\n        @media all and (max-width: 500px) {\n          ha-card {\n            width: calc(100vw - 32px);\n          }\n        }\n      `];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","atLeastVersion","applyThemesOnElement","haStyle","SupervisorErrorScreen","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","firstUpdated","changedProps","_get","_getPrototypeOf","prototype","call","_applyTheme","updated","oldHass","get","themes","hass","render","localize","themeName","themeSettings","config","version","_this$hass$selectedTh","selectedTheme","theme","darkMode","default_dark_theme","default_theme","parentElement","static","styles"],"sources":["/workspaces/frontend/src/layouts/supervisor-error-screen.ts"],"sourcesContent":["import \"@material/mwc-button\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { atLeastVersion } from \"../common/config/version\";\nimport { applyThemesOnElement } from \"../common/dom/apply_themes_on_element\";\nimport \"../components/ha-card\";\nimport { haStyle } from \"../resources/styles\";\nimport { HomeAssistant } from \"../types\";\nimport \"./hass-subpage\";\n\n@customElement(\"supervisor-error-screen\")\nclass SupervisorErrorScreen extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    this._applyTheme();\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n    const oldHass = changedProps.get(\"hass\") as HomeAssistant | undefined;\n    if (!oldHass) {\n      return;\n    }\n    if (oldHass.themes !== this.hass.themes) {\n      this._applyTheme();\n    }\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      <hass-subpage\n        .hass=${this.hass}\n        .header=${this.hass.localize(\"ui.errors.supervisor.title\")}\n      >\n        <ha-card header=\"Troubleshooting\">\n          <div class=\"card-content\">\n            <ol>\n              <li>${this.hass.localize(\"ui.errors.supervisor.wait\")}</li>\n              <li>\n                <a\n                  class=\"supervisor_error-link\"\n                  href=\"http://homeassistant.local:4357\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  ${this.hass.localize(\"ui.errors.supervisor.observer\")}\n                </a>\n              </li>\n              <li>${this.hass.localize(\"ui.errors.supervisor.reboot\")}</li>\n              <li>\n                <a href=\"/config/info\" target=\"_parent\">\n                  ${this.hass.localize(\"ui.errors.supervisor.system_health\")}\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"https://www.home-assistant.io/help/\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  ${this.hass.localize(\"ui.errors.supervisor.ask\")}\n                </a>\n              </li>\n            </ol>\n          </div>\n        </ha-card>\n      </hass-subpage>\n    `;\n  }\n\n  private _applyTheme() {\n    let themeName: string;\n    let themeSettings: Partial<HomeAssistant[\"selectedTheme\"]> | undefined;\n\n    if (atLeastVersion(this.hass.config.version, 0, 114)) {\n      themeName =\n        this.hass.selectedTheme?.theme ||\n        (this.hass.themes.darkMode && this.hass.themes.default_dark_theme\n          ? this.hass.themes.default_dark_theme!\n          : this.hass.themes.default_theme);\n\n      themeSettings = this.hass.selectedTheme;\n    } else {\n      themeName =\n        (this.hass.selectedTheme as unknown as string) ||\n        this.hass.themes.default_theme;\n    }\n\n    applyThemesOnElement(\n      this.parentElement,\n      this.hass.themes,\n      themeName,\n      themeSettings,\n      true\n    );\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        a {\n          color: var(--mdc-theme-primary);\n        }\n\n        ha-card {\n          width: 600px;\n          margin: auto;\n          padding: 8px;\n        }\n        @media all and (max-width: 500px) {\n          ha-card {\n            width: calc(100vw - 32px);\n          }\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"supervisor-error-screen\": SupervisorErrorScreen;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}