{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canonicalizeUnicodeLocaleId = exports.canonicalizeUnicodeLanguageId = void 0;\nvar tslib_1 = require(\"tslib\");\nvar aliases_generated_1 = require(\"./aliases.generated\");\nvar parser_1 = require(\"./parser\");\nvar likelySubtags_generated_1 = require(\"./likelySubtags.generated\");\nvar emitter_1 = require(\"./emitter\");\nfunction canonicalizeAttrs(strs) {\n  return Object.keys(strs.reduce(function (all, str) {\n    all[str.toLowerCase()] = 1;\n    return all;\n  }, {})).sort();\n}\nfunction canonicalizeKVs(arr) {\n  var all = {};\n  var result = [];\n  for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n    var kv = arr_1[_i];\n    if (kv[0] in all) {\n      continue;\n    }\n    all[kv[0]] = 1;\n    if (!kv[1] || kv[1] === 'true') {\n      result.push([kv[0].toLowerCase()]);\n    } else {\n      result.push([kv[0].toLowerCase(), kv[1].toLowerCase()]);\n    }\n  }\n  return result.sort(compareKV);\n}\nfunction compareKV(t1, t2) {\n  return t1[0] < t2[0] ? -1 : t1[0] > t2[0] ? 1 : 0;\n}\nfunction compareExtension(e1, e2) {\n  return e1.type < e2.type ? -1 : e1.type > e2.type ? 1 : 0;\n}\nfunction mergeVariants(v1, v2) {\n  var result = tslib_1.__spreadArray([], v1, true);\n  for (var _i = 0, v2_1 = v2; _i < v2_1.length; _i++) {\n    var v = v2_1[_i];\n    if (v1.indexOf(v) < 0) {\n      result.push(v);\n    }\n  }\n  return result;\n}\n/**\n * CAVEAT: We don't do this section in the spec bc they have no JSON data\n * Use the bcp47 data to replace keys, types, tfields, and tvalues by their canonical forms. See Section 3.6.4 U Extension Data Files) and Section 3.7.1 T Extension Data Files. The aliases are in the alias attribute value, while the canonical is in the name attribute value. For example,\nBecause of the following bcp47 data:\n<key name=\"ms\"…>…<type name=\"uksystem\" … alias=\"imperial\" … />…</key>\nWe get the following transformation:\nen-u-ms-imperial ⇒ en-u-ms-uksystem\n * @param lang\n */\nfunction canonicalizeUnicodeLanguageId(unicodeLanguageId) {\n  /**\n   * If the language subtag matches the type attribute of a languageAlias element in Supplemental Data, replace the language subtag with the replacement value.\n   *  1. If there are additional subtags in the replacement value, add them to the result, but only if there is no corresponding subtag already in the tag.\n   *  2. Five special deprecated grandfathered codes (such as i-default) are in type attributes, and are also replaced.\n   */\n  // From https://github.com/unicode-org/icu/blob/master/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L1246\n  // Try language _ variant\n  var finalLangAst = unicodeLanguageId;\n  if (unicodeLanguageId.variants.length) {\n    var replacedLang_1 = '';\n    for (var _i = 0, _a = unicodeLanguageId.variants; _i < _a.length; _i++) {\n      var variant = _a[_i];\n      if (replacedLang_1 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n        lang: unicodeLanguageId.lang,\n        variants: [variant]\n      })]) {\n        var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_1.split(parser_1.SEPARATOR));\n        finalLangAst = {\n          lang: replacedLangAst.lang,\n          script: finalLangAst.script || replacedLangAst.script,\n          region: finalLangAst.region || replacedLangAst.region,\n          variants: mergeVariants(finalLangAst.variants, replacedLangAst.variants)\n        };\n        break;\n      }\n    }\n  }\n  // language _ script _ country\n  // ug-Arab-CN -> ug-CN\n  if (finalLangAst.script && finalLangAst.region) {\n    var replacedLang_2 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n      lang: finalLangAst.lang,\n      script: finalLangAst.script,\n      region: finalLangAst.region,\n      variants: []\n    })];\n    if (replacedLang_2) {\n      var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_2.split(parser_1.SEPARATOR));\n      finalLangAst = {\n        lang: replacedLangAst.lang,\n        script: replacedLangAst.script,\n        region: replacedLangAst.region,\n        variants: finalLangAst.variants\n      };\n    }\n  }\n  // language _ country\n  // eg. az_AZ -> az_Latn_A\n  if (finalLangAst.region) {\n    var replacedLang_3 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n      lang: finalLangAst.lang,\n      region: finalLangAst.region,\n      variants: []\n    })];\n    if (replacedLang_3) {\n      var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_3.split(parser_1.SEPARATOR));\n      finalLangAst = {\n        lang: replacedLangAst.lang,\n        script: finalLangAst.script || replacedLangAst.script,\n        region: replacedLangAst.region,\n        variants: finalLangAst.variants\n      };\n    }\n  }\n  // only language\n  // e.g. twi -> ak\n  var replacedLang = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n    lang: finalLangAst.lang,\n    variants: []\n  })];\n  if (replacedLang) {\n    var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang.split(parser_1.SEPARATOR));\n    finalLangAst = {\n      lang: replacedLangAst.lang,\n      script: finalLangAst.script || replacedLangAst.script,\n      region: finalLangAst.region || replacedLangAst.region,\n      variants: finalLangAst.variants\n    };\n  }\n  if (finalLangAst.region) {\n    var region = finalLangAst.region.toUpperCase();\n    var regionAlias = aliases_generated_1.territoryAlias[region];\n    var replacedRegion = void 0;\n    if (regionAlias) {\n      var regions = regionAlias.split(' ');\n      replacedRegion = regions[0];\n      var likelySubtag = likelySubtags_generated_1.likelySubtags[(0, emitter_1.emitUnicodeLanguageId)({\n        lang: finalLangAst.lang,\n        script: finalLangAst.script,\n        variants: []\n      })];\n      if (likelySubtag) {\n        var likelyRegion = (0, parser_1.parseUnicodeLanguageId)(likelySubtag.split(parser_1.SEPARATOR)).region;\n        if (likelyRegion && regions.indexOf(likelyRegion) > -1) {\n          replacedRegion = likelyRegion;\n        }\n      }\n    }\n    if (replacedRegion) {\n      finalLangAst.region = replacedRegion;\n    }\n    finalLangAst.region = finalLangAst.region.toUpperCase();\n  }\n  if (finalLangAst.script) {\n    finalLangAst.script = finalLangAst.script[0].toUpperCase() + finalLangAst.script.slice(1).toLowerCase();\n    if (aliases_generated_1.scriptAlias[finalLangAst.script]) {\n      finalLangAst.script = aliases_generated_1.scriptAlias[finalLangAst.script];\n    }\n  }\n  if (finalLangAst.variants.length) {\n    for (var i = 0; i < finalLangAst.variants.length; i++) {\n      var variant = finalLangAst.variants[i].toLowerCase();\n      if (aliases_generated_1.variantAlias[variant]) {\n        var alias = aliases_generated_1.variantAlias[variant];\n        if ((0, parser_1.isUnicodeVariantSubtag)(alias)) {\n          finalLangAst.variants[i] = alias;\n        } else if ((0, parser_1.isUnicodeLanguageSubtag)(alias)) {\n          // Yes this can happen per the spec\n          finalLangAst.lang = alias;\n        }\n      }\n    }\n    finalLangAst.variants.sort();\n  }\n  return finalLangAst;\n}\nexports.canonicalizeUnicodeLanguageId = canonicalizeUnicodeLanguageId;\n/**\n * Canonicalize based on\n * https://www.unicode.org/reports/tr35/tr35.html#Canonical_Unicode_Locale_Identifiers\n * https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid\n * IMPORTANT: This modifies the object inline\n * @param locale\n */\nfunction canonicalizeUnicodeLocaleId(locale) {\n  locale.lang = canonicalizeUnicodeLanguageId(locale.lang);\n  if (locale.extensions) {\n    for (var _i = 0, _a = locale.extensions; _i < _a.length; _i++) {\n      var extension = _a[_i];\n      switch (extension.type) {\n        case 'u':\n          extension.keywords = canonicalizeKVs(extension.keywords);\n          if (extension.attributes) {\n            extension.attributes = canonicalizeAttrs(extension.attributes);\n          }\n          break;\n        case 't':\n          if (extension.lang) {\n            extension.lang = canonicalizeUnicodeLanguageId(extension.lang);\n          }\n          extension.fields = canonicalizeKVs(extension.fields);\n          break;\n        default:\n          extension.value = extension.value.toLowerCase();\n          break;\n      }\n    }\n    locale.extensions.sort(compareExtension);\n  }\n  return locale;\n}\nexports.canonicalizeUnicodeLocaleId = canonicalizeUnicodeLocaleId;","map":{"version":3,"names":["Object","defineProperty","exports","value","canonicalizeUnicodeLocaleId","canonicalizeUnicodeLanguageId","tslib_1","require","aliases_generated_1","parser_1","likelySubtags_generated_1","emitter_1","canonicalizeAttrs","strs","keys","reduce","all","str","toLowerCase","sort","canonicalizeKVs","arr","result","_i","arr_1","length","kv","push","compareKV","t1","t2","compareExtension","e1","e2","type","mergeVariants","v1","v2","__spreadArray","v2_1","v","indexOf","unicodeLanguageId","finalLangAst","variants","replacedLang_1","_a","variant","languageAlias","emitUnicodeLanguageId","lang","replacedLangAst","parseUnicodeLanguageId","split","SEPARATOR","script","region","replacedLang_2","replacedLang_3","replacedLang","toUpperCase","regionAlias","territoryAlias","replacedRegion","regions","likelySubtag","likelySubtags","likelyRegion","slice","scriptAlias","i","variantAlias","alias","isUnicodeVariantSubtag","isUnicodeLanguageSubtag","locale","extensions","extension","keywords","attributes","fields"],"sources":["/workspaces/frontend/node_modules/@formatjs/intl-getcanonicallocales/src/canonicalizer.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canonicalizeUnicodeLocaleId = exports.canonicalizeUnicodeLanguageId = void 0;\nvar tslib_1 = require(\"tslib\");\nvar aliases_generated_1 = require(\"./aliases.generated\");\nvar parser_1 = require(\"./parser\");\nvar likelySubtags_generated_1 = require(\"./likelySubtags.generated\");\nvar emitter_1 = require(\"./emitter\");\nfunction canonicalizeAttrs(strs) {\n    return Object.keys(strs.reduce(function (all, str) {\n        all[str.toLowerCase()] = 1;\n        return all;\n    }, {})).sort();\n}\nfunction canonicalizeKVs(arr) {\n    var all = {};\n    var result = [];\n    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n        var kv = arr_1[_i];\n        if (kv[0] in all) {\n            continue;\n        }\n        all[kv[0]] = 1;\n        if (!kv[1] || kv[1] === 'true') {\n            result.push([kv[0].toLowerCase()]);\n        }\n        else {\n            result.push([kv[0].toLowerCase(), kv[1].toLowerCase()]);\n        }\n    }\n    return result.sort(compareKV);\n}\nfunction compareKV(t1, t2) {\n    return t1[0] < t2[0] ? -1 : t1[0] > t2[0] ? 1 : 0;\n}\nfunction compareExtension(e1, e2) {\n    return e1.type < e2.type ? -1 : e1.type > e2.type ? 1 : 0;\n}\nfunction mergeVariants(v1, v2) {\n    var result = tslib_1.__spreadArray([], v1, true);\n    for (var _i = 0, v2_1 = v2; _i < v2_1.length; _i++) {\n        var v = v2_1[_i];\n        if (v1.indexOf(v) < 0) {\n            result.push(v);\n        }\n    }\n    return result;\n}\n/**\n * CAVEAT: We don't do this section in the spec bc they have no JSON data\n * Use the bcp47 data to replace keys, types, tfields, and tvalues by their canonical forms. See Section 3.6.4 U Extension Data Files) and Section 3.7.1 T Extension Data Files. The aliases are in the alias attribute value, while the canonical is in the name attribute value. For example,\nBecause of the following bcp47 data:\n<key name=\"ms\"…>…<type name=\"uksystem\" … alias=\"imperial\" … />…</key>\nWe get the following transformation:\nen-u-ms-imperial ⇒ en-u-ms-uksystem\n * @param lang\n */\nfunction canonicalizeUnicodeLanguageId(unicodeLanguageId) {\n    /**\n     * If the language subtag matches the type attribute of a languageAlias element in Supplemental Data, replace the language subtag with the replacement value.\n     *  1. If there are additional subtags in the replacement value, add them to the result, but only if there is no corresponding subtag already in the tag.\n     *  2. Five special deprecated grandfathered codes (such as i-default) are in type attributes, and are also replaced.\n     */\n    // From https://github.com/unicode-org/icu/blob/master/icu4j/main/classes/core/src/com/ibm/icu/util/ULocale.java#L1246\n    // Try language _ variant\n    var finalLangAst = unicodeLanguageId;\n    if (unicodeLanguageId.variants.length) {\n        var replacedLang_1 = '';\n        for (var _i = 0, _a = unicodeLanguageId.variants; _i < _a.length; _i++) {\n            var variant = _a[_i];\n            if ((replacedLang_1 =\n                aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n                    lang: unicodeLanguageId.lang,\n                    variants: [variant],\n                })])) {\n                var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_1.split(parser_1.SEPARATOR));\n                finalLangAst = {\n                    lang: replacedLangAst.lang,\n                    script: finalLangAst.script || replacedLangAst.script,\n                    region: finalLangAst.region || replacedLangAst.region,\n                    variants: mergeVariants(finalLangAst.variants, replacedLangAst.variants),\n                };\n                break;\n            }\n        }\n    }\n    // language _ script _ country\n    // ug-Arab-CN -> ug-CN\n    if (finalLangAst.script && finalLangAst.region) {\n        var replacedLang_2 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n            lang: finalLangAst.lang,\n            script: finalLangAst.script,\n            region: finalLangAst.region,\n            variants: [],\n        })];\n        if (replacedLang_2) {\n            var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_2.split(parser_1.SEPARATOR));\n            finalLangAst = {\n                lang: replacedLangAst.lang,\n                script: replacedLangAst.script,\n                region: replacedLangAst.region,\n                variants: finalLangAst.variants,\n            };\n        }\n    }\n    // language _ country\n    // eg. az_AZ -> az_Latn_A\n    if (finalLangAst.region) {\n        var replacedLang_3 = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n            lang: finalLangAst.lang,\n            region: finalLangAst.region,\n            variants: [],\n        })];\n        if (replacedLang_3) {\n            var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang_3.split(parser_1.SEPARATOR));\n            finalLangAst = {\n                lang: replacedLangAst.lang,\n                script: finalLangAst.script || replacedLangAst.script,\n                region: replacedLangAst.region,\n                variants: finalLangAst.variants,\n            };\n        }\n    }\n    // only language\n    // e.g. twi -> ak\n    var replacedLang = aliases_generated_1.languageAlias[(0, emitter_1.emitUnicodeLanguageId)({\n        lang: finalLangAst.lang,\n        variants: [],\n    })];\n    if (replacedLang) {\n        var replacedLangAst = (0, parser_1.parseUnicodeLanguageId)(replacedLang.split(parser_1.SEPARATOR));\n        finalLangAst = {\n            lang: replacedLangAst.lang,\n            script: finalLangAst.script || replacedLangAst.script,\n            region: finalLangAst.region || replacedLangAst.region,\n            variants: finalLangAst.variants,\n        };\n    }\n    if (finalLangAst.region) {\n        var region = finalLangAst.region.toUpperCase();\n        var regionAlias = aliases_generated_1.territoryAlias[region];\n        var replacedRegion = void 0;\n        if (regionAlias) {\n            var regions = regionAlias.split(' ');\n            replacedRegion = regions[0];\n            var likelySubtag = likelySubtags_generated_1.likelySubtags[(0, emitter_1.emitUnicodeLanguageId)({\n                lang: finalLangAst.lang,\n                script: finalLangAst.script,\n                variants: [],\n            })];\n            if (likelySubtag) {\n                var likelyRegion = (0, parser_1.parseUnicodeLanguageId)(likelySubtag.split(parser_1.SEPARATOR)).region;\n                if (likelyRegion && regions.indexOf(likelyRegion) > -1) {\n                    replacedRegion = likelyRegion;\n                }\n            }\n        }\n        if (replacedRegion) {\n            finalLangAst.region = replacedRegion;\n        }\n        finalLangAst.region = finalLangAst.region.toUpperCase();\n    }\n    if (finalLangAst.script) {\n        finalLangAst.script =\n            finalLangAst.script[0].toUpperCase() +\n                finalLangAst.script.slice(1).toLowerCase();\n        if (aliases_generated_1.scriptAlias[finalLangAst.script]) {\n            finalLangAst.script = aliases_generated_1.scriptAlias[finalLangAst.script];\n        }\n    }\n    if (finalLangAst.variants.length) {\n        for (var i = 0; i < finalLangAst.variants.length; i++) {\n            var variant = finalLangAst.variants[i].toLowerCase();\n            if (aliases_generated_1.variantAlias[variant]) {\n                var alias = aliases_generated_1.variantAlias[variant];\n                if ((0, parser_1.isUnicodeVariantSubtag)(alias)) {\n                    finalLangAst.variants[i] = alias;\n                }\n                else if ((0, parser_1.isUnicodeLanguageSubtag)(alias)) {\n                    // Yes this can happen per the spec\n                    finalLangAst.lang = alias;\n                }\n            }\n        }\n        finalLangAst.variants.sort();\n    }\n    return finalLangAst;\n}\nexports.canonicalizeUnicodeLanguageId = canonicalizeUnicodeLanguageId;\n/**\n * Canonicalize based on\n * https://www.unicode.org/reports/tr35/tr35.html#Canonical_Unicode_Locale_Identifiers\n * https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid\n * IMPORTANT: This modifies the object inline\n * @param locale\n */\nfunction canonicalizeUnicodeLocaleId(locale) {\n    locale.lang = canonicalizeUnicodeLanguageId(locale.lang);\n    if (locale.extensions) {\n        for (var _i = 0, _a = locale.extensions; _i < _a.length; _i++) {\n            var extension = _a[_i];\n            switch (extension.type) {\n                case 'u':\n                    extension.keywords = canonicalizeKVs(extension.keywords);\n                    if (extension.attributes) {\n                        extension.attributes = canonicalizeAttrs(extension.attributes);\n                    }\n                    break;\n                case 't':\n                    if (extension.lang) {\n                        extension.lang = canonicalizeUnicodeLanguageId(extension.lang);\n                    }\n                    extension.fields = canonicalizeKVs(extension.fields);\n                    break;\n                default:\n                    extension.value = extension.value.toLowerCase();\n                    break;\n            }\n        }\n        locale.extensions.sort(compareExtension);\n    }\n    return locale;\n}\nexports.canonicalizeUnicodeLocaleId = canonicalizeUnicodeLocaleId;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}