{"ast":null,"code":"import { createCollection } from \"home-assistant-js-websocket\";\nconst fetchThemes = conn => conn.sendMessagePromise({\n  type: \"frontend/get_themes\"\n});\nconst subscribeUpdates = (conn, store) => conn.subscribeEvents(() => fetchThemes(conn).then(data => store.setState(data, true)), \"themes_updated\");\nexport const subscribeThemes = (conn, onChange) => createCollection(\"_thm\", fetchThemes, subscribeUpdates, conn, onChange);","map":{"version":3,"names":["createCollection","fetchThemes","conn","sendMessagePromise","type","subscribeUpdates","store","subscribeEvents","then","data","setState","subscribeThemes","onChange"],"sources":["/workspaces/frontend/src/data/ws-themes.ts"],"sourcesContent":["import { Connection, createCollection } from \"home-assistant-js-websocket\";\n\nexport interface ThemeVars {\n  // Incomplete\n  \"primary-color\": string;\n  \"text-primary-color\": string;\n  \"accent-color\": string;\n  [key: string]: string;\n}\n\nexport type Theme = ThemeVars & {\n  modes?: {\n    light?: ThemeVars;\n    dark?: ThemeVars;\n  };\n};\n\nexport interface Themes {\n  default_theme: string;\n  default_dark_theme: string | null;\n  themes: Record<string, Theme>;\n  // Currently effective dark mode. Will never be undefined. If user selected \"auto\"\n  // in theme picker, this property will still contain either true or false based on\n  // what has been determined via system preferences and support from the selected theme.\n  darkMode: boolean;\n  // Currently globally active theme name\n  theme: string;\n}\n\nconst fetchThemes = (conn) =>\n  conn.sendMessagePromise({\n    type: \"frontend/get_themes\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchThemes(conn).then((data) => store.setState(data, true)),\n    \"themes_updated\"\n  );\n\nexport const subscribeThemes = (\n  conn: Connection,\n  onChange: (themes: Themes) => void\n) =>\n  createCollection<Themes>(\n    \"_thm\",\n    fetchThemes,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAQ,6BAA6B;AA6B1E,MAAMC,WAAW,GAAIC,IAAI,IACvBA,IAAI,CAACC,kBAAkB,CAAC;EACtBC,IAAI,EAAE;AACR,CAAC,CAAC;AAEJ,MAAMC,gBAAgB,GAAGA,CAACH,IAAI,EAAEI,KAAK,KACnCJ,IAAI,CAACK,eAAe,CAClB,MAAMN,WAAW,CAACC,IAAI,CAAC,CAACM,IAAI,CAAEC,IAAI,IAAKH,KAAK,CAACI,QAAQ,CAACD,IAAI,EAAE,IAAI,CAAC,CAAC,EAClE,gBACF,CAAC;AAEH,OAAO,MAAME,eAAe,GAAGA,CAC7BT,IAAgB,EAChBU,QAAkC,KAElCZ,gBAAgB,CACd,MAAM,EACNC,WAAW,EACXI,gBAAgB,EAChBH,IAAI,EACJU,QACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}