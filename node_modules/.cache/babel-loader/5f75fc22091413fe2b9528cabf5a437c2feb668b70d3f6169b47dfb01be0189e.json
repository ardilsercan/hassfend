{"ast":null,"code":"import { createCollection } from \"home-assistant-js-websocket\";\nimport { debounce } from \"../common/util/debounce\";\nvar fetchAreaRegistry = function fetchAreaRegistry(conn) {\n  return conn.sendMessagePromise({\n    type: \"config/area_registry/list\"\n  });\n};\nvar subscribeAreaRegistryUpdates = function subscribeAreaRegistryUpdates(conn, store) {\n  return conn.subscribeEvents(debounce(function () {\n    return fetchAreaRegistry(conn).then(function (areas) {\n      return store.setState(areas, true);\n    });\n  }, 500, true), \"area_registry_updated\");\n};\nexport var subscribeAreaRegistry = function subscribeAreaRegistry(conn, onChange) {\n  return createCollection(\"_areaRegistry\", fetchAreaRegistry, subscribeAreaRegistryUpdates, conn, onChange);\n};","map":{"version":3,"names":["createCollection","debounce","fetchAreaRegistry","conn","sendMessagePromise","type","subscribeAreaRegistryUpdates","store","subscribeEvents","then","areas","setState","subscribeAreaRegistry","onChange"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/ws-area_registry.ts"],"sourcesContent":["import { Connection, createCollection } from \"home-assistant-js-websocket\";\nimport { Store } from \"home-assistant-js-websocket/dist/store\";\nimport { debounce } from \"../common/util/debounce\";\nimport { AreaRegistryEntry } from \"./area_registry\";\n\nconst fetchAreaRegistry = (conn: Connection) =>\n  conn.sendMessagePromise<AreaRegistryEntry[]>({\n    type: \"config/area_registry/list\",\n  });\n\nconst subscribeAreaRegistryUpdates = (\n  conn: Connection,\n  store: Store<AreaRegistryEntry[]>\n) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchAreaRegistry(conn).then((areas: AreaRegistryEntry[]) =>\n          store.setState(areas, true)\n        ),\n      500,\n      true\n    ),\n    \"area_registry_updated\"\n  );\n\nexport const subscribeAreaRegistry = (\n  conn: Connection,\n  onChange: (areas: AreaRegistryEntry[]) => void\n) =>\n  createCollection<AreaRegistryEntry[]>(\n    \"_areaRegistry\",\n    fetchAreaRegistry,\n    subscribeAreaRegistryUpdates,\n    conn,\n    onChange\n  );\n"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAQ,6BAA6B;AAE1E,SAASC,QAAQ,QAAQ,yBAAyB;AAGlD,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,IAAgB;EAAA,OACzCA,IAAI,CAACC,kBAAkB,CAAsB;IAC3CC,IAAI,EAAE;EACR,CAAC,CAAC;AAAA;AAEJ,IAAMC,4BAA4B,GAAG,SAA/BA,4BAA4BA,CAChCH,IAAgB,EAChBI,KAAiC;EAAA,OAEjCJ,IAAI,CAACK,eAAe,CAClBP,QAAQ,CACN;IAAA,OACEC,iBAAiB,CAACC,IAAI,CAAC,CAACM,IAAI,CAAC,UAACC,KAA0B;MAAA,OACtDH,KAAK,CAACI,QAAQ,CAACD,KAAK,EAAE,IAAI,CAAC;IAAA,CAC7B,CAAC;EAAA,GACH,GAAG,EACH,IACF,CAAC,EACD,uBACF,CAAC;AAAA;AAEH,OAAO,IAAME,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAChCT,IAAgB,EAChBU,QAA8C;EAAA,OAE9Cb,gBAAgB,CACd,eAAe,EACfE,iBAAiB,EACjBI,4BAA4B,EAC5BH,IAAI,EACJU,QACF,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}