{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3;\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport { createCardElement } from \"../create-element/create-card-element\";\nexport var HuiStackCard = _decorate(null, function (_initialize, _LitElement) {\n  var HuiStackCard = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HuiStackCard, _LitElement2);\n    function HuiStackCard() {\n      var _this;\n      _classCallCheck(this, HuiStackCard);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HuiStackCard, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HuiStackCard);\n  }(_LitElement);\n  return {\n    F: HuiStackCard,\n    d: [{\n      kind: \"method\",\n      static: true,\n      key: \"getConfigElement\",\n      value: function () {\n        var _getConfigElement = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return import(\"../editor/config-elements/hui-stack-card-editor\");\n              case 2:\n                return _context.abrupt(\"return\", document.createElement(\"hui-stack-card-editor\"));\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        function getConfigElement() {\n          return _getConfigElement.apply(this, arguments);\n        }\n        return getConfigElement;\n      }()\n    }, {\n      kind: \"method\",\n      static: true,\n      key: \"getStubConfig\",\n      value: function getStubConfig() {\n        return {\n          cards: []\n        };\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"editMode\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_cards\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 1;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        var _this2 = this;\n        if (!config || !config.cards || !Array.isArray(config.cards)) {\n          throw new Error(\"Invalid configuration\");\n        }\n        this._config = config;\n        this._cards = config.cards.map(function (card) {\n          var element = _this2._createCardElement(card);\n          return element;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(HuiStackCard.prototype), \"updated\", this).call(this, changedProps);\n        if (!this._cards || !changedProps.has(\"hass\") && !changedProps.has(\"editMode\")) {\n          return;\n        }\n        var _iterator = _createForOfIteratorHelper(this._cards),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var element = _step.value;\n            if (this.hass) {\n              element.hass = this.hass;\n            }\n            if (this.editMode !== undefined) {\n              element.editMode = this.editMode;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (!this._config || !this._cards) {\n          return nothing;\n        }\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      \", \"\\n      <div id=\\\"root\\\">\", \"</div>\\n    \"])), this._config.title ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<h1 class=\\\"card-header\\\">\", \"</h1>\"])), this._config.title) : \"\", this._cards);\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"sharedStyles\",\n      value: function sharedStyles() {\n        return css(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      .card-header {\\n        color: var(--ha-card-header-color, --primary-text-color);\\n        font-family: var(--ha-card-header-font-family, inherit);\\n        font-size: var(--ha-card-header-font-size, 24px);\\n        font-weight: normal;\\n        margin-block-start: 0px;\\n        margin-block-end: 0px;\\n        letter-spacing: -0.012em;\\n        line-height: 32px;\\n        display: block;\\n        padding: 24px 16px 16px;\\n      }\\n    \"])));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_createCardElement\",\n      value: function _createCardElement(cardConfig) {\n        var _this3 = this;\n        var element = createCardElement(cardConfig);\n        if (this.hass) {\n          element.hass = this.hass;\n        }\n        element.addEventListener(\"ll-rebuild\", function (ev) {\n          ev.stopPropagation();\n          _this3._rebuildCard(element, cardConfig);\n        }, {\n          once: true\n        });\n        return element;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_rebuildCard\",\n      value: function _rebuildCard(cardElToReplace, config) {\n        var newCardEl = this._createCardElement(config);\n        if (cardElToReplace.parentElement) {\n          cardElToReplace.parentElement.replaceChild(newCardEl, cardElToReplace);\n        }\n        this._cards = this._cards.map(function (curCardEl) {\n          return curCardEl === cardElToReplace ? newCardEl : curCardEl;\n        });\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","property","state","createCardElement","HuiStackCard","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","static","key","value","_getConfigElement","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","document","createElement","stop","getConfigElement","apply","getStubConfig","cards","decorators","attribute","type","Boolean","getCardSize","setConfig","config","_this2","isArray","Error","_config","_cards","map","card","element","_createCardElement","updated","changedProps","_get","_getPrototypeOf","prototype","call","has","_iterator","_createForOfIteratorHelper","_step","s","n","done","hass","editMode","undefined","err","e","f","render","_templateObject","_taggedTemplateLiteral","title","_templateObject2","sharedStyles","_templateObject3","cardConfig","_this3","addEventListener","ev","stopPropagation","_rebuildCard","once","cardElToReplace","newCardEl","parentElement","replaceChild","curCardEl"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/lovelace/cards/hui-stack-card.ts"],"sourcesContent":["import {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  nothing,\n} from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport { LovelaceCardConfig } from \"../../../data/lovelace/config/card\";\nimport { HomeAssistant } from \"../../../types\";\nimport { createCardElement } from \"../create-element/create-card-element\";\nimport { LovelaceCard, LovelaceCardEditor } from \"../types\";\nimport { StackCardConfig } from \"./types\";\n\nexport abstract class HuiStackCard<T extends StackCardConfig = StackCardConfig>\n  extends LitElement\n  implements LovelaceCard\n{\n  public static async getConfigElement(): Promise<LovelaceCardEditor> {\n    await import(\"../editor/config-elements/hui-stack-card-editor\");\n    return document.createElement(\"hui-stack-card-editor\");\n  }\n\n  public static getStubConfig(): Record<string, unknown> {\n    return { cards: [] };\n  }\n\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @property({ type: Boolean }) public editMode = false;\n\n  @state() protected _cards?: LovelaceCard[];\n\n  @state() protected _config?: T;\n\n  public getCardSize(): number | Promise<number> {\n    return 1;\n  }\n\n  public setConfig(config: T): void {\n    if (!config || !config.cards || !Array.isArray(config.cards)) {\n      throw new Error(\"Invalid configuration\");\n    }\n    this._config = config;\n    this._cards = config.cards.map((card) => {\n      const element = this._createCardElement(card) as LovelaceCard;\n      return element;\n    });\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n    if (\n      !this._cards ||\n      (!changedProps.has(\"hass\") && !changedProps.has(\"editMode\"))\n    ) {\n      return;\n    }\n\n    for (const element of this._cards) {\n      if (this.hass) {\n        element.hass = this.hass;\n      }\n      if (this.editMode !== undefined) {\n        element.editMode = this.editMode;\n      }\n    }\n  }\n\n  protected render() {\n    if (!this._config || !this._cards) {\n      return nothing;\n    }\n\n    return html`\n      ${this._config.title\n        ? html`<h1 class=\"card-header\">${this._config.title}</h1>`\n        : \"\"}\n      <div id=\"root\">${this._cards}</div>\n    `;\n  }\n\n  static get sharedStyles(): CSSResultGroup {\n    return css`\n      .card-header {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        font-weight: normal;\n        margin-block-start: 0px;\n        margin-block-end: 0px;\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        display: block;\n        padding: 24px 16px 16px;\n      }\n    `;\n  }\n\n  private _createCardElement(cardConfig: LovelaceCardConfig) {\n    const element = createCardElement(cardConfig) as LovelaceCard;\n    if (this.hass) {\n      element.hass = this.hass;\n    }\n    element.addEventListener(\n      \"ll-rebuild\",\n      (ev) => {\n        ev.stopPropagation();\n        this._rebuildCard(element, cardConfig);\n      },\n      { once: true }\n    );\n    return element;\n  }\n\n  private _rebuildCard(\n    cardElToReplace: LovelaceCard,\n    config: LovelaceCardConfig\n  ): void {\n    const newCardEl = this._createCardElement(config);\n    if (cardElToReplace.parentElement) {\n      cardElToReplace.parentElement.replaceChild(newCardEl, cardElToReplace);\n    }\n    this._cards = this._cards!.map((curCardEl) =>\n      curCardEl === cardElToReplace ? newCardEl : curCardEl\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}