{"ast":null,"code":"/**\n * @license\n * Copyright (c) 2017 - 2023 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Returns all attached overlays in visual stacking order.\n * @private\n */\nconst getAttachedInstances = () => Array.from(document.body.children).filter(el => el instanceof HTMLElement && el._hasOverlayStackMixin && !el.hasAttribute('closing')).sort((a, b) => a.__zIndex - b.__zIndex || 0);\n\n/**\n * Returns true if the overlay is the last one in the opened overlays stack.\n * @param {HTMLElement} overlay\n * @return {boolean}\n * @protected\n */\nexport const isLastOverlay = overlay => overlay === getAttachedInstances().pop();\n\n/**\n * @polymerMixin\n */\nexport const OverlayStackMixin = superClass => class OverlayStackMixin extends superClass {\n  constructor() {\n    super();\n    this._hasOverlayStackMixin = true;\n  }\n\n  /**\n   * Returns true if this is the last one in the opened overlays stack.\n   *\n   * @return {boolean}\n   * @protected\n   */\n  get _last() {\n    return isLastOverlay(this);\n  }\n\n  /**\n   * Brings the overlay as visually the frontmost one.\n   */\n  bringToFront() {\n    let zIndex = '';\n    const frontmost = getAttachedInstances().filter(o => o !== this).pop();\n    if (frontmost) {\n      const frontmostZIndex = frontmost.__zIndex;\n      zIndex = frontmostZIndex + 1;\n    }\n    this.style.zIndex = zIndex;\n    this.__zIndex = zIndex || parseFloat(getComputedStyle(this).zIndex);\n  }\n\n  /** @protected */\n  _enterModalState() {\n    if (document.body.style.pointerEvents !== 'none') {\n      // Set body pointer-events to 'none' to disable mouse interactions with\n      // other document nodes.\n      this._previousDocumentPointerEvents = document.body.style.pointerEvents;\n      document.body.style.pointerEvents = 'none';\n    }\n\n    // Disable pointer events in other attached overlays\n    getAttachedInstances().forEach(el => {\n      if (el !== this) {\n        el.$.overlay.style.pointerEvents = 'none';\n      }\n    });\n  }\n\n  /** @protected */\n  _exitModalState() {\n    if (this._previousDocumentPointerEvents !== undefined) {\n      // Restore body pointer-events\n      document.body.style.pointerEvents = this._previousDocumentPointerEvents;\n      delete this._previousDocumentPointerEvents;\n    }\n\n    // Restore pointer events in the previous overlay(s)\n    const instances = getAttachedInstances();\n    let el;\n    // Use instances.pop() to ensure the reverse order\n    while (el = instances.pop()) {\n      if (el === this) {\n        // Skip the current instance\n        continue;\n      }\n      el.$.overlay.style.removeProperty('pointer-events');\n      if (!el.modeless) {\n        // Stop after the last modal\n        break;\n      }\n    }\n  }\n};","map":{"version":3,"names":["getAttachedInstances","Array","from","document","body","children","filter","el","HTMLElement","_hasOverlayStackMixin","hasAttribute","sort","a","b","__zIndex","isLastOverlay","overlay","pop","OverlayStackMixin","superClass","constructor","_last","bringToFront","zIndex","frontmost","o","frontmostZIndex","style","parseFloat","getComputedStyle","_enterModalState","pointerEvents","_previousDocumentPointerEvents","forEach","$","_exitModalState","undefined","instances","removeProperty","modeless"],"sources":["/workspaces/frontend/node_modules/@vaadin/overlay/src/vaadin-overlay-stack-mixin.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2017 - 2023 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Returns all attached overlays in visual stacking order.\n * @private\n */\nconst getAttachedInstances = () =>\n  Array.from(document.body.children)\n    .filter((el) => el instanceof HTMLElement && el._hasOverlayStackMixin && !el.hasAttribute('closing'))\n    .sort((a, b) => a.__zIndex - b.__zIndex || 0);\n\n/**\n * Returns true if the overlay is the last one in the opened overlays stack.\n * @param {HTMLElement} overlay\n * @return {boolean}\n * @protected\n */\nexport const isLastOverlay = (overlay) => overlay === getAttachedInstances().pop();\n\n/**\n * @polymerMixin\n */\nexport const OverlayStackMixin = (superClass) =>\n  class OverlayStackMixin extends superClass {\n    constructor() {\n      super();\n\n      this._hasOverlayStackMixin = true;\n    }\n\n    /**\n     * Returns true if this is the last one in the opened overlays stack.\n     *\n     * @return {boolean}\n     * @protected\n     */\n    get _last() {\n      return isLastOverlay(this);\n    }\n\n    /**\n     * Brings the overlay as visually the frontmost one.\n     */\n    bringToFront() {\n      let zIndex = '';\n      const frontmost = getAttachedInstances()\n        .filter((o) => o !== this)\n        .pop();\n      if (frontmost) {\n        const frontmostZIndex = frontmost.__zIndex;\n        zIndex = frontmostZIndex + 1;\n      }\n      this.style.zIndex = zIndex;\n      this.__zIndex = zIndex || parseFloat(getComputedStyle(this).zIndex);\n    }\n\n    /** @protected */\n    _enterModalState() {\n      if (document.body.style.pointerEvents !== 'none') {\n        // Set body pointer-events to 'none' to disable mouse interactions with\n        // other document nodes.\n        this._previousDocumentPointerEvents = document.body.style.pointerEvents;\n        document.body.style.pointerEvents = 'none';\n      }\n\n      // Disable pointer events in other attached overlays\n      getAttachedInstances().forEach((el) => {\n        if (el !== this) {\n          el.$.overlay.style.pointerEvents = 'none';\n        }\n      });\n    }\n\n    /** @protected */\n    _exitModalState() {\n      if (this._previousDocumentPointerEvents !== undefined) {\n        // Restore body pointer-events\n        document.body.style.pointerEvents = this._previousDocumentPointerEvents;\n        delete this._previousDocumentPointerEvents;\n      }\n\n      // Restore pointer events in the previous overlay(s)\n      const instances = getAttachedInstances();\n\n      let el;\n      // Use instances.pop() to ensure the reverse order\n      while ((el = instances.pop())) {\n        if (el === this) {\n          // Skip the current instance\n          continue;\n        }\n        el.$.overlay.style.removeProperty('pointer-events');\n        if (!el.modeless) {\n          // Stop after the last modal\n          break;\n        }\n      }\n    }\n  };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}