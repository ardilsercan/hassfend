{"ast":null,"code":"const DEFAULT_OWN = true;\n\n// Finds the closest ancestor of an element that has a specific optionally owned property,\n// traversing slot and shadow root boundaries until the body element is reached\nexport const closestWithProperty = (element, property, own = DEFAULT_OWN) => {\n  var _element$assignedSlot;\n  if (!element || element === document.body) return null;\n  element = (_element$assignedSlot = element.assignedSlot) !== null && _element$assignedSlot !== void 0 ? _element$assignedSlot : element;\n  if (element.parentElement) {\n    element = element.parentElement;\n  } else {\n    const root = element.getRootNode();\n    element = root instanceof ShadowRoot ? root.host : null;\n  }\n  if (own ? Object.prototype.hasOwnProperty.call(element, property) : element && property in element) return element;\n  return closestWithProperty(element, property, own);\n};\n\n// Finds the set of all such ancestors and includes starting element as first in the set\nexport const ancestorsWithProperty = (element, property, own = DEFAULT_OWN) => {\n  const ancestors = new Set();\n  while (element) {\n    ancestors.add(element);\n    element = closestWithProperty(element, property, own);\n  }\n  return ancestors;\n};","map":{"version":3,"names":["DEFAULT_OWN","closestWithProperty","element","property","own","_element$assignedSlot","document","body","assignedSlot","parentElement","root","getRootNode","ShadowRoot","host","Object","prototype","hasOwnProperty","call","ancestorsWithProperty","ancestors","Set","add"],"sources":["/workspaces/frontend/src/common/dom/ancestors-with-property.ts"],"sourcesContent":["const DEFAULT_OWN = true;\n\n// Finds the closest ancestor of an element that has a specific optionally owned property,\n// traversing slot and shadow root boundaries until the body element is reached\nexport const closestWithProperty = (\n  element: Element | null,\n  property: string | symbol,\n  own = DEFAULT_OWN\n) => {\n  if (!element || element === document.body) return null;\n\n  element = element.assignedSlot ?? element;\n  if (element.parentElement) {\n    element = element.parentElement;\n  } else {\n    const root = element.getRootNode();\n    element = root instanceof ShadowRoot ? root.host : null;\n  }\n\n  if (\n    own\n      ? Object.prototype.hasOwnProperty.call(element, property)\n      : element && property in element\n  )\n    return element;\n  return closestWithProperty(element, property, own);\n};\n\n// Finds the set of all such ancestors and includes starting element as first in the set\nexport const ancestorsWithProperty = (\n  element: Element | null,\n  property: string | symbol,\n  own = DEFAULT_OWN\n) => {\n  const ancestors: Set<Element> = new Set();\n  while (element) {\n    ancestors.add(element);\n    element = closestWithProperty(element, property, own);\n  }\n  return ancestors;\n};\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,IAAI;;AAExB;AACA;AACA,OAAO,MAAMC,mBAAmB,GAAGA,CACjCC,OAAuB,EACvBC,QAAyB,EACzBC,GAAG,GAAGJ,WAAW,KACd;EAAA,IAAAK,qBAAA;EACH,IAAI,CAACH,OAAO,IAAIA,OAAO,KAAKI,QAAQ,CAACC,IAAI,EAAE,OAAO,IAAI;EAEtDL,OAAO,IAAAG,qBAAA,GAAGH,OAAO,CAACM,YAAY,cAAAH,qBAAA,cAAAA,qBAAA,GAAIH,OAAO;EACzC,IAAIA,OAAO,CAACO,aAAa,EAAE;IACzBP,OAAO,GAAGA,OAAO,CAACO,aAAa;EACjC,CAAC,MAAM;IACL,MAAMC,IAAI,GAAGR,OAAO,CAACS,WAAW,CAAC,CAAC;IAClCT,OAAO,GAAGQ,IAAI,YAAYE,UAAU,GAAGF,IAAI,CAACG,IAAI,GAAG,IAAI;EACzD;EAEA,IACET,GAAG,GACCU,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACf,OAAO,EAAEC,QAAQ,CAAC,GACvDD,OAAO,IAAIC,QAAQ,IAAID,OAAO,EAElC,OAAOA,OAAO;EAChB,OAAOD,mBAAmB,CAACC,OAAO,EAAEC,QAAQ,EAAEC,GAAG,CAAC;AACpD,CAAC;;AAED;AACA,OAAO,MAAMc,qBAAqB,GAAGA,CACnChB,OAAuB,EACvBC,QAAyB,EACzBC,GAAG,GAAGJ,WAAW,KACd;EACH,MAAMmB,SAAuB,GAAG,IAAIC,GAAG,CAAC,CAAC;EACzC,OAAOlB,OAAO,EAAE;IACdiB,SAAS,CAACE,GAAG,CAACnB,OAAO,CAAC;IACtBA,OAAO,GAAGD,mBAAmB,CAACC,OAAO,EAAEC,QAAQ,EAAEC,GAAG,CAAC;EACvD;EACA,OAAOe,SAAS;AAClB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}