{"ast":null,"code":"import { computeStateName } from \"../../../common/entity/compute_state_name\";\nfunction computeActionTooltip(hass, state, config, isHold) {\n  if (!config || !config.action || config.action === \"none\") {\n    return \"\";\n  }\n  let tooltip = isHold ? hass.localize(\"ui.panel.lovelace.cards.picture-elements.hold\") : hass.localize(\"ui.panel.lovelace.cards.picture-elements.tap\");\n  switch (config.action) {\n    case \"navigate\":\n      tooltip += ` ${hass.localize(\"ui.panel.lovelace.cards.picture-elements.navigate_to\", {\n        location: config.navigation_path\n      })}`;\n      break;\n    case \"url\":\n      tooltip += ` ${hass.localize(\"ui.panel.lovelace.cards.picture-elements.url\", {\n        url_path: config.url_path\n      })}`;\n      break;\n    case \"toggle\":\n      tooltip += ` ${hass.localize(\"ui.panel.lovelace.cards.picture-elements.toggle\", {\n        name: state\n      })}`;\n      break;\n    case \"call-service\":\n      tooltip += `${hass.localize(\"ui.panel.lovelace.cards.picture-elements.call_service\", {\n        name: config.service\n      })}`;\n      break;\n    case \"more-info\":\n      tooltip += `${hass.localize(\"ui.panel.lovelace.cards.picture-elements.more_info\", {\n        name: state\n      })}`;\n      break;\n  }\n  return tooltip;\n}\nexport const computeTooltip = (hass, config) => {\n  if (config.title === null) {\n    return \"\";\n  }\n  if (config.title) {\n    return config.title;\n  }\n  let stateName = \"\";\n  let tooltip = \"\";\n  if (config.entity) {\n    stateName = config.entity in hass.states ? computeStateName(hass.states[config.entity]) : config.entity;\n  }\n  if (!config.tap_action && !config.hold_action) {\n    return stateName;\n  }\n  const tapTooltip = config.tap_action ? computeActionTooltip(hass, stateName, config.tap_action, false) : \"\";\n  const holdTooltip = config.hold_action ? computeActionTooltip(hass, stateName, config.hold_action, true) : \"\";\n  const newline = tapTooltip && holdTooltip ? \"\\n\" : \"\";\n  tooltip = tapTooltip + newline + holdTooltip;\n  return tooltip;\n};","map":{"version":3,"names":["computeStateName","computeActionTooltip","hass","state","config","isHold","action","tooltip","localize","location","navigation_path","url_path","name","service","computeTooltip","title","stateName","entity","states","tap_action","hold_action","tapTooltip","holdTooltip","newline"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/lovelace/common/compute-tooltip.ts"],"sourcesContent":["import { computeStateName } from \"../../../common/entity/compute_state_name\";\nimport { ActionConfig } from \"../../../data/lovelace/config/action\";\nimport { HomeAssistant } from \"../../../types\";\n\ninterface Config {\n  entity?: string;\n  title?: string;\n  tap_action?: ActionConfig;\n  hold_action?: ActionConfig;\n  double_tap_action?: ActionConfig;\n}\n\nfunction computeActionTooltip(\n  hass: HomeAssistant,\n  state: string,\n  config: ActionConfig,\n  isHold: boolean\n) {\n  if (!config || !config.action || config.action === \"none\") {\n    return \"\";\n  }\n\n  let tooltip = isHold\n    ? hass.localize(\"ui.panel.lovelace.cards.picture-elements.hold\")\n    : hass.localize(\"ui.panel.lovelace.cards.picture-elements.tap\");\n\n  switch (config.action) {\n    case \"navigate\":\n      tooltip += ` ${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.navigate_to\",\n        { location: config.navigation_path }\n      )}`;\n      break;\n    case \"url\":\n      tooltip += ` ${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.url\",\n        { url_path: config.url_path }\n      )}`;\n      break;\n    case \"toggle\":\n      tooltip += ` ${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.toggle\",\n        { name: state }\n      )}`;\n      break;\n    case \"call-service\":\n      tooltip += `${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.call_service\",\n        { name: config.service }\n      )}`;\n      break;\n    case \"more-info\":\n      tooltip += `${hass.localize(\n        \"ui.panel.lovelace.cards.picture-elements.more_info\",\n        { name: state }\n      )}`;\n      break;\n  }\n\n  return tooltip;\n}\n\nexport const computeTooltip = (hass: HomeAssistant, config: Config): string => {\n  if (config.title === null) {\n    return \"\";\n  }\n\n  if (config.title) {\n    return config.title;\n  }\n\n  let stateName = \"\";\n  let tooltip = \"\";\n\n  if (config.entity) {\n    stateName =\n      config.entity in hass.states\n        ? computeStateName(hass.states[config.entity])\n        : config.entity;\n  }\n\n  if (!config.tap_action && !config.hold_action) {\n    return stateName;\n  }\n\n  const tapTooltip = config.tap_action\n    ? computeActionTooltip(hass, stateName, config.tap_action, false)\n    : \"\";\n  const holdTooltip = config.hold_action\n    ? computeActionTooltip(hass, stateName, config.hold_action, true)\n    : \"\";\n\n  const newline = tapTooltip && holdTooltip ? \"\\n\" : \"\";\n\n  tooltip = tapTooltip + newline + holdTooltip;\n\n  return tooltip;\n};\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,2CAA2C;AAY5E,SAASC,oBAAoBA,CAC3BC,IAAmB,EACnBC,KAAa,EACbC,MAAoB,EACpBC,MAAe,EACf;EACA,IAAI,CAACD,MAAM,IAAI,CAACA,MAAM,CAACE,MAAM,IAAIF,MAAM,CAACE,MAAM,KAAK,MAAM,EAAE;IACzD,OAAO,EAAE;EACX;EAEA,IAAIC,OAAO,GAAGF,MAAM,GAChBH,IAAI,CAACM,QAAQ,CAAC,+CAA+C,CAAC,GAC9DN,IAAI,CAACM,QAAQ,CAAC,8CAA8C,CAAC;EAEjE,QAAQJ,MAAM,CAACE,MAAM;IACnB,KAAK,UAAU;MACbC,OAAO,IAAK,IAAGL,IAAI,CAACM,QAAQ,CAC1B,sDAAsD,EACtD;QAAEC,QAAQ,EAAEL,MAAM,CAACM;MAAgB,CACrC,CAAE,EAAC;MACH;IACF,KAAK,KAAK;MACRH,OAAO,IAAK,IAAGL,IAAI,CAACM,QAAQ,CAC1B,8CAA8C,EAC9C;QAAEG,QAAQ,EAAEP,MAAM,CAACO;MAAS,CAC9B,CAAE,EAAC;MACH;IACF,KAAK,QAAQ;MACXJ,OAAO,IAAK,IAAGL,IAAI,CAACM,QAAQ,CAC1B,iDAAiD,EACjD;QAAEI,IAAI,EAAET;MAAM,CAChB,CAAE,EAAC;MACH;IACF,KAAK,cAAc;MACjBI,OAAO,IAAK,GAAEL,IAAI,CAACM,QAAQ,CACzB,uDAAuD,EACvD;QAAEI,IAAI,EAAER,MAAM,CAACS;MAAQ,CACzB,CAAE,EAAC;MACH;IACF,KAAK,WAAW;MACdN,OAAO,IAAK,GAAEL,IAAI,CAACM,QAAQ,CACzB,oDAAoD,EACpD;QAAEI,IAAI,EAAET;MAAM,CAChB,CAAE,EAAC;MACH;EACJ;EAEA,OAAOI,OAAO;AAChB;AAEA,OAAO,MAAMO,cAAc,GAAGA,CAACZ,IAAmB,EAAEE,MAAc,KAAa;EAC7E,IAAIA,MAAM,CAACW,KAAK,KAAK,IAAI,EAAE;IACzB,OAAO,EAAE;EACX;EAEA,IAAIX,MAAM,CAACW,KAAK,EAAE;IAChB,OAAOX,MAAM,CAACW,KAAK;EACrB;EAEA,IAAIC,SAAS,GAAG,EAAE;EAClB,IAAIT,OAAO,GAAG,EAAE;EAEhB,IAAIH,MAAM,CAACa,MAAM,EAAE;IACjBD,SAAS,GACPZ,MAAM,CAACa,MAAM,IAAIf,IAAI,CAACgB,MAAM,GACxBlB,gBAAgB,CAACE,IAAI,CAACgB,MAAM,CAACd,MAAM,CAACa,MAAM,CAAC,CAAC,GAC5Cb,MAAM,CAACa,MAAM;EACrB;EAEA,IAAI,CAACb,MAAM,CAACe,UAAU,IAAI,CAACf,MAAM,CAACgB,WAAW,EAAE;IAC7C,OAAOJ,SAAS;EAClB;EAEA,MAAMK,UAAU,GAAGjB,MAAM,CAACe,UAAU,GAChClB,oBAAoB,CAACC,IAAI,EAAEc,SAAS,EAAEZ,MAAM,CAACe,UAAU,EAAE,KAAK,CAAC,GAC/D,EAAE;EACN,MAAMG,WAAW,GAAGlB,MAAM,CAACgB,WAAW,GAClCnB,oBAAoB,CAACC,IAAI,EAAEc,SAAS,EAAEZ,MAAM,CAACgB,WAAW,EAAE,IAAI,CAAC,GAC/D,EAAE;EAEN,MAAMG,OAAO,GAAGF,UAAU,IAAIC,WAAW,GAAG,IAAI,GAAG,EAAE;EAErDf,OAAO,GAAGc,UAAU,GAAGE,OAAO,GAAGD,WAAW;EAE5C,OAAOf,OAAO;AAChB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}