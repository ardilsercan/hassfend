{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nconst mdiPlayBox = \"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.89 20.1 3 19 3M10 16V8L15 12\";\nconst mdiPlus = \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { supportsFeature } from \"../../common/entity/supports-feature\";\nimport { getSignedPath } from \"../../data/auth\";\nimport { MediaClassBrowserSettings, MediaPlayerEntityFeature } from \"../../data/media-player\";\nimport { brandsUrl, extractDomainFromBrandUrl } from \"../../util/brands-url\";\nimport \"../ha-alert\";\nimport \"../ha-form/ha-form\";\nimport { showMediaBrowserDialog } from \"../media-player/show-media-browser-dialog\";\nconst MANUAL_SCHEMA = [{\n  name: \"media_content_id\",\n  required: false,\n  selector: {\n    text: {}\n  }\n}, {\n  name: \"media_content_type\",\n  required: false,\n  selector: {\n    text: {}\n  }\n}];\nexport let HaMediaSelector = _decorate([customElement(\"ha-selector-media\")], function (_initialize, _LitElement) {\n  class HaMediaSelector extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaMediaSelector,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"selector\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"label\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"helper\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"required\",\n      value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_thumbnailUrl\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        if (changedProps.has(\"value\")) {\n          var _this$value, _changedProps$get;\n          const thumbnail = (_this$value = this.value) === null || _this$value === void 0 || (_this$value = _this$value.metadata) === null || _this$value === void 0 ? void 0 : _this$value.thumbnail;\n          const oldThumbnail = (_changedProps$get = changedProps.get(\"value\")) === null || _changedProps$get === void 0 || (_changedProps$get = _changedProps$get.metadata) === null || _changedProps$get === void 0 ? void 0 : _changedProps$get.thumbnail;\n          if (thumbnail === oldThumbnail) {\n            return;\n          }\n          if (thumbnail && thumbnail.startsWith(\"/\")) {\n            this._thumbnailUrl = undefined;\n            // Thumbnails served by local API require authentication\n            getSignedPath(this.hass, thumbnail).then(signedPath => {\n              this._thumbnailUrl = signedPath.path;\n            });\n          } else if (thumbnail && thumbnail.startsWith(\"https://brands.home-assistant.io\")) {\n            var _this$hass$themes;\n            // The backend is not aware of the theme used by the users,\n            // so we rewrite the URL to show a proper icon\n            this._thumbnailUrl = brandsUrl({\n              domain: extractDomainFromBrandUrl(thumbnail),\n              type: \"icon\",\n              useFallback: true,\n              darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n            });\n          } else {\n            this._thumbnailUrl = thumbnail;\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$value2, _this$value3, _this$value4, _this$value5, _this$value6, _this$value7, _this$value8, _this$value9, _this$value10, _this$value$metadata;\n        const stateObj = (_this$value2 = this.value) !== null && _this$value2 !== void 0 && _this$value2.entity_id ? this.hass.states[this.value.entity_id] : undefined;\n        const supportsBrowse = !((_this$value3 = this.value) !== null && _this$value3 !== void 0 && _this$value3.entity_id) || stateObj && supportsFeature(stateObj, MediaPlayerEntityFeature.BROWSE_MEDIA);\n        return html`<ha-entity-picker\n        .hass=${this.hass}\n        .value=${(_this$value4 = this.value) === null || _this$value4 === void 0 ? void 0 : _this$value4.entity_id}\n        .label=${this.label || this.hass.localize(\"ui.components.selectors.media.pick_media_player\")}\n        .disabled=${this.disabled}\n        .helper=${this.helper}\n        .required=${this.required}\n        include-domains='[\"media_player\"]'\n        allow-custom-entity\n        @value-changed=${this._entityChanged}\n      ></ha-entity-picker>\n      ${!supportsBrowse ? html`<ha-alert>\n              ${this.hass.localize(\"ui.components.selectors.media.browse_not_supported\")}\n            </ha-alert>\n            <ha-form\n              .hass=${this.hass}\n              .data=${this.value}\n              .schema=${MANUAL_SCHEMA}\n              .computeLabel=${this._computeLabelCallback}\n            ></ha-form>` : html`<ha-card\n            outlined\n            @click=${this._pickMedia}\n            class=${this.disabled || !((_this$value5 = this.value) !== null && _this$value5 !== void 0 && _this$value5.entity_id) ? \"disabled\" : \"\"}\n          >\n            <div\n              class=\"thumbnail ${classMap({\n          portrait: !!((_this$value6 = this.value) !== null && _this$value6 !== void 0 && (_this$value6 = _this$value6.metadata) !== null && _this$value6 !== void 0 && _this$value6.media_class) && MediaClassBrowserSettings[this.value.metadata.children_media_class || this.value.metadata.media_class].thumbnail_ratio === \"portrait\"\n        })}\"\n            >\n              ${(_this$value7 = this.value) !== null && _this$value7 !== void 0 && (_this$value7 = _this$value7.metadata) !== null && _this$value7 !== void 0 && _this$value7.thumbnail ? html`\n                    <div\n                      class=\"${classMap({\n          \"centered-image\": !!this.value.metadata.media_class && [\"app\", \"directory\"].includes(this.value.metadata.media_class)\n        })}\n                        image\"\n                      style=${this._thumbnailUrl ? `background-image: url(${this._thumbnailUrl});` : \"\"}\n                    ></div>\n                  ` : html`\n                    <div class=\"icon-holder image\">\n                      <ha-svg-icon\n                        class=\"folder\"\n                        .path=${!((_this$value8 = this.value) !== null && _this$value8 !== void 0 && _this$value8.media_content_id) ? mdiPlus : (_this$value9 = this.value) !== null && _this$value9 !== void 0 && (_this$value9 = _this$value9.metadata) !== null && _this$value9 !== void 0 && _this$value9.media_class ? MediaClassBrowserSettings[this.value.metadata.media_class === \"directory\" ? this.value.metadata.children_media_class || this.value.metadata.media_class : this.value.metadata.media_class].icon : mdiPlayBox}\n                      ></ha-svg-icon>\n                    </div>\n                  `}\n            </div>\n            <div class=\"title\">\n              ${!((_this$value10 = this.value) !== null && _this$value10 !== void 0 && _this$value10.media_content_id) ? this.hass.localize(\"ui.components.selectors.media.pick_media\") : ((_this$value$metadata = this.value.metadata) === null || _this$value$metadata === void 0 ? void 0 : _this$value$metadata.title) || this.value.media_content_id}\n            </div>\n          </ha-card>`}`;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeLabelCallback\",\n      value() {\n        return schema => this.hass.localize(`ui.components.selectors.media.${schema.name}`);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_entityChanged\",\n      value: function _entityChanged(ev) {\n        ev.stopPropagation();\n        fireEvent(this, \"value-changed\", {\n          value: {\n            entity_id: ev.detail.value,\n            media_content_id: \"\",\n            media_content_type: \"\"\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_pickMedia\",\n      value: function _pickMedia() {\n        var _metadata;\n        showMediaBrowserDialog(this, {\n          action: \"pick\",\n          entityId: this.value.entity_id,\n          navigateIds: (_metadata = this.value.metadata) === null || _metadata === void 0 ? void 0 : _metadata.navigateIds,\n          mediaPickedCallback: pickedMedia => {\n            var _pickedMedia$navigate;\n            fireEvent(this, \"value-changed\", {\n              value: {\n                ...this.value,\n                media_content_id: pickedMedia.item.media_content_id,\n                media_content_type: pickedMedia.item.media_content_type,\n                metadata: {\n                  title: pickedMedia.item.title,\n                  thumbnail: pickedMedia.item.thumbnail,\n                  media_class: pickedMedia.item.media_class,\n                  children_media_class: pickedMedia.item.children_media_class,\n                  navigateIds: (_pickedMedia$navigate = pickedMedia.navigateIds) === null || _pickedMedia$navigate === void 0 ? void 0 : _pickedMedia$navigate.map(id => ({\n                    media_content_type: id.media_content_type,\n                    media_content_id: id.media_content_id\n                  }))\n                }\n              }\n            });\n          }\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css`\n      ha-entity-picker {\n        display: block;\n        margin-bottom: 16px;\n      }\n      mwc-button {\n        margin-top: 8px;\n      }\n      ha-alert {\n        display: block;\n        margin-bottom: 16px;\n      }\n      ha-card {\n        position: relative;\n        width: 200px;\n        box-sizing: border-box;\n        cursor: pointer;\n      }\n      ha-card.disabled {\n        pointer-events: none;\n        color: var(--disabled-text-color);\n      }\n      ha-card .thumbnail {\n        width: 100%;\n        position: relative;\n        box-sizing: border-box;\n        transition: padding-bottom 0.1s ease-out;\n        padding-bottom: 100%;\n      }\n      ha-card .thumbnail.portrait {\n        padding-bottom: 150%;\n      }\n      ha-card .image {\n        border-radius: 3px 3px 0 0;\n      }\n      .folder {\n        --mdc-icon-size: calc(var(--media-browse-item-size, 175px) * 0.4);\n      }\n      .title {\n        font-size: 16px;\n        padding-top: 16px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-bottom: 16px;\n        padding-left: 16px;\n        padding-right: 4px;\n        padding-inline-start: 16px;\n        padding-inline-end: 4px;\n        white-space: nowrap;\n      }\n      .image {\n        position: absolute;\n        top: 0;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n      }\n      .centered-image {\n        margin: 0 8px;\n        background-size: contain;\n      }\n      .icon-holder {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    `;\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","state","classMap","fireEvent","supportsFeature","getSignedPath","MediaClassBrowserSettings","MediaPlayerEntityFeature","brandsUrl","extractDomainFromBrandUrl","showMediaBrowserDialog","MANUAL_SCHEMA","name","required","selector","text","HaMediaSelector","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","type","Boolean","reflect","willUpdate","changedProps","has","_this$value","_changedProps$get","thumbnail","metadata","oldThumbnail","get","startsWith","_thumbnailUrl","undefined","hass","then","signedPath","path","_this$hass$themes","domain","useFallback","darkOptimized","themes","darkMode","render","_this$value2","_this$value3","_this$value4","_this$value5","_this$value6","_this$value7","_this$value8","_this$value9","_this$value10","_this$value$metadata","stateObj","entity_id","states","supportsBrowse","BROWSE_MEDIA","label","localize","disabled","helper","_entityChanged","_computeLabelCallback","_pickMedia","portrait","media_class","children_media_class","thumbnail_ratio","includes","media_content_id","mdiPlus","icon","mdiPlayBox","title","schema","ev","stopPropagation","detail","media_content_type","_metadata","action","entityId","navigateIds","mediaPickedCallback","pickedMedia","_pickedMedia$navigate","item","map","id","static","styles"],"sources":["/workspaces/frontend/src/components/ha-selector/ha-selector-media.ts"],"sourcesContent":["import { mdiPlayBox, mdiPlus } from \"@mdi/js\";\nimport { css, CSSResultGroup, html, LitElement, PropertyValues } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { supportsFeature } from \"../../common/entity/supports-feature\";\nimport { getSignedPath } from \"../../data/auth\";\nimport {\n  MediaClassBrowserSettings,\n  MediaPickedEvent,\n  MediaPlayerEntityFeature,\n} from \"../../data/media-player\";\nimport type { MediaSelector, MediaSelectorValue } from \"../../data/selector\";\nimport type { HomeAssistant } from \"../../types\";\nimport { brandsUrl, extractDomainFromBrandUrl } from \"../../util/brands-url\";\nimport \"../ha-alert\";\nimport \"../ha-form/ha-form\";\nimport type { SchemaUnion } from \"../ha-form/types\";\nimport { showMediaBrowserDialog } from \"../media-player/show-media-browser-dialog\";\n\nconst MANUAL_SCHEMA = [\n  { name: \"media_content_id\", required: false, selector: { text: {} } },\n  { name: \"media_content_type\", required: false, selector: { text: {} } },\n] as const;\n\n@customElement(\"ha-selector-media\")\nexport class HaMediaSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public selector!: MediaSelector;\n\n  @property({ attribute: false }) public value?: MediaSelectorValue;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean, reflect: true }) public disabled = false;\n\n  @property({ type: Boolean, reflect: true }) public required = true;\n\n  @state() private _thumbnailUrl?: string | null;\n\n  willUpdate(changedProps: PropertyValues<this>) {\n    if (changedProps.has(\"value\")) {\n      const thumbnail = this.value?.metadata?.thumbnail;\n      const oldThumbnail = (changedProps.get(\"value\") as this[\"value\"])\n        ?.metadata?.thumbnail;\n      if (thumbnail === oldThumbnail) {\n        return;\n      }\n      if (thumbnail && thumbnail.startsWith(\"/\")) {\n        this._thumbnailUrl = undefined;\n        // Thumbnails served by local API require authentication\n        getSignedPath(this.hass, thumbnail).then((signedPath) => {\n          this._thumbnailUrl = signedPath.path;\n        });\n      } else if (\n        thumbnail &&\n        thumbnail.startsWith(\"https://brands.home-assistant.io\")\n      ) {\n        // The backend is not aware of the theme used by the users,\n        // so we rewrite the URL to show a proper icon\n        this._thumbnailUrl = brandsUrl({\n          domain: extractDomainFromBrandUrl(thumbnail),\n          type: \"icon\",\n          useFallback: true,\n          darkOptimized: this.hass.themes?.darkMode,\n        });\n      } else {\n        this._thumbnailUrl = thumbnail;\n      }\n    }\n  }\n\n  protected render() {\n    const stateObj = this.value?.entity_id\n      ? this.hass.states[this.value.entity_id]\n      : undefined;\n\n    const supportsBrowse =\n      !this.value?.entity_id ||\n      (stateObj &&\n        supportsFeature(stateObj, MediaPlayerEntityFeature.BROWSE_MEDIA));\n\n    return html`<ha-entity-picker\n        .hass=${this.hass}\n        .value=${this.value?.entity_id}\n        .label=${this.label ||\n        this.hass.localize(\"ui.components.selectors.media.pick_media_player\")}\n        .disabled=${this.disabled}\n        .helper=${this.helper}\n        .required=${this.required}\n        include-domains='[\"media_player\"]'\n        allow-custom-entity\n        @value-changed=${this._entityChanged}\n      ></ha-entity-picker>\n      ${!supportsBrowse\n        ? html`<ha-alert>\n              ${this.hass.localize(\n                \"ui.components.selectors.media.browse_not_supported\"\n              )}\n            </ha-alert>\n            <ha-form\n              .hass=${this.hass}\n              .data=${this.value}\n              .schema=${MANUAL_SCHEMA}\n              .computeLabel=${this._computeLabelCallback}\n            ></ha-form>`\n        : html`<ha-card\n            outlined\n            @click=${this._pickMedia}\n            class=${this.disabled || !this.value?.entity_id ? \"disabled\" : \"\"}\n          >\n            <div\n              class=\"thumbnail ${classMap({\n                portrait:\n                  !!this.value?.metadata?.media_class &&\n                  MediaClassBrowserSettings[\n                    this.value.metadata.children_media_class ||\n                      this.value.metadata.media_class\n                  ].thumbnail_ratio === \"portrait\",\n              })}\"\n            >\n              ${this.value?.metadata?.thumbnail\n                ? html`\n                    <div\n                      class=\"${classMap({\n                        \"centered-image\":\n                          !!this.value.metadata.media_class &&\n                          [\"app\", \"directory\"].includes(\n                            this.value.metadata.media_class\n                          ),\n                      })}\n                        image\"\n                      style=${this._thumbnailUrl\n                        ? `background-image: url(${this._thumbnailUrl});`\n                        : \"\"}\n                    ></div>\n                  `\n                : html`\n                    <div class=\"icon-holder image\">\n                      <ha-svg-icon\n                        class=\"folder\"\n                        .path=${!this.value?.media_content_id\n                          ? mdiPlus\n                          : this.value?.metadata?.media_class\n                            ? MediaClassBrowserSettings[\n                                this.value.metadata.media_class === \"directory\"\n                                  ? this.value.metadata.children_media_class ||\n                                    this.value.metadata.media_class\n                                  : this.value.metadata.media_class\n                              ].icon\n                            : mdiPlayBox}\n                      ></ha-svg-icon>\n                    </div>\n                  `}\n            </div>\n            <div class=\"title\">\n              ${!this.value?.media_content_id\n                ? this.hass.localize(\"ui.components.selectors.media.pick_media\")\n                : this.value.metadata?.title || this.value.media_content_id}\n            </div>\n          </ha-card>`}`;\n  }\n\n  private _computeLabelCallback = (\n    schema: SchemaUnion<typeof MANUAL_SCHEMA>\n  ): string =>\n    this.hass.localize(`ui.components.selectors.media.${schema.name}`);\n\n  private _entityChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    fireEvent(this, \"value-changed\", {\n      value: {\n        entity_id: ev.detail.value,\n        media_content_id: \"\",\n        media_content_type: \"\",\n      },\n    });\n  }\n\n  private _pickMedia() {\n    showMediaBrowserDialog(this, {\n      action: \"pick\",\n      entityId: this.value!.entity_id!,\n      navigateIds: this.value!.metadata?.navigateIds,\n      mediaPickedCallback: (pickedMedia: MediaPickedEvent) => {\n        fireEvent(this, \"value-changed\", {\n          value: {\n            ...this.value,\n            media_content_id: pickedMedia.item.media_content_id,\n            media_content_type: pickedMedia.item.media_content_type,\n            metadata: {\n              title: pickedMedia.item.title,\n              thumbnail: pickedMedia.item.thumbnail,\n              media_class: pickedMedia.item.media_class,\n              children_media_class: pickedMedia.item.children_media_class,\n              navigateIds: pickedMedia.navigateIds?.map((id) => ({\n                media_content_type: id.media_content_type,\n                media_content_id: id.media_content_id,\n              })),\n            },\n          },\n        });\n      },\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ha-entity-picker {\n        display: block;\n        margin-bottom: 16px;\n      }\n      mwc-button {\n        margin-top: 8px;\n      }\n      ha-alert {\n        display: block;\n        margin-bottom: 16px;\n      }\n      ha-card {\n        position: relative;\n        width: 200px;\n        box-sizing: border-box;\n        cursor: pointer;\n      }\n      ha-card.disabled {\n        pointer-events: none;\n        color: var(--disabled-text-color);\n      }\n      ha-card .thumbnail {\n        width: 100%;\n        position: relative;\n        box-sizing: border-box;\n        transition: padding-bottom 0.1s ease-out;\n        padding-bottom: 100%;\n      }\n      ha-card .thumbnail.portrait {\n        padding-bottom: 150%;\n      }\n      ha-card .image {\n        border-radius: 3px 3px 0 0;\n      }\n      .folder {\n        --mdc-icon-size: calc(var(--media-browse-item-size, 175px) * 0.4);\n      }\n      .title {\n        font-size: 16px;\n        padding-top: 16px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-bottom: 16px;\n        padding-left: 16px;\n        padding-right: 4px;\n        padding-inline-start: 16px;\n        padding-inline-end: 4px;\n        white-space: nowrap;\n      }\n      .image {\n        position: absolute;\n        top: 0;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n      }\n      .centered-image {\n        margin: 0 8px;\n        background-size: contain;\n      }\n      .icon-holder {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-media\": HaMediaSelector;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}