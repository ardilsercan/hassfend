{"ast":null,"code":"import { getCollection, getUser } from \"home-assistant-js-websocket\";\nexport const userCollection = conn => getCollection(conn, \"_usr\", () => getUser(conn), undefined);\nexport const subscribeUser = (conn, onChange) => userCollection(conn).subscribe(onChange);","map":{"version":3,"names":["getCollection","getUser","userCollection","conn","undefined","subscribeUser","onChange","subscribe"],"sources":["/workspaces/frontend/src/data/ws-user.ts"],"sourcesContent":["import {\n  Connection,\n  getCollection,\n  getUser,\n} from \"home-assistant-js-websocket\";\nimport { CurrentUser } from \"../types\";\n\nexport const userCollection = (conn: Connection) =>\n  getCollection(\n    conn,\n    \"_usr\",\n    () => getUser(conn) as Promise<CurrentUser>,\n    undefined\n  );\n\nexport const subscribeUser = (\n  conn: Connection,\n  onChange: (user: CurrentUser) => void\n) => userCollection(conn).subscribe(onChange);\n"],"mappings":"AAAA,SAEEA,aAAa,EACbC,OAAO,QACF,6BAA6B;AAGpC,OAAO,MAAMC,cAAc,GAAIC,IAAgB,IAC7CH,aAAa,CACXG,IAAI,EACJ,MAAM,EACN,MAAMF,OAAO,CAACE,IAAI,CAAyB,EAC3CC,SACF,CAAC;AAEH,OAAO,MAAMC,aAAa,GAAGA,CAC3BF,IAAgB,EAChBG,QAAqC,KAClCJ,cAAc,CAACC,IAAI,CAAC,CAACI,SAAS,CAACD,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}