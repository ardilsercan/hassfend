{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _templateObject, _templateObject2, _templateObject3;\nimport \"core-js/modules/es.object.assign.js\";\n/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { __decorate } from \"tslib\";\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\nimport { addHasRemoveClass, BaseElement } from '@material/mwc-base/base-element.js';\nimport { supportsPassiveEventListener } from '@material/mwc-base/utils.js';\nimport { strings } from '@material/top-app-bar/constants.js';\nimport { html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nexport var passiveEventOptionsIfSupported = supportsPassiveEventListener ? {\n  passive: true\n} : undefined;\nexport var TopAppBarBaseBase = /*#__PURE__*/function (_BaseElement) {\n  _inherits(TopAppBarBaseBase, _BaseElement);\n  function TopAppBarBaseBase() {\n    var _this;\n    _classCallCheck(this, TopAppBarBaseBase);\n    _this = _callSuper(this, TopAppBarBaseBase, arguments);\n    _this.centerTitle = false;\n    _this.handleTargetScroll = function () {\n      _this.mdcFoundation.handleTargetScroll();\n    };\n    _this.handleNavigationClick = function () {\n      _this.mdcFoundation.handleNavigationClick();\n    };\n    return _this;\n  }\n  _createClass(TopAppBarBaseBase, [{\n    key: \"scrollTarget\",\n    get: function get() {\n      return this._scrollTarget || window;\n    },\n    set: function set(value) {\n      this.unregisterScrollListener();\n      var old = this.scrollTarget;\n      this._scrollTarget = value;\n      this.updateRootPosition();\n      this.requestUpdate('scrollTarget', old);\n      this.registerScrollListener();\n    }\n  }, {\n    key: \"updateRootPosition\",\n    value: function updateRootPosition() {\n      if (this.mdcRoot) {\n        var windowScroller = this.scrollTarget === window;\n        // we add support for top-app-bar's tied to an element scroller.\n        this.mdcRoot.style.position = windowScroller ? '' : 'absolute';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // clang-format off\n      var title = html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"<span class=\\\"mdc-top-app-bar__title\\\"><slot name=\\\"title\\\"></slot></span>\"])));\n      if (this.centerTitle) {\n        title = html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<section class=\\\"mdc-top-app-bar__section mdc-top-app-bar__section--align-center\\\">\", \"</section>\"])), title);\n      }\n      // clang-format on\n      return html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      <header class=\\\"mdc-top-app-bar \", \"\\\">\\n      <div class=\\\"mdc-top-app-bar__row\\\">\\n        <section class=\\\"mdc-top-app-bar__section mdc-top-app-bar__section--align-start\\\" id=\\\"navigation\\\">\\n          <slot name=\\\"navigationIcon\\\"\\n            @click=\", \"></slot>\\n          \", \"\\n        </section>\\n        \", \"\\n        <section class=\\\"mdc-top-app-bar__section mdc-top-app-bar__section--align-end\\\" id=\\\"actions\\\" role=\\\"toolbar\\\">\\n          <slot name=\\\"actionItems\\\"></slot>\\n        </section>\\n      </div>\\n    </header>\\n    <div class=\\\"\", \"\\\">\\n      <slot></slot>\\n    </div>\\n    \"])), classMap(this.barClasses()), this.handleNavigationClick, this.centerTitle ? null : title, this.centerTitle ? title : null, classMap(this.contentClasses()));\n    }\n  }, {\n    key: \"createAdapter\",\n    value: function createAdapter() {\n      var _this2 = this;\n      return Object.assign(Object.assign({}, addHasRemoveClass(this.mdcRoot)), {\n        setStyle: function setStyle(property, value) {\n          return _this2.mdcRoot.style.setProperty(property, value);\n        },\n        getTopAppBarHeight: function getTopAppBarHeight() {\n          return _this2.mdcRoot.clientHeight;\n        },\n        notifyNavigationIconClicked: function notifyNavigationIconClicked() {\n          _this2.dispatchEvent(new Event(strings.NAVIGATION_EVENT, {\n            bubbles: true,\n            cancelable: true\n          }));\n        },\n        getViewportScrollY: function getViewportScrollY() {\n          return _this2.scrollTarget instanceof Window ? _this2.scrollTarget.pageYOffset : _this2.scrollTarget.scrollTop;\n        },\n        getTotalActionItems: function getTotalActionItems() {\n          return _this2._actionItemsSlot.assignedNodes({\n            flatten: true\n          }).length;\n        }\n      });\n    }\n  }, {\n    key: \"registerListeners\",\n    value: function registerListeners() {\n      this.registerScrollListener();\n    }\n  }, {\n    key: \"unregisterListeners\",\n    value: function unregisterListeners() {\n      this.unregisterScrollListener();\n    }\n  }, {\n    key: \"registerScrollListener\",\n    value: function registerScrollListener() {\n      this.scrollTarget.addEventListener('scroll', this.handleTargetScroll, passiveEventOptionsIfSupported);\n    }\n  }, {\n    key: \"unregisterScrollListener\",\n    value: function unregisterScrollListener() {\n      this.scrollTarget.removeEventListener('scroll', this.handleTargetScroll);\n    }\n  }, {\n    key: \"firstUpdated\",\n    value: function firstUpdated() {\n      _get(_getPrototypeOf(TopAppBarBaseBase.prototype), \"firstUpdated\", this).call(this);\n      this.updateRootPosition();\n      this.registerListeners();\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      _get(_getPrototypeOf(TopAppBarBaseBase.prototype), \"disconnectedCallback\", this).call(this);\n      this.unregisterListeners();\n    }\n  }]);\n  return TopAppBarBaseBase;\n}(BaseElement);\n__decorate([query('.mdc-top-app-bar')], TopAppBarBaseBase.prototype, \"mdcRoot\", void 0);\n__decorate([query('slot[name=\"actionItems\"]')], TopAppBarBaseBase.prototype, \"_actionItemsSlot\", void 0);\n__decorate([property({\n  type: Boolean\n})], TopAppBarBaseBase.prototype, \"centerTitle\", void 0);\n__decorate([property({\n  type: Object\n})], TopAppBarBaseBase.prototype, \"scrollTarget\", null);","map":{"version":3,"names":["addHasRemoveClass","BaseElement","supportsPassiveEventListener","strings","html","property","query","classMap","passiveEventOptionsIfSupported","passive","undefined","TopAppBarBaseBase","_BaseElement","_inherits","_this","_classCallCheck","centerTitle","handleTargetScroll","mdcFoundation","handleNavigationClick","_createClass","key","get","_scrollTarget","window","set","value","unregisterScrollListener","old","scrollTarget","updateRootPosition","requestUpdate","registerScrollListener","mdcRoot","windowScroller","style","position","render","title","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","barClasses","contentClasses","createAdapter","_this2","Object","assign","setStyle","setProperty","getTopAppBarHeight","clientHeight","notifyNavigationIconClicked","dispatchEvent","Event","NAVIGATION_EVENT","bubbles","cancelable","getViewportScrollY","Window","pageYOffset","scrollTop","getTotalActionItems","_actionItemsSlot","assignedNodes","flatten","length","registerListeners","unregisterListeners","addEventListener","removeEventListener","firstUpdated","_get","_getPrototypeOf","prototype","call","disconnectedCallback","__decorate","type","Boolean"],"sources":["mwc-top-app-bar-base-base.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {addHasRemoveClass, BaseElement} from '@material/mwc-base/base-element.js';\nimport {supportsPassiveEventListener} from '@material/mwc-base/utils.js';\nimport {MDCTopAppBarAdapter} from '@material/top-app-bar/adapter.js';\nimport {strings} from '@material/top-app-bar/constants.js';\nimport MDCTopAppBarBaseFoundation from '@material/top-app-bar/foundation.js';\nimport {html} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\nexport const passiveEventOptionsIfSupported =\n    supportsPassiveEventListener ? {passive: true} : undefined;\n\ninterface ClassInfo {\n  [key: string]: boolean;\n}\n\nexport abstract class TopAppBarBaseBase extends BaseElement {\n  protected abstract override mdcFoundation: MDCTopAppBarBaseFoundation;\n\n  protected abstract override mdcFoundationClass:\n      typeof MDCTopAppBarBaseFoundation;\n\n  @query('.mdc-top-app-bar') protected mdcRoot!: HTMLElement;\n\n  // _actionItemsSlot should have type HTMLSlotElement, but when TypeScript's\n  // emitDecoratorMetadata is enabled, the HTMLSlotElement constructor will\n  // be emitted into the runtime, which will cause an \"HTMLSlotElement is\n  // undefined\" error in browsers that don't define it (e.g. IE11).\n  @query('slot[name=\"actionItems\"]') protected _actionItemsSlot!: HTMLElement;\n\n  protected _scrollTarget!: HTMLElement|Window;\n\n  @property({type: Boolean}) centerTitle = false;\n\n  @property({type: Object})\n  get scrollTarget() {\n    return this._scrollTarget || window;\n  }\n\n  set scrollTarget(value) {\n    this.unregisterScrollListener();\n    const old = this.scrollTarget;\n    this._scrollTarget = value;\n    this.updateRootPosition();\n    this.requestUpdate('scrollTarget', old);\n    this.registerScrollListener();\n  }\n\n  protected updateRootPosition() {\n    if (this.mdcRoot) {\n      const windowScroller = this.scrollTarget === window;\n      // we add support for top-app-bar's tied to an element scroller.\n      this.mdcRoot.style.position = windowScroller ? '' : 'absolute';\n    }\n  }\n\n  /**\n   * classMap map for classes on the bar\n   */\n  protected abstract barClasses(): ClassInfo;\n\n  /**\n   * classMap map for classes on the content slot\n   */\n  protected abstract contentClasses(): ClassInfo;\n\n  protected override render() {\n    // clang-format off\n    let title = html`<span class=\"mdc-top-app-bar__title\"><slot name=\"title\"></slot></span>`;\n    if (this.centerTitle) {\n      title = html`<section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-center\">${title}</section>`;\n    }\n    // clang-format on\n    return html`\n      <header class=\"mdc-top-app-bar ${classMap(this.barClasses())}\">\n      <div class=\"mdc-top-app-bar__row\">\n        <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-start\" id=\"navigation\">\n          <slot name=\"navigationIcon\"\n            @click=${this.handleNavigationClick}></slot>\n          ${this.centerTitle ? null : title}\n        </section>\n        ${this.centerTitle ? title : null}\n        <section class=\"mdc-top-app-bar__section mdc-top-app-bar__section--align-end\" id=\"actions\" role=\"toolbar\">\n          <slot name=\"actionItems\"></slot>\n        </section>\n      </div>\n    </header>\n    <div class=\"${classMap(this.contentClasses())}\">\n      <slot></slot>\n    </div>\n    `;\n  }\n\n  protected createAdapter(): MDCTopAppBarAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      setStyle: (property: string, value: string) =>\n          this.mdcRoot.style.setProperty(property, value),\n      getTopAppBarHeight: () => this.mdcRoot.clientHeight,\n      notifyNavigationIconClicked: () => {\n        this.dispatchEvent(new Event(\n            strings.NAVIGATION_EVENT, {bubbles: true, cancelable: true}));\n      },\n      getViewportScrollY: () => this.scrollTarget instanceof Window ?\n          this.scrollTarget.pageYOffset :\n          this.scrollTarget.scrollTop,\n      getTotalActionItems: () => (this._actionItemsSlot as HTMLSlotElement)\n                                     .assignedNodes({flatten: true})\n                                     .length,\n    };\n  }\n\n  protected handleTargetScroll = () => {\n    this.mdcFoundation.handleTargetScroll();\n  };\n\n  protected handleNavigationClick = () => {\n    this.mdcFoundation.handleNavigationClick();\n  };\n\n  protected registerListeners() {\n    this.registerScrollListener();\n  }\n\n  protected unregisterListeners() {\n    this.unregisterScrollListener();\n  }\n\n  protected registerScrollListener() {\n    this.scrollTarget.addEventListener(\n        'scroll', this.handleTargetScroll, passiveEventOptionsIfSupported);\n  }\n\n  protected unregisterScrollListener() {\n    this.scrollTarget.removeEventListener('scroll', this.handleTargetScroll);\n  }\n\n  protected override firstUpdated() {\n    super.firstUpdated();\n    this.updateRootPosition();\n    this.registerListeners();\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.unregisterListeners();\n  }\n}\n"],"mappings":";;;;;;;;;AAAA;;;;;;AAMA;AACA;AAEA,SAAQA,iBAAiB,EAAEC,WAAW,QAAO,oCAAoC;AACjF,SAAQC,4BAA4B,QAAO,6BAA6B;AAExE,SAAQC,OAAO,QAAO,oCAAoC;AAE1D,SAAQC,IAAI,QAAO,KAAK;AACxB,SAAQC,QAAQ,EAAEC,KAAK,QAAO,mBAAmB;AACjD,SAAQC,QAAQ,QAAO,6BAA6B;AAEpD,OAAO,IAAMC,8BAA8B,GACvCN,4BAA4B,GAAG;EAACO,OAAO,EAAE;AAAI,CAAC,GAAGC,SAAS;AAM9D,WAAsBC,iBAAkB,0BAAAC,YAAA;EAAAC,SAAA,CAAAF,iBAAA,EAAAC,YAAA;EAAxC,SAAAD,kBAAA;IAAA,IAAAG,KAAA;IAAAC,eAAA,OAAAJ,iBAAA;;IAgB6BG,KAAA,CAAAE,WAAW,GAAG,KAAK;IAgFpCF,KAAA,CAAAG,kBAAkB,GAAG,YAAK;MAClCH,KAAA,CAAKI,aAAa,CAACD,kBAAkB,EAAE;IACzC,CAAC;IAESH,KAAA,CAAAK,qBAAqB,GAAG,YAAK;MACrCL,KAAA,CAAKI,aAAa,CAACC,qBAAqB,EAAE;IAC5C,CAAC;IAAC,OAAAL,KAAA;EA6BJ;EAACM,YAAA,CAAAT,iBAAA;IAAAU,GAAA;IAAAC,GAAA,EAhHC,SAAAA,IAAA,EAAgB;MACd,OAAO,IAAI,CAACC,aAAa,IAAIC,MAAM;IACrC,CAAC;IAAAC,GAAA,EAED,SAAAA,IAAiBC,KAAK;MACpB,IAAI,CAACC,wBAAwB,EAAE;MAC/B,IAAMC,GAAG,GAAG,IAAI,CAACC,YAAY;MAC7B,IAAI,CAACN,aAAa,GAAGG,KAAK;MAC1B,IAAI,CAACI,kBAAkB,EAAE;MACzB,IAAI,CAACC,aAAa,CAAC,cAAc,EAAEH,GAAG,CAAC;MACvC,IAAI,CAACI,sBAAsB,EAAE;IAC/B;EAAC;IAAAX,GAAA;IAAAK,KAAA,EAES,SAAAI,mBAAA,EAAkB;MAC1B,IAAI,IAAI,CAACG,OAAO,EAAE;QAChB,IAAMC,cAAc,GAAG,IAAI,CAACL,YAAY,KAAKL,MAAM;QACnD;QACA,IAAI,CAACS,OAAO,CAACE,KAAK,CAACC,QAAQ,GAAGF,cAAc,GAAG,EAAE,GAAG,UAAU;;IAElE;EAAC;IAAAb,GAAA;IAAAK,KAAA,EAYkB,SAAAW,OAAA,EAAM;MACvB;MACA,IAAIC,KAAK,GAAGlC,IAAI,CAAAmC,eAAA,KAAAA,eAAA,GAAAC,sBAAA,kFAAwE;MACxF,IAAI,IAAI,CAACxB,WAAW,EAAE;QACpBsB,KAAK,GAAGlC,IAAI,CAAAqC,gBAAA,KAAAA,gBAAA,GAAAD,sBAAA,0GAAoFF,KAAK,CAAY;;MAEnH;MACA,OAAOlC,IAAI,CAAAsC,gBAAA,KAAAA,gBAAA,GAAAF,sBAAA,wmBACwBjC,QAAQ,CAAC,IAAI,CAACoC,UAAU,EAAE,CAAC,EAI7C,IAAI,CAACxB,qBAAqB,EACnC,IAAI,CAACH,WAAW,GAAG,IAAI,GAAGsB,KAAK,EAEjC,IAAI,CAACtB,WAAW,GAAGsB,KAAK,GAAG,IAAI,EAMvB/B,QAAQ,CAAC,IAAI,CAACqC,cAAc,EAAE,CAAC;IAI/C;EAAC;IAAAvB,GAAA;IAAAK,KAAA,EAES,SAAAmB,cAAA,EAAa;MAAA,IAAAC,MAAA;MACrB,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKhD,iBAAiB,CAAC,IAAI,CAACiC,OAAO,CAAC;QAClCgB,QAAQ,EAAE,SAAAA,SAAC5C,QAAgB,EAAEqB,KAAa;UAAA,OACtCoB,MAAI,CAACb,OAAO,CAACE,KAAK,CAACe,WAAW,CAAC7C,QAAQ,EAAEqB,KAAK,CAAC;QAAA;QACnDyB,kBAAkB,EAAE,SAAAA,mBAAA;UAAA,OAAML,MAAI,CAACb,OAAO,CAACmB,YAAY;QAAA;QACnDC,2BAA2B,EAAE,SAAAA,4BAAA,EAAK;UAChCP,MAAI,CAACQ,aAAa,CAAC,IAAIC,KAAK,CACxBpD,OAAO,CAACqD,gBAAgB,EAAE;YAACC,OAAO,EAAE,IAAI;YAAEC,UAAU,EAAE;UAAI,CAAC,CAAC,CAAC;QACnE,CAAC;QACDC,kBAAkB,EAAE,SAAAA,mBAAA;UAAA,OAAMb,MAAI,CAACjB,YAAY,YAAY+B,MAAM,GACzDd,MAAI,CAACjB,YAAY,CAACgC,WAAW,GAC7Bf,MAAI,CAACjB,YAAY,CAACiC,SAAS;QAAA;QAC/BC,mBAAmB,EAAE,SAAAA,oBAAA;UAAA,OAAOjB,MAAI,CAACkB,gBAAoC,CACrCC,aAAa,CAAC;YAACC,OAAO,EAAE;UAAI,CAAC,CAAC,CAC9BC,MAAM;QAAA;MAAA;IAE1C;EAAC;IAAA9C,GAAA;IAAAK,KAAA,EAUS,SAAA0C,kBAAA,EAAiB;MACzB,IAAI,CAACpC,sBAAsB,EAAE;IAC/B;EAAC;IAAAX,GAAA;IAAAK,KAAA,EAES,SAAA2C,oBAAA,EAAmB;MAC3B,IAAI,CAAC1C,wBAAwB,EAAE;IACjC;EAAC;IAAAN,GAAA;IAAAK,KAAA,EAES,SAAAM,uBAAA,EAAsB;MAC9B,IAAI,CAACH,YAAY,CAACyC,gBAAgB,CAC9B,QAAQ,EAAE,IAAI,CAACrD,kBAAkB,EAAET,8BAA8B,CAAC;IACxE;EAAC;IAAAa,GAAA;IAAAK,KAAA,EAES,SAAAC,yBAAA,EAAwB;MAChC,IAAI,CAACE,YAAY,CAAC0C,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACtD,kBAAkB,CAAC;IAC1E;EAAC;IAAAI,GAAA;IAAAK,KAAA,EAEkB,SAAA8C,aAAA,EAAY;MAC7BC,IAAA,CAAAC,eAAA,CAAA/D,iBAAA,CAAAgE,SAAA,yBAAAC,IAAA;MACA,IAAI,CAAC9C,kBAAkB,EAAE;MACzB,IAAI,CAACsC,iBAAiB,EAAE;IAC1B;EAAC;IAAA/C,GAAA;IAAAK,KAAA,EAEQ,SAAAmD,qBAAA,EAAoB;MAC3BJ,IAAA,CAAAC,eAAA,CAAA/D,iBAAA,CAAAgE,SAAA,iCAAAC,IAAA;MACA,IAAI,CAACP,mBAAmB,EAAE;IAC5B;EAAC;EAAA,OAAA1D,iBAAA;AAAA,EAlI6CV,WAAW;AAM9B6E,UAAA,EAA1BxE,KAAK,CAAC,kBAAkB,CAAC,C,iDAAiC;AAMxBwE,UAAA,EAAlCxE,KAAK,CAAC,0BAA0B,CAAC,C,0DAA0C;AAIjDwE,UAAA,EAA1BzE,QAAQ,CAAC;EAAC0E,IAAI,EAAEC;AAAO,CAAC,CAAC,C,qDAAqB;AAG/CF,UAAA,EADCzE,QAAQ,CAAC;EAAC0E,IAAI,EAAEhC;AAAM,CAAC,CAAC,C,oDAGxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}