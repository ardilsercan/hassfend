{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _templateObject;\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n/* eslint-disable */\nimport { LitElement } from \"lit\";\nimport \"./card-tools\";\nvar CardModder = /*#__PURE__*/function (_LitElement) {\n  _inherits(CardModder, _LitElement);\n  function CardModder() {\n    _classCallCheck(this, CardModder);\n    return _callSuper(this, CardModder, arguments);\n  }\n  _createClass(CardModder, [{\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      if (!window.cardTools) throw new Error(\"Can't find card-tools. See https://github.com/thomasloven/lovelace-card-tools\");\n      window.cardTools.checkVersion(0.2);\n      if (!config || !config.card) {\n        throw new Error(\"Card config incorrect\");\n      }\n      if (Array.isArray(config.card)) {\n        throw new Error(\"It says 'card', not 'cardS'. Remove the dash.\");\n      }\n      this._config = config;\n      this.card = window.cardTools.createCard(config.card);\n      this.templated = [];\n      this.attempts = 0;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return window.cardTools.litHtml(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    <div id=\\\"root\\\">\", \"</div>\\n    \"])), this.card);\n    }\n  }, {\n    key: \"firstUpdated\",\n    value: function firstUpdated() {\n      this._cardMod();\n    }\n  }, {\n    key: \"_cardMod\",\n    value: function _cardMod() {\n      var _this = this;\n      if (!this._config.style) return;\n      var target = null;\n      target = target || this.card.querySelector(\"ha-card\");\n      target = target || this.card.shadowRoot && this.card.shadowRoot.querySelector(\"ha-card\");\n      target = target || this.card.firstChild && this.card.firstChild.shadowRoot && this.card.firstChild.shadowRoot.querySelector(\"ha-card\");\n      if (!target && !this.attempts)\n        // Try twice\n        setTimeout(function () {\n          return _this._cardMod();\n        }, 100);\n      this.attempts++;\n      target = target || this.card;\n      for (var k in this._config.style) {\n        if (window.cardTools.hasTemplate(this._config.style[k])) this.templated.push(k);\n        this.card.style.setProperty(k, \"\");\n        target.style.setProperty(k, window.cardTools.parseTemplate(this._config.style[k]));\n      }\n      this.target = target;\n    }\n  }, {\n    key: \"hass\",\n    set: function set(hass) {\n      var _this2 = this;\n      if (this.card) this.card.hass = hass;\n      if (this.templated) this.templated.forEach(function (k) {\n        _this2.target.style.setProperty(k, window.cardTools.parseTemplate(_this2._config.style[k], \"\"));\n      });\n    }\n  }, {\n    key: \"getCardSize\",\n    value: function getCardSize() {\n      if (this._config && this._config.report_size) return this._config.report_size;\n      if (this.card) return typeof this.card.getCardSize === \"function\" ? this.card.getCardSize() : 1;\n      return 1;\n    }\n  }]);\n  return CardModder;\n}(LitElement);\ncustomElements.define(\"card-modder\", CardModder);","map":{"version":3,"names":["LitElement","CardModder","_LitElement","_inherits","_classCallCheck","_callSuper","arguments","_createClass","key","value","setConfig","config","window","cardTools","Error","checkVersion","card","Array","isArray","_config","createCard","templated","attempts","render","litHtml","_templateObject","_taggedTemplateLiteral","firstUpdated","_cardMod","_this","style","target","querySelector","shadowRoot","firstChild","setTimeout","k","hasTemplate","push","setProperty","parseTemplate","set","hass","_this2","forEach","getCardSize","report_size","customElements","define"],"sources":["/workspaces/frontend/demo/src/custom-cards/card-modder.js"],"sourcesContent":["/* eslint-disable */\nimport { LitElement } from \"lit\";\nimport \"./card-tools\";\n\nclass CardModder extends LitElement {\n  setConfig(config) {\n    if (!window.cardTools)\n      throw new Error(\n        `Can't find card-tools. See https://github.com/thomasloven/lovelace-card-tools`\n      );\n    window.cardTools.checkVersion(0.2);\n\n    if (!config || !config.card) {\n      throw new Error(\"Card config incorrect\");\n    }\n    if (Array.isArray(config.card)) {\n      throw new Error(\"It says 'card', not 'cardS'. Remove the dash.\");\n    }\n    this._config = config;\n    this.card = window.cardTools.createCard(config.card);\n    this.templated = [];\n    this.attempts = 0;\n  }\n\n  render() {\n    return window.cardTools.litHtml`\n    <div id=\"root\">${this.card}</div>\n    `;\n  }\n\n  firstUpdated() {\n    this._cardMod();\n  }\n\n  _cardMod() {\n    if (!this._config.style) return;\n\n    let target = null;\n    target = target || this.card.querySelector(\"ha-card\");\n    target =\n      target ||\n      (this.card.shadowRoot && this.card.shadowRoot.querySelector(\"ha-card\"));\n    target =\n      target ||\n      (this.card.firstChild &&\n        this.card.firstChild.shadowRoot &&\n        this.card.firstChild.shadowRoot.querySelector(\"ha-card\"));\n    if (!target && !this.attempts)\n      // Try twice\n      setTimeout(() => this._cardMod(), 100);\n    this.attempts++;\n    target = target || this.card;\n\n    for (var k in this._config.style) {\n      if (window.cardTools.hasTemplate(this._config.style[k]))\n        this.templated.push(k);\n      this.card.style.setProperty(k, \"\");\n      target.style.setProperty(\n        k,\n        window.cardTools.parseTemplate(this._config.style[k])\n      );\n    }\n    this.target = target;\n  }\n\n  set hass(hass) {\n    if (this.card) this.card.hass = hass;\n    if (this.templated)\n      this.templated.forEach((k) => {\n        this.target.style.setProperty(\n          k,\n          window.cardTools.parseTemplate(this._config.style[k], \"\")\n        );\n      });\n  }\n\n  getCardSize() {\n    if (this._config && this._config.report_size)\n      return this._config.report_size;\n    if (this.card)\n      return typeof this.card.getCardSize === \"function\"\n        ? this.card.getCardSize()\n        : 1;\n    return 1;\n  }\n}\n\ncustomElements.define(\"card-modder\", CardModder);\n"],"mappings":";;;;;;;;;;;;AAAA;AACA,SAASA,UAAU,QAAQ,KAAK;AAChC,OAAO,cAAc;AAAC,IAEhBC,UAAU,0BAAAC,WAAA;EAAAC,SAAA,CAAAF,UAAA,EAAAC,WAAA;EAAA,SAAAD,WAAA;IAAAG,eAAA,OAAAH,UAAA;IAAA,OAAAI,UAAA,OAAAJ,UAAA,EAAAK,SAAA;EAAA;EAAAC,YAAA,CAAAN,UAAA;IAAAO,GAAA;IAAAC,KAAA,EACd,SAAAC,UAAUC,MAAM,EAAE;MAChB,IAAI,CAACC,MAAM,CAACC,SAAS,EACnB,MAAM,IAAIC,KAAK,gFAEf,CAAC;MACHF,MAAM,CAACC,SAAS,CAACE,YAAY,CAAC,GAAG,CAAC;MAElC,IAAI,CAACJ,MAAM,IAAI,CAACA,MAAM,CAACK,IAAI,EAAE;QAC3B,MAAM,IAAIF,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MACA,IAAIG,KAAK,CAACC,OAAO,CAACP,MAAM,CAACK,IAAI,CAAC,EAAE;QAC9B,MAAM,IAAIF,KAAK,CAAC,+CAA+C,CAAC;MAClE;MACA,IAAI,CAACK,OAAO,GAAGR,MAAM;MACrB,IAAI,CAACK,IAAI,GAAGJ,MAAM,CAACC,SAAS,CAACO,UAAU,CAACT,MAAM,CAACK,IAAI,CAAC;MACpD,IAAI,CAACK,SAAS,GAAG,EAAE;MACnB,IAAI,CAACC,QAAQ,GAAG,CAAC;IACnB;EAAC;IAAAd,GAAA;IAAAC,KAAA,EAED,SAAAc,OAAA,EAAS;MACP,OAAOX,MAAM,CAACC,SAAS,CAACW,OAAO,CAAAC,eAAA,KAAAA,eAAA,GAAAC,sBAAA,gDACd,IAAI,CAACV,IAAI;IAE5B;EAAC;IAAAR,GAAA;IAAAC,KAAA,EAED,SAAAkB,aAAA,EAAe;MACb,IAAI,CAACC,QAAQ,CAAC,CAAC;IACjB;EAAC;IAAApB,GAAA;IAAAC,KAAA,EAED,SAAAmB,SAAA,EAAW;MAAA,IAAAC,KAAA;MACT,IAAI,CAAC,IAAI,CAACV,OAAO,CAACW,KAAK,EAAE;MAEzB,IAAIC,MAAM,GAAG,IAAI;MACjBA,MAAM,GAAGA,MAAM,IAAI,IAAI,CAACf,IAAI,CAACgB,aAAa,CAAC,SAAS,CAAC;MACrDD,MAAM,GACJA,MAAM,IACL,IAAI,CAACf,IAAI,CAACiB,UAAU,IAAI,IAAI,CAACjB,IAAI,CAACiB,UAAU,CAACD,aAAa,CAAC,SAAS,CAAE;MACzED,MAAM,GACJA,MAAM,IACL,IAAI,CAACf,IAAI,CAACkB,UAAU,IACnB,IAAI,CAAClB,IAAI,CAACkB,UAAU,CAACD,UAAU,IAC/B,IAAI,CAACjB,IAAI,CAACkB,UAAU,CAACD,UAAU,CAACD,aAAa,CAAC,SAAS,CAAE;MAC7D,IAAI,CAACD,MAAM,IAAI,CAAC,IAAI,CAACT,QAAQ;QAC3B;QACAa,UAAU,CAAC;UAAA,OAAMN,KAAI,CAACD,QAAQ,CAAC,CAAC;QAAA,GAAE,GAAG,CAAC;MACxC,IAAI,CAACN,QAAQ,EAAE;MACfS,MAAM,GAAGA,MAAM,IAAI,IAAI,CAACf,IAAI;MAE5B,KAAK,IAAIoB,CAAC,IAAI,IAAI,CAACjB,OAAO,CAACW,KAAK,EAAE;QAChC,IAAIlB,MAAM,CAACC,SAAS,CAACwB,WAAW,CAAC,IAAI,CAAClB,OAAO,CAACW,KAAK,CAACM,CAAC,CAAC,CAAC,EACrD,IAAI,CAACf,SAAS,CAACiB,IAAI,CAACF,CAAC,CAAC;QACxB,IAAI,CAACpB,IAAI,CAACc,KAAK,CAACS,WAAW,CAACH,CAAC,EAAE,EAAE,CAAC;QAClCL,MAAM,CAACD,KAAK,CAACS,WAAW,CACtBH,CAAC,EACDxB,MAAM,CAACC,SAAS,CAAC2B,aAAa,CAAC,IAAI,CAACrB,OAAO,CAACW,KAAK,CAACM,CAAC,CAAC,CACtD,CAAC;MACH;MACA,IAAI,CAACL,MAAM,GAAGA,MAAM;IACtB;EAAC;IAAAvB,GAAA;IAAAiC,GAAA,EAED,SAAAA,IAASC,IAAI,EAAE;MAAA,IAAAC,MAAA;MACb,IAAI,IAAI,CAAC3B,IAAI,EAAE,IAAI,CAACA,IAAI,CAAC0B,IAAI,GAAGA,IAAI;MACpC,IAAI,IAAI,CAACrB,SAAS,EAChB,IAAI,CAACA,SAAS,CAACuB,OAAO,CAAC,UAACR,CAAC,EAAK;QAC5BO,MAAI,CAACZ,MAAM,CAACD,KAAK,CAACS,WAAW,CAC3BH,CAAC,EACDxB,MAAM,CAACC,SAAS,CAAC2B,aAAa,CAACG,MAAI,CAACxB,OAAO,CAACW,KAAK,CAACM,CAAC,CAAC,EAAE,EAAE,CAC1D,CAAC;MACH,CAAC,CAAC;IACN;EAAC;IAAA5B,GAAA;IAAAC,KAAA,EAED,SAAAoC,YAAA,EAAc;MACZ,IAAI,IAAI,CAAC1B,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC2B,WAAW,EAC1C,OAAO,IAAI,CAAC3B,OAAO,CAAC2B,WAAW;MACjC,IAAI,IAAI,CAAC9B,IAAI,EACX,OAAO,OAAO,IAAI,CAACA,IAAI,CAAC6B,WAAW,KAAK,UAAU,GAC9C,IAAI,CAAC7B,IAAI,CAAC6B,WAAW,CAAC,CAAC,GACvB,CAAC;MACP,OAAO,CAAC;IACV;EAAC;EAAA,OAAA5C,UAAA;AAAA,EAhFsBD,UAAU;AAmFnC+C,cAAc,CAACC,MAAM,CAAC,aAAa,EAAE/C,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}