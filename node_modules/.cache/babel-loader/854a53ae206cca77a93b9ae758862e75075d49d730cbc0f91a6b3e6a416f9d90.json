{"ast":null,"code":"const STORED_STATE = [\"dockedSidebar\", \"selectedTheme\", \"selectedLanguage\", \"vibrate\", \"debugConnection\", \"suspendWhenHidden\", \"enableShortcuts\", \"defaultPanel\"];\nconst STORAGE = window.localStorage || {};\nexport function storeState(hass) {\n  try {\n    STORED_STATE.forEach(key => {\n      const value = hass[key];\n      STORAGE[key] = JSON.stringify(value === undefined ? null : value);\n    });\n  } catch (err) {\n    // Safari throws exception in private mode\n  }\n}\nexport function getState() {\n  const state = {};\n  STORED_STATE.forEach(key => {\n    if (key in STORAGE) {\n      let value = JSON.parse(STORAGE[key]);\n      // selectedTheme went from string to object on 20200718\n      if (key === \"selectedTheme\" && typeof value === \"string\") {\n        value = {\n          theme: value\n        };\n      }\n      // dockedSidebar went from boolean to enum on 20190720\n      if (key === \"dockedSidebar\" && typeof value === \"boolean\") {\n        value = value ? \"docked\" : \"auto\";\n      }\n      state[key] = value;\n    }\n  });\n  return state;\n}\nexport function clearState() {\n  // STORAGE is an object if localStorage not available.\n  if (STORAGE.clear) {\n    STORAGE.clear();\n  }\n}","map":{"version":3,"names":["STORED_STATE","STORAGE","window","localStorage","storeState","hass","forEach","key","value","JSON","stringify","undefined","err","getState","state","parse","theme","clearState","clear"],"sources":["/Users/sercanardil/Desktop/frontend/src/util/ha-pref-storage.ts"],"sourcesContent":["import { HomeAssistant } from \"../types\";\n\nconst STORED_STATE = [\n  \"dockedSidebar\",\n  \"selectedTheme\",\n  \"selectedLanguage\",\n  \"vibrate\",\n  \"debugConnection\",\n  \"suspendWhenHidden\",\n  \"enableShortcuts\",\n  \"defaultPanel\",\n];\nconst STORAGE = window.localStorage || {};\n\nexport function storeState(hass: HomeAssistant) {\n  try {\n    STORED_STATE.forEach((key) => {\n      const value = hass[key];\n      STORAGE[key] = JSON.stringify(value === undefined ? null : value);\n    });\n  } catch (err: any) {\n    // Safari throws exception in private mode\n  }\n}\n\nexport function getState() {\n  const state = {};\n\n  STORED_STATE.forEach((key) => {\n    if (key in STORAGE) {\n      let value = JSON.parse(STORAGE[key]);\n      // selectedTheme went from string to object on 20200718\n      if (key === \"selectedTheme\" && typeof value === \"string\") {\n        value = { theme: value };\n      }\n      // dockedSidebar went from boolean to enum on 20190720\n      if (key === \"dockedSidebar\" && typeof value === \"boolean\") {\n        value = value ? \"docked\" : \"auto\";\n      }\n      state[key] = value;\n    }\n  });\n  return state;\n}\n\nexport function clearState() {\n  // STORAGE is an object if localStorage not available.\n  if (STORAGE.clear) {\n    STORAGE.clear();\n  }\n}\n"],"mappings":"AAEA,MAAMA,YAAY,GAAG,CACnB,eAAe,EACf,eAAe,EACf,kBAAkB,EAClB,SAAS,EACT,iBAAiB,EACjB,mBAAmB,EACnB,iBAAiB,EACjB,cAAc,CACf;AACD,MAAMC,OAAO,GAAGC,MAAM,CAACC,YAAY,IAAI,CAAC,CAAC;AAEzC,OAAO,SAASC,UAAUA,CAACC,IAAmB,EAAE;EAC9C,IAAI;IACFL,YAAY,CAACM,OAAO,CAAEC,GAAG,IAAK;MAC5B,MAAMC,KAAK,GAAGH,IAAI,CAACE,GAAG,CAAC;MACvBN,OAAO,CAACM,GAAG,CAAC,GAAGE,IAAI,CAACC,SAAS,CAACF,KAAK,KAAKG,SAAS,GAAG,IAAI,GAAGH,KAAK,CAAC;IACnE,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOI,GAAQ,EAAE;IACjB;EAAA;AAEJ;AAEA,OAAO,SAASC,QAAQA,CAAA,EAAG;EACzB,MAAMC,KAAK,GAAG,CAAC,CAAC;EAEhBd,YAAY,CAACM,OAAO,CAAEC,GAAG,IAAK;IAC5B,IAAIA,GAAG,IAAIN,OAAO,EAAE;MAClB,IAAIO,KAAK,GAAGC,IAAI,CAACM,KAAK,CAACd,OAAO,CAACM,GAAG,CAAC,CAAC;MACpC;MACA,IAAIA,GAAG,KAAK,eAAe,IAAI,OAAOC,KAAK,KAAK,QAAQ,EAAE;QACxDA,KAAK,GAAG;UAAEQ,KAAK,EAAER;QAAM,CAAC;MAC1B;MACA;MACA,IAAID,GAAG,KAAK,eAAe,IAAI,OAAOC,KAAK,KAAK,SAAS,EAAE;QACzDA,KAAK,GAAGA,KAAK,GAAG,QAAQ,GAAG,MAAM;MACnC;MACAM,KAAK,CAACP,GAAG,CAAC,GAAGC,KAAK;IACpB;EACF,CAAC,CAAC;EACF,OAAOM,KAAK;AACd;AAEA,OAAO,SAASG,UAAUA,CAAA,EAAG;EAC3B;EACA,IAAIhB,OAAO,CAACiB,KAAK,EAAE;IACjBjB,OAAO,CAACiB,KAAK,CAAC,CAAC;EACjB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}