{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport { css, html, LitElement } from \"lit\";\nimport { property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { stringCompare } from \"../../common/string/compare\";\nimport { fetchUsers } from \"../../data/user\";\nimport \"../ha-select\";\nimport \"./ha-user-badge\";\nimport \"../ha-list-item\";\nlet HaUserPicker = _decorate(null, function (_initialize, _LitElement) {\n  class HaUserPicker extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaUserPicker,\n    d: [{\n      kind: \"field\",\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"label\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"noUserLabel\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"value\",\n      value() {\n        return \"\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"users\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_sortedUsers\",\n      value() {\n        return memoizeOne(users => {\n          if (!users) {\n            return [];\n          }\n          return users.filter(user => !user.system_generated).sort((a, b) => stringCompare(a.name, b.name, this.hass.locale.language));\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$users, _this$hass;\n        return html`\n      <ha-select\n        .label=${this.label}\n        .disabled=${this.disabled}\n        .value=${this.value}\n        @selected=${this._userChanged}\n      >\n        ${((_this$users = this.users) === null || _this$users === void 0 ? void 0 : _this$users.length) === 0 ? html`<mwc-list-item value=\"\">\n              ${this.noUserLabel || ((_this$hass = this.hass) === null || _this$hass === void 0 ? void 0 : _this$hass.localize(\"ui.components.user-picker.no_user\"))}\n            </mwc-list-item>` : \"\"}\n        ${this._sortedUsers(this.users).map(user => html`\n            <ha-list-item graphic=\"avatar\" .value=${user.id}>\n              <ha-user-badge\n                .hass=${this.hass}\n                .user=${user}\n                slot=\"graphic\"\n              ></ha-user-badge>\n              ${user.name}\n            </ha-list-item>\n          `)}\n      </ha-select>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        _get(_getPrototypeOf(HaUserPicker.prototype), \"firstUpdated\", this).call(this, changedProps);\n        if (this.users === undefined) {\n          fetchUsers(this.hass).then(users => {\n            this.users = users;\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_userChanged\",\n      value: function _userChanged(ev) {\n        const newValue = ev.target.value;\n        if (newValue !== this.value) {\n          this.value = newValue;\n          setTimeout(() => {\n            fireEvent(this, \"value-changed\", {\n              value: newValue\n            });\n            fireEvent(this, \"change\");\n          }, 0);\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css`\n      :host {\n        display: inline-block;\n      }\n      mwc-list {\n        display: block;\n      }\n    `;\n      }\n    }]\n  };\n}, LitElement);\ncustomElements.define(\"ha-user-picker\", HaUserPicker);","map":{"version":3,"names":["css","html","LitElement","property","memoizeOne","fireEvent","stringCompare","fetchUsers","HaUserPicker","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","key","value","decorators","attribute","type","Boolean","users","filter","user","system_generated","sort","a","b","name","hass","locale","language","render","_this$users","_this$hass","label","disabled","_userChanged","length","noUserLabel","localize","_sortedUsers","map","id","firstUpdated","changedProps","_get","_getPrototypeOf","prototype","call","undefined","then","ev","newValue","target","setTimeout","static","styles","customElements","define"],"sources":["/Users/sercanardil/Desktop/frontend/src/components/user/ha-user-picker.ts"],"sourcesContent":["import \"@material/mwc-list/mwc-list-item\";\nimport { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { property } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { stringCompare } from \"../../common/string/compare\";\nimport { fetchUsers, User } from \"../../data/user\";\nimport { HomeAssistant } from \"../../types\";\nimport \"../ha-select\";\nimport \"./ha-user-badge\";\nimport \"../ha-list-item\";\n\nclass HaUserPicker extends LitElement {\n  public hass?: HomeAssistant;\n\n  @property() public label?: string;\n\n  @property() public noUserLabel?: string;\n\n  @property() public value = \"\";\n\n  @property({ attribute: false }) public users?: User[];\n\n  @property({ type: Boolean }) public disabled = false;\n\n  private _sortedUsers = memoizeOne((users?: User[]) => {\n    if (!users) {\n      return [];\n    }\n\n    return users\n      .filter((user) => !user.system_generated)\n      .sort((a, b) =>\n        stringCompare(a.name, b.name, this.hass!.locale.language)\n      );\n  });\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-select\n        .label=${this.label}\n        .disabled=${this.disabled}\n        .value=${this.value}\n        @selected=${this._userChanged}\n      >\n        ${this.users?.length === 0\n          ? html`<mwc-list-item value=\"\">\n              ${this.noUserLabel ||\n              this.hass?.localize(\"ui.components.user-picker.no_user\")}\n            </mwc-list-item>`\n          : \"\"}\n        ${this._sortedUsers(this.users).map(\n          (user) => html`\n            <ha-list-item graphic=\"avatar\" .value=${user.id}>\n              <ha-user-badge\n                .hass=${this.hass}\n                .user=${user}\n                slot=\"graphic\"\n              ></ha-user-badge>\n              ${user.name}\n            </ha-list-item>\n          `\n        )}\n      </ha-select>\n    `;\n  }\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    if (this.users === undefined) {\n      fetchUsers(this.hass!).then((users) => {\n        this.users = users;\n      });\n    }\n  }\n\n  private _userChanged(ev) {\n    const newValue = ev.target.value;\n\n    if (newValue !== this.value) {\n      this.value = newValue;\n      setTimeout(() => {\n        fireEvent(this, \"value-changed\", { value: newValue });\n        fireEvent(this, \"change\");\n      }, 0);\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: inline-block;\n      }\n      mwc-list {\n        display: block;\n      }\n    `;\n  }\n}\n\ncustomElements.define(\"ha-user-picker\", HaUserPicker);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-user-picker\": HaUserPicker;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}