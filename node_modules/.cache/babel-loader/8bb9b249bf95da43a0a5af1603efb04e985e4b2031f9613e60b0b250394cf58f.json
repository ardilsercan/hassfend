{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { getCollection } from \"./collection.js\";\nimport { getConfig } from \"./commands.js\";\nfunction processComponentLoaded(state, event) {\n  if (state === undefined) return null;\n  return {\n    components: state.components.concat(event.data.component)\n  };\n}\nvar fetchConfig = function fetchConfig(conn) {\n  return getConfig(conn);\n};\nvar subscribeUpdates = function subscribeUpdates(conn, store) {\n  return Promise.all([conn.subscribeEvents(store.action(processComponentLoaded), \"component_loaded\"), conn.subscribeEvents(function () {\n    return fetchConfig(conn).then(function (config) {\n      return store.setState(config, true);\n    });\n  }, \"core_config_updated\")]).then(function (unsubs) {\n    return function () {\n      return unsubs.forEach(function (unsub) {\n        return unsub();\n      });\n    };\n  });\n};\nexport var configColl = function configColl(conn) {\n  return getCollection(conn, \"_cnf\", fetchConfig, subscribeUpdates);\n};\nexport var subscribeConfig = function subscribeConfig(conn, onChange) {\n  return configColl(conn).subscribe(onChange);\n};\nexport var STATE_NOT_RUNNING = \"NOT_RUNNING\";\nexport var STATE_STARTING = \"STARTING\";\nexport var STATE_RUNNING = \"RUNNING\";\nexport var STATE_STOPPING = \"STOPPING\";\nexport var STATE_FINAL_WRITE = \"FINAL_WRITE\";","map":{"version":3,"names":["getCollection","getConfig","processComponentLoaded","state","event","undefined","components","concat","data","component","fetchConfig","conn","subscribeUpdates","store","Promise","all","subscribeEvents","action","then","config","setState","unsubs","forEach","unsub","configColl","subscribeConfig","onChange","subscribe","STATE_NOT_RUNNING","STATE_STARTING","STATE_RUNNING","STATE_STOPPING","STATE_FINAL_WRITE"],"sources":["/Users/sercanardil/Desktop/frontend/node_modules/home-assistant-js-websocket/dist/config.js"],"sourcesContent":["import { getCollection } from \"./collection.js\";\nimport { getConfig } from \"./commands.js\";\nfunction processComponentLoaded(state, event) {\n    if (state === undefined)\n        return null;\n    return {\n        components: state.components.concat(event.data.component),\n    };\n}\nconst fetchConfig = (conn) => getConfig(conn);\nconst subscribeUpdates = (conn, store) => Promise.all([\n    conn.subscribeEvents(store.action(processComponentLoaded), \"component_loaded\"),\n    conn.subscribeEvents(() => fetchConfig(conn).then((config) => store.setState(config, true)), \"core_config_updated\"),\n]).then((unsubs) => () => unsubs.forEach((unsub) => unsub()));\nexport const configColl = (conn) => getCollection(conn, \"_cnf\", fetchConfig, subscribeUpdates);\nexport const subscribeConfig = (conn, onChange) => configColl(conn).subscribe(onChange);\nexport const STATE_NOT_RUNNING = \"NOT_RUNNING\";\nexport const STATE_STARTING = \"STARTING\";\nexport const STATE_RUNNING = \"RUNNING\";\nexport const STATE_STOPPING = \"STOPPING\";\nexport const STATE_FINAL_WRITE = \"FINAL_WRITE\";\n"],"mappings":";;;;;;;;;AAAA,SAASA,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,SAAS,QAAQ,eAAe;AACzC,SAASC,sBAAsBA,CAACC,KAAK,EAAEC,KAAK,EAAE;EAC1C,IAAID,KAAK,KAAKE,SAAS,EACnB,OAAO,IAAI;EACf,OAAO;IACHC,UAAU,EAAEH,KAAK,CAACG,UAAU,CAACC,MAAM,CAACH,KAAK,CAACI,IAAI,CAACC,SAAS;EAC5D,CAAC;AACL;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAI;EAAA,OAAKV,SAAS,CAACU,IAAI,CAAC;AAAA;AAC7C,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAID,IAAI,EAAEE,KAAK;EAAA,OAAKC,OAAO,CAACC,GAAG,CAAC,CAClDJ,IAAI,CAACK,eAAe,CAACH,KAAK,CAACI,MAAM,CAACf,sBAAsB,CAAC,EAAE,kBAAkB,CAAC,EAC9ES,IAAI,CAACK,eAAe,CAAC;IAAA,OAAMN,WAAW,CAACC,IAAI,CAAC,CAACO,IAAI,CAAC,UAACC,MAAM;MAAA,OAAKN,KAAK,CAACO,QAAQ,CAACD,MAAM,EAAE,IAAI,CAAC;IAAA,EAAC;EAAA,GAAE,qBAAqB,CAAC,CACtH,CAAC,CAACD,IAAI,CAAC,UAACG,MAAM;IAAA,OAAK;MAAA,OAAMA,MAAM,CAACC,OAAO,CAAC,UAACC,KAAK;QAAA,OAAKA,KAAK,CAAC,CAAC;MAAA,EAAC;IAAA;EAAA,EAAC;AAAA;AAC7D,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAIb,IAAI;EAAA,OAAKX,aAAa,CAACW,IAAI,EAAE,MAAM,EAAED,WAAW,EAAEE,gBAAgB,CAAC;AAAA;AAC9F,OAAO,IAAMa,eAAe,GAAG,SAAlBA,eAAeA,CAAId,IAAI,EAAEe,QAAQ;EAAA,OAAKF,UAAU,CAACb,IAAI,CAAC,CAACgB,SAAS,CAACD,QAAQ,CAAC;AAAA;AACvF,OAAO,IAAME,iBAAiB,GAAG,aAAa;AAC9C,OAAO,IAAMC,cAAc,GAAG,UAAU;AACxC,OAAO,IAAMC,aAAa,GAAG,SAAS;AACtC,OAAO,IAAMC,cAAc,GAAG,UAAU;AACxC,OAAO,IAAMC,iBAAiB,GAAG,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}