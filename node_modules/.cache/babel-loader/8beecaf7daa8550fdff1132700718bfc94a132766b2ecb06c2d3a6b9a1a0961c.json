{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport \"../../components/ha-icon-next\";\nimport { configFlowContentStyles } from \"./styles\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nvar StepFlowMenu = _decorate([customElement(\"step-flow-menu\")], function (_initialize, _LitElement) {\n  var StepFlowMenu = /*#__PURE__*/function (_LitElement2) {\n    _inherits(StepFlowMenu, _LitElement2);\n    function StepFlowMenu() {\n      var _this;\n      _classCallCheck(this, StepFlowMenu);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, StepFlowMenu, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(StepFlowMenu);\n  }(_LitElement);\n  return {\n    F: StepFlowMenu,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"flowConfig\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"step\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        var options;\n        var translations;\n        if (Array.isArray(this.step.menu_options)) {\n          options = this.step.menu_options;\n          translations = {};\n          var _iterator = _createForOfIteratorHelper(options),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var option = _step.value;\n              translations[option] = this.flowConfig.renderMenuOption(this.hass, this.step, option);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        } else {\n          options = Object.keys(this.step.menu_options);\n          translations = this.step.menu_options;\n        }\n        var description = this.flowConfig.renderMenuDescription(this.hass, this.step);\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <h2>\", \"</h2>\\n      \", \"\\n      <div class=\\\"options\\\">\\n        \", \"\\n      </div>\\n    \"])), this.flowConfig.renderMenuHeader(this.hass, this.step), description ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<div class=\\\"content\\\">\", \"</div>\"])), description) : \"\", options.map(function (option) {\n          return html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n            <mwc-list-item hasMeta .step=\", \" @click=\", \">\\n              <span>\", \"</span>\\n              <ha-icon-next slot=\\\"meta\\\"></ha-icon-next>\\n            </mwc-list-item>\\n          \"])), option, _this2._handleStep, translations[option]);\n        }));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleStep\",\n      value: function _handleStep(ev) {\n        fireEvent(this, \"flow-update\", {\n          stepPromise: this.flowConfig.handleFlowStep(this.hass, this.step.flow_id, {\n            next_step_id: ev.currentTarget.step\n          })\n        });\n      }\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value: function value() {\n        return [configFlowContentStyles, css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n      .options {\\n        margin-top: 20px;\\n        margin-bottom: 8px;\\n      }\\n      .content {\\n        padding-bottom: 16px;\\n        border-bottom: 1px solid var(--divider-color);\\n      }\\n      .content + .options {\\n        margin-top: 8px;\\n      }\\n      mwc-list-item {\\n        --mdc-list-side-padding: 24px;\\n      }\\n    \"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","configFlowContentStyles","fireEvent","StepFlowMenu","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","render","_this2","options","translations","isArray","step","menu_options","_iterator","_createForOfIteratorHelper","_step","s","n","done","option","flowConfig","renderMenuOption","hass","err","e","f","Object","keys","description","renderMenuDescription","_templateObject","_taggedTemplateLiteral","renderMenuHeader","_templateObject2","map","_templateObject3","_handleStep","ev","stepPromise","handleFlowStep","flow_id","next_step_id","currentTarget","static","_templateObject4"],"sources":["/workspaces/frontend/src/dialogs/config-flow/step-flow-menu.ts"],"sourcesContent":["import \"@material/mwc-list/mwc-list-item\";\nimport { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport type { DataEntryFlowStepMenu } from \"../../data/data_entry_flow\";\nimport type { HomeAssistant } from \"../../types\";\nimport type { FlowConfig } from \"./show-dialog-data-entry-flow\";\nimport \"../../components/ha-icon-next\";\nimport { configFlowContentStyles } from \"./styles\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\n\n@customElement(\"step-flow-menu\")\nclass StepFlowMenu extends LitElement {\n  @property({ attribute: false }) public flowConfig!: FlowConfig;\n\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public step!: DataEntryFlowStepMenu;\n\n  protected render(): TemplateResult {\n    let options: string[];\n    let translations: Record<string, string>;\n\n    if (Array.isArray(this.step.menu_options)) {\n      options = this.step.menu_options;\n      translations = {};\n      for (const option of options) {\n        translations[option] = this.flowConfig.renderMenuOption(\n          this.hass,\n          this.step,\n          option\n        );\n      }\n    } else {\n      options = Object.keys(this.step.menu_options);\n      translations = this.step.menu_options;\n    }\n\n    const description = this.flowConfig.renderMenuDescription(\n      this.hass,\n      this.step\n    );\n\n    return html`\n      <h2>${this.flowConfig.renderMenuHeader(this.hass, this.step)}</h2>\n      ${description ? html`<div class=\"content\">${description}</div>` : \"\"}\n      <div class=\"options\">\n        ${options.map(\n          (option) => html`\n            <mwc-list-item hasMeta .step=${option} @click=${this._handleStep}>\n              <span>${translations[option]}</span>\n              <ha-icon-next slot=\"meta\"></ha-icon-next>\n            </mwc-list-item>\n          `\n        )}\n      </div>\n    `;\n  }\n\n  private _handleStep(ev) {\n    fireEvent(this, \"flow-update\", {\n      stepPromise: this.flowConfig.handleFlowStep(\n        this.hass,\n        this.step.flow_id,\n        {\n          next_step_id: ev.currentTarget.step,\n        }\n      ),\n    });\n  }\n\n  static styles = [\n    configFlowContentStyles,\n    css`\n      .options {\n        margin-top: 20px;\n        margin-bottom: 8px;\n      }\n      .content {\n        padding-bottom: 16px;\n        border-bottom: 1px solid var(--divider-color);\n      }\n      .content + .options {\n        margin-top: 8px;\n      }\n      mwc-list-item {\n        --mdc-list-side-padding: 24px;\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"step-flow-menu\": StepFlowMenu;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}