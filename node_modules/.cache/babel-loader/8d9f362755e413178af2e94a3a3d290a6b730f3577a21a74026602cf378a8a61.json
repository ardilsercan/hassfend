{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar mdiCrownCircleOutline = \"M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z\";\nvar mdiAlphaSCircleOutline = \"M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z\";\nvar mdiHomeCircleOutline = \"M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14\";\nvar mdiCancel = \"M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z\";\nexport var SYSTEM_GROUP_ID_ADMIN = \"system-admin\";\nexport var SYSTEM_GROUP_ID_USER = \"system-users\";\nexport var SYSTEM_GROUP_ID_READ_ONLY = \"system-read-only\";\nexport var GROUPS = [SYSTEM_GROUP_ID_USER, SYSTEM_GROUP_ID_ADMIN];\nexport var fetchUsers = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(hass) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", hass.callWS({\n            type: \"config/auth/list\"\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function fetchUsers(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var createUser = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(hass, name, group_ids, local_only) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          return _context2.abrupt(\"return\", hass.callWS({\n            type: \"config/auth/create\",\n            name: name,\n            group_ids: group_ids,\n            local_only: local_only\n          }));\n        case 1:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function createUser(_x2, _x3, _x4, _x5) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var updateUser = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(hass, userId, params) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", hass.callWS(Object.assign(Object.assign({}, params), {}, {\n            type: \"config/auth/update\",\n            user_id: userId\n          })));\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function updateUser(_x6, _x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var deleteUser = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(hass, userId) {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", hass.callWS({\n            type: \"config/auth/delete\",\n            user_id: userId\n          }));\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function deleteUser(_x9, _x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var computeUserInitials = function computeUserInitials(name) {\n  if (!name) {\n    return \"?\";\n  }\n  return name.trim()\n  // Split by space and take first 3 words\n  .split(\" \").slice(0, 3)\n  // Of each word, take first letter\n  .map(function (s) {\n    return s.substring(0, 1);\n  }).join(\"\");\n};\nvar OWNER_ICON = mdiCrownCircleOutline;\nvar SYSTEM_ICON = mdiAlphaSCircleOutline;\nvar LOCAL_ICON = mdiHomeCircleOutline;\nvar DISABLED_ICON = mdiCancel;\nexport var computeUserBadges = function computeUserBadges(hass, user, includeSystem) {\n  var labels = [];\n  var translate = function translate(key) {\n    return hass.localize(\"ui.panel.config.users.\".concat(key));\n  };\n  if (user.is_owner) {\n    labels.push([OWNER_ICON, translate(\"is_owner\")]);\n  }\n  if (includeSystem && user.system_generated) {\n    labels.push([SYSTEM_ICON, translate(\"is_system\")]);\n  }\n  if (user.local_only) {\n    labels.push([LOCAL_ICON, translate(\"is_local\")]);\n  }\n  if (!user.is_active) {\n    labels.push([DISABLED_ICON, translate(\"is_not_active\")]);\n  }\n  return labels;\n};","map":{"version":3,"names":["SYSTEM_GROUP_ID_ADMIN","SYSTEM_GROUP_ID_USER","SYSTEM_GROUP_ID_READ_ONLY","GROUPS","fetchUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","hass","wrap","_callee$","_context","prev","next","abrupt","callWS","type","stop","_x","apply","arguments","createUser","_ref2","_callee2","name","group_ids","local_only","_callee2$","_context2","_x2","_x3","_x4","_x5","updateUser","_ref3","_callee3","userId","params","_callee3$","_context3","Object","assign","user_id","_x6","_x7","_x8","deleteUser","_ref4","_callee4","_callee4$","_context4","_x9","_x10","computeUserInitials","trim","split","slice","map","s","substring","join","OWNER_ICON","mdiCrownCircleOutline","SYSTEM_ICON","mdiAlphaSCircleOutline","LOCAL_ICON","mdiHomeCircleOutline","DISABLED_ICON","mdiCancel","computeUserBadges","user","includeSystem","labels","translate","key","localize","concat","is_owner","push","system_generated","is_active"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/user.ts"],"sourcesContent":["import {\n  mdiCrownCircleOutline,\n  mdiAlphaSCircleOutline,\n  mdiHomeCircleOutline,\n  mdiCancel,\n} from \"@mdi/js\";\nimport { HomeAssistant, TranslationDict } from \"../types\";\nimport { Credential } from \"./auth\";\n\nexport const SYSTEM_GROUP_ID_ADMIN = \"system-admin\";\nexport const SYSTEM_GROUP_ID_USER = \"system-users\";\nexport const SYSTEM_GROUP_ID_READ_ONLY = \"system-read-only\";\n\nexport const GROUPS = [SYSTEM_GROUP_ID_USER, SYSTEM_GROUP_ID_ADMIN];\n\nexport interface User {\n  id: string;\n  username: string | null;\n  name: string;\n  is_owner: boolean;\n  is_active: boolean;\n  local_only: boolean;\n  system_generated: boolean;\n  group_ids: (keyof TranslationDict[\"groups\"])[];\n  credentials: Credential[];\n}\n\nexport interface UpdateUserParams {\n  name?: User[\"name\"];\n  is_active?: User[\"is_active\"];\n  group_ids?: User[\"group_ids\"];\n  local_only?: boolean;\n}\n\nexport const fetchUsers = async (hass: HomeAssistant) =>\n  hass.callWS<User[]>({\n    type: \"config/auth/list\",\n  });\n\nexport const createUser = async (\n  hass: HomeAssistant,\n  name: string,\n  // eslint-disable-next-line: variable-name\n  group_ids?: User[\"group_ids\"],\n  local_only?: boolean\n) =>\n  hass.callWS<{ user: User }>({\n    type: \"config/auth/create\",\n    name,\n    group_ids,\n    local_only,\n  });\n\nexport const updateUser = async (\n  hass: HomeAssistant,\n  userId: string,\n  params: UpdateUserParams\n) =>\n  hass.callWS<{ user: User }>({\n    ...params,\n    type: \"config/auth/update\",\n    user_id: userId,\n  });\n\nexport const deleteUser = async (hass: HomeAssistant, userId: string) =>\n  hass.callWS<void>({\n    type: \"config/auth/delete\",\n    user_id: userId,\n  });\n\nexport const computeUserInitials = (name: string) => {\n  if (!name) {\n    return \"?\";\n  }\n  return (\n    name\n      .trim()\n      // Split by space and take first 3 words\n      .split(\" \")\n      .slice(0, 3)\n      // Of each word, take first letter\n      .map((s) => s.substring(0, 1))\n      .join(\"\")\n  );\n};\n\nconst OWNER_ICON = mdiCrownCircleOutline;\nconst SYSTEM_ICON = mdiAlphaSCircleOutline;\nconst LOCAL_ICON = mdiHomeCircleOutline;\nconst DISABLED_ICON = mdiCancel;\n\nexport const computeUserBadges = (\n  hass: HomeAssistant,\n  user: User,\n  includeSystem: boolean\n) => {\n  const labels: [string, string][] = [];\n  const translate = (\n    key: Extract<\n      keyof TranslationDict[\"ui\"][\"panel\"][\"config\"][\"users\"],\n      `is_${string}`\n    >\n  ) => hass.localize(`ui.panel.config.users.${key}`);\n\n  if (user.is_owner) {\n    labels.push([OWNER_ICON, translate(\"is_owner\")]);\n  }\n  if (includeSystem && user.system_generated) {\n    labels.push([SYSTEM_ICON, translate(\"is_system\")]);\n  }\n  if (user.local_only) {\n    labels.push([LOCAL_ICON, translate(\"is_local\")]);\n  }\n  if (!user.is_active) {\n    labels.push([DISABLED_ICON, translate(\"is_not_active\")]);\n  }\n\n  return labels;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}