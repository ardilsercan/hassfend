{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _templateObject, _templateObject2;\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.string.anchor.js\";\nimport \"core-js/modules/es.string.fixed.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { __decorate } from \"tslib\";\nimport { Corner as CornerEnum, CornerBit } from '@material/menu-surface/constants.js';\nimport MDCMenuSurfaceFoundation from '@material/menu-surface/foundation.js';\nimport { addHasRemoveClass, BaseElement } from '@material/mwc-base/base-element.js';\nimport { observer } from '@material/mwc-base/observer.js';\nimport { deepActiveElementPath, doesElementContainFocus } from '@material/mwc-base/utils.js';\nimport { html } from 'lit';\nimport { property, query, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { styleMap } from 'lit/directives/style-map.js';\n// tslint:disable:no-bitwise\n// required for closure compiler\nvar stringToCorner = {\n  'TOP_LEFT': CornerEnum.TOP_LEFT,\n  'TOP_RIGHT': CornerEnum.TOP_RIGHT,\n  'BOTTOM_LEFT': CornerEnum.BOTTOM_LEFT,\n  'BOTTOM_RIGHT': CornerEnum.BOTTOM_RIGHT,\n  'TOP_START': CornerEnum.TOP_START,\n  'TOP_END': CornerEnum.TOP_END,\n  'BOTTOM_START': CornerEnum.BOTTOM_START,\n  'BOTTOM_END': CornerEnum.BOTTOM_END\n};\n/**\n * @fires opened\n * @fires closed\n */\nexport var MenuSurfaceBase = /*#__PURE__*/function (_BaseElement) {\n  _inherits(MenuSurfaceBase, _BaseElement);\n  function MenuSurfaceBase() {\n    var _this;\n    _classCallCheck(this, MenuSurfaceBase);\n    _this = _callSuper(this, MenuSurfaceBase, arguments);\n    _this.mdcFoundationClass = MDCMenuSurfaceFoundation;\n    _this.absolute = false;\n    _this.fullwidth = false;\n    _this.fixed = false;\n    _this.x = null;\n    _this.y = null;\n    // must be defined before open or else race condition in foundation occurs.\n    _this.quick = false;\n    _this.open = false;\n    _this.stayOpenOnBodyClick = false;\n    _this.bitwiseCorner = CornerEnum.TOP_START;\n    _this.previousMenuCorner = null;\n    // must be defined before observer of anchor corner for initialization\n    _this.menuCorner = 'START';\n    _this.corner = 'TOP_START';\n    _this.styleTop = '';\n    _this.styleLeft = '';\n    _this.styleRight = '';\n    _this.styleBottom = '';\n    _this.styleMaxHeight = '';\n    _this.styleTransformOrigin = '';\n    _this.anchor = null;\n    _this.previouslyFocused = null;\n    _this.previousAnchor = null;\n    _this.onBodyClickBound = function () {\n      return undefined;\n    };\n    return _this;\n  }\n  _createClass(MenuSurfaceBase, [{\n    key: \"render\",\n    value: function render() {\n      return this.renderSurface();\n    }\n  }, {\n    key: \"renderSurface\",\n    value: function renderSurface() {\n      var classes = this.getRootClasses();\n      var styles = this.getRootStyles();\n      return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <div\\n          class=\", \"\\n          style=\\\"\", \"\\\"\\n          @keydown=\", \"\\n          @opened=\", \"\\n          @closed=\", \">\\n        \", \"\\n      </div>\"])), classMap(classes), styleMap(styles), this.onKeydown, this.registerBodyClick, this.deregisterBodyClick, this.renderContent());\n    }\n  }, {\n    key: \"getRootClasses\",\n    value: function getRootClasses() {\n      return {\n        'mdc-menu-surface': true,\n        'mdc-menu-surface--fixed': this.fixed,\n        'mdc-menu-surface--fullwidth': this.fullwidth\n      };\n    }\n  }, {\n    key: \"getRootStyles\",\n    value: function getRootStyles() {\n      return {\n        'top': this.styleTop,\n        'left': this.styleLeft,\n        'right': this.styleRight,\n        'bottom': this.styleBottom,\n        'max-height': this.styleMaxHeight,\n        'transform-origin': this.styleTransformOrigin\n      };\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<slot></slot>\"])));\n    }\n  }, {\n    key: \"createAdapter\",\n    value: function createAdapter() {\n      var _this2 = this;\n      return Object.assign(Object.assign({}, addHasRemoveClass(this.mdcRoot)), {\n        hasAnchor: function hasAnchor() {\n          return !!_this2.anchor;\n        },\n        notifyClose: function notifyClose() {\n          var init = {\n            bubbles: true,\n            composed: true\n          };\n          var ev = new CustomEvent('closed', init);\n          _this2.open = false;\n          _this2.mdcRoot.dispatchEvent(ev);\n        },\n        notifyClosing: function notifyClosing() {\n          var init = {\n            bubbles: true,\n            composed: true\n          };\n          var ev = new CustomEvent('closing', init);\n          _this2.mdcRoot.dispatchEvent(ev);\n        },\n        notifyOpen: function notifyOpen() {\n          var init = {\n            bubbles: true,\n            composed: true\n          };\n          var ev = new CustomEvent('opened', init);\n          _this2.open = true;\n          _this2.mdcRoot.dispatchEvent(ev);\n        },\n        notifyOpening: function notifyOpening() {\n          var init = {\n            bubbles: true,\n            composed: true\n          };\n          var ev = new CustomEvent('opening', init);\n          _this2.mdcRoot.dispatchEvent(ev);\n        },\n        isElementInContainer: function isElementInContainer() {\n          return false;\n        },\n        isRtl: function isRtl() {\n          if (_this2.mdcRoot) {\n            return getComputedStyle(_this2.mdcRoot).direction === 'rtl';\n          }\n          return false;\n        },\n        setTransformOrigin: function setTransformOrigin(origin) {\n          var root = _this2.mdcRoot;\n          if (!root) {\n            return;\n          }\n          _this2.styleTransformOrigin = origin;\n        },\n        isFocused: function isFocused() {\n          return doesElementContainFocus(_this2);\n        },\n        saveFocus: function saveFocus() {\n          var activeElementPath = deepActiveElementPath();\n          var pathLength = activeElementPath.length;\n          if (!pathLength) {\n            _this2.previouslyFocused = null;\n          }\n          _this2.previouslyFocused = activeElementPath[pathLength - 1];\n        },\n        restoreFocus: function restoreFocus() {\n          if (!_this2.previouslyFocused) {\n            return;\n          }\n          if ('focus' in _this2.previouslyFocused) {\n            _this2.previouslyFocused.focus();\n          }\n        },\n        getInnerDimensions: function getInnerDimensions() {\n          var mdcRoot = _this2.mdcRoot;\n          if (!mdcRoot) {\n            return {\n              width: 0,\n              height: 0\n            };\n          }\n          return {\n            width: mdcRoot.offsetWidth,\n            height: mdcRoot.offsetHeight\n          };\n        },\n        getAnchorDimensions: function getAnchorDimensions() {\n          var anchorElement = _this2.anchor;\n          return anchorElement ? anchorElement.getBoundingClientRect() : null;\n        },\n        getBodyDimensions: function getBodyDimensions() {\n          return {\n            width: document.body.clientWidth,\n            height: document.body.clientHeight\n          };\n        },\n        getWindowDimensions: function getWindowDimensions() {\n          return {\n            width: window.innerWidth,\n            height: window.innerHeight\n          };\n        },\n        getWindowScroll: function getWindowScroll() {\n          return {\n            x: window.pageXOffset,\n            y: window.pageYOffset\n          };\n        },\n        setPosition: function setPosition(position) {\n          var mdcRoot = _this2.mdcRoot;\n          if (!mdcRoot) {\n            return;\n          }\n          _this2.styleLeft = 'left' in position ? \"\".concat(position.left, \"px\") : '';\n          _this2.styleRight = 'right' in position ? \"\".concat(position.right, \"px\") : '';\n          _this2.styleTop = 'top' in position ? \"\".concat(position.top, \"px\") : '';\n          _this2.styleBottom = 'bottom' in position ? \"\".concat(position.bottom, \"px\") : '';\n        },\n        setMaxHeight: function () {\n          var _setMaxHeight = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(height) {\n            var mdcRoot;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  mdcRoot = _this2.mdcRoot;\n                  if (mdcRoot) {\n                    _context.next = 3;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 3:\n                  // must set both for IE support as IE will not set a var\n                  _this2.styleMaxHeight = height;\n                  _context.next = 6;\n                  return _this2.updateComplete;\n                case 6:\n                  _this2.styleMaxHeight = \"var(--mdc-menu-max-height, \".concat(height, \")\");\n                case 7:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n          function setMaxHeight(_x) {\n            return _setMaxHeight.apply(this, arguments);\n          }\n          return setMaxHeight;\n        }()\n      });\n    }\n  }, {\n    key: \"onKeydown\",\n    value: function onKeydown(evt) {\n      if (this.mdcFoundation) {\n        this.mdcFoundation.handleKeydown(evt);\n      }\n    }\n  }, {\n    key: \"onBodyClick\",\n    value: function onBodyClick(evt) {\n      if (this.stayOpenOnBodyClick) {\n        return;\n      }\n      var path = evt.composedPath();\n      if (path.indexOf(this) === -1) {\n        this.close();\n      }\n    }\n  }, {\n    key: \"registerBodyClick\",\n    value: function registerBodyClick() {\n      this.onBodyClickBound = this.onBodyClick.bind(this);\n      // capture otherwise listener closes menu after quick menu opens\n      document.body.addEventListener('click', this.onBodyClickBound, {\n        passive: true,\n        capture: true\n      });\n    }\n  }, {\n    key: \"deregisterBodyClick\",\n    value: function deregisterBodyClick() {\n      document.body.removeEventListener('click', this.onBodyClickBound, {\n        capture: true\n      });\n    }\n  }, {\n    key: \"onOpenChanged\",\n    value: function onOpenChanged(isOpen, wasOpen) {\n      if (this.mdcFoundation) {\n        if (isOpen) {\n          this.mdcFoundation.open();\n          // wasOpen helps with first render (when it is `undefined`) perf\n        } else if (wasOpen !== undefined) {\n          this.mdcFoundation.close();\n        }\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.open = false;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.open = true;\n    }\n  }]);\n  return MenuSurfaceBase;\n}(BaseElement);\n__decorate([query('.mdc-menu-surface')], MenuSurfaceBase.prototype, \"mdcRoot\", void 0);\n__decorate([query('slot')], MenuSurfaceBase.prototype, \"slotElement\", void 0);\n__decorate([property({\n  type: Boolean\n}), observer(function (isAbsolute) {\n  if (this.mdcFoundation && !this.fixed) {\n    this.mdcFoundation.setIsHoisted(isAbsolute);\n  }\n})], MenuSurfaceBase.prototype, \"absolute\", void 0);\n__decorate([property({\n  type: Boolean\n})], MenuSurfaceBase.prototype, \"fullwidth\", void 0);\n__decorate([property({\n  type: Boolean\n}), observer(function (isFixed) {\n  if (this.mdcFoundation && !this.absolute) {\n    this.mdcFoundation.setFixedPosition(isFixed);\n  }\n})], MenuSurfaceBase.prototype, \"fixed\", void 0);\n__decorate([property({\n  type: Number\n}), observer(function (value) {\n  if (this.mdcFoundation && this.y !== null && value !== null) {\n    this.mdcFoundation.setAbsolutePosition(value, this.y);\n    this.mdcFoundation.setAnchorMargin({\n      left: value,\n      top: this.y,\n      right: -value,\n      bottom: this.y\n    });\n  }\n})], MenuSurfaceBase.prototype, \"x\", void 0);\n__decorate([property({\n  type: Number\n}), observer(function (value) {\n  if (this.mdcFoundation && this.x !== null && value !== null) {\n    this.mdcFoundation.setAbsolutePosition(this.x, value);\n    this.mdcFoundation.setAnchorMargin({\n      left: this.x,\n      top: value,\n      right: -this.x,\n      bottom: value\n    });\n  }\n})], MenuSurfaceBase.prototype, \"y\", void 0);\n__decorate([property({\n  type: Boolean\n}), observer(function (value) {\n  if (this.mdcFoundation) {\n    this.mdcFoundation.setQuickOpen(value);\n  }\n})], MenuSurfaceBase.prototype, \"quick\", void 0);\n__decorate([property({\n  type: Boolean,\n  reflect: true\n}), observer(function (isOpen, wasOpen) {\n  this.onOpenChanged(isOpen, wasOpen);\n})], MenuSurfaceBase.prototype, \"open\", void 0);\n__decorate([property({\n  type: Boolean\n})], MenuSurfaceBase.prototype, \"stayOpenOnBodyClick\", void 0);\n__decorate([state(), observer(function (value) {\n  if (this.mdcFoundation) {\n    if (value) {\n      this.mdcFoundation.setAnchorCorner(value);\n    } else {\n      this.mdcFoundation.setAnchorCorner(value);\n    }\n  }\n})], MenuSurfaceBase.prototype, \"bitwiseCorner\", void 0);\n__decorate([property({\n  type: String\n}), observer(function (value) {\n  if (this.mdcFoundation) {\n    var isValidValue = value === 'START' || value === 'END';\n    var isFirstTimeSet = this.previousMenuCorner === null;\n    var cornerChanged = !isFirstTimeSet && value !== this.previousMenuCorner;\n    var initiallySetToEnd = isFirstTimeSet && value === 'END';\n    if (isValidValue && (cornerChanged || initiallySetToEnd)) {\n      this.bitwiseCorner = this.bitwiseCorner ^ CornerBit.RIGHT;\n      this.mdcFoundation.flipCornerHorizontally();\n      this.previousMenuCorner = value;\n    }\n  }\n})], MenuSurfaceBase.prototype, \"menuCorner\", void 0);\n__decorate([property({\n  type: String\n}), observer(function (value) {\n  if (this.mdcFoundation) {\n    if (value) {\n      var newCorner = stringToCorner[value];\n      if (this.menuCorner === 'END') {\n        newCorner = newCorner ^ CornerBit.RIGHT;\n      }\n      this.bitwiseCorner = newCorner;\n    }\n  }\n})], MenuSurfaceBase.prototype, \"corner\", void 0);\n__decorate([state()], MenuSurfaceBase.prototype, \"styleTop\", void 0);\n__decorate([state()], MenuSurfaceBase.prototype, \"styleLeft\", void 0);\n__decorate([state()], MenuSurfaceBase.prototype, \"styleRight\", void 0);\n__decorate([state()], MenuSurfaceBase.prototype, \"styleBottom\", void 0);\n__decorate([state()], MenuSurfaceBase.prototype, \"styleMaxHeight\", void 0);\n__decorate([state()], MenuSurfaceBase.prototype, \"styleTransformOrigin\", void 0);","map":{"version":3,"names":["Corner","CornerEnum","CornerBit","MDCMenuSurfaceFoundation","addHasRemoveClass","BaseElement","observer","deepActiveElementPath","doesElementContainFocus","html","property","query","state","classMap","styleMap","stringToCorner","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_START","TOP_END","BOTTOM_START","BOTTOM_END","MenuSurfaceBase","_BaseElement","_inherits","_this","_classCallCheck","mdcFoundationClass","absolute","fullwidth","fixed","x","y","quick","open","stayOpenOnBodyClick","bitwiseCorner","previousMenuCorner","menuCorner","corner","styleTop","styleLeft","styleRight","styleBottom","styleMaxHeight","styleTransformOrigin","anchor","previouslyFocused","previousAnchor","onBodyClickBound","undefined","_createClass","key","value","render","renderSurface","classes","getRootClasses","styles","getRootStyles","_templateObject","_taggedTemplateLiteral","onKeydown","registerBodyClick","deregisterBodyClick","renderContent","_templateObject2","createAdapter","_this2","Object","assign","mdcRoot","hasAnchor","notifyClose","init","bubbles","composed","ev","CustomEvent","dispatchEvent","notifyClosing","notifyOpen","notifyOpening","isElementInContainer","isRtl","getComputedStyle","direction","setTransformOrigin","origin","root","isFocused","saveFocus","activeElementPath","pathLength","length","restoreFocus","focus","getInnerDimensions","width","height","offsetWidth","offsetHeight","getAnchorDimensions","anchorElement","getBoundingClientRect","getBodyDimensions","document","body","clientWidth","clientHeight","getWindowDimensions","window","innerWidth","innerHeight","getWindowScroll","pageXOffset","pageYOffset","setPosition","position","concat","left","right","top","bottom","setMaxHeight","_setMaxHeight","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","updateComplete","stop","_x","apply","arguments","evt","mdcFoundation","handleKeydown","onBodyClick","path","composedPath","indexOf","close","bind","addEventListener","passive","capture","removeEventListener","onOpenChanged","isOpen","wasOpen","show","__decorate","type","Boolean","isAbsolute","setIsHoisted","isFixed","setFixedPosition","Number","setAbsolutePosition","setAnchorMargin","setQuickOpen","reflect","setAnchorCorner","String","isValidValue","isFirstTimeSet","cornerChanged","initiallySetToEnd","RIGHT","flipCornerHorizontally","newCorner"],"sources":["mwc-menu-surface-base.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport {MDCMenuSurfaceAdapter} from '@material/menu-surface/adapter.js';\nimport {Corner as CornerEnum, CornerBit} from '@material/menu-surface/constants.js';\nimport MDCMenuSurfaceFoundation from '@material/menu-surface/foundation.js';\nimport {addHasRemoveClass, BaseElement} from '@material/mwc-base/base-element.js';\nimport {observer} from '@material/mwc-base/observer.js';\nimport {deepActiveElementPath, doesElementContainFocus} from '@material/mwc-base/utils.js';\nimport {html} from 'lit';\nimport {property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {styleMap} from 'lit/directives/style-map.js';\n\nexport type Corner = keyof typeof CornerEnum;\nexport type AnchorableElement = HTMLElement&{anchor: Element | null};\nexport type MenuCorner = 'START'|'END';\n\n// tslint:disable:no-bitwise\n\n// required for closure compiler\nconst stringToCorner = {\n  'TOP_LEFT': CornerEnum.TOP_LEFT,\n  'TOP_RIGHT': CornerEnum.TOP_RIGHT,\n  'BOTTOM_LEFT': CornerEnum.BOTTOM_LEFT,\n  'BOTTOM_RIGHT': CornerEnum.BOTTOM_RIGHT,\n  'TOP_START': CornerEnum.TOP_START,\n  'TOP_END': CornerEnum.TOP_END,\n  'BOTTOM_START': CornerEnum.BOTTOM_START,\n  'BOTTOM_END': CornerEnum.BOTTOM_END,\n};\n\n/**\n * @fires opened\n * @fires closed\n */\nexport abstract class MenuSurfaceBase extends BaseElement {\n  protected mdcFoundation!: MDCMenuSurfaceFoundation;\n\n  protected readonly mdcFoundationClass = MDCMenuSurfaceFoundation;\n\n  @query('.mdc-menu-surface') mdcRoot!: HTMLDivElement;\n\n  @query('slot') slotElement!: HTMLSlotElement|null;\n\n  @property({type: Boolean})\n  @observer(function(this: MenuSurfaceBase, isAbsolute: boolean) {\n    if (this.mdcFoundation && !this.fixed) {\n      this.mdcFoundation.setIsHoisted(isAbsolute);\n    }\n  })\n  absolute = false;\n\n  @property({type: Boolean}) fullwidth = false;\n\n  @property({type: Boolean})\n  @observer(function(this: MenuSurfaceBase, isFixed: boolean) {\n    if (this.mdcFoundation && !this.absolute) {\n      this.mdcFoundation.setFixedPosition(isFixed);\n    }\n  })\n  fixed = false;\n\n  @property({type: Number})\n  @observer(function(this: MenuSurfaceBase, value: number|null) {\n    if (this.mdcFoundation && this.y !== null && value !== null) {\n      this.mdcFoundation.setAbsolutePosition(value, this.y);\n      this.mdcFoundation.setAnchorMargin(\n          {left: value, top: this.y, right: -value, bottom: this.y});\n    }\n  })\n  x: number|null = null;\n\n  @property({type: Number})\n  @observer(function(this: MenuSurfaceBase, value: number|null) {\n    if (this.mdcFoundation && this.x !== null && value !== null) {\n      this.mdcFoundation.setAbsolutePosition(this.x, value);\n      this.mdcFoundation.setAnchorMargin(\n          {left: this.x, top: value, right: -this.x, bottom: value});\n    }\n  })\n  y: number|null = null;\n\n  // must be defined before open or else race condition in foundation occurs.\n  @property({type: Boolean})\n  @observer(function(this: MenuSurfaceBase, value: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setQuickOpen(value);\n    }\n  })\n  quick = false;\n\n  @property({type: Boolean, reflect: true})\n  @observer(function(this: MenuSurfaceBase, isOpen: boolean, wasOpen: boolean) {\n    this.onOpenChanged(isOpen, wasOpen);\n  })\n  open = false;\n\n  @property({type: Boolean}) stayOpenOnBodyClick: boolean = false;\n\n  @state()\n  @observer(function(this: MenuSurfaceBase, value: CornerEnum) {\n    if (this.mdcFoundation) {\n      if (value) {\n        this.mdcFoundation.setAnchorCorner(value);\n      } else {\n        this.mdcFoundation.setAnchorCorner(value);\n      }\n    }\n  })\n\n  protected bitwiseCorner: CornerEnum = CornerEnum.TOP_START;\n  protected previousMenuCorner: MenuCorner|null = null;\n\n  // must be defined before observer of anchor corner for initialization\n  @property({type: String})\n  @observer(function(this: MenuSurfaceBase, value: MenuCorner) {\n    if (this.mdcFoundation) {\n      const isValidValue = value === 'START' || value === 'END';\n      const isFirstTimeSet = this.previousMenuCorner === null;\n      const cornerChanged =\n          !isFirstTimeSet && value !== this.previousMenuCorner;\n      const initiallySetToEnd = isFirstTimeSet && value === 'END';\n\n      if (isValidValue && (cornerChanged || initiallySetToEnd)) {\n        this.bitwiseCorner = this.bitwiseCorner ^ CornerBit.RIGHT;\n        this.mdcFoundation.flipCornerHorizontally();\n        this.previousMenuCorner = value;\n      }\n    }\n  })\n  menuCorner: MenuCorner = 'START';\n\n  @property({type: String})\n  @observer(function(this: MenuSurfaceBase, value: Corner) {\n    if (this.mdcFoundation) {\n      if (value) {\n        let newCorner = stringToCorner[value];\n        if (this.menuCorner === 'END') {\n          newCorner = newCorner ^ CornerBit.RIGHT;\n        }\n\n        this.bitwiseCorner = newCorner;\n      }\n    }\n  })\n  corner: Corner = 'TOP_START';\n\n  @state() protected styleTop = '';\n  @state() protected styleLeft = '';\n  @state() protected styleRight = '';\n  @state() protected styleBottom = '';\n  @state() protected styleMaxHeight = '';\n  @state() protected styleTransformOrigin = '';\n\n  anchor: HTMLElement|null = null;\n\n  protected previouslyFocused: HTMLElement|Element|null = null;\n  protected previousAnchor: HTMLElement|null = null;\n  protected onBodyClickBound: (evt: MouseEvent) => void = () => undefined;\n\n  override render() {\n    return this.renderSurface();\n  }\n\n  protected renderSurface() {\n    const classes = this.getRootClasses();\n    const styles = this.getRootStyles();\n    return html`\n      <div\n          class=${classMap(classes)}\n          style=\"${styleMap(styles)}\"\n          @keydown=${this.onKeydown}\n          @opened=${this.registerBodyClick}\n          @closed=${this.deregisterBodyClick}>\n        ${this.renderContent()}\n      </div>`;\n  }\n\n  protected getRootClasses() {\n    return {\n      'mdc-menu-surface': true,\n      'mdc-menu-surface--fixed': this.fixed,\n      'mdc-menu-surface--fullwidth': this.fullwidth,\n    };\n  }\n\n  protected getRootStyles() {\n    return {\n      'top': this.styleTop,\n      'left': this.styleLeft,\n      'right': this.styleRight,\n      'bottom': this.styleBottom,\n      'max-height': this.styleMaxHeight,\n      'transform-origin': this.styleTransformOrigin,\n    };\n  }\n\n  protected renderContent() {\n    return html`<slot></slot>`;\n  }\n\n  createAdapter(): MDCMenuSurfaceAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      hasAnchor: () => {\n        return !!this.anchor;\n      },\n      notifyClose: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('closed', init);\n        this.open = false;\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyClosing: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('closing', init);\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyOpen: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('opened', init);\n        this.open = true;\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyOpening: () => {\n        const init: CustomEventInit = {bubbles: true, composed: true};\n        const ev = new CustomEvent('opening', init);\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      isElementInContainer: () => false,\n      isRtl: () => {\n        if (this.mdcRoot) {\n          return getComputedStyle(this.mdcRoot).direction === 'rtl';\n        }\n\n        return false;\n      },\n      setTransformOrigin: (origin) => {\n        const root = this.mdcRoot;\n        if (!root) {\n          return;\n        }\n\n        this.styleTransformOrigin = origin;\n      },\n      isFocused: () => {\n        return doesElementContainFocus(this);\n      },\n      saveFocus: () => {\n        const activeElementPath = deepActiveElementPath();\n        const pathLength = activeElementPath.length;\n\n        if (!pathLength) {\n          this.previouslyFocused = null;\n        }\n\n        this.previouslyFocused = activeElementPath[pathLength - 1];\n      },\n      restoreFocus: () => {\n        if (!this.previouslyFocused) {\n          return;\n        }\n\n        if ('focus' in this.previouslyFocused) {\n          this.previouslyFocused.focus();\n        }\n      },\n      getInnerDimensions: () => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return {width: 0, height: 0};\n        }\n\n        return {width: mdcRoot.offsetWidth, height: mdcRoot.offsetHeight};\n      },\n      getAnchorDimensions: () => {\n        const anchorElement = this.anchor;\n\n        return anchorElement ? anchorElement.getBoundingClientRect() : null;\n      },\n      getBodyDimensions: () => {\n        return {\n          width: document.body.clientWidth,\n          height: document.body.clientHeight,\n        };\n      },\n      getWindowDimensions: () => {\n        return {\n          width: window.innerWidth,\n          height: window.innerHeight,\n        };\n      },\n      getWindowScroll: () => {\n        return {\n          x: window.pageXOffset,\n          y: window.pageYOffset,\n        };\n      },\n      setPosition: (position) => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return;\n        }\n\n        this.styleLeft = 'left' in position ? `${position.left}px` : '';\n        this.styleRight = 'right' in position ? `${position.right}px` : '';\n        this.styleTop = 'top' in position ? `${position.top}px` : '';\n        this.styleBottom = 'bottom' in position ? `${position.bottom}px` : '';\n      },\n      setMaxHeight: async (height) => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return;\n        }\n\n        // must set both for IE support as IE will not set a var\n        this.styleMaxHeight = height;\n        await this.updateComplete;\n        this.styleMaxHeight = `var(--mdc-menu-max-height, ${height})`;\n      },\n    };\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleKeydown(evt);\n    }\n  }\n\n  protected onBodyClick(evt: MouseEvent) {\n    if (this.stayOpenOnBodyClick) {\n      return;\n    }\n    const path = evt.composedPath();\n    if (path.indexOf(this) === -1) {\n      this.close();\n    }\n  }\n\n  protected registerBodyClick() {\n    this.onBodyClickBound = this.onBodyClick.bind(this);\n    // capture otherwise listener closes menu after quick menu opens\n    document.body.addEventListener(\n        'click', this.onBodyClickBound, {passive: true, capture: true});\n  }\n\n  protected deregisterBodyClick() {\n    document.body.removeEventListener(\n        'click', this.onBodyClickBound, {capture: true});\n  }\n\n  protected onOpenChanged(isOpen: boolean, wasOpen: boolean) {\n    if (this.mdcFoundation) {\n      if (isOpen) {\n        this.mdcFoundation.open();\n        // wasOpen helps with first render (when it is `undefined`) perf\n      } else if (wasOpen !== undefined) {\n        this.mdcFoundation.close();\n      }\n    }\n  }\n\n  close() {\n    this.open = false;\n  }\n\n  show() {\n    this.open = true;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}