{"ast":null,"code":"import _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\n/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { ARIA_PROPERTIES, ariaPropertyToAttribute } from './aria.js';\n/**\n * Sets up a `ReactiveElement` constructor to enable updates when delegating\n * aria attributes. Elements may bind `this.aria*` properties to `aria-*`\n * attributes in their render functions.\n *\n * This function will:\n * - Call `requestUpdate()` when an aria attribute changes.\n * - Add `role=\"presentation\"` to the host.\n *\n * NOTE: The following features are not currently supported:\n * - Delegating IDREF attributes (ex: `aria-labelledby`, `aria-controls`)\n * - Delegating the `role` attribute\n *\n * @example\n * class XButton extends LitElement {\n *   static {\n *     requestUpdateOnAriaChange(XButton);\n *   }\n *\n *   protected override render() {\n *     return html`\n *       <button aria-label=${this.ariaLabel || nothing}>\n *         <slot></slot>\n *       </button>\n *     `;\n *   }\n * }\n *\n * @param ctor The `ReactiveElement` constructor to patch.\n */\nexport function requestUpdateOnAriaChange(ctor) {\n  var _iterator = _createForOfIteratorHelper(ARIA_PROPERTIES),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var ariaProperty = _step.value;\n      ctor.createProperty(ariaProperty, {\n        attribute: ariaPropertyToAttribute(ariaProperty),\n        reflect: true\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  ctor.addInitializer(function (element) {\n    var controller = {\n      hostConnected: function hostConnected() {\n        element.setAttribute('role', 'presentation');\n      }\n    };\n    element.addController(controller);\n  });\n}","map":{"version":3,"names":["ARIA_PROPERTIES","ariaPropertyToAttribute","requestUpdateOnAriaChange","ctor","_iterator","_createForOfIteratorHelper","_step","s","n","done","ariaProperty","value","createProperty","attribute","reflect","err","e","f","addInitializer","element","controller","hostConnected","setAttribute","addController"],"sources":["delegate.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {ReactiveElement} from 'lit';\n\nimport {ARIA_PROPERTIES, ariaPropertyToAttribute} from './aria.js';\n\n/**\n * Sets up a `ReactiveElement` constructor to enable updates when delegating\n * aria attributes. Elements may bind `this.aria*` properties to `aria-*`\n * attributes in their render functions.\n *\n * This function will:\n * - Call `requestUpdate()` when an aria attribute changes.\n * - Add `role=\"presentation\"` to the host.\n *\n * NOTE: The following features are not currently supported:\n * - Delegating IDREF attributes (ex: `aria-labelledby`, `aria-controls`)\n * - Delegating the `role` attribute\n *\n * @example\n * class XButton extends LitElement {\n *   static {\n *     requestUpdateOnAriaChange(XButton);\n *   }\n *\n *   protected override render() {\n *     return html`\n *       <button aria-label=${this.ariaLabel || nothing}>\n *         <slot></slot>\n *       </button>\n *     `;\n *   }\n * }\n *\n * @param ctor The `ReactiveElement` constructor to patch.\n */\nexport function requestUpdateOnAriaChange(ctor: typeof ReactiveElement) {\n  for (const ariaProperty of ARIA_PROPERTIES) {\n    ctor.createProperty(ariaProperty, {\n      attribute: ariaPropertyToAttribute(ariaProperty),\n      reflect: true,\n    });\n  }\n\n  ctor.addInitializer((element) => {\n    const controller = {\n      hostConnected() {\n        element.setAttribute('role', 'presentation');\n      },\n    };\n\n    element.addController(controller);\n  });\n}\n"],"mappings":";AAAA;;;;;AAQA,SAAQA,eAAe,EAAEC,uBAAuB,QAAO,WAAW;AAElE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAM,SAAUC,yBAAyBA,CAACC,IAA4B;EAAA,IAAAC,SAAA,GAAAC,0BAAA,CACzCL,eAAe;IAAAM,KAAA;EAAA;IAA1C,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAA4C;MAAA,IAAjCC,YAAY,GAAAJ,KAAA,CAAAK,KAAA;MACrBR,IAAI,CAACS,cAAc,CAACF,YAAY,EAAE;QAChCG,SAAS,EAAEZ,uBAAuB,CAACS,YAAY,CAAC;QAChDI,OAAO,EAAE;OACV,CAAC;;EACH,SAAAC,GAAA;IAAAX,SAAA,CAAAY,CAAA,CAAAD,GAAA;EAAA;IAAAX,SAAA,CAAAa,CAAA;EAAA;EAEDd,IAAI,CAACe,cAAc,CAAC,UAACC,OAAO,EAAI;IAC9B,IAAMC,UAAU,GAAG;MACjBC,aAAa,WAAAA,cAAA;QACXF,OAAO,CAACG,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;MAC9C;KACD;IAEDH,OAAO,CAACI,aAAa,CAACH,UAAU,CAAC;EACnC,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}