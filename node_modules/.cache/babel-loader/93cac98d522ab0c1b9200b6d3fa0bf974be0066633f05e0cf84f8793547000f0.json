{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar mdiPlayBox = \"M19 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.89 20.1 3 19 3M10 16V8L15 12\";\nvar mdiPlus = \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { supportsFeature } from \"../../common/entity/supports-feature\";\nimport { getSignedPath } from \"../../data/auth\";\nimport { MediaClassBrowserSettings, MediaPlayerEntityFeature } from \"../../data/media-player\";\nimport { brandsUrl, extractDomainFromBrandUrl } from \"../../util/brands-url\";\nimport \"../ha-alert\";\nimport \"../ha-form/ha-form\";\nimport { showMediaBrowserDialog } from \"../media-player/show-media-browser-dialog\";\nvar MANUAL_SCHEMA = [{\n  name: \"media_content_id\",\n  required: false,\n  selector: {\n    text: {}\n  }\n}, {\n  name: \"media_content_type\",\n  required: false,\n  selector: {\n    text: {}\n  }\n}];\nexport var HaMediaSelector = _decorate([customElement(\"ha-selector-media\")], function (_initialize, _LitElement) {\n  var HaMediaSelector = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaMediaSelector, _LitElement2);\n    function HaMediaSelector() {\n      var _this;\n      _classCallCheck(this, HaMediaSelector);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HaMediaSelector, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HaMediaSelector);\n  }(_LitElement);\n  return {\n    F: HaMediaSelector,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"selector\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"label\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"helper\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"disabled\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"required\",\n      value: function value() {\n        return true;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_thumbnailUrl\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        var _this2 = this;\n        if (changedProps.has(\"value\")) {\n          var _this$value, _changedProps$get;\n          var thumbnail = (_this$value = this.value) === null || _this$value === void 0 || (_this$value = _this$value.metadata) === null || _this$value === void 0 ? void 0 : _this$value.thumbnail;\n          var oldThumbnail = (_changedProps$get = changedProps.get(\"value\")) === null || _changedProps$get === void 0 || (_changedProps$get = _changedProps$get.metadata) === null || _changedProps$get === void 0 ? void 0 : _changedProps$get.thumbnail;\n          if (thumbnail === oldThumbnail) {\n            return;\n          }\n          if (thumbnail && thumbnail.startsWith(\"/\")) {\n            this._thumbnailUrl = undefined;\n            // Thumbnails served by local API require authentication\n            getSignedPath(this.hass, thumbnail).then(function (signedPath) {\n              _this2._thumbnailUrl = signedPath.path;\n            });\n          } else if (thumbnail && thumbnail.startsWith(\"https://brands.home-assistant.io\")) {\n            var _this$hass$themes;\n            // The backend is not aware of the theme used by the users,\n            // so we rewrite the URL to show a proper icon\n            this._thumbnailUrl = brandsUrl({\n              domain: extractDomainFromBrandUrl(thumbnail),\n              type: \"icon\",\n              useFallback: true,\n              darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n            });\n          } else {\n            this._thumbnailUrl = thumbnail;\n          }\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$value2, _this$value3, _this$value4, _this$value5, _this$value6, _this$value7, _this$value8, _this$value9, _this$value10, _this$value$metadata;\n        var stateObj = (_this$value2 = this.value) !== null && _this$value2 !== void 0 && _this$value2.entity_id ? this.hass.states[this.value.entity_id] : undefined;\n        var supportsBrowse = !((_this$value3 = this.value) !== null && _this$value3 !== void 0 && _this$value3.entity_id) || stateObj && supportsFeature(stateObj, MediaPlayerEntityFeature.BROWSE_MEDIA);\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"<ha-entity-picker\\n        .hass=\", \"\\n        .value=\", \"\\n        .label=\", \"\\n        .disabled=\", \"\\n        .helper=\", \"\\n        .required=\", \"\\n        include-domains='[\\\"media_player\\\"]'\\n        allow-custom-entity\\n        @value-changed=\", \"\\n      ></ha-entity-picker>\\n      \", \"\"])), this.hass, (_this$value4 = this.value) === null || _this$value4 === void 0 ? void 0 : _this$value4.entity_id, this.label || this.hass.localize(\"ui.components.selectors.media.pick_media_player\"), this.disabled, this.helper, this.required, this._entityChanged, !supportsBrowse ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-alert>\\n              \", \"\\n            </ha-alert>\\n            <ha-form\\n              .hass=\", \"\\n              .data=\", \"\\n              .schema=\", \"\\n              .computeLabel=\", \"\\n            ></ha-form>\"])), this.hass.localize(\"ui.components.selectors.media.browse_not_supported\"), this.hass, this.value, MANUAL_SCHEMA, this._computeLabelCallback) : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<ha-card\\n            outlined\\n            @click=\", \"\\n            class=\", \"\\n          >\\n            <div\\n              class=\\\"thumbnail \", \"\\\"\\n            >\\n              \", \"\\n            </div>\\n            <div class=\\\"title\\\">\\n              \", \"\\n            </div>\\n          </ha-card>\"])), this._pickMedia, this.disabled || !((_this$value5 = this.value) !== null && _this$value5 !== void 0 && _this$value5.entity_id) ? \"disabled\" : \"\", classMap({\n          portrait: !!((_this$value6 = this.value) !== null && _this$value6 !== void 0 && (_this$value6 = _this$value6.metadata) !== null && _this$value6 !== void 0 && _this$value6.media_class) && MediaClassBrowserSettings[this.value.metadata.children_media_class || this.value.metadata.media_class].thumbnail_ratio === \"portrait\"\n        }), (_this$value7 = this.value) !== null && _this$value7 !== void 0 && (_this$value7 = _this$value7.metadata) !== null && _this$value7 !== void 0 && _this$value7.thumbnail ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                    <div\\n                      class=\\\"\", \"\\n                        image\\\"\\n                      style=\", \"\\n                    ></div>\\n                  \"])), classMap({\n          \"centered-image\": !!this.value.metadata.media_class && [\"app\", \"directory\"].includes(this.value.metadata.media_class)\n        }), this._thumbnailUrl ? \"background-image: url(\".concat(this._thumbnailUrl, \");\") : \"\") : html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                    <div class=\\\"icon-holder image\\\">\\n                      <ha-svg-icon\\n                        class=\\\"folder\\\"\\n                        .path=\", \"\\n                      ></ha-svg-icon>\\n                    </div>\\n                  \"])), !((_this$value8 = this.value) !== null && _this$value8 !== void 0 && _this$value8.media_content_id) ? mdiPlus : (_this$value9 = this.value) !== null && _this$value9 !== void 0 && (_this$value9 = _this$value9.metadata) !== null && _this$value9 !== void 0 && _this$value9.media_class ? MediaClassBrowserSettings[this.value.metadata.media_class === \"directory\" ? this.value.metadata.children_media_class || this.value.metadata.media_class : this.value.metadata.media_class].icon : mdiPlayBox), !((_this$value10 = this.value) !== null && _this$value10 !== void 0 && _this$value10.media_content_id) ? this.hass.localize(\"ui.components.selectors.media.pick_media\") : ((_this$value$metadata = this.value.metadata) === null || _this$value$metadata === void 0 ? void 0 : _this$value$metadata.title) || this.value.media_content_id));\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeLabelCallback\",\n      value: function value() {\n        var _this3 = this;\n        return function (schema) {\n          return _this3.hass.localize(\"ui.components.selectors.media.\".concat(schema.name));\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_entityChanged\",\n      value: function _entityChanged(ev) {\n        ev.stopPropagation();\n        fireEvent(this, \"value-changed\", {\n          value: {\n            entity_id: ev.detail.value,\n            media_content_id: \"\",\n            media_content_type: \"\"\n          }\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_pickMedia\",\n      value: function _pickMedia() {\n        var _metadata,\n          _this4 = this;\n        showMediaBrowserDialog(this, {\n          action: \"pick\",\n          entityId: this.value.entity_id,\n          navigateIds: (_metadata = this.value.metadata) === null || _metadata === void 0 ? void 0 : _metadata.navigateIds,\n          mediaPickedCallback: function mediaPickedCallback(pickedMedia) {\n            var _pickedMedia$navigate;\n            fireEvent(_this4, \"value-changed\", {\n              value: Object.assign(Object.assign({}, _this4.value), {}, {\n                media_content_id: pickedMedia.item.media_content_id,\n                media_content_type: pickedMedia.item.media_content_type,\n                metadata: {\n                  title: pickedMedia.item.title,\n                  thumbnail: pickedMedia.item.thumbnail,\n                  media_class: pickedMedia.item.media_class,\n                  children_media_class: pickedMedia.item.children_media_class,\n                  navigateIds: (_pickedMedia$navigate = pickedMedia.navigateIds) === null || _pickedMedia$navigate === void 0 ? void 0 : _pickedMedia$navigate.map(function (id) {\n                    return {\n                      media_content_type: id.media_content_type,\n                      media_content_id: id.media_content_id\n                    };\n                  })\n                }\n              })\n            });\n          }\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n      ha-entity-picker {\\n        display: block;\\n        margin-bottom: 16px;\\n      }\\n      mwc-button {\\n        margin-top: 8px;\\n      }\\n      ha-alert {\\n        display: block;\\n        margin-bottom: 16px;\\n      }\\n      ha-card {\\n        position: relative;\\n        width: 200px;\\n        box-sizing: border-box;\\n        cursor: pointer;\\n      }\\n      ha-card.disabled {\\n        pointer-events: none;\\n        color: var(--disabled-text-color);\\n      }\\n      ha-card .thumbnail {\\n        width: 100%;\\n        position: relative;\\n        box-sizing: border-box;\\n        transition: padding-bottom 0.1s ease-out;\\n        padding-bottom: 100%;\\n      }\\n      ha-card .thumbnail.portrait {\\n        padding-bottom: 150%;\\n      }\\n      ha-card .image {\\n        border-radius: 3px 3px 0 0;\\n      }\\n      .folder {\\n        --mdc-icon-size: calc(var(--media-browse-item-size, 175px) * 0.4);\\n      }\\n      .title {\\n        font-size: 16px;\\n        padding-top: 16px;\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        margin-bottom: 16px;\\n        padding-left: 16px;\\n        padding-right: 4px;\\n        padding-inline-start: 16px;\\n        padding-inline-end: 4px;\\n        white-space: nowrap;\\n      }\\n      .image {\\n        position: absolute;\\n        top: 0;\\n        right: 0;\\n        left: 0;\\n        bottom: 0;\\n        background-size: cover;\\n        background-repeat: no-repeat;\\n        background-position: center;\\n      }\\n      .centered-image {\\n        margin: 0 8px;\\n        background-size: contain;\\n      }\\n      .icon-holder {\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","state","classMap","fireEvent","supportsFeature","getSignedPath","MediaClassBrowserSettings","MediaPlayerEntityFeature","brandsUrl","extractDomainFromBrandUrl","showMediaBrowserDialog","MANUAL_SCHEMA","name","required","selector","text","HaMediaSelector","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","type","Boolean","reflect","willUpdate","changedProps","_this2","has","_this$value","_changedProps$get","thumbnail","metadata","oldThumbnail","get","startsWith","_thumbnailUrl","undefined","hass","then","signedPath","path","_this$hass$themes","domain","useFallback","darkOptimized","themes","darkMode","render","_this$value2","_this$value3","_this$value4","_this$value5","_this$value6","_this$value7","_this$value8","_this$value9","_this$value10","_this$value$metadata","stateObj","entity_id","states","supportsBrowse","BROWSE_MEDIA","_templateObject","_taggedTemplateLiteral","label","localize","disabled","helper","_entityChanged","_templateObject2","_computeLabelCallback","_templateObject3","_pickMedia","portrait","media_class","children_media_class","thumbnail_ratio","_templateObject4","includes","_templateObject5","media_content_id","mdiPlus","icon","mdiPlayBox","title","_this3","schema","ev","stopPropagation","detail","media_content_type","_metadata","_this4","action","entityId","navigateIds","mediaPickedCallback","pickedMedia","_pickedMedia$navigate","Object","assign","item","map","id","static","styles","_templateObject6"],"sources":["/workspaces/frontend/src/components/ha-selector/ha-selector-media.ts"],"sourcesContent":["import { mdiPlayBox, mdiPlus } from \"@mdi/js\";\nimport { css, CSSResultGroup, html, LitElement, PropertyValues } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { supportsFeature } from \"../../common/entity/supports-feature\";\nimport { getSignedPath } from \"../../data/auth\";\nimport {\n  MediaClassBrowserSettings,\n  MediaPickedEvent,\n  MediaPlayerEntityFeature,\n} from \"../../data/media-player\";\nimport type { MediaSelector, MediaSelectorValue } from \"../../data/selector\";\nimport type { HomeAssistant } from \"../../types\";\nimport { brandsUrl, extractDomainFromBrandUrl } from \"../../util/brands-url\";\nimport \"../ha-alert\";\nimport \"../ha-form/ha-form\";\nimport type { SchemaUnion } from \"../ha-form/types\";\nimport { showMediaBrowserDialog } from \"../media-player/show-media-browser-dialog\";\n\nconst MANUAL_SCHEMA = [\n  { name: \"media_content_id\", required: false, selector: { text: {} } },\n  { name: \"media_content_type\", required: false, selector: { text: {} } },\n] as const;\n\n@customElement(\"ha-selector-media\")\nexport class HaMediaSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public selector!: MediaSelector;\n\n  @property({ attribute: false }) public value?: MediaSelectorValue;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean, reflect: true }) public disabled = false;\n\n  @property({ type: Boolean, reflect: true }) public required = true;\n\n  @state() private _thumbnailUrl?: string | null;\n\n  willUpdate(changedProps: PropertyValues<this>) {\n    if (changedProps.has(\"value\")) {\n      const thumbnail = this.value?.metadata?.thumbnail;\n      const oldThumbnail = (changedProps.get(\"value\") as this[\"value\"])\n        ?.metadata?.thumbnail;\n      if (thumbnail === oldThumbnail) {\n        return;\n      }\n      if (thumbnail && thumbnail.startsWith(\"/\")) {\n        this._thumbnailUrl = undefined;\n        // Thumbnails served by local API require authentication\n        getSignedPath(this.hass, thumbnail).then((signedPath) => {\n          this._thumbnailUrl = signedPath.path;\n        });\n      } else if (\n        thumbnail &&\n        thumbnail.startsWith(\"https://brands.home-assistant.io\")\n      ) {\n        // The backend is not aware of the theme used by the users,\n        // so we rewrite the URL to show a proper icon\n        this._thumbnailUrl = brandsUrl({\n          domain: extractDomainFromBrandUrl(thumbnail),\n          type: \"icon\",\n          useFallback: true,\n          darkOptimized: this.hass.themes?.darkMode,\n        });\n      } else {\n        this._thumbnailUrl = thumbnail;\n      }\n    }\n  }\n\n  protected render() {\n    const stateObj = this.value?.entity_id\n      ? this.hass.states[this.value.entity_id]\n      : undefined;\n\n    const supportsBrowse =\n      !this.value?.entity_id ||\n      (stateObj &&\n        supportsFeature(stateObj, MediaPlayerEntityFeature.BROWSE_MEDIA));\n\n    return html`<ha-entity-picker\n        .hass=${this.hass}\n        .value=${this.value?.entity_id}\n        .label=${this.label ||\n        this.hass.localize(\"ui.components.selectors.media.pick_media_player\")}\n        .disabled=${this.disabled}\n        .helper=${this.helper}\n        .required=${this.required}\n        include-domains='[\"media_player\"]'\n        allow-custom-entity\n        @value-changed=${this._entityChanged}\n      ></ha-entity-picker>\n      ${!supportsBrowse\n        ? html`<ha-alert>\n              ${this.hass.localize(\n                \"ui.components.selectors.media.browse_not_supported\"\n              )}\n            </ha-alert>\n            <ha-form\n              .hass=${this.hass}\n              .data=${this.value}\n              .schema=${MANUAL_SCHEMA}\n              .computeLabel=${this._computeLabelCallback}\n            ></ha-form>`\n        : html`<ha-card\n            outlined\n            @click=${this._pickMedia}\n            class=${this.disabled || !this.value?.entity_id ? \"disabled\" : \"\"}\n          >\n            <div\n              class=\"thumbnail ${classMap({\n                portrait:\n                  !!this.value?.metadata?.media_class &&\n                  MediaClassBrowserSettings[\n                    this.value.metadata.children_media_class ||\n                      this.value.metadata.media_class\n                  ].thumbnail_ratio === \"portrait\",\n              })}\"\n            >\n              ${this.value?.metadata?.thumbnail\n                ? html`\n                    <div\n                      class=\"${classMap({\n                        \"centered-image\":\n                          !!this.value.metadata.media_class &&\n                          [\"app\", \"directory\"].includes(\n                            this.value.metadata.media_class\n                          ),\n                      })}\n                        image\"\n                      style=${this._thumbnailUrl\n                        ? `background-image: url(${this._thumbnailUrl});`\n                        : \"\"}\n                    ></div>\n                  `\n                : html`\n                    <div class=\"icon-holder image\">\n                      <ha-svg-icon\n                        class=\"folder\"\n                        .path=${!this.value?.media_content_id\n                          ? mdiPlus\n                          : this.value?.metadata?.media_class\n                            ? MediaClassBrowserSettings[\n                                this.value.metadata.media_class === \"directory\"\n                                  ? this.value.metadata.children_media_class ||\n                                    this.value.metadata.media_class\n                                  : this.value.metadata.media_class\n                              ].icon\n                            : mdiPlayBox}\n                      ></ha-svg-icon>\n                    </div>\n                  `}\n            </div>\n            <div class=\"title\">\n              ${!this.value?.media_content_id\n                ? this.hass.localize(\"ui.components.selectors.media.pick_media\")\n                : this.value.metadata?.title || this.value.media_content_id}\n            </div>\n          </ha-card>`}`;\n  }\n\n  private _computeLabelCallback = (\n    schema: SchemaUnion<typeof MANUAL_SCHEMA>\n  ): string =>\n    this.hass.localize(`ui.components.selectors.media.${schema.name}`);\n\n  private _entityChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    fireEvent(this, \"value-changed\", {\n      value: {\n        entity_id: ev.detail.value,\n        media_content_id: \"\",\n        media_content_type: \"\",\n      },\n    });\n  }\n\n  private _pickMedia() {\n    showMediaBrowserDialog(this, {\n      action: \"pick\",\n      entityId: this.value!.entity_id!,\n      navigateIds: this.value!.metadata?.navigateIds,\n      mediaPickedCallback: (pickedMedia: MediaPickedEvent) => {\n        fireEvent(this, \"value-changed\", {\n          value: {\n            ...this.value,\n            media_content_id: pickedMedia.item.media_content_id,\n            media_content_type: pickedMedia.item.media_content_type,\n            metadata: {\n              title: pickedMedia.item.title,\n              thumbnail: pickedMedia.item.thumbnail,\n              media_class: pickedMedia.item.media_class,\n              children_media_class: pickedMedia.item.children_media_class,\n              navigateIds: pickedMedia.navigateIds?.map((id) => ({\n                media_content_type: id.media_content_type,\n                media_content_id: id.media_content_id,\n              })),\n            },\n          },\n        });\n      },\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      ha-entity-picker {\n        display: block;\n        margin-bottom: 16px;\n      }\n      mwc-button {\n        margin-top: 8px;\n      }\n      ha-alert {\n        display: block;\n        margin-bottom: 16px;\n      }\n      ha-card {\n        position: relative;\n        width: 200px;\n        box-sizing: border-box;\n        cursor: pointer;\n      }\n      ha-card.disabled {\n        pointer-events: none;\n        color: var(--disabled-text-color);\n      }\n      ha-card .thumbnail {\n        width: 100%;\n        position: relative;\n        box-sizing: border-box;\n        transition: padding-bottom 0.1s ease-out;\n        padding-bottom: 100%;\n      }\n      ha-card .thumbnail.portrait {\n        padding-bottom: 150%;\n      }\n      ha-card .image {\n        border-radius: 3px 3px 0 0;\n      }\n      .folder {\n        --mdc-icon-size: calc(var(--media-browse-item-size, 175px) * 0.4);\n      }\n      .title {\n        font-size: 16px;\n        padding-top: 16px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        margin-bottom: 16px;\n        padding-left: 16px;\n        padding-right: 4px;\n        padding-inline-start: 16px;\n        padding-inline-end: 4px;\n        white-space: nowrap;\n      }\n      .image {\n        position: absolute;\n        top: 0;\n        right: 0;\n        left: 0;\n        bottom: 0;\n        background-size: cover;\n        background-repeat: no-repeat;\n        background-position: center;\n      }\n      .centered-image {\n        margin: 0 8px;\n        background-size: contain;\n      }\n      .icon-holder {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-media\": HaMediaSelector;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}