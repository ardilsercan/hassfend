{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"@material/mwc-button\";\nimport \"@material/mwc-list/mwc-list-item\";\nvar mdiRefresh = \"M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z\";\nvar mdiDownload = \"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-ansi-to-html\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon-button\";\nimport \"../../../components/ha-select\";\nimport \"../../../components/ha-svg-icon\";\nimport { getSignedPath } from \"../../../data/auth\";\nimport { fetchErrorLog, getErrorLogDownloadUrl } from \"../../../data/error_log\";\nimport { extractApiErrorMessage } from \"../../../data/hassio/common\";\nimport { fetchHassioLogs, getHassioLogDownloadUrl } from \"../../../data/hassio/supervisor\";\nimport { debounce } from \"../../../common/util/debounce\";\nimport { fileDownload } from \"../../../util/file_download\";\nvar ErrorLogCard = _decorate([customElement(\"error-log-card\")], function (_initialize, _LitElement) {\n  var ErrorLogCard = /*#__PURE__*/function (_LitElement2) {\n    _inherits(ErrorLogCard, _LitElement2);\n    function ErrorLogCard() {\n      var _this;\n      _classCallCheck(this, ErrorLogCard);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, ErrorLogCard, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(ErrorLogCard);\n  }(_LitElement);\n  return {\n    F: ErrorLogCard,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"filter\",\n      value: function value() {\n        return \"\";\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"header\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"provider\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        attribute: true\n      })],\n      key: \"show\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_isLogLoaded\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_logHTML\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <div class=\\\"error-log-intro\\\">\\n        \", \"\\n        \", \"\\n        \", \"\\n      </div>\\n    \"])), this._error ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"error\\\">\", \"</ha-alert>\"])), this._error) : \"\", this._logHTML ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n              <ha-card outlined>\\n                <div class=\\\"header\\\">\\n                  <h1 class=\\\"card-header\\\">\\n                    \", \"\\n                  </h1>\\n                  <div>\\n                    <ha-icon-button\\n                      .path=\", \"\\n                      @click=\", \"\\n                      .label=\", \"\\n                    ></ha-icon-button>\\n                    <ha-icon-button\\n                      .path=\", \"\\n                      @click=\", \"\\n                      .label=\", \"\\n                    ></ha-icon-button>\\n                  </div>\\n                </div>\\n                <div class=\\\"card-content error-log\\\">\", \"</div>\\n              </ha-card>\\n            \"])), this.header || this.hass.localize(\"ui.panel.config.logs.show_full_logs\"), mdiRefresh, this._refresh, this.hass.localize(\"ui.common.refresh\"), mdiDownload, this._downloadFullLog, this.hass.localize(\"ui.panel.config.logs.download_full_log\"), this._logHTML) : \"\", !this._logHTML ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n              <mwc-button outlined @click=\", \">\\n                <ha-svg-icon .path=\", \"></ha-svg-icon>\\n                \", \"\\n              </mwc-button>\\n              <mwc-button raised @click=\", \">\\n                \", \"\\n              </mwc-button>\\n            \"])), this._downloadFullLog, mdiDownload, this.hass.localize(\"ui.panel.config.logs.download_full_log\"), this._refreshLogs, this.hass.localize(\"ui.panel.config.logs.load_logs\")) : \"\");\n      }\n    }, {\n      kind: \"field\",\n      key: \"_debounceSearch\",\n      value: function value() {\n        var _this2 = this;\n        return debounce(function () {\n          return _this2._isLogLoaded ? _this2._refreshLogs() : _this2._debounceSearch();\n        }, 150, false);\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        var _this$hass;\n        _get(_getPrototypeOf(ErrorLogCard.prototype), \"firstUpdated\", this).call(this, changedProps);\n        if ((_this$hass = this.hass) !== null && _this$hass !== void 0 && _this$hass.config.recovery_mode || this.show) {\n          this.hass.loadFragmentTranslation(\"config\");\n          this._refreshLogs();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(ErrorLogCard.prototype), \"updated\", this).call(this, changedProps);\n        if (changedProps.has(\"provider\")) {\n          this._logHTML = undefined;\n        }\n        if (changedProps.has(\"show\") && this.show || changedProps.has(\"provider\") && this.show) {\n          this._refreshLogs();\n          return;\n        }\n        if (changedProps.has(\"filter\")) {\n          this._debounceSearch();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_refresh\",\n      value: function () {\n        var _refresh2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev) {\n          var button;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                button = ev.currentTarget;\n                button.progress = true;\n                _context.next = 4;\n                return this._refreshLogs();\n              case 4:\n                button.progress = false;\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _refresh(_x) {\n          return _refresh2.apply(this, arguments);\n        }\n        return _refresh;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_downloadFullLog\",\n      value: function () {\n        var _downloadFullLog2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n          var timeString, downloadUrl, logFileName, signedUrl;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                timeString = new Date().toISOString().replace(/:/g, \"-\");\n                downloadUrl = this.provider !== \"core\" ? getHassioLogDownloadUrl(this.provider) : getErrorLogDownloadUrl;\n                logFileName = this.provider !== \"core\" ? \"\".concat(this.provider, \"_\").concat(timeString, \".log\") : \"home-assistant_\".concat(timeString, \".log\");\n                _context2.next = 5;\n                return getSignedPath(this.hass, downloadUrl);\n              case 5:\n                signedUrl = _context2.sent;\n                fileDownload(signedUrl.path, logFileName);\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _downloadFullLog() {\n          return _downloadFullLog2.apply(this, arguments);\n        }\n        return _downloadFullLog;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_refreshLogs\",\n      value: function () {\n        var _refreshLogs2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n          var _this3 = this;\n          var log, split;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                this._logHTML = this.hass.localize(\"ui.panel.config.logs.loading_log\");\n                if (!(this.provider !== \"core\" && isComponentLoaded(this.hass, \"hassio\"))) {\n                  _context3.next = 21;\n                  break;\n                }\n                _context3.prev = 2;\n                _context3.next = 5;\n                return fetchHassioLogs(this.hass, this.provider);\n              case 5:\n                log = _context3.sent;\n                if (this.filter) {\n                  log = log.split(\"\\n\").filter(function (entry) {\n                    return entry.toLowerCase().includes(_this3.filter.toLowerCase());\n                  }).join(\"\\n\");\n                }\n                if (log) {\n                  _context3.next = 10;\n                  break;\n                }\n                this._logHTML = this.hass.localize(\"ui.panel.config.logs.no_errors\");\n                return _context3.abrupt(\"return\");\n              case 10:\n                this._logHTML = html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<ha-ansi-to-html .content=\", \">\\n        </ha-ansi-to-html>\"])), log);\n                this._isLogLoaded = true;\n                return _context3.abrupt(\"return\");\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3[\"catch\"](2);\n                this._error = this.hass.localize(\"ui.panel.config.logs.failed_get_logs\", {\n                  provider: this.provider,\n                  error: extractApiErrorMessage(_context3.t0)\n                });\n                return _context3.abrupt(\"return\");\n              case 19:\n                _context3.next = 24;\n                break;\n              case 21:\n                _context3.next = 23;\n                return fetchErrorLog(this.hass);\n              case 23:\n                log = _context3.sent;\n              case 24:\n                this._isLogLoaded = true;\n                split = log && log.split(\"\\n\");\n                this._logHTML = split ? (this.filter ? split.filter(function (entry) {\n                  if (_this3.filter) {\n                    return entry.toLowerCase().includes(_this3.filter.toLowerCase());\n                  }\n                  return entry;\n                }) : split).map(function (entry) {\n                  if (entry.includes(\"INFO\")) return html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"<div class=\\\"info\\\">\", \"</div>\"])), entry);\n                  if (entry.includes(\"WARNING\")) return html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<div class=\\\"warning\\\">\", \"</div>\"])), entry);\n                  if (entry.includes(\"ERROR\") || entry.includes(\"FATAL\") || entry.includes(\"CRITICAL\")) return html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"<div class=\\\"error\\\">\", \"</div>\"])), entry);\n                  return html(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"<div>\", \"</div>\"])), entry);\n                }) : this.hass.localize(\"ui.panel.config.logs.no_errors\");\n              case 27:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this, [[2, 15]]);\n        }));\n        function _refreshLogs() {\n          return _refreshLogs2.apply(this, arguments);\n        }\n        return _refreshLogs;\n      }()\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value: function value() {\n        return css(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n    .error-log-intro {\\n      text-align: center;\\n      margin: 16px;\\n    }\\n\\n    ha-card {\\n      padding-top: 16px;\\n    }\\n\\n    .header {\\n      display: flex;\\n      justify-content: space-between;\\n      padding: 0 16px;\\n    }\\n\\n    .card-header {\\n      color: var(--ha-card-header-color, --primary-text-color);\\n      font-family: var(--ha-card-header-font-family, inherit);\\n      font-size: var(--ha-card-header-font-size, 24px);\\n      letter-spacing: -0.012em;\\n      line-height: 48px;\\n      display: block;\\n      margin-block-start: 0px;\\n      margin-block-end: 0px;\\n      font-weight: normal;\\n    }\\n\\n    ha-select {\\n      display: block;\\n      max-width: 500px;\\n      width: 100%;\\n    }\\n\\n    ha-icon-button {\\n      float: right;\\n    }\\n\\n    .error-log {\\n      font-family: var(--code-font-family, monospace);\\n      clear: both;\\n      text-align: left;\\n      padding-top: 12px;\\n    }\\n\\n    .error-log > div {\\n      overflow: auto;\\n      overflow-wrap: break-word;\\n    }\\n\\n    .error-log > div:hover {\\n      background-color: var(--secondary-background-color);\\n    }\\n\\n    .error {\\n      color: var(--error-color);\\n    }\\n\\n    .warning {\\n      color: var(--warning-color);\\n    }\\n\\n    mwc-button {\\n      direction: var(--direction);\\n    }\\n  \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["mdiRefresh","mdiDownload","css","html","LitElement","customElement","property","state","isComponentLoaded","getSignedPath","fetchErrorLog","getErrorLogDownloadUrl","extractApiErrorMessage","fetchHassioLogs","getHassioLogDownloadUrl","debounce","fileDownload","ErrorLogCard","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","type","Boolean","render","_templateObject","_taggedTemplateLiteral","_error","_templateObject2","_logHTML","_templateObject3","header","hass","localize","_refresh","_downloadFullLog","_templateObject4","_refreshLogs","_this2","_isLogLoaded","_debounceSearch","firstUpdated","changedProps","_this$hass","_get","_getPrototypeOf","prototype","call","config","recovery_mode","show","loadFragmentTranslation","updated","has","undefined","_refresh2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ev","button","wrap","_callee$","_context","prev","next","currentTarget","progress","stop","_x","apply","_downloadFullLog2","_callee2","timeString","downloadUrl","logFileName","signedUrl","_callee2$","_context2","Date","toISOString","replace","provider","sent","path","_refreshLogs2","_callee3","_this3","log","split","_callee3$","_context3","filter","entry","toLowerCase","includes","join","abrupt","_templateObject5","t0","error","map","_templateObject6","_templateObject7","_templateObject8","_templateObject9","static","_templateObject10"],"sources":["/workspaces/frontend/src/panels/config/logs/error-log-card.ts"],"sourcesContent":["import \"@material/mwc-button\";\nimport \"@material/mwc-list/mwc-list-item\";\nimport { mdiRefresh, mdiDownload } from \"@mdi/js\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-ansi-to-html\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon-button\";\nimport \"../../../components/ha-select\";\nimport \"../../../components/ha-svg-icon\";\n\nimport { getSignedPath } from \"../../../data/auth\";\n\nimport { fetchErrorLog, getErrorLogDownloadUrl } from \"../../../data/error_log\";\nimport { extractApiErrorMessage } from \"../../../data/hassio/common\";\nimport {\n  fetchHassioLogs,\n  getHassioLogDownloadUrl,\n} from \"../../../data/hassio/supervisor\";\nimport { HomeAssistant } from \"../../../types\";\nimport { debounce } from \"../../../common/util/debounce\";\nimport { fileDownload } from \"../../../util/file_download\";\n\n@customElement(\"error-log-card\")\nclass ErrorLogCard extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public filter = \"\";\n\n  @property() public header?: string;\n\n  @property() public provider!: string;\n\n  @property({ type: Boolean, attribute: true }) public show = false;\n\n  @state() private _isLogLoaded = false;\n\n  @state() private _logHTML?: TemplateResult[] | TemplateResult | string;\n\n  @state() private _error?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      <div class=\"error-log-intro\">\n        ${this._error\n          ? html`<ha-alert alert-type=\"error\">${this._error}</ha-alert>`\n          : \"\"}\n        ${this._logHTML\n          ? html`\n              <ha-card outlined>\n                <div class=\"header\">\n                  <h1 class=\"card-header\">\n                    ${this.header ||\n                    this.hass.localize(\"ui.panel.config.logs.show_full_logs\")}\n                  </h1>\n                  <div>\n                    <ha-icon-button\n                      .path=${mdiRefresh}\n                      @click=${this._refresh}\n                      .label=${this.hass.localize(\"ui.common.refresh\")}\n                    ></ha-icon-button>\n                    <ha-icon-button\n                      .path=${mdiDownload}\n                      @click=${this._downloadFullLog}\n                      .label=${this.hass.localize(\n                        \"ui.panel.config.logs.download_full_log\"\n                      )}\n                    ></ha-icon-button>\n                  </div>\n                </div>\n                <div class=\"card-content error-log\">${this._logHTML}</div>\n              </ha-card>\n            `\n          : \"\"}\n        ${!this._logHTML\n          ? html`\n              <mwc-button outlined @click=${this._downloadFullLog}>\n                <ha-svg-icon .path=${mdiDownload}></ha-svg-icon>\n                ${this.hass.localize(\"ui.panel.config.logs.download_full_log\")}\n              </mwc-button>\n              <mwc-button raised @click=${this._refreshLogs}>\n                ${this.hass.localize(\"ui.panel.config.logs.load_logs\")}\n              </mwc-button>\n            `\n          : \"\"}\n      </div>\n    `;\n  }\n\n  private _debounceSearch = debounce(\n    () => (this._isLogLoaded ? this._refreshLogs() : this._debounceSearch()),\n    150,\n    false\n  );\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    if (this.hass?.config.recovery_mode || this.show) {\n      this.hass.loadFragmentTranslation(\"config\");\n      this._refreshLogs();\n    }\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n\n    if (changedProps.has(\"provider\")) {\n      this._logHTML = undefined;\n    }\n\n    if (\n      (changedProps.has(\"show\") && this.show) ||\n      (changedProps.has(\"provider\") && this.show)\n    ) {\n      this._refreshLogs();\n      return;\n    }\n\n    if (changedProps.has(\"filter\")) {\n      this._debounceSearch();\n    }\n  }\n\n  private async _refresh(ev: CustomEvent): Promise<void> {\n    const button = ev.currentTarget as any;\n    button.progress = true;\n\n    await this._refreshLogs();\n    button.progress = false;\n  }\n\n  private async _downloadFullLog(): Promise<void> {\n    const timeString = new Date().toISOString().replace(/:/g, \"-\");\n    const downloadUrl =\n      this.provider !== \"core\"\n        ? getHassioLogDownloadUrl(this.provider)\n        : getErrorLogDownloadUrl;\n    const logFileName =\n      this.provider !== \"core\"\n        ? `${this.provider}_${timeString}.log`\n        : `home-assistant_${timeString}.log`;\n    const signedUrl = await getSignedPath(this.hass, downloadUrl);\n    fileDownload(signedUrl.path, logFileName);\n  }\n\n  private async _refreshLogs(): Promise<void> {\n    this._logHTML = this.hass.localize(\"ui.panel.config.logs.loading_log\");\n    let log: string;\n\n    if (this.provider !== \"core\" && isComponentLoaded(this.hass, \"hassio\")) {\n      try {\n        log = await fetchHassioLogs(this.hass, this.provider);\n        if (this.filter) {\n          log = log\n            .split(\"\\n\")\n            .filter((entry) =>\n              entry.toLowerCase().includes(this.filter.toLowerCase())\n            )\n            .join(\"\\n\");\n        }\n        if (!log) {\n          this._logHTML = this.hass.localize(\"ui.panel.config.logs.no_errors\");\n          return;\n        }\n        this._logHTML = html`<ha-ansi-to-html .content=${log}>\n        </ha-ansi-to-html>`;\n        this._isLogLoaded = true;\n        return;\n      } catch (err: any) {\n        this._error = this.hass.localize(\n          \"ui.panel.config.logs.failed_get_logs\",\n          { provider: this.provider, error: extractApiErrorMessage(err) }\n        );\n        return;\n      }\n    } else {\n      log = await fetchErrorLog(this.hass!);\n    }\n\n    this._isLogLoaded = true;\n\n    const split = log && log.split(\"\\n\");\n\n    this._logHTML = split\n      ? (this.filter\n          ? split.filter((entry) => {\n              if (this.filter) {\n                return entry.toLowerCase().includes(this.filter.toLowerCase());\n              }\n              return entry;\n            })\n          : split\n        ).map((entry) => {\n          if (entry.includes(\"INFO\"))\n            return html`<div class=\"info\">${entry}</div>`;\n\n          if (entry.includes(\"WARNING\"))\n            return html`<div class=\"warning\">${entry}</div>`;\n\n          if (\n            entry.includes(\"ERROR\") ||\n            entry.includes(\"FATAL\") ||\n            entry.includes(\"CRITICAL\")\n          )\n            return html`<div class=\"error\">${entry}</div>`;\n\n          return html`<div>${entry}</div>`;\n        })\n      : this.hass.localize(\"ui.panel.config.logs.no_errors\");\n  }\n\n  static styles: CSSResultGroup = css`\n    .error-log-intro {\n      text-align: center;\n      margin: 16px;\n    }\n\n    ha-card {\n      padding-top: 16px;\n    }\n\n    .header {\n      display: flex;\n      justify-content: space-between;\n      padding: 0 16px;\n    }\n\n    .card-header {\n      color: var(--ha-card-header-color, --primary-text-color);\n      font-family: var(--ha-card-header-font-family, inherit);\n      font-size: var(--ha-card-header-font-size, 24px);\n      letter-spacing: -0.012em;\n      line-height: 48px;\n      display: block;\n      margin-block-start: 0px;\n      margin-block-end: 0px;\n      font-weight: normal;\n    }\n\n    ha-select {\n      display: block;\n      max-width: 500px;\n      width: 100%;\n    }\n\n    ha-icon-button {\n      float: right;\n    }\n\n    .error-log {\n      font-family: var(--code-font-family, monospace);\n      clear: both;\n      text-align: left;\n      padding-top: 12px;\n    }\n\n    .error-log > div {\n      overflow: auto;\n      overflow-wrap: break-word;\n    }\n\n    .error-log > div:hover {\n      background-color: var(--secondary-background-color);\n    }\n\n    .error {\n      color: var(--error-color);\n    }\n\n    .warning {\n      color: var(--warning-color);\n    }\n\n    mwc-button {\n      direction: var(--direction);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"error-log-card\": ErrorLogCard;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}