{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nexport var computeInitialHaFormData = function computeInitialHaFormData(schema) {\n  var data = {};\n  schema.forEach(function (field) {\n    var _field$description, _field$description2;\n    if (((_field$description = field.description) === null || _field$description === void 0 ? void 0 : _field$description.suggested_value) !== undefined && ((_field$description2 = field.description) === null || _field$description2 === void 0 ? void 0 : _field$description2.suggested_value) !== null) {\n      data[field.name] = field.description.suggested_value;\n    } else if (\"default\" in field) {\n      data[field.name] = field.default;\n    } else if (!field.required) {\n      // Do nothing.\n    } else if (field.type === \"boolean\") {\n      data[field.name] = false;\n    } else if (field.type === \"string\") {\n      data[field.name] = \"\";\n    } else if (field.type === \"integer\") {\n      data[field.name] = \"valueMin\" in field ? field.valueMin : 0;\n    } else if (field.type === \"constant\") {\n      data[field.name] = field.value;\n    } else if (field.type === \"float\") {\n      data[field.name] = 0.0;\n    } else if (field.type === \"select\") {\n      if (field.options.length) {\n        var val = field.options[0];\n        data[field.name] = Array.isArray(val) ? val[0] : val;\n      }\n    } else if (field.type === \"positive_time_period_dict\") {\n      data[field.name] = {\n        hours: 0,\n        minutes: 0,\n        seconds: 0\n      };\n    } else if (\"selector\" in field) {\n      var selector = field.selector;\n      if (\"device\" in selector) {\n        var _selector$device;\n        data[field.name] = (_selector$device = selector.device) !== null && _selector$device !== void 0 && _selector$device.multiple ? [] : \"\";\n      } else if (\"entity\" in selector) {\n        var _selector$entity;\n        data[field.name] = (_selector$entity = selector.entity) !== null && _selector$entity !== void 0 && _selector$entity.multiple ? [] : \"\";\n      } else if (\"area\" in selector) {\n        var _selector$area;\n        data[field.name] = (_selector$area = selector.area) !== null && _selector$area !== void 0 && _selector$area.multiple ? [] : \"\";\n      } else if (\"boolean\" in selector) {\n        data[field.name] = false;\n      } else if (\"addon\" in selector || \"attribute\" in selector || \"file\" in selector || \"icon\" in selector || \"template\" in selector || \"text\" in selector || \"theme\" in selector) {\n        data[field.name] = \"\";\n      } else if (\"number\" in selector) {\n        var _selector$number$min, _selector$number;\n        data[field.name] = (_selector$number$min = (_selector$number = selector.number) === null || _selector$number === void 0 ? void 0 : _selector$number.min) !== null && _selector$number$min !== void 0 ? _selector$number$min : 0;\n      } else if (\"select\" in selector) {\n        var _selector$select;\n        if ((_selector$select = selector.select) !== null && _selector$select !== void 0 && _selector$select.options.length) {\n          var firstOption = selector.select.options[0];\n          var _val = typeof firstOption === \"string\" ? firstOption : firstOption.value;\n          data[field.name] = selector.select.multiple ? [_val] : _val;\n        }\n      } else if (\"country\" in selector) {\n        var _selector$country;\n        if ((_selector$country = selector.country) !== null && _selector$country !== void 0 && (_selector$country = _selector$country.countries) !== null && _selector$country !== void 0 && _selector$country.length) {\n          data[field.name] = selector.country.countries[0];\n        }\n      } else if (\"duration\" in selector) {\n        data[field.name] = {\n          hours: 0,\n          minutes: 0,\n          seconds: 0\n        };\n      } else if (\"time\" in selector) {\n        data[field.name] = \"00:00:00\";\n      } else if (\"date\" in selector || \"datetime\" in selector) {\n        var now = new Date().toISOString().slice(0, 10);\n        data[field.name] = \"\".concat(now, \"T00:00:00\");\n      } else if (\"color_rgb\" in selector) {\n        data[field.name] = [0, 0, 0];\n      } else if (\"color_temp\" in selector) {\n        var _selector$color_temp$, _selector$color_temp;\n        data[field.name] = (_selector$color_temp$ = (_selector$color_temp = selector.color_temp) === null || _selector$color_temp === void 0 ? void 0 : _selector$color_temp.min_mireds) !== null && _selector$color_temp$ !== void 0 ? _selector$color_temp$ : 153;\n      } else if (\"action\" in selector || \"media\" in selector || \"target\" in selector) {\n        data[field.name] = {};\n      } else {\n        throw new Error(\"Selector not supported in initial form data\");\n      }\n    }\n  });\n  return data;\n};","map":{"version":3,"names":["computeInitialHaFormData","schema","data","forEach","field","_field$description","_field$description2","description","suggested_value","undefined","name","default","required","type","valueMin","value","options","length","val","Array","isArray","hours","minutes","seconds","selector","_selector$device","device","multiple","_selector$entity","entity","_selector$area","area","_selector$number$min","_selector$number","number","min","_selector$select","select","firstOption","_selector$country","country","countries","now","Date","toISOString","slice","concat","_selector$color_temp$","_selector$color_temp","color_temp","min_mireds","Error"],"sources":["/Users/sercanardil/Desktop/frontend/src/components/ha-form/compute-initial-ha-form-data.ts"],"sourcesContent":["import type { Selector } from \"../../data/selector\";\nimport type { HaFormSchema } from \"./types\";\n\nexport const computeInitialHaFormData = (\n  schema: HaFormSchema[]\n): Record<string, any> => {\n  const data = {};\n  schema.forEach((field) => {\n    if (\n      field.description?.suggested_value !== undefined &&\n      field.description?.suggested_value !== null\n    ) {\n      data[field.name] = field.description.suggested_value;\n    } else if (\"default\" in field) {\n      data[field.name] = field.default;\n    } else if (!field.required) {\n      // Do nothing.\n    } else if (field.type === \"boolean\") {\n      data[field.name] = false;\n    } else if (field.type === \"string\") {\n      data[field.name] = \"\";\n    } else if (field.type === \"integer\") {\n      data[field.name] = \"valueMin\" in field ? field.valueMin : 0;\n    } else if (field.type === \"constant\") {\n      data[field.name] = field.value;\n    } else if (field.type === \"float\") {\n      data[field.name] = 0.0;\n    } else if (field.type === \"select\") {\n      if (field.options.length) {\n        const val = field.options[0];\n        data[field.name] = Array.isArray(val) ? val[0] : val;\n      }\n    } else if (field.type === \"positive_time_period_dict\") {\n      data[field.name] = {\n        hours: 0,\n        minutes: 0,\n        seconds: 0,\n      };\n    } else if (\"selector\" in field) {\n      const selector: Selector = field.selector;\n\n      if (\"device\" in selector) {\n        data[field.name] = selector.device?.multiple ? [] : \"\";\n      } else if (\"entity\" in selector) {\n        data[field.name] = selector.entity?.multiple ? [] : \"\";\n      } else if (\"area\" in selector) {\n        data[field.name] = selector.area?.multiple ? [] : \"\";\n      } else if (\"boolean\" in selector) {\n        data[field.name] = false;\n      } else if (\n        \"addon\" in selector ||\n        \"attribute\" in selector ||\n        \"file\" in selector ||\n        \"icon\" in selector ||\n        \"template\" in selector ||\n        \"text\" in selector ||\n        \"theme\" in selector\n      ) {\n        data[field.name] = \"\";\n      } else if (\"number\" in selector) {\n        data[field.name] = selector.number?.min ?? 0;\n      } else if (\"select\" in selector) {\n        if (selector.select?.options.length) {\n          const firstOption = selector.select.options[0];\n          const val =\n            typeof firstOption === \"string\" ? firstOption : firstOption.value;\n          data[field.name] = selector.select.multiple ? [val] : val;\n        }\n      } else if (\"country\" in selector) {\n        if (selector.country?.countries?.length) {\n          data[field.name] = selector.country.countries[0];\n        }\n      } else if (\"duration\" in selector) {\n        data[field.name] = {\n          hours: 0,\n          minutes: 0,\n          seconds: 0,\n        };\n      } else if (\"time\" in selector) {\n        data[field.name] = \"00:00:00\";\n      } else if (\"date\" in selector || \"datetime\" in selector) {\n        const now = new Date().toISOString().slice(0, 10);\n        data[field.name] = `${now}T00:00:00`;\n      } else if (\"color_rgb\" in selector) {\n        data[field.name] = [0, 0, 0];\n      } else if (\"color_temp\" in selector) {\n        data[field.name] = selector.color_temp?.min_mireds ?? 153;\n      } else if (\n        \"action\" in selector ||\n        \"media\" in selector ||\n        \"target\" in selector\n      ) {\n        data[field.name] = {};\n      } else {\n        throw new Error(\"Selector not supported in initial form data\");\n      }\n    }\n  });\n  return data;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}