{"ast":null,"code":"import { getCollection, getUser } from \"home-assistant-js-websocket\";\nexport var userCollection = function userCollection(conn) {\n  return getCollection(conn, \"_usr\", function () {\n    return getUser(conn);\n  }, undefined);\n};\nexport var subscribeUser = function subscribeUser(conn, onChange) {\n  return userCollection(conn).subscribe(onChange);\n};","map":{"version":3,"names":["getCollection","getUser","userCollection","conn","undefined","subscribeUser","onChange","subscribe"],"sources":["/workspaces/frontend/src/data/ws-user.ts"],"sourcesContent":["import {\n  Connection,\n  getCollection,\n  getUser,\n} from \"home-assistant-js-websocket\";\nimport { CurrentUser } from \"../types\";\n\nexport const userCollection = (conn: Connection) =>\n  getCollection(\n    conn,\n    \"_usr\",\n    () => getUser(conn) as Promise<CurrentUser>,\n    undefined\n  );\n\nexport const subscribeUser = (\n  conn: Connection,\n  onChange: (user: CurrentUser) => void\n) => userCollection(conn).subscribe(onChange);\n"],"mappings":"AAAA,SAEEA,aAAa,EACbC,OAAO,QACF,6BAA6B;AAGpC,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIC,IAAgB;EAAA,OAC7CH,aAAa,CACXG,IAAI,EACJ,MAAM,EACN;IAAA,OAAMF,OAAO,CAACE,IAAI,CAAC;EAAA,CAAwB,EAC3CC,SACF,CAAC;AAAA;AAEH,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CACxBF,IAAgB,EAChBG,QAAqC;EAAA,OAClCJ,cAAc,CAACC,IAAI,CAAC,CAACI,SAAS,CAACD,QAAQ,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}