{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport \"@material/mwc-button/mwc-button\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport { isIPAddress } from \"../../../common/string/is_ip_address\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-formfield\";\nimport \"../../../components/ha-switch\";\nimport \"../../../components/ha-textfield\";\nimport { fetchCloudStatus } from \"../../../data/cloud\";\nimport { saveCoreConfig } from \"../../../data/core\";\nvar ConfigUrlForm = _decorate([customElement(\"ha-config-url-form\")], function (_initialize, _LitElement) {\n  var ConfigUrlForm = /*#__PURE__*/function (_LitElement2) {\n    _inherits(ConfigUrlForm, _LitElement2);\n    function ConfigUrlForm() {\n      var _this;\n      _classCallCheck(this, ConfigUrlForm);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, ConfigUrlForm, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(ConfigUrlForm);\n  }(_LitElement);\n  return {\n    F: ConfigUrlForm,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_working\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_external_url\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_internal_url\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_cloudStatus\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_showCustomExternalUrl\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_showCustomInternalUrl\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$hass$userData;\n        var canEdit = [\"storage\", \"default\"].includes(this.hass.config.config_source);\n        var disabled = this._working || !canEdit;\n        if (!((_this$hass$userData = this.hass.userData) !== null && _this$hass$userData !== void 0 && _this$hass$userData.showAdvanced) || this._cloudStatus === undefined) {\n          return nothing;\n        }\n        var internalUrl = this._internalUrlValue;\n        var externalUrl = this._externalUrlValue;\n        var hasCloud;\n        var remoteEnabled;\n        var httpUseHttps;\n        if (this._cloudStatus === null) {\n          hasCloud = false;\n          remoteEnabled = false;\n          httpUseHttps = false;\n        } else {\n          httpUseHttps = this._cloudStatus.http_use_ssl;\n          if (this._cloudStatus.logged_in) {\n            hasCloud = true;\n            remoteEnabled = this._cloudStatus.active_subscription && this._cloudStatus.prefs.remote_enabled;\n          } else {\n            hasCloud = false;\n            remoteEnabled = false;\n          }\n        }\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-card\\n        outlined\\n        .header=\", \"\\n      >\\n        <div class=\\\"card-content\\\">\\n          \", \"\\n          \", \"\\n\\n          <div class=\\\"description\\\">\\n            \", \"\\n          </div>\\n\\n          \", \"\\n          \", \"\\n          \", \"\\n          \", \"\\n\\n          <div class=\\\"row\\\">\\n            <div class=\\\"flex\\\">\\n              \", \"\\n            </div>\\n\\n            <ha-formfield\\n              .label=\", \"\\n            >\\n              <ha-switch\\n                .checked=\", \"\\n                @change=\", \"\\n              ></ha-switch>\\n            </ha-formfield>\\n          </div>\\n\\n          \", \"\\n          \", \"\\n        </div>\\n        <div class=\\\"card-actions\\\">\\n          <mwc-button @click=\", \" .disabled=\", \">\\n            \", \"\\n          </mwc-button>\\n        </div>\\n      </ha-card>\\n    \"])), this.hass.localize(\"ui.panel.config.url.caption\"), !canEdit ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n                <p>\\n                  \", \"\\n                </p>\\n              \"])), this.hass.localize(\"ui.panel.config.core.section.core.core_config.edit_requires_storage\")) : \"\", this._error ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<div class=\\\"error\\\">\", \"</div>\"])), this._error) : \"\", this.hass.localize(\"ui.panel.config.url.description\"), hasCloud ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"flex\\\">\\n                    \", \"\\n                  </div>\\n                  <ha-formfield\\n                    .label=\", \"\\n                  >\\n                    <ha-switch\\n                      .disabled=\", \"\\n                      .checked=\", \"\\n                      @change=\", \"\\n                    ></ha-switch>\\n                  </ha-formfield>\\n                </div>\\n              \"])), this.hass.localize(\"ui.panel.config.url.external_url_label\"), this.hass.localize(\"ui.panel.config.url.external_use_ha_cloud\"), disabled, externalUrl === null, this._toggleCloud) : \"\", !this._showCustomExternalUrl ? \"\" : html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"flex\\\">\\n                    \", \"\\n                  </div>\\n                  <ha-textfield\\n                    class=\\\"flex\\\"\\n                    name=\\\"external_url\\\"\\n                    type=\\\"url\\\"\\n                    .disabled=\", \"\\n                    .value=\", \"\\n                    @change=\", \"\\n                    placeholder=\\\"https://example.duckdns.org:8123\\\"\\n                  >\\n                  </ha-textfield>\\n                </div>\\n              \"])), hasCloud ? \"\" : this.hass.localize(\"ui.panel.config.url.external_url_label\"), disabled, externalUrl || \"\", this._handleChange), hasCloud || !isComponentLoaded(this.hass, \"cloud\") ? \"\" : html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"flex\\\"></div>\\n                  <a href=\\\"/config/cloud\\\"\\n                    >\", \"</a\\n                  >\\n                </div>\\n              \"])), this.hass.localize(\"ui.panel.config.url.external_get_ha_cloud\")), !this._showCustomExternalUrl && hasCloud ? html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n                \", \"\\n              \"])), remoteEnabled ? html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n                      <div class=\\\"row\\\">\\n                        <div class=\\\"flex\\\"></div>\\n                        <a href=\\\"/config/cloud\\\"\\n                          >\", \"</a\\n                        >\\n                      </div>\\n                    \"])), this.hass.localize(\"ui.panel.config.url.manage_ha_cloud\")) : html(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n                      <ha-alert alert-type=\\\"error\\\">\\n                        \", \"\\n                        <a href=\\\"/config/cloud\\\" slot=\\\"action\\\"\\n                          ><mwc-button\\n                            .label=\", \"\\n                          ></mwc-button\\n                        ></a>\\n                      </ha-alert>\\n                    \"])), this.hass.localize(\"ui.panel.config.url.ha_cloud_remote_not_enabled\"), this.hass.localize(\"ui.panel.config.url.enable_remote\"))) : \"\", this.hass.localize(\"ui.panel.config.url.internal_url_label\"), this.hass.localize(\"ui.panel.config.url.internal_url_automatic\"), internalUrl === null, this._toggleInternalAutomatic, !this._showCustomInternalUrl ? \"\" : html(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"\\n                <div class=\\\"row\\\">\\n                  <div class=\\\"flex\\\"></div>\\n                  <ha-textfield\\n                    class=\\\"flex\\\"\\n                    name=\\\"internal_url\\\"\\n                    type=\\\"url\\\"\\n                    placeholder=\\\"http://<some IP address>:8123\\\"\\n                    .disabled=\", \"\\n                    .value=\", \"\\n                    @change=\", \"\\n                  >\\n                  </ha-textfield>\\n                </div>\\n              \"])), disabled, internalUrl || \"\", this._handleChange),\n        // If the user has configured a cert, show an error if\n        httpUseHttps && (\n        // there is no internal url configured\n        !internalUrl ||\n        // the internal url does not start with https\n        !internalUrl.startsWith(\"https://\") ||\n        // the internal url points at an IP address\n        isIPAddress(new URL(internalUrl).hostname)) ? html(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"\\n                  <ha-alert\\n                    .alertType=\", \"\\n                    .title=\", \"\\n                  >\\n                    \", \"\\n                  </ha-alert>\\n                \"])), this._showCustomInternalUrl ? \"info\" : \"warning\", this.hass.localize(\"ui.panel.config.url.internal_url_https_error_title\"), this.hass.localize(\"ui.panel.config.url.internal_url_https_error_description\")) : \"\", this._save, disabled, this.hass.localize(\"ui.panel.config.core.section.core.core_config.save_button\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        var _this2 = this;\n        _get(_getPrototypeOf(ConfigUrlForm.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this._showCustomInternalUrl = this._internalUrlValue !== null;\n        if (isComponentLoaded(this.hass, \"cloud\")) {\n          fetchCloudStatus(this.hass).then(function (cloudStatus) {\n            _this2._cloudStatus = cloudStatus;\n            if (cloudStatus.logged_in) {\n              _this2._showCustomExternalUrl = _this2._externalUrlValue !== null;\n            } else {\n              _this2._showCustomExternalUrl = true;\n            }\n          });\n        } else {\n          this._cloudStatus = null;\n          this._showCustomExternalUrl = true;\n        }\n      }\n    }, {\n      kind: \"get\",\n      key: \"_internalUrlValue\",\n      value: function _internalUrlValue() {\n        return this._internal_url !== undefined ? this._internal_url : this.hass.config.internal_url;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_externalUrlValue\",\n      value: function _externalUrlValue() {\n        return this._external_url !== undefined ? this._external_url : this.hass.config.external_url;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_toggleCloud\",\n      value: function _toggleCloud(ev) {\n        this._showCustomExternalUrl = !ev.currentTarget.checked;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_toggleInternalAutomatic\",\n      value: function _toggleInternalAutomatic(ev) {\n        this._showCustomInternalUrl = !ev.currentTarget.checked;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleChange\",\n      value: function _handleChange(ev) {\n        var target = ev.currentTarget;\n        this[\"_\".concat(target.name)] = target.value || null;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_save\",\n      value: function () {\n        var _save2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                this._working = true;\n                this._error = undefined;\n                _context.prev = 2;\n                _context.next = 5;\n                return saveCoreConfig(this.hass, {\n                  external_url: this._showCustomExternalUrl ? this._external_url || null : null,\n                  internal_url: this._showCustomInternalUrl ? this._internal_url || null : null\n                });\n              case 5:\n                _context.next = 10;\n                break;\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](2);\n                this._error = _context.t0.message || _context.t0;\n              case 10:\n                _context.prev = 10;\n                this._working = false;\n                return _context.finish(10);\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[2, 7, 10, 13]]);\n        }));\n        function _save() {\n          return _save2.apply(this, arguments);\n        }\n        return _save;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"\\n      .description {\\n        margin-bottom: 1em;\\n      }\\n      .row {\\n        display: flex;\\n        flex-direction: row;\\n        margin: 0 -8px;\\n        align-items: center;\\n        padding: 8px 0;\\n      }\\n\\n      .secondary {\\n        color: var(--secondary-text-color);\\n      }\\n\\n      .flex {\\n        flex: 1;\\n      }\\n\\n      .row > * {\\n        margin: 0 8px;\\n      }\\n      .error {\\n        color: var(--error-color);\\n      }\\n\\n      .card-actions {\\n        display: flex;\\n        flex-direction: row-reverse;\\n      }\\n\\n      a {\\n        color: var(--primary-color);\\n        text-decoration: none;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","state","isComponentLoaded","isIPAddress","fetchCloudStatus","saveCoreConfig","ConfigUrlForm","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","render","_this$hass$userData","canEdit","includes","hass","config","config_source","disabled","_working","userData","showAdvanced","_cloudStatus","undefined","internalUrl","_internalUrlValue","externalUrl","_externalUrlValue","hasCloud","remoteEnabled","httpUseHttps","http_use_ssl","logged_in","active_subscription","prefs","remote_enabled","_templateObject","_taggedTemplateLiteral","localize","_templateObject2","_error","_templateObject3","_templateObject4","_toggleCloud","_showCustomExternalUrl","_templateObject5","_handleChange","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_toggleInternalAutomatic","_showCustomInternalUrl","_templateObject10","startsWith","URL","hostname","_templateObject11","_save","firstUpdated","changedProps","_this2","_get","_getPrototypeOf","prototype","call","then","cloudStatus","_internal_url","internal_url","_external_url","external_url","ev","currentTarget","checked","target","name","_save2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","message","finish","stop","apply","static","styles","_templateObject12"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/config/network/ha-config-url-form.ts"],"sourcesContent":["import \"@material/mwc-button/mwc-button\";\nimport {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  PropertyValues,\n  nothing,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { isComponentLoaded } from \"../../../common/config/is_component_loaded\";\nimport { isIPAddress } from \"../../../common/string/is_ip_address\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-formfield\";\nimport \"../../../components/ha-switch\";\nimport \"../../../components/ha-textfield\";\nimport type { HaTextField } from \"../../../components/ha-textfield\";\nimport { CloudStatus, fetchCloudStatus } from \"../../../data/cloud\";\nimport { saveCoreConfig } from \"../../../data/core\";\nimport type { ValueChangedEvent, HomeAssistant } from \"../../../types\";\n\n@customElement(\"ha-config-url-form\")\nclass ConfigUrlForm extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _error?: string;\n\n  @state() private _working = false;\n\n  @state() private _external_url?: string;\n\n  @state() private _internal_url?: string;\n\n  @state() private _cloudStatus?: CloudStatus | null;\n\n  @state() private _showCustomExternalUrl = false;\n\n  @state() private _showCustomInternalUrl = false;\n\n  protected render() {\n    const canEdit = [\"storage\", \"default\"].includes(\n      this.hass.config.config_source\n    );\n    const disabled = this._working || !canEdit;\n\n    if (!this.hass.userData?.showAdvanced || this._cloudStatus === undefined) {\n      return nothing;\n    }\n\n    const internalUrl = this._internalUrlValue;\n    const externalUrl = this._externalUrlValue;\n    let hasCloud: boolean;\n    let remoteEnabled: boolean;\n    let httpUseHttps: boolean;\n\n    if (this._cloudStatus === null) {\n      hasCloud = false;\n      remoteEnabled = false;\n      httpUseHttps = false;\n    } else {\n      httpUseHttps = this._cloudStatus.http_use_ssl;\n\n      if (this._cloudStatus.logged_in) {\n        hasCloud = true;\n        remoteEnabled =\n          this._cloudStatus.active_subscription &&\n          this._cloudStatus.prefs.remote_enabled;\n      } else {\n        hasCloud = false;\n        remoteEnabled = false;\n      }\n    }\n\n    return html`\n      <ha-card\n        outlined\n        .header=${this.hass.localize(\"ui.panel.config.url.caption\")}\n      >\n        <div class=\"card-content\">\n          ${!canEdit\n            ? html`\n                <p>\n                  ${this.hass.localize(\n                    \"ui.panel.config.core.section.core.core_config.edit_requires_storage\"\n                  )}\n                </p>\n              `\n            : \"\"}\n          ${this._error ? html`<div class=\"error\">${this._error}</div>` : \"\"}\n\n          <div class=\"description\">\n            ${this.hass.localize(\"ui.panel.config.url.description\")}\n          </div>\n\n          ${hasCloud\n            ? html`\n                <div class=\"row\">\n                  <div class=\"flex\">\n                    ${this.hass.localize(\n                      \"ui.panel.config.url.external_url_label\"\n                    )}\n                  </div>\n                  <ha-formfield\n                    .label=${this.hass.localize(\n                      \"ui.panel.config.url.external_use_ha_cloud\"\n                    )}\n                  >\n                    <ha-switch\n                      .disabled=${disabled}\n                      .checked=${externalUrl === null}\n                      @change=${this._toggleCloud}\n                    ></ha-switch>\n                  </ha-formfield>\n                </div>\n              `\n            : \"\"}\n          ${!this._showCustomExternalUrl\n            ? \"\"\n            : html`\n                <div class=\"row\">\n                  <div class=\"flex\">\n                    ${hasCloud\n                      ? \"\"\n                      : this.hass.localize(\n                          \"ui.panel.config.url.external_url_label\"\n                        )}\n                  </div>\n                  <ha-textfield\n                    class=\"flex\"\n                    name=\"external_url\"\n                    type=\"url\"\n                    .disabled=${disabled}\n                    .value=${externalUrl || \"\"}\n                    @change=${this._handleChange}\n                    placeholder=\"https://example.duckdns.org:8123\"\n                  >\n                  </ha-textfield>\n                </div>\n              `}\n          ${hasCloud || !isComponentLoaded(this.hass, \"cloud\")\n            ? \"\"\n            : html`\n                <div class=\"row\">\n                  <div class=\"flex\"></div>\n                  <a href=\"/config/cloud\"\n                    >${this.hass.localize(\n                      \"ui.panel.config.url.external_get_ha_cloud\"\n                    )}</a\n                  >\n                </div>\n              `}\n          ${!this._showCustomExternalUrl && hasCloud\n            ? html`\n                ${remoteEnabled\n                  ? html`\n                      <div class=\"row\">\n                        <div class=\"flex\"></div>\n                        <a href=\"/config/cloud\"\n                          >${this.hass.localize(\n                            \"ui.panel.config.url.manage_ha_cloud\"\n                          )}</a\n                        >\n                      </div>\n                    `\n                  : html`\n                      <ha-alert alert-type=\"error\">\n                        ${this.hass.localize(\n                          \"ui.panel.config.url.ha_cloud_remote_not_enabled\"\n                        )}\n                        <a href=\"/config/cloud\" slot=\"action\"\n                          ><mwc-button\n                            .label=${this.hass.localize(\n                              \"ui.panel.config.url.enable_remote\"\n                            )}\n                          ></mwc-button\n                        ></a>\n                      </ha-alert>\n                    `}\n              `\n            : \"\"}\n\n          <div class=\"row\">\n            <div class=\"flex\">\n              ${this.hass.localize(\"ui.panel.config.url.internal_url_label\")}\n            </div>\n\n            <ha-formfield\n              .label=${this.hass.localize(\n                \"ui.panel.config.url.internal_url_automatic\"\n              )}\n            >\n              <ha-switch\n                .checked=${internalUrl === null}\n                @change=${this._toggleInternalAutomatic}\n              ></ha-switch>\n            </ha-formfield>\n          </div>\n\n          ${!this._showCustomInternalUrl\n            ? \"\"\n            : html`\n                <div class=\"row\">\n                  <div class=\"flex\"></div>\n                  <ha-textfield\n                    class=\"flex\"\n                    name=\"internal_url\"\n                    type=\"url\"\n                    placeholder=\"http://<some IP address>:8123\"\n                    .disabled=${disabled}\n                    .value=${internalUrl || \"\"}\n                    @change=${this._handleChange}\n                  >\n                  </ha-textfield>\n                </div>\n              `}\n          ${\n            // If the user has configured a cert, show an error if\n            httpUseHttps && // there is no internal url configured\n            (!internalUrl ||\n              // the internal url does not start with https\n              !internalUrl.startsWith(\"https://\") ||\n              // the internal url points at an IP address\n              isIPAddress(new URL(internalUrl).hostname))\n              ? html`\n                  <ha-alert\n                    .alertType=${this._showCustomInternalUrl\n                      ? \"info\"\n                      : \"warning\"}\n                    .title=${this.hass.localize(\n                      \"ui.panel.config.url.internal_url_https_error_title\"\n                    )}\n                  >\n                    ${this.hass.localize(\n                      \"ui.panel.config.url.internal_url_https_error_description\"\n                    )}\n                  </ha-alert>\n                `\n              : \"\"\n          }\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._save} .disabled=${disabled}>\n            ${this.hass.localize(\n              \"ui.panel.config.core.section.core.core_config.save_button\"\n            )}\n          </mwc-button>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  protected override firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    this._showCustomInternalUrl = this._internalUrlValue !== null;\n\n    if (isComponentLoaded(this.hass, \"cloud\")) {\n      fetchCloudStatus(this.hass).then((cloudStatus) => {\n        this._cloudStatus = cloudStatus;\n        if (cloudStatus.logged_in) {\n          this._showCustomExternalUrl = this._externalUrlValue !== null;\n        } else {\n          this._showCustomExternalUrl = true;\n        }\n      });\n    } else {\n      this._cloudStatus = null;\n      this._showCustomExternalUrl = true;\n    }\n  }\n\n  private get _internalUrlValue() {\n    return this._internal_url !== undefined\n      ? this._internal_url\n      : this.hass.config.internal_url;\n  }\n\n  private get _externalUrlValue() {\n    return this._external_url !== undefined\n      ? this._external_url\n      : this.hass.config.external_url;\n  }\n\n  private _toggleCloud(ev) {\n    this._showCustomExternalUrl = !ev.currentTarget.checked;\n  }\n\n  private _toggleInternalAutomatic(ev) {\n    this._showCustomInternalUrl = !ev.currentTarget.checked;\n  }\n\n  private _handleChange(ev: ValueChangedEvent<string>) {\n    const target = ev.currentTarget as HaTextField;\n    this[`_${target.name}`] = target.value || null;\n  }\n\n  private async _save() {\n    this._working = true;\n    this._error = undefined;\n    try {\n      await saveCoreConfig(this.hass, {\n        external_url: this._showCustomExternalUrl\n          ? this._external_url || null\n          : null,\n        internal_url: this._showCustomInternalUrl\n          ? this._internal_url || null\n          : null,\n      });\n    } catch (err: any) {\n      this._error = err.message || err;\n    } finally {\n      this._working = false;\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      .description {\n        margin-bottom: 1em;\n      }\n      .row {\n        display: flex;\n        flex-direction: row;\n        margin: 0 -8px;\n        align-items: center;\n        padding: 8px 0;\n      }\n\n      .secondary {\n        color: var(--secondary-text-color);\n      }\n\n      .flex {\n        flex: 1;\n      }\n\n      .row > * {\n        margin: 0 8px;\n      }\n      .error {\n        color: var(--error-color);\n      }\n\n      .card-actions {\n        display: flex;\n        flex-direction: row-reverse;\n      }\n\n      a {\n        color: var(--primary-color);\n        text-decoration: none;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-url-form\": ConfigUrlForm;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}