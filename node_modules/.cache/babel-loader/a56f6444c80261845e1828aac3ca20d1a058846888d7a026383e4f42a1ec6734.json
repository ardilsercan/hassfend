{"ast":null,"code":"import { computeDomain } from \"./compute_domain\";\n\n// Split a collection into a list of groups and a 'rest' list of ungrouped\n// entities.\n// Returns { groups: [], ungrouped: {} }\nexport const splitByGroups = entities => {\n  const groups = [];\n  const ungrouped = {};\n  Object.keys(entities).forEach(entityId => {\n    const entity = entities[entityId];\n    if (computeDomain(entityId) === \"group\") {\n      groups.push(entity);\n    } else {\n      ungrouped[entityId] = entity;\n    }\n  });\n  groups.forEach(group => group.attributes.entity_id.forEach(entityId => {\n    delete ungrouped[entityId];\n  }));\n  return {\n    groups,\n    ungrouped\n  };\n};","map":{"version":3,"names":["computeDomain","splitByGroups","entities","groups","ungrouped","Object","keys","forEach","entityId","entity","push","group","attributes","entity_id"],"sources":["/Users/sercanardil/Desktop/frontend/src/common/entity/split_by_groups.ts"],"sourcesContent":["import { HassEntities } from \"home-assistant-js-websocket\";\nimport { GroupEntity } from \"../../data/group\";\nimport { computeDomain } from \"./compute_domain\";\n\n// Split a collection into a list of groups and a 'rest' list of ungrouped\n// entities.\n// Returns { groups: [], ungrouped: {} }\nexport const splitByGroups = (entities: HassEntities) => {\n  const groups: GroupEntity[] = [];\n  const ungrouped: HassEntities = {};\n\n  Object.keys(entities).forEach((entityId) => {\n    const entity = entities[entityId];\n\n    if (computeDomain(entityId) === \"group\") {\n      groups.push(entity as GroupEntity);\n    } else {\n      ungrouped[entityId] = entity;\n    }\n  });\n\n  groups.forEach((group) =>\n    group.attributes.entity_id.forEach((entityId) => {\n      delete ungrouped[entityId];\n    })\n  );\n\n  return { groups, ungrouped };\n};\n"],"mappings":"AAEA,SAASA,aAAa,QAAQ,kBAAkB;;AAEhD;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAIC,QAAsB,IAAK;EACvD,MAAMC,MAAqB,GAAG,EAAE;EAChC,MAAMC,SAAuB,GAAG,CAAC,CAAC;EAElCC,MAAM,CAACC,IAAI,CAACJ,QAAQ,CAAC,CAACK,OAAO,CAAEC,QAAQ,IAAK;IAC1C,MAAMC,MAAM,GAAGP,QAAQ,CAACM,QAAQ,CAAC;IAEjC,IAAIR,aAAa,CAACQ,QAAQ,CAAC,KAAK,OAAO,EAAE;MACvCL,MAAM,CAACO,IAAI,CAACD,MAAqB,CAAC;IACpC,CAAC,MAAM;MACLL,SAAS,CAACI,QAAQ,CAAC,GAAGC,MAAM;IAC9B;EACF,CAAC,CAAC;EAEFN,MAAM,CAACI,OAAO,CAAEI,KAAK,IACnBA,KAAK,CAACC,UAAU,CAACC,SAAS,CAACN,OAAO,CAAEC,QAAQ,IAAK;IAC/C,OAAOJ,SAAS,CAACI,QAAQ,CAAC;EAC5B,CAAC,CACH,CAAC;EAED,OAAO;IAAEL,MAAM;IAAEC;EAAU,CAAC;AAC9B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}