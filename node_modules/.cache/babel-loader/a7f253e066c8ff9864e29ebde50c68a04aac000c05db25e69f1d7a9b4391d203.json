{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _templateObject, _templateObject2, _templateObject3;\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.assign.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { __decorate } from \"tslib\";\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n// Note this blocking-elements import is not redundant with the one below,\n// because we need to ensure we import this module at runtime for its\n// side-effects. See\n// https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-imports-being-elided-in-my-emit.\nimport 'blocking-elements';\nimport 'wicg-inert';\nimport { strings } from '@material/drawer/constants.js';\nimport MDCDismissibleDrawerFoundation from '@material/drawer/dismissible/foundation.js';\nimport MDCModalDrawerFoundation from '@material/drawer/modal/foundation.js';\nimport { addHasRemoveClass, BaseElement } from '@material/mwc-base/base-element.js';\nimport { observer } from '@material/mwc-base/observer.js';\nimport { html } from 'lit';\nimport { property, query } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nvar blockingElements = document.$blockingElements;\nexport var DrawerBase = /*#__PURE__*/function (_BaseElement) {\n  _inherits(DrawerBase, _BaseElement);\n  function DrawerBase() {\n    var _this;\n    _classCallCheck(this, DrawerBase);\n    _this = _callSuper(this, DrawerBase, arguments);\n    _this._previousFocus = null;\n    _this.open = false;\n    _this.hasHeader = false;\n    _this.type = '';\n    return _this;\n  }\n  _createClass(DrawerBase, [{\n    key: \"mdcFoundationClass\",\n    get: function get() {\n      return this.type === 'modal' ? MDCModalDrawerFoundation : MDCDismissibleDrawerFoundation;\n    }\n  }, {\n    key: \"createAdapter\",\n    value: function createAdapter() {\n      var _this2 = this;\n      return Object.assign(Object.assign({}, addHasRemoveClass(this.mdcRoot)), {\n        elementHasClass: function elementHasClass(element, className) {\n          return element.classList.contains(className);\n        },\n        saveFocus: function saveFocus() {\n          // Note, casting to avoid cumbersome runtime check.\n          _this2._previousFocus = _this2.getRootNode().activeElement;\n        },\n        restoreFocus: function restoreFocus() {\n          var previousFocus = _this2._previousFocus && _this2._previousFocus.focus;\n          if (previousFocus) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            _this2._previousFocus.focus();\n          }\n        },\n        notifyClose: function notifyClose() {\n          _this2.open = false;\n          _this2.dispatchEvent(new Event(strings.CLOSE_EVENT, {\n            bubbles: true,\n            cancelable: true\n          }));\n        },\n        notifyOpen: function notifyOpen() {\n          _this2.open = true;\n          _this2.dispatchEvent(new Event(strings.OPEN_EVENT, {\n            bubbles: true,\n            cancelable: true\n          }));\n        },\n        focusActiveNavigationItem: function focusActiveNavigationItem() {},\n        trapFocus: function trapFocus() {\n          blockingElements.push(_this2);\n          _this2.appContent.inert = true;\n        },\n        releaseFocus: function releaseFocus() {\n          blockingElements.remove(_this2);\n          _this2.appContent.inert = false;\n        }\n      });\n    }\n  }, {\n    key: \"_handleScrimClick\",\n    value: function _handleScrimClick() {\n      if (this.mdcFoundation instanceof MDCModalDrawerFoundation) {\n        this.mdcFoundation.handleScrimClick();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dismissible = this.type === 'dismissible' || this.type === 'modal';\n      var modal = this.type === 'modal';\n      var header = this.hasHeader ? html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <div class=\\\"mdc-drawer__header\\\">\\n        <h3 class=\\\"mdc-drawer__title\\\"><slot name=\\\"title\\\"></slot></h3>\\n        <h6 class=\\\"mdc-drawer__subtitle\\\"><slot name=\\\"subtitle\\\"></slot></h6>\\n        <slot name=\\\"header\\\"></slot>\\n      </div>\\n      \"]))) : '';\n      var classes = {\n        'mdc-drawer--dismissible': dismissible,\n        'mdc-drawer--modal': modal\n      };\n      return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      <aside class=\\\"mdc-drawer \", \"\\\">\\n        \", \"\\n        <div class=\\\"mdc-drawer__content\\\"><slot></slot></div>\\n      </aside>\\n      \", \"\\n      <div class=\\\"mdc-drawer-app-content\\\">\\n        <slot name=\\\"appContent\\\"></slot>\\n      </div>\\n      \"])), classMap(classes), header, modal ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<div class=\\\"mdc-drawer-scrim\\\"\\n                          @click=\\\"\", \"\\\"></div>\"])), this._handleScrimClick) : '');\n    }\n    // note, we avoid calling `super.firstUpdated()` to control when\n    // `createFoundation()` is called.\n  }, {\n    key: \"firstUpdated\",\n    value: function firstUpdated() {\n      var _this3 = this;\n      this.mdcRoot.addEventListener('keydown', function (e) {\n        return _this3.mdcFoundation.handleKeydown(e);\n      });\n      this.mdcRoot.addEventListener('transitionend', function (e) {\n        return _this3.mdcFoundation.handleTransitionEnd(e);\n      });\n    }\n  }, {\n    key: \"updated\",\n    value: function updated(changedProperties) {\n      if (changedProperties.has('type')) {\n        this.createFoundation();\n      }\n    }\n  }]);\n  return DrawerBase;\n}(BaseElement);\n__decorate([query('.mdc-drawer')], DrawerBase.prototype, \"mdcRoot\", void 0);\n__decorate([query('.mdc-drawer-app-content')], DrawerBase.prototype, \"appContent\", void 0);\n__decorate([observer(function (value) {\n  if (this.type === '') {\n    return;\n  }\n  if (value) {\n    this.mdcFoundation.open();\n  } else {\n    this.mdcFoundation.close();\n  }\n}), property({\n  type: Boolean,\n  reflect: true\n})], DrawerBase.prototype, \"open\", void 0);\n__decorate([property({\n  type: Boolean\n})], DrawerBase.prototype, \"hasHeader\", void 0);\n__decorate([property({\n  reflect: true\n})], DrawerBase.prototype, \"type\", void 0);","map":{"version":3,"names":["strings","MDCDismissibleDrawerFoundation","MDCModalDrawerFoundation","addHasRemoveClass","BaseElement","observer","html","property","query","classMap","blockingElements","document","$blockingElements","DrawerBase","_BaseElement","_inherits","_this","_classCallCheck","_previousFocus","open","hasHeader","type","_createClass","key","get","value","createAdapter","_this2","Object","assign","mdcRoot","elementHasClass","element","className","classList","contains","saveFocus","getRootNode","activeElement","restoreFocus","previousFocus","focus","notifyClose","dispatchEvent","Event","CLOSE_EVENT","bubbles","cancelable","notifyOpen","OPEN_EVENT","focusActiveNavigationItem","trapFocus","push","appContent","inert","releaseFocus","remove","_handleScrimClick","mdcFoundation","handleScrimClick","render","dismissible","modal","header","_templateObject","_taggedTemplateLiteral","classes","_templateObject2","_templateObject3","firstUpdated","_this3","addEventListener","e","handleKeydown","handleTransitionEnd","updated","changedProperties","has","createFoundation","__decorate","close","Boolean","reflect"],"sources":["mwc-drawer-base.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\n\n// Note this blocking-elements import is not redundant with the one below,\n// because we need to ensure we import this module at runtime for its\n// side-effects. See\n// https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-imports-being-elided-in-my-emit.\nimport 'blocking-elements';\nimport 'wicg-inert';\n\nimport {MDCDrawerAdapter} from '@material/drawer/adapter.js';\nimport {strings} from '@material/drawer/constants.js';\nimport MDCDismissibleDrawerFoundation from '@material/drawer/dismissible/foundation.js';\nimport MDCModalDrawerFoundation from '@material/drawer/modal/foundation.js';\nimport {addHasRemoveClass, BaseElement} from '@material/mwc-base/base-element.js';\nimport {observer} from '@material/mwc-base/observer.js';\nimport {DocumentWithBlockingElements} from 'blocking-elements';\nimport {html, PropertyValues} from 'lit';\nimport {property, query} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\n\ninterface InertableHTMLElement extends HTMLElement {\n  inert?: boolean;\n}\n\nconst blockingElements =\n    (document as DocumentWithBlockingElements).$blockingElements;\n\nexport class DrawerBase extends BaseElement {\n  @query('.mdc-drawer') protected mdcRoot!: HTMLElement;\n\n  @query('.mdc-drawer-app-content') protected appContent!: InertableHTMLElement;\n\n  protected mdcFoundation!: MDCDismissibleDrawerFoundation;\n\n  protected get mdcFoundationClass() {\n    return this.type === 'modal' ? MDCModalDrawerFoundation :\n                                   MDCDismissibleDrawerFoundation;\n  }\n\n  protected createAdapter(): MDCDrawerAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      elementHasClass: (element: HTMLElement, className: string) =>\n          element.classList.contains(className),\n      saveFocus: () => {\n        // Note, casting to avoid cumbersome runtime check.\n        this._previousFocus =\n            (this.getRootNode() as ShadowRoot).activeElement as HTMLElement;\n      },\n      restoreFocus: () => {\n        const previousFocus = this._previousFocus && this._previousFocus.focus;\n        if (previousFocus) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          this._previousFocus!.focus();\n        }\n      },\n      notifyClose: () => {\n        this.open = false;\n        this.dispatchEvent(\n            new Event(strings.CLOSE_EVENT, {bubbles: true, cancelable: true}));\n      },\n      notifyOpen: () => {\n        this.open = true;\n        this.dispatchEvent(\n            new Event(strings.OPEN_EVENT, {bubbles: true, cancelable: true}));\n      },\n      focusActiveNavigationItem:\n          () => { /* TODO(sorvell): Implement list focusing integration. */ },\n      trapFocus: () => {\n        blockingElements.push(this);\n        this.appContent.inert = true;\n      },\n      releaseFocus: () => {\n        blockingElements.remove(this);\n        this.appContent.inert = false;\n      },\n    };\n  }\n\n  protected _previousFocus: HTMLElement|null = null;\n\n  protected _handleScrimClick() {\n    if (this.mdcFoundation instanceof MDCModalDrawerFoundation) {\n      this.mdcFoundation.handleScrimClick();\n    }\n  }\n\n  @observer(function(this: DrawerBase, value: boolean) {\n    if (this.type === '') {\n      return;\n    }\n    if (value) {\n      this.mdcFoundation.open();\n    } else {\n      this.mdcFoundation.close();\n    }\n  })\n  @property({type: Boolean, reflect: true})\n  open = false;\n\n  @property({type: Boolean}) hasHeader = false;\n\n  @property({reflect: true}) type = '';\n\n  protected override render() {\n    const dismissible = this.type === 'dismissible' || this.type === 'modal';\n    const modal = this.type === 'modal';\n    const header = this.hasHeader ? html`\n      <div class=\"mdc-drawer__header\">\n        <h3 class=\"mdc-drawer__title\"><slot name=\"title\"></slot></h3>\n        <h6 class=\"mdc-drawer__subtitle\"><slot name=\"subtitle\"></slot></h6>\n        <slot name=\"header\"></slot>\n      </div>\n      ` :\n                                    '';\n    const classes = {\n      'mdc-drawer--dismissible': dismissible,\n      'mdc-drawer--modal': modal,\n    };\n\n    return html`\n      <aside class=\"mdc-drawer ${classMap(classes)}\">\n        ${header}\n        <div class=\"mdc-drawer__content\"><slot></slot></div>\n      </aside>\n      ${\n        modal ? html`<div class=\"mdc-drawer-scrim\"\n                          @click=\"${this._handleScrimClick}\"></div>` :\n                ''}\n      <div class=\"mdc-drawer-app-content\">\n        <slot name=\"appContent\"></slot>\n      </div>\n      `;\n  }\n\n  // note, we avoid calling `super.firstUpdated()` to control when\n  // `createFoundation()` is called.\n  protected override firstUpdated() {\n    this.mdcRoot.addEventListener(\n        'keydown', (e) => this.mdcFoundation.handleKeydown(e));\n    this.mdcRoot.addEventListener(\n        'transitionend', (e) => this.mdcFoundation.handleTransitionEnd(e));\n  }\n\n  protected override updated(changedProperties: PropertyValues) {\n    if (changedProperties.has('type')) {\n      this.createFoundation();\n    }\n  }\n}\n"],"mappings":";;;;;;;;AAAA;;;;;;AAMA;AACA;AAGA;AACA;AACA;AACA;AACA,OAAO,mBAAmB;AAC1B,OAAO,YAAY;AAGnB,SAAQA,OAAO,QAAO,+BAA+B;AACrD,OAAOC,8BAA8B,MAAM,4CAA4C;AACvF,OAAOC,wBAAwB,MAAM,sCAAsC;AAC3E,SAAQC,iBAAiB,EAAEC,WAAW,QAAO,oCAAoC;AACjF,SAAQC,QAAQ,QAAO,gCAAgC;AAEvD,SAAQC,IAAI,QAAuB,KAAK;AACxC,SAAQC,QAAQ,EAAEC,KAAK,QAAO,mBAAmB;AACjD,SAAQC,QAAQ,QAAO,6BAA6B;AAMpD,IAAMC,gBAAgB,GACjBC,QAAyC,CAACC,iBAAiB;AAEhE,WAAaC,UAAW,0BAAAC,YAAA;EAAAC,SAAA,CAAAF,UAAA,EAAAC,YAAA;EAAxB,SAAAD,WAAA;IAAA,IAAAG,KAAA;IAAAC,eAAA,OAAAJ,UAAA;;IAoDYG,KAAA,CAAAE,cAAc,GAAqB,IAAI;IAmBjDF,KAAA,CAAAG,IAAI,GAAG,KAAK;IAEeH,KAAA,CAAAI,SAAS,GAAG,KAAK;IAEjBJ,KAAA,CAAAK,IAAI,GAAG,EAAE;IAAC,OAAAL,KAAA;EA+CvC;EAACM,YAAA,CAAAT,UAAA;IAAAU,GAAA;IAAAC,GAAA,EAnHC,SAAAA,IAAA,EAAgC;MAC9B,OAAO,IAAI,CAACH,IAAI,KAAK,OAAO,GAAGnB,wBAAwB,GACxBD,8BAA8B;IAC/D;EAAC;IAAAsB,GAAA;IAAAE,KAAA,EAES,SAAAC,cAAA,EAAa;MAAA,IAAAC,MAAA;MACrB,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACK1B,iBAAiB,CAAC,IAAI,CAAC2B,OAAO,CAAC;QAClCC,eAAe,EAAE,SAAAA,gBAACC,OAAoB,EAAEC,SAAiB;UAAA,OACrDD,OAAO,CAACE,SAAS,CAACC,QAAQ,CAACF,SAAS,CAAC;QAAA;QACzCG,SAAS,EAAE,SAAAA,UAAA,EAAK;UACd;UACAT,MAAI,CAACT,cAAc,GACdS,MAAI,CAACU,WAAW,EAAiB,CAACC,aAA4B;QACrE,CAAC;QACDC,YAAY,EAAE,SAAAA,aAAA,EAAK;UACjB,IAAMC,aAAa,GAAGb,MAAI,CAACT,cAAc,IAAIS,MAAI,CAACT,cAAc,CAACuB,KAAK;UACtE,IAAID,aAAa,EAAE;YACjB;YACAb,MAAI,CAACT,cAAe,CAACuB,KAAK,EAAE;;QAEhC,CAAC;QACDC,WAAW,EAAE,SAAAA,YAAA,EAAK;UAChBf,MAAI,CAACR,IAAI,GAAG,KAAK;UACjBQ,MAAI,CAACgB,aAAa,CACd,IAAIC,KAAK,CAAC5C,OAAO,CAAC6C,WAAW,EAAE;YAACC,OAAO,EAAE,IAAI;YAAEC,UAAU,EAAE;UAAI,CAAC,CAAC,CAAC;QACxE,CAAC;QACDC,UAAU,EAAE,SAAAA,WAAA,EAAK;UACfrB,MAAI,CAACR,IAAI,GAAG,IAAI;UAChBQ,MAAI,CAACgB,aAAa,CACd,IAAIC,KAAK,CAAC5C,OAAO,CAACiD,UAAU,EAAE;YAACH,OAAO,EAAE,IAAI;YAAEC,UAAU,EAAE;UAAI,CAAC,CAAC,CAAC;QACvE,CAAC;QACDG,yBAAyB,EACrB,SAAAA,0BAAA,EAAK,CAA6D,CAAC;QACvEC,SAAS,EAAE,SAAAA,UAAA,EAAK;UACdzC,gBAAgB,CAAC0C,IAAI,CAACzB,MAAI,CAAC;UAC3BA,MAAI,CAAC0B,UAAU,CAACC,KAAK,GAAG,IAAI;QAC9B,CAAC;QACDC,YAAY,EAAE,SAAAA,aAAA,EAAK;UACjB7C,gBAAgB,CAAC8C,MAAM,CAAC7B,MAAI,CAAC;UAC7BA,MAAI,CAAC0B,UAAU,CAACC,KAAK,GAAG,KAAK;QAC/B;MAAC;IAEL;EAAC;IAAA/B,GAAA;IAAAE,KAAA,EAIS,SAAAgC,kBAAA,EAAiB;MACzB,IAAI,IAAI,CAACC,aAAa,YAAYxD,wBAAwB,EAAE;QAC1D,IAAI,CAACwD,aAAa,CAACC,gBAAgB,EAAE;;IAEzC;EAAC;IAAApC,GAAA;IAAAE,KAAA,EAmBkB,SAAAmC,OAAA,EAAM;MACvB,IAAMC,WAAW,GAAG,IAAI,CAACxC,IAAI,KAAK,aAAa,IAAI,IAAI,CAACA,IAAI,KAAK,OAAO;MACxE,IAAMyC,KAAK,GAAG,IAAI,CAACzC,IAAI,KAAK,OAAO;MACnC,IAAM0C,MAAM,GAAG,IAAI,CAAC3C,SAAS,GAAGd,IAAI,CAAA0D,eAAA,KAAAA,eAAA,GAAAC,sBAAA,8QAOJ,EAAE;MAClC,IAAMC,OAAO,GAAG;QACd,yBAAyB,EAAEL,WAAW;QACtC,mBAAmB,EAAEC;OACtB;MAED,OAAOxD,IAAI,CAAA6D,gBAAA,KAAAA,gBAAA,GAAAF,sBAAA,2QACkBxD,QAAQ,CAACyD,OAAO,CAAC,EACxCH,MAAM,EAIRD,KAAK,GAAGxD,IAAI,CAAA8D,gBAAA,KAAAA,gBAAA,GAAAH,sBAAA,0FACgB,IAAI,CAACR,iBAAiB,IAC1C,EAAE;IAKhB;IAEA;IACA;EAAA;IAAAlC,GAAA;IAAAE,KAAA,EACmB,SAAA4C,aAAA,EAAY;MAAA,IAAAC,MAAA;MAC7B,IAAI,CAACxC,OAAO,CAACyC,gBAAgB,CACzB,SAAS,EAAE,UAACC,CAAC;QAAA,OAAKF,MAAI,CAACZ,aAAa,CAACe,aAAa,CAACD,CAAC,CAAC;MAAA,EAAC;MAC1D,IAAI,CAAC1C,OAAO,CAACyC,gBAAgB,CACzB,eAAe,EAAE,UAACC,CAAC;QAAA,OAAKF,MAAI,CAACZ,aAAa,CAACgB,mBAAmB,CAACF,CAAC,CAAC;MAAA,EAAC;IACxE;EAAC;IAAAjD,GAAA;IAAAE,KAAA,EAEkB,SAAAkD,QAAQC,iBAAiC;MAC1D,IAAIA,iBAAiB,CAACC,GAAG,CAAC,MAAM,CAAC,EAAE;QACjC,IAAI,CAACC,gBAAgB,EAAE;;IAE3B;EAAC;EAAA,OAAAjE,UAAA;AAAA,EAzH6BT,WAAW;AACnB2E,UAAA,EAArBvE,KAAK,CAAC,aAAa,CAAC,C,0CAAiC;AAEpBuE,UAAA,EAAjCvE,KAAK,CAAC,yBAAyB,CAAC,C,6CAA6C;AAoE9EuE,UAAA,EAXC1E,QAAQ,CAAC,UAA2BoB,KAAc;EACjD,IAAI,IAAI,CAACJ,IAAI,KAAK,EAAE,EAAE;IACpB;;EAEF,IAAII,KAAK,EAAE;IACT,IAAI,CAACiC,aAAa,CAACvC,IAAI,EAAE;GAC1B,MAAM;IACL,IAAI,CAACuC,aAAa,CAACsB,KAAK,EAAE;;AAE9B,CAAC,CAAC,EACDzE,QAAQ,CAAC;EAACc,IAAI,EAAE4D,OAAO;EAAEC,OAAO,EAAE;AAAI,CAAC,CAAC,C,uCAC5B;AAEcH,UAAA,EAA1BxE,QAAQ,CAAC;EAACc,IAAI,EAAE4D;AAAO,CAAC,CAAC,C,4CAAmB;AAElBF,UAAA,EAA1BxE,QAAQ,CAAC;EAAC2E,OAAO,EAAE;AAAI,CAAC,CAAC,C,uCAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}