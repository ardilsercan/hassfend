{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2;\nimport \"core-js/modules/es.array.concat.js\";\nvar mdiCog = \"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport \"../../../components/ha-button\";\nimport { enableConfigEntry } from \"../../../data/config_entries\";\nimport { showAlertDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport \"./ha-integration-action-card\";\nexport var HaDisabledConfigEntryCard = _decorate([customElement(\"ha-disabled-config-entry-card\")], function (_initialize, _LitElement) {\n  var HaDisabledConfigEntryCard = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaDisabledConfigEntryCard, _LitElement2);\n    function HaDisabledConfigEntryCard() {\n      var _this;\n      _classCallCheck(this, HaDisabledConfigEntryCard);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HaDisabledConfigEntryCard, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HaDisabledConfigEntryCard);\n  }(_LitElement);\n  return {\n    F: HaDisabledConfigEntryCard,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"entry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"manifest\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-integration-action-card\\n        .hass=\", \"\\n        .manifest=\", \"\\n        .banner=\", \"\\n        .domain=\", \"\\n        .localizedDomainName=\", \"\\n        .label=\", \"\\n      >\\n        <a\\n          href=\", \"\\n          slot=\\\"header-button\\\"\\n        >\\n          <ha-icon-button .path=\", \"></ha-icon-button>\\n        </a>\\n        <ha-button\\n          @click=\", \"\\n          .label=\", \"\\n        ></ha-button>\\n      </ha-integration-action-card>\\n    \"])), this.hass, this.manifest, this.hass.localize(\"ui.panel.config.integrations.config_entry.disable.disabled_cause\", {\n          cause: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable.disabled_by.\".concat(this.entry.disabled_by)) || this.entry.disabled_by\n        }), this.entry.domain, this.entry.localized_domain_name, this.entry.title || this.entry.localized_domain_name, \"/config/integrations/integration/\".concat(this.entry.domain), mdiCog, this._handleEnable, this.hass.localize(\"ui.common.enable\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleEnable\",\n      value: function () {\n        var _handleEnable2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var entryId, result;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                entryId = this.entry.entry_id;\n                _context.prev = 1;\n                _context.next = 4;\n                return enableConfigEntry(this.hass, entryId);\n              case 4:\n                result = _context.sent;\n                _context.next = 11;\n                break;\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n                showAlertDialog(this, {\n                  title: this.hass.localize(\"ui.panel.config.integrations.config_entry.disable_error\"),\n                  text: _context.t0.message\n                });\n                return _context.abrupt(\"return\");\n              case 11:\n                if (result.require_restart) {\n                  showAlertDialog(this, {\n                    text: this.hass.localize(\"ui.panel.config.integrations.config_entry.enable_restart_confirm\")\n                  });\n                }\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[1, 7]]);\n        }));\n        function _handleEnable() {\n          return _handleEnable2.apply(this, arguments);\n        }\n        return _handleEnable;\n      }()\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value: function value() {\n        return css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    :host {\\n      --state-color: var(--divider-color, #e0e0e0);\\n    }\\n\\n    ha-button {\\n      --mdc-theme-primary: var(--primary-color);\\n    }\\n    a ha-icon-button {\\n      color: var(--secondary-text-color);\\n    }\\n  \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","enableConfigEntry","showAlertDialog","HaDisabledConfigEntryCard","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","render","_templateObject","_taggedTemplateLiteral","hass","manifest","localize","cause","entry","disabled_by","domain","localized_domain_name","title","mdiCog","_handleEnable","_handleEnable2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","entryId","result","wrap","_callee$","_context","prev","next","entry_id","sent","t0","text","message","abrupt","require_restart","stop","apply","static","_templateObject2"],"sources":["/workspaces/frontend/src/panels/config/integrations/ha-disabled-config-entry-card.ts"],"sourcesContent":["import { mdiCog } from \"@mdi/js\";\nimport { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport \"../../../components/ha-button\";\nimport {\n  DisableConfigEntryResult,\n  enableConfigEntry,\n} from \"../../../data/config_entries\";\nimport type { IntegrationManifest } from \"../../../data/integration\";\nimport { showAlertDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport type { HomeAssistant } from \"../../../types\";\nimport type { ConfigEntryExtended } from \"./ha-config-integrations\";\nimport \"./ha-integration-action-card\";\n\n@customElement(\"ha-disabled-config-entry-card\")\nexport class HaDisabledConfigEntryCard extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public entry!: ConfigEntryExtended;\n\n  @property({ attribute: false }) public manifest?: IntegrationManifest;\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-integration-action-card\n        .hass=${this.hass}\n        .manifest=${this.manifest}\n        .banner=${this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable.disabled_cause\",\n          {\n            cause:\n              this.hass.localize(\n                `ui.panel.config.integrations.config_entry.disable.disabled_by.${this\n                  .entry.disabled_by!}`\n              ) || this.entry.disabled_by,\n          }\n        )}\n        .domain=${this.entry.domain}\n        .localizedDomainName=${this.entry.localized_domain_name}\n        .label=${this.entry.title || this.entry.localized_domain_name}\n      >\n        <a\n          href=${`/config/integrations/integration/${this.entry.domain}`}\n          slot=\"header-button\"\n        >\n          <ha-icon-button .path=${mdiCog}></ha-icon-button>\n        </a>\n        <ha-button\n          @click=${this._handleEnable}\n          .label=${this.hass.localize(\"ui.common.enable\")}\n        ></ha-button>\n      </ha-integration-action-card>\n    `;\n  }\n\n  private async _handleEnable() {\n    const entryId = this.entry.entry_id;\n\n    let result: DisableConfigEntryResult;\n    try {\n      result = await enableConfigEntry(this.hass, entryId);\n    } catch (err: any) {\n      showAlertDialog(this, {\n        title: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.disable_error\"\n        ),\n        text: err.message,\n      });\n      return;\n    }\n\n    if (result.require_restart) {\n      showAlertDialog(this, {\n        text: this.hass.localize(\n          \"ui.panel.config.integrations.config_entry.enable_restart_confirm\"\n        ),\n      });\n    }\n  }\n\n  static styles = css`\n    :host {\n      --state-color: var(--divider-color, #e0e0e0);\n    }\n\n    ha-button {\n      --mdc-theme-primary: var(--primary-color);\n    }\n    a ha-icon-button {\n      color: var(--secondary-text-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-disabled-config-entry-card\": HaDisabledConfigEntryCard;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}