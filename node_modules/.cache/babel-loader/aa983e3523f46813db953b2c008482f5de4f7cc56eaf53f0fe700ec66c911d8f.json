{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\n// Nessages to be processed inside the Cast Receiver app\n\nimport { CAST_DEV } from \"./const\";\nimport { CAST_DEV_HASS_URL } from \"./dev_const\";\nexport var castSendAuth = function castSendAuth(cast, auth) {\n  return cast.sendMessage({\n    type: \"connect\",\n    refreshToken: auth.data.refresh_token,\n    clientId: auth.data.clientId,\n    hassUrl: CAST_DEV ? CAST_DEV_HASS_URL : auth.data.hassUrl\n  });\n};\nexport var castSendShowLovelaceView = function castSendShowLovelaceView(cast, hassUrl, viewPath, urlPath) {\n  return cast.sendMessage({\n    type: \"show_lovelace_view\",\n    viewPath: viewPath,\n    urlPath: urlPath || null,\n    hassUrl: CAST_DEV ? CAST_DEV_HASS_URL : hassUrl\n  });\n};\nexport var castSendShowDemo = function castSendShowDemo(cast) {\n  return cast.sendMessage({\n    type: \"show_demo\"\n  });\n};\nexport var ensureConnectedCastSession = function ensureConnectedCastSession(cast, auth) {\n  if (cast.castConnectedToOurHass) {\n    return undefined;\n  }\n  return new Promise(function (resolve) {\n    var unsub = cast.addEventListener(\"connection-changed\", function () {\n      if (cast.castConnectedToOurHass) {\n        unsub();\n        resolve();\n      }\n    });\n    castSendAuth(cast, auth);\n  });\n};","map":{"version":3,"names":["CAST_DEV","CAST_DEV_HASS_URL","castSendAuth","cast","auth","sendMessage","type","refreshToken","data","refresh_token","clientId","hassUrl","castSendShowLovelaceView","viewPath","urlPath","castSendShowDemo","ensureConnectedCastSession","castConnectedToOurHass","undefined","Promise","resolve","unsub","addEventListener"],"sources":["/Users/sercanardil/Desktop/frontend/src/cast/receiver_messages.ts"],"sourcesContent":["// Nessages to be processed inside the Cast Receiver app\n\nimport { Auth } from \"home-assistant-js-websocket\";\nimport { CastManager } from \"./cast_manager\";\nimport { CAST_DEV } from \"./const\";\nimport { CAST_DEV_HASS_URL } from \"./dev_const\";\nimport { BaseCastMessage } from \"./types\";\n\nexport interface GetStatusMessage extends BaseCastMessage {\n  type: \"get_status\";\n  hassUrl?: string;\n  hassUUID?: string;\n}\n\nexport interface ConnectMessage extends BaseCastMessage {\n  type: \"connect\";\n  refreshToken: string;\n  clientId: string | null;\n  hassUrl: string;\n  hassUUID?: string;\n}\n\nexport interface ShowLovelaceViewMessage extends BaseCastMessage {\n  type: \"show_lovelace_view\";\n  viewPath: string | number | null;\n  urlPath: string | null;\n  hassUrl: string;\n  hassUUID?: string;\n}\n\nexport interface ShowDemoMessage extends BaseCastMessage {\n  type: \"show_demo\";\n}\n\nexport type HassMessage =\n  | ShowDemoMessage\n  | GetStatusMessage\n  | ConnectMessage\n  | ShowLovelaceViewMessage;\n\nexport const castSendAuth = (cast: CastManager, auth: Auth) =>\n  cast.sendMessage({\n    type: \"connect\",\n    refreshToken: auth.data.refresh_token,\n    clientId: auth.data.clientId,\n    hassUrl: CAST_DEV ? CAST_DEV_HASS_URL : auth.data.hassUrl,\n  });\n\nexport const castSendShowLovelaceView = (\n  cast: CastManager,\n  hassUrl: string,\n  viewPath: ShowLovelaceViewMessage[\"viewPath\"],\n  urlPath?: string | null\n) =>\n  cast.sendMessage({\n    type: \"show_lovelace_view\",\n    viewPath,\n    urlPath: urlPath || null,\n    hassUrl: CAST_DEV ? CAST_DEV_HASS_URL : hassUrl,\n  });\n\nexport const castSendShowDemo = (cast: CastManager) =>\n  cast.sendMessage({\n    type: \"show_demo\",\n  });\n\nexport const ensureConnectedCastSession = (cast: CastManager, auth: Auth) => {\n  if (cast.castConnectedToOurHass) {\n    return undefined;\n  }\n\n  return new Promise<void>((resolve) => {\n    const unsub = cast.addEventListener(\"connection-changed\", () => {\n      if (cast.castConnectedToOurHass) {\n        unsub();\n        resolve();\n      }\n    });\n\n    castSendAuth(cast, auth);\n  });\n};\n"],"mappings":";;AAAA;;AAIA,SAASA,QAAQ,QAAQ,SAAS;AAClC,SAASC,iBAAiB,QAAQ,aAAa;AAmC/C,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,IAAiB,EAAEC,IAAU;EAAA,OACxDD,IAAI,CAACE,WAAW,CAAC;IACfC,IAAI,EAAE,SAAS;IACfC,YAAY,EAAEH,IAAI,CAACI,IAAI,CAACC,aAAa;IACrCC,QAAQ,EAAEN,IAAI,CAACI,IAAI,CAACE,QAAQ;IAC5BC,OAAO,EAAEX,QAAQ,GAAGC,iBAAiB,GAAGG,IAAI,CAACI,IAAI,CAACG;EACpD,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CACnCT,IAAiB,EACjBQ,OAAe,EACfE,QAA6C,EAC7CC,OAAuB;EAAA,OAEvBX,IAAI,CAACE,WAAW,CAAC;IACfC,IAAI,EAAE,oBAAoB;IAC1BO,QAAQ,EAARA,QAAQ;IACRC,OAAO,EAAEA,OAAO,IAAI,IAAI;IACxBH,OAAO,EAAEX,QAAQ,GAAGC,iBAAiB,GAAGU;EAC1C,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIZ,IAAiB;EAAA,OAChDA,IAAI,CAACE,WAAW,CAAC;IACfC,IAAI,EAAE;EACR,CAAC,CAAC;AAAA;AAEJ,OAAO,IAAMU,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIb,IAAiB,EAAEC,IAAU,EAAK;EAC3E,IAAID,IAAI,CAACc,sBAAsB,EAAE;IAC/B,OAAOC,SAAS;EAClB;EAEA,OAAO,IAAIC,OAAO,CAAO,UAACC,OAAO,EAAK;IACpC,IAAMC,KAAK,GAAGlB,IAAI,CAACmB,gBAAgB,CAAC,oBAAoB,EAAE,YAAM;MAC9D,IAAInB,IAAI,CAACc,sBAAsB,EAAE;QAC/BI,KAAK,CAAC,CAAC;QACPD,OAAO,CAAC,CAAC;MACX;IACF,CAAC,CAAC;IAEFlB,YAAY,CAACC,IAAI,EAAEC,IAAI,CAAC;EAC1B,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}