{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { __decorate } from \"tslib\";\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\nimport '@material/mwc-ripple/mwc-ripple.js';\nimport { ariaProperty } from '@material/mwc-base/aria-property.js';\nimport { RippleHandlers } from '@material/mwc-ripple/ripple-handlers.js';\nimport { html, LitElement } from 'lit';\nimport { eventOptions, property, query, queryAsync, state } from 'lit/decorators.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\n/** @soyCompatible */\nexport class IconButtonBase extends LitElement {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.icon = '';\n    this.shouldRenderRipple = false;\n    this.rippleHandlers = new RippleHandlers(() => {\n      this.shouldRenderRipple = true;\n      return this.ripple;\n    });\n  }\n  /** @soyTemplate */\n  renderRipple() {\n    return this.shouldRenderRipple ? html`\n            <mwc-ripple\n                .disabled=\"${this.disabled}\"\n                unbounded>\n            </mwc-ripple>` : '';\n  }\n  focus() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.startFocus();\n      buttonElement.focus();\n    }\n  }\n  blur() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.endFocus();\n      buttonElement.blur();\n    }\n  }\n  /** @soyTemplate */\n  render() {\n    return html`<button\n        class=\"mdc-icon-button mdc-icon-button--display-flex\"\n        aria-label=\"${this.ariaLabel || this.icon}\"\n        aria-haspopup=\"${ifDefined(this.ariaHasPopup)}\"\n        ?disabled=\"${this.disabled}\"\n        @focus=\"${this.handleRippleFocus}\"\n        @blur=\"${this.handleRippleBlur}\"\n        @mousedown=\"${this.handleRippleMouseDown}\"\n        @mouseenter=\"${this.handleRippleMouseEnter}\"\n        @mouseleave=\"${this.handleRippleMouseLeave}\"\n        @touchstart=\"${this.handleRippleTouchStart}\"\n        @touchend=\"${this.handleRippleDeactivate}\"\n        @touchcancel=\"${this.handleRippleDeactivate}\"\n    >${this.renderRipple()}\n    ${this.icon ? html`<i class=\"material-icons\">${this.icon}</i>` : ''}\n    <span\n      ><slot></slot\n    ></span>\n  </button>`;\n  }\n  handleRippleMouseDown(event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n      this.handleRippleDeactivate();\n    };\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n  handleRippleTouchStart(event) {\n    this.rippleHandlers.startPress(event);\n  }\n  handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n  handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n  handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n  handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n  handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n}\n__decorate([property({\n  type: Boolean,\n  reflect: true\n})], IconButtonBase.prototype, \"disabled\", void 0);\n__decorate([property({\n  type: String\n})], IconButtonBase.prototype, \"icon\", void 0);\n__decorate([ariaProperty, property({\n  type: String,\n  attribute: 'aria-label'\n})], IconButtonBase.prototype, \"ariaLabel\", void 0);\n__decorate([ariaProperty, property({\n  type: String,\n  attribute: 'aria-haspopup'\n})], IconButtonBase.prototype, \"ariaHasPopup\", void 0);\n__decorate([query('button')], IconButtonBase.prototype, \"buttonElement\", void 0);\n__decorate([queryAsync('mwc-ripple')], IconButtonBase.prototype, \"ripple\", void 0);\n__decorate([state()], IconButtonBase.prototype, \"shouldRenderRipple\", void 0);\n__decorate([eventOptions({\n  passive: true\n})], IconButtonBase.prototype, \"handleRippleMouseDown\", null);\n__decorate([eventOptions({\n  passive: true\n})], IconButtonBase.prototype, \"handleRippleTouchStart\", null);","map":{"version":3,"names":["ariaProperty","RippleHandlers","html","LitElement","eventOptions","property","query","queryAsync","state","ifDefined","IconButtonBase","constructor","disabled","icon","shouldRenderRipple","rippleHandlers","ripple","renderRipple","focus","buttonElement","startFocus","blur","endFocus","render","ariaLabel","ariaHasPopup","handleRippleFocus","handleRippleBlur","handleRippleMouseDown","handleRippleMouseEnter","handleRippleMouseLeave","handleRippleTouchStart","handleRippleDeactivate","event","onUp","window","removeEventListener","addEventListener","startPress","endPress","startHover","endHover","__decorate","type","Boolean","reflect","String","attribute","passive"],"sources":["mwc-icon-button-base.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-ripple/mwc-ripple.js';\n\nimport {AriaHasPopup, ariaProperty} from '@material/mwc-base/aria-property.js';\nimport {Ripple} from '@material/mwc-ripple/mwc-ripple.js';\nimport {RippleHandlers} from '@material/mwc-ripple/ripple-handlers.js';\nimport {html, LitElement, TemplateResult} from 'lit';\nimport {eventOptions, property, query, queryAsync, state} from 'lit/decorators.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n/** @soyCompatible */\nexport class IconButtonBase extends LitElement {\n  @property({type: Boolean, reflect: true}) disabled = false;\n\n  @property({type: String}) icon = '';\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-label'})\n  override ariaLabel!: string;\n\n  /** @soyPrefixAttribute */\n  @ariaProperty\n  @property({type: String, attribute: 'aria-haspopup'})\n  override ariaHasPopup!: AriaHasPopup;\n\n  @query('button') buttonElement!: HTMLElement;\n\n  @queryAsync('mwc-ripple') ripple!: Promise<Ripple|null>;\n\n  @state() protected shouldRenderRipple = false;\n\n  protected rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this.shouldRenderRipple = true;\n    return this.ripple;\n  });\n\n  /** @soyTemplate */\n  protected renderRipple(): TemplateResult|string {\n    return this.shouldRenderRipple ? html`\n            <mwc-ripple\n                .disabled=\"${this.disabled}\"\n                unbounded>\n            </mwc-ripple>` :\n                                     '';\n  }\n\n  override focus() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.startFocus();\n      buttonElement.focus();\n    }\n  }\n\n  override blur() {\n    const buttonElement = this.buttonElement;\n    if (buttonElement) {\n      this.rippleHandlers.endFocus();\n      buttonElement.blur();\n    }\n  }\n\n  /** @soyTemplate */\n  protected override render(): TemplateResult {\n    return html`<button\n        class=\"mdc-icon-button mdc-icon-button--display-flex\"\n        aria-label=\"${this.ariaLabel || this.icon}\"\n        aria-haspopup=\"${ifDefined(this.ariaHasPopup)}\"\n        ?disabled=\"${this.disabled}\"\n        @focus=\"${this.handleRippleFocus}\"\n        @blur=\"${this.handleRippleBlur}\"\n        @mousedown=\"${this.handleRippleMouseDown}\"\n        @mouseenter=\"${this.handleRippleMouseEnter}\"\n        @mouseleave=\"${this.handleRippleMouseLeave}\"\n        @touchstart=\"${this.handleRippleTouchStart}\"\n        @touchend=\"${this.handleRippleDeactivate}\"\n        @touchcancel=\"${this.handleRippleDeactivate}\"\n    >${this.renderRipple()}\n    ${this.icon ? html`<i class=\"material-icons\">${this.icon}</i>` : ''}\n    <span\n      ><slot></slot\n    ></span>\n  </button>`;\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleMouseDown(event?: Event) {\n    const onUp = () => {\n      window.removeEventListener('mouseup', onUp);\n\n      this.handleRippleDeactivate();\n    };\n\n    window.addEventListener('mouseup', onUp);\n    this.rippleHandlers.startPress(event);\n  }\n\n  @eventOptions({passive: true})\n  protected handleRippleTouchStart(event?: Event) {\n    this.rippleHandlers.startPress(event);\n  }\n\n  protected handleRippleDeactivate() {\n    this.rippleHandlers.endPress();\n  }\n\n  protected handleRippleMouseEnter() {\n    this.rippleHandlers.startHover();\n  }\n\n  protected handleRippleMouseLeave() {\n    this.rippleHandlers.endHover();\n  }\n\n  protected handleRippleFocus() {\n    this.rippleHandlers.startFocus();\n  }\n\n  protected handleRippleBlur() {\n    this.rippleHandlers.endFocus();\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}