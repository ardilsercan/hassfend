{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _wrapNativeSuper from \"@babel/runtime/helpers/wrapNativeSuper\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { createStyledHuiElement } from \"../cards/picture-elements/create-styled-hui-element\";\nimport { checkConditionsMet, validateConditionalConfig } from \"../common/validate-condition\";\nvar HuiConditionalElement = /*#__PURE__*/function (_HTMLElement) {\n  _inherits(HuiConditionalElement, _HTMLElement);\n  function HuiConditionalElement() {\n    var _this;\n    _classCallCheck(this, HuiConditionalElement);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, HuiConditionalElement, [].concat(args));\n    _this._hass = void 0;\n    _this._config = void 0;\n    _this._elements = [];\n    return _this;\n  }\n  _createClass(HuiConditionalElement, [{\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this2 = this;\n      if (!config.conditions || !Array.isArray(config.conditions) || !config.elements || !Array.isArray(config.elements) || !validateConditionalConfig(config.conditions)) {\n        throw new Error(\"Invalid configuration\");\n      }\n      if (this._elements.length > 0) {\n        this._elements.forEach(function (el) {\n          if (el.parentElement) {\n            el.parentElement.removeChild(el);\n          }\n        });\n        this._elements = [];\n      }\n      this._config = config;\n      this._config.elements.forEach(function (elementConfig) {\n        _this2._elements.push(createStyledHuiElement(elementConfig));\n      });\n      this.updateElements();\n    }\n  }, {\n    key: \"hass\",\n    set: function set(hass) {\n      this._hass = hass;\n      this.updateElements();\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements() {\n      var _this3 = this;\n      if (!this._hass || !this._config) {\n        return;\n      }\n      var visible = checkConditionsMet(this._config.conditions, this._hass);\n      this._elements.forEach(function (el) {\n        if (visible) {\n          el.hass = _this3._hass;\n          if (!el.parentElement) {\n            _this3.appendChild(el);\n          }\n        } else if (el.parentElement) {\n          el.parentElement.removeChild(el);\n        }\n      });\n    }\n  }]);\n  return HuiConditionalElement;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\ncustomElements.define(\"hui-conditional-element\", HuiConditionalElement);","map":{"version":3,"names":["createStyledHuiElement","checkConditionsMet","validateConditionalConfig","HuiConditionalElement","_HTMLElement","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_hass","_config","_elements","_createClass","key","value","setConfig","config","_this2","conditions","isArray","elements","Error","forEach","el","parentElement","removeChild","elementConfig","push","updateElements","set","hass","_this3","visible","appendChild","_wrapNativeSuper","HTMLElement","customElements","define"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/lovelace/elements/hui-conditional-element.ts"],"sourcesContent":["import { HomeAssistant } from \"../../../types\";\nimport { createStyledHuiElement } from \"../cards/picture-elements/create-styled-hui-element\";\nimport {\n  checkConditionsMet,\n  validateConditionalConfig,\n} from \"../common/validate-condition\";\nimport {\n  ConditionalElementConfig,\n  LovelaceElement,\n  LovelaceElementConfig,\n} from \"./types\";\n\nclass HuiConditionalElement extends HTMLElement implements LovelaceElement {\n  public _hass?: HomeAssistant;\n\n  private _config?: ConditionalElementConfig;\n\n  private _elements: LovelaceElement[] = [];\n\n  public setConfig(config: ConditionalElementConfig): void {\n    if (\n      !config.conditions ||\n      !Array.isArray(config.conditions) ||\n      !config.elements ||\n      !Array.isArray(config.elements) ||\n      !validateConditionalConfig(config.conditions)\n    ) {\n      throw new Error(\"Invalid configuration\");\n    }\n\n    if (this._elements.length > 0) {\n      this._elements.forEach((el: LovelaceElement) => {\n        if (el.parentElement) {\n          el.parentElement.removeChild(el);\n        }\n      });\n\n      this._elements = [];\n    }\n\n    this._config = config;\n\n    this._config.elements.forEach((elementConfig: LovelaceElementConfig) => {\n      this._elements.push(createStyledHuiElement(elementConfig));\n    });\n\n    this.updateElements();\n  }\n\n  set hass(hass: HomeAssistant) {\n    this._hass = hass;\n\n    this.updateElements();\n  }\n\n  private updateElements() {\n    if (!this._hass || !this._config) {\n      return;\n    }\n\n    const visible = checkConditionsMet(this._config.conditions, this._hass);\n\n    this._elements.forEach((el: LovelaceElement) => {\n      if (visible) {\n        el.hass = this._hass;\n        if (!el.parentElement) {\n          this.appendChild(el);\n        }\n      } else if (el.parentElement) {\n        el.parentElement.removeChild(el);\n      }\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hui-conditional-element\": HuiConditionalElement;\n  }\n}\n\ncustomElements.define(\"hui-conditional-element\", HuiConditionalElement);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}