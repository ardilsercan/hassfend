{"ast":null,"code":"import { atLeastVersion } from \"../../common/config/version\";\nimport { hassioApiResultExtractor } from \"../hassio/common\";\nexport const supervisorApiCall = async (hass, endpoint, options) => {\n  if (atLeastVersion(hass.config.version, 2021, 2, 4)) {\n    var _options$timeout;\n    // Websockets was added in 2021.2.4\n    return hass.callWS({\n      type: \"supervisor/api\",\n      endpoint,\n      method: (options === null || options === void 0 ? void 0 : options.method) || \"get\",\n      timeout: (_options$timeout = options === null || options === void 0 ? void 0 : options.timeout) !== null && _options$timeout !== void 0 ? _options$timeout : null,\n      data: options === null || options === void 0 ? void 0 : options.data\n    });\n  }\n  return hassioApiResultExtractor(await hass.callApi(\n  // @ts-ignore\n  (options.method || \"get\").toUpperCase(), `hassio${endpoint}`, options === null || options === void 0 ? void 0 : options.data));\n};","map":{"version":3,"names":["atLeastVersion","hassioApiResultExtractor","supervisorApiCall","hass","endpoint","options","config","version","_options$timeout","callWS","type","method","timeout","data","callApi","toUpperCase"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/supervisor/common.ts"],"sourcesContent":["import { atLeastVersion } from \"../../common/config/version\";\nimport { HomeAssistant } from \"../../types\";\nimport { hassioApiResultExtractor, HassioResponse } from \"../hassio/common\";\n\nexport interface SupervisorApiCallOptions {\n  method?: \"get\" | \"post\" | \"delete\";\n  data?: Record<string, any>;\n  timeout?: number;\n}\n\nexport const supervisorApiCall = async <T>(\n  hass: HomeAssistant,\n  endpoint: string,\n  options?: SupervisorApiCallOptions\n): Promise<T> => {\n  if (atLeastVersion(hass.config.version, 2021, 2, 4)) {\n    // Websockets was added in 2021.2.4\n    return hass.callWS<T>({\n      type: \"supervisor/api\",\n      endpoint,\n      method: options?.method || \"get\",\n      timeout: options?.timeout ?? null,\n      data: options?.data,\n    });\n  }\n  return hassioApiResultExtractor(\n    await hass.callApi<HassioResponse<T>>(\n      // @ts-ignore\n      (options.method || \"get\").toUpperCase(),\n      `hassio${endpoint}`,\n      options?.data\n    )\n  );\n};\n"],"mappings":"AAAA,SAASA,cAAc,QAAQ,6BAA6B;AAE5D,SAASC,wBAAwB,QAAwB,kBAAkB;AAQ3E,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAC/BC,IAAmB,EACnBC,QAAgB,EAChBC,OAAkC,KACnB;EACf,IAAIL,cAAc,CAACG,IAAI,CAACG,MAAM,CAACC,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;IAAA,IAAAC,gBAAA;IACnD;IACA,OAAOL,IAAI,CAACM,MAAM,CAAI;MACpBC,IAAI,EAAE,gBAAgB;MACtBN,QAAQ;MACRO,MAAM,EAAE,CAAAN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEM,MAAM,KAAI,KAAK;MAChCC,OAAO,GAAAJ,gBAAA,GAAEH,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEO,OAAO,cAAAJ,gBAAA,cAAAA,gBAAA,GAAI,IAAI;MACjCK,IAAI,EAAER,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ;IACjB,CAAC,CAAC;EACJ;EACA,OAAOZ,wBAAwB,CAC7B,MAAME,IAAI,CAACW,OAAO;EAChB;EACA,CAACT,OAAO,CAACM,MAAM,IAAI,KAAK,EAAEI,WAAW,CAAC,CAAC,EACtC,SAAQX,QAAS,EAAC,EACnBC,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,IACX,CACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}