{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"@lrnwebcomponents/simple-tooltip/simple-tooltip\";\nimport \"@material/mwc-button\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { createCloseHeading } from \"../../../components/ha-dialog\";\nimport \"../../../components/ha-formfield\";\nimport \"../../../components/ha-help-tooltip\";\nimport \"../../../components/ha-label\";\nimport \"../../../components/ha-svg-icon\";\nimport \"../../../components/ha-switch\";\nimport \"../../../components/ha-textfield\";\nimport { computeUserBadges, SYSTEM_GROUP_ID_ADMIN, SYSTEM_GROUP_ID_USER } from \"../../../data/user\";\nimport { showAlertDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport { haStyleDialog } from \"../../../resources/styles\";\nimport { showAdminChangePasswordDialog } from \"./show-dialog-admin-change-password\";\nvar DialogUserDetail = _decorate([customElement(\"dialog-user-detail\")], function (_initialize, _LitElement) {\n  var DialogUserDetail = /*#__PURE__*/function (_LitElement2) {\n    _inherits(DialogUserDetail, _LitElement2);\n    function DialogUserDetail() {\n      var _this;\n      _classCallCheck(this, DialogUserDetail);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, DialogUserDetail, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(DialogUserDetail);\n  }(_LitElement);\n  return {\n    F: DialogUserDetail,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_name\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_isAdmin\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_localOnly\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_isActive\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_params\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_submitting\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"showDialog\",\n      value: function () {\n        var _showDialog = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(params) {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                this._params = params;\n                this._error = undefined;\n                this._name = params.entry.name || \"\";\n                this._isAdmin = params.entry.group_ids.includes(SYSTEM_GROUP_ID_ADMIN);\n                this._localOnly = params.entry.local_only;\n                this._isActive = params.entry.is_active;\n                _context.next = 8;\n                return this.updateComplete;\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function showDialog(_x) {\n          return _showDialog.apply(this, arguments);\n        }\n        return showDialog;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$hass$user;\n        if (!this._params) {\n          return nothing;\n        }\n        var user = this._params.entry;\n        var badges = computeUserBadges(this.hass, user, true);\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-dialog\\n        open\\n        @closed=\", \"\\n        scrimClickAction\\n        escapeKeyAction\\n        .heading=\", \"\\n      >\\n        <div>\\n          \", \"\\n          <div class=\\\"secondary\\\">\\n            \", \":\\n            \", \"<br />\\n            \", \":\\n            \", \"\\n          </div>\\n          \", \"\\n          <div class=\\\"form\\\">\\n            <ha-textfield\\n              dialogInitialFocus\\n              .value=\", \"\\n              .disabled=\", \"\\n              @input=\", \"\\n              .label=\", \"\\n            ></ha-textfield>\\n            <div class=\\\"row\\\">\\n              <ha-formfield\\n                .label=\", \"\\n              >\\n                <ha-switch\\n                  .disabled=\", \"\\n                  .checked=\", \"\\n                  @change=\", \"\\n                >\\n                </ha-switch>\\n              </ha-formfield>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <ha-formfield\\n                .label=\", \"\\n              >\\n                <ha-switch\\n                  .disabled=\", \"\\n                  .checked=\", \"\\n                  @change=\", \"\\n                >\\n                </ha-switch>\\n              </ha-formfield>\\n            </div>\\n            \", \"\\n            <div class=\\\"row\\\">\\n              <ha-formfield\\n                .label=\", \"\\n              >\\n                <ha-switch\\n                  .disabled=\", \"\\n                  .checked=\", \"\\n                  @change=\", \"\\n                >\\n                </ha-switch>\\n              </ha-formfield>\\n              <ha-help-tooltip\\n                .label=\", \"\\n              >\\n              </ha-help-tooltip>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div slot=\\\"secondaryAction\\\">\\n          <mwc-button\\n            class=\\\"warning\\\"\\n            @click=\", \"\\n            .disabled=\", \"\\n          >\\n            \", \"\\n          </mwc-button>\\n          \", \"\\n          \", \"\\n        </div>\\n\\n        <div slot=\\\"primaryAction\\\">\\n          <mwc-button\\n            @click=\", \"\\n            .disabled=\", \"\\n          >\\n            \", \"\\n          </mwc-button>\\n          \", \"\\n        </div>\\n      </ha-dialog>\\n    \"])), this._close, createCloseHeading(this.hass, user.name), this._error ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\" <div class=\\\"error\\\">\", \"</div> \"])), this._error) : \"\", this.hass.localize(\"ui.panel.config.users.editor.id\"), user.id, this.hass.localize(\"ui.panel.config.users.editor.username\"), user.username, badges.length === 0 ? \"\" : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n                <div class=\\\"badge-container\\\">\\n                  \", \"\\n                </div>\\n              \"])), badges.map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n            icon = _ref2[0],\n            label = _ref2[1];\n          return html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                      <ha-label>\\n                        <ha-svg-icon slot=\\\"icon\\\" .path=\", \"></ha-svg-icon>\\n                        \", \"\\n                      </ha-label>\\n                    \"])), icon, label);\n        })), this._name, user.system_generated, this._nameChanged, this.hass.localize(\"ui.panel.config.users.editor.name\"), this.hass.localize(\"ui.panel.config.users.editor.local_only\"), user.system_generated, this._localOnly, this._localOnlyChanged, this.hass.localize(\"ui.panel.config.users.editor.admin\"), user.system_generated || user.is_owner, this._isAdmin, this._adminChanged, !this._isAdmin ? html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                  <br />\\n                  \", \"\\n                \"])), this.hass.localize(\"ui.panel.config.users.users_privileges_note\")) : \"\", this.hass.localize(\"ui.panel.config.users.editor.active\"), user.system_generated || user.is_owner, this._isActive, this._activeChanged, this.hass.localize(\"ui.panel.config.users.editor.active_tooltip\"), this._deleteEntry, this._submitting || user.system_generated || user.is_owner, this.hass.localize(\"ui.panel.config.users.editor.delete_user\"), user.system_generated ? html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n                <simple-tooltip animation-delay=\\\"0\\\" position=\\\"right\\\">\\n                  \", \"\\n                </simple-tooltip>\\n              \"])), this.hass.localize(\"ui.panel.config.users.editor.system_generated_users_not_removable\")) : \"\", !user.system_generated && (_this$hass$user = this.hass.user) !== null && _this$hass$user !== void 0 && _this$hass$user.is_owner ? html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<mwc-button @click=\", \">\\n                \", \"\\n              </mwc-button>\"])), this._changePassword, this.hass.localize(\"ui.panel.config.users.editor.change_password\")) : \"\", this._updateEntry, !this._name || this._submitting || user.system_generated, this.hass.localize(\"ui.panel.config.users.editor.update_user\"), user.system_generated ? html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n                <simple-tooltip animation-delay=\\\"0\\\" position=\\\"left\\\">\\n                  \", \"\\n                </simple-tooltip>\\n              \"])), this.hass.localize(\"ui.panel.config.users.editor.system_generated_users_not_editable\")) : \"\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_nameChanged\",\n      value: function _nameChanged(ev) {\n        this._error = undefined;\n        this._name = ev.target.value;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_adminChanged\",\n      value: function _adminChanged(ev) {\n        this._isAdmin = ev.target.checked;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_localOnlyChanged\",\n      value: function _localOnlyChanged(ev) {\n        this._localOnly = ev.target.checked;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_activeChanged\",\n      value: function _activeChanged(ev) {\n        this._isActive = ev.target.checked;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateEntry\",\n      value: function () {\n        var _updateEntry2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                this._submitting = true;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return this._params.updateEntry({\n                  name: this._name.trim(),\n                  is_active: this._isActive,\n                  group_ids: [this._isAdmin ? SYSTEM_GROUP_ID_ADMIN : SYSTEM_GROUP_ID_USER],\n                  local_only: this._localOnly\n                });\n              case 4:\n                this._close();\n                _context2.next = 10;\n                break;\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](1);\n                this._error = (_context2.t0 === null || _context2.t0 === void 0 ? void 0 : _context2.t0.message) || \"Unknown error\";\n              case 10:\n                _context2.prev = 10;\n                this._submitting = false;\n                return _context2.finish(10);\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[1, 7, 10, 13]]);\n        }));\n        function _updateEntry() {\n          return _updateEntry2.apply(this, arguments);\n        }\n        return _updateEntry;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_deleteEntry\",\n      value: function () {\n        var _deleteEntry2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                this._submitting = true;\n                _context3.prev = 1;\n                _context3.next = 4;\n                return this._params.removeEntry();\n              case 4:\n                if (!_context3.sent) {\n                  _context3.next = 6;\n                  break;\n                }\n                this._params = undefined;\n              case 6:\n                _context3.prev = 6;\n                this._submitting = false;\n                return _context3.finish(6);\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this, [[1,, 6, 9]]);\n        }));\n        function _deleteEntry() {\n          return _deleteEntry2.apply(this, arguments);\n        }\n        return _deleteEntry;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_changePassword\",\n      value: function () {\n        var _changePassword2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n          var _this$_params;\n          var credential;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                credential = (_this$_params = this._params) === null || _this$_params === void 0 ? void 0 : _this$_params.entry.credentials.find(function (cred) {\n                  return cred.type === \"homeassistant\";\n                });\n                if (credential) {\n                  _context4.next = 4;\n                  break;\n                }\n                showAlertDialog(this, {\n                  title: \"No NDX Tech credentials found.\"\n                });\n                return _context4.abrupt(\"return\");\n              case 4:\n                showAdminChangePasswordDialog(this, {\n                  userId: this._params.entry.id\n                });\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4, this);\n        }));\n        function _changePassword() {\n          return _changePassword2.apply(this, arguments);\n        }\n        return _changePassword;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_close\",\n      value: function _close() {\n        this._params = undefined;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyleDialog, css(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n        ha-dialog {\\n          --mdc-dialog-max-width: 500px;\\n        }\\n        .form {\\n          padding-top: 16px;\\n        }\\n        .secondary {\\n          color: var(--secondary-text-color);\\n        }\\n        ha-textfield {\\n          display: block;\\n        }\\n        .badge-container {\\n          margin-top: 4px;\\n        }\\n        .badge-container > * {\\n          margin-top: 4px;\\n          margin-bottom: 4px;\\n          margin-right: 4px;\\n          margin-left: 0;\\n          margin-inline-end: 4px;\\n          margin-inline-start: 0;\\n        }\\n        .state {\\n          background-color: rgba(var(--rgb-primary-text-color), 0.15);\\n          border-radius: 16px;\\n          padding: 4px 8px;\\n          margin-top: 8px;\\n          display: inline-block;\\n        }\\n        .state:not(:first-child) {\\n          margin-left: 8px;\\n          margin-inline-start: 8px;\\n          margin-inline-end: initial;\\n        }\\n        .row {\\n          display: flex;\\n          padding: 8px 0;\\n        }\\n        ha-help-tooltip {\\n          margin-left: 4px;\\n          margin-inline-start: 4px;\\n          margin-inline-end: initial;\\n          position: relative;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","state","createCloseHeading","computeUserBadges","SYSTEM_GROUP_ID_ADMIN","SYSTEM_GROUP_ID_USER","showAlertDialog","haStyleDialog","showAdminChangePasswordDialog","DialogUserDetail","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","_showDialog","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","wrap","_callee$","_context","prev","next","_params","_error","undefined","_name","entry","name","_isAdmin","group_ids","includes","_localOnly","local_only","_isActive","is_active","updateComplete","stop","showDialog","_x","apply","render","_this$hass$user","user","badges","hass","_templateObject","_taggedTemplateLiteral","_close","_templateObject2","localize","id","username","_templateObject3","map","_ref","_ref2","_slicedToArray","icon","label","_templateObject4","system_generated","_nameChanged","_localOnlyChanged","is_owner","_adminChanged","_templateObject5","_activeChanged","_deleteEntry","_submitting","_templateObject6","_templateObject7","_changePassword","_updateEntry","_templateObject8","ev","target","checked","_updateEntry2","_callee2","_callee2$","_context2","updateEntry","trim","t0","message","finish","_deleteEntry2","_callee3","_callee3$","_context3","removeEntry","sent","_changePassword2","_callee4","_this$_params","credential","_callee4$","_context4","credentials","find","cred","type","title","abrupt","userId","static","styles","_templateObject9"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/config/users/dialog-user-detail.ts"],"sourcesContent":["import \"@lrnwebcomponents/simple-tooltip/simple-tooltip\";\nimport \"@material/mwc-button\";\nimport { css, CSSResultGroup, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\n\nimport { createCloseHeading } from \"../../../components/ha-dialog\";\nimport \"../../../components/ha-formfield\";\nimport \"../../../components/ha-help-tooltip\";\nimport \"../../../components/ha-label\";\nimport \"../../../components/ha-svg-icon\";\nimport \"../../../components/ha-switch\";\nimport \"../../../components/ha-textfield\";\nimport {\n  computeUserBadges,\n  SYSTEM_GROUP_ID_ADMIN,\n  SYSTEM_GROUP_ID_USER,\n} from \"../../../data/user\";\nimport { showAlertDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport { haStyleDialog } from \"../../../resources/styles\";\nimport { HomeAssistant } from \"../../../types\";\nimport { showAdminChangePasswordDialog } from \"./show-dialog-admin-change-password\";\nimport { UserDetailDialogParams } from \"./show-dialog-user-detail\";\n\n@customElement(\"dialog-user-detail\")\nclass DialogUserDetail extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _name!: string;\n\n  @state() private _isAdmin?: boolean;\n\n  @state() private _localOnly?: boolean;\n\n  @state() private _isActive?: boolean;\n\n  @state() private _error?: string;\n\n  @state() private _params?: UserDetailDialogParams;\n\n  @state() private _submitting = false;\n\n  public async showDialog(params: UserDetailDialogParams): Promise<void> {\n    this._params = params;\n    this._error = undefined;\n    this._name = params.entry.name || \"\";\n    this._isAdmin = params.entry.group_ids.includes(SYSTEM_GROUP_ID_ADMIN);\n    this._localOnly = params.entry.local_only;\n    this._isActive = params.entry.is_active;\n    await this.updateComplete;\n  }\n\n  protected render() {\n    if (!this._params) {\n      return nothing;\n    }\n    const user = this._params.entry;\n    const badges = computeUserBadges(this.hass, user, true);\n    return html`\n      <ha-dialog\n        open\n        @closed=${this._close}\n        scrimClickAction\n        escapeKeyAction\n        .heading=${createCloseHeading(this.hass, user.name)}\n      >\n        <div>\n          ${this._error ? html` <div class=\"error\">${this._error}</div> ` : \"\"}\n          <div class=\"secondary\">\n            ${this.hass.localize(\"ui.panel.config.users.editor.id\")}:\n            ${user.id}<br />\n            ${this.hass.localize(\"ui.panel.config.users.editor.username\")}:\n            ${user.username}\n          </div>\n          ${badges.length === 0\n            ? \"\"\n            : html`\n                <div class=\"badge-container\">\n                  ${badges.map(\n                    ([icon, label]) => html`\n                      <ha-label>\n                        <ha-svg-icon slot=\"icon\" .path=${icon}></ha-svg-icon>\n                        ${label}\n                      </ha-label>\n                    `\n                  )}\n                </div>\n              `}\n          <div class=\"form\">\n            <ha-textfield\n              dialogInitialFocus\n              .value=${this._name}\n              .disabled=${user.system_generated}\n              @input=${this._nameChanged}\n              .label=${this.hass!.localize(\"ui.panel.config.users.editor.name\")}\n            ></ha-textfield>\n            <div class=\"row\">\n              <ha-formfield\n                .label=${this.hass.localize(\n                  \"ui.panel.config.users.editor.local_only\"\n                )}\n              >\n                <ha-switch\n                  .disabled=${user.system_generated}\n                  .checked=${this._localOnly}\n                  @change=${this._localOnlyChanged}\n                >\n                </ha-switch>\n              </ha-formfield>\n            </div>\n            <div class=\"row\">\n              <ha-formfield\n                .label=${this.hass.localize(\n                  \"ui.panel.config.users.editor.admin\"\n                )}\n              >\n                <ha-switch\n                  .disabled=${user.system_generated || user.is_owner}\n                  .checked=${this._isAdmin}\n                  @change=${this._adminChanged}\n                >\n                </ha-switch>\n              </ha-formfield>\n            </div>\n            ${!this._isAdmin\n              ? html`\n                  <br />\n                  ${this.hass.localize(\n                    \"ui.panel.config.users.users_privileges_note\"\n                  )}\n                `\n              : \"\"}\n            <div class=\"row\">\n              <ha-formfield\n                .label=${this.hass.localize(\n                  \"ui.panel.config.users.editor.active\"\n                )}\n              >\n                <ha-switch\n                  .disabled=${user.system_generated || user.is_owner}\n                  .checked=${this._isActive}\n                  @change=${this._activeChanged}\n                >\n                </ha-switch>\n              </ha-formfield>\n              <ha-help-tooltip\n                .label=${this.hass.localize(\n                  \"ui.panel.config.users.editor.active_tooltip\"\n                )}\n              >\n              </ha-help-tooltip>\n            </div>\n          </div>\n        </div>\n\n        <div slot=\"secondaryAction\">\n          <mwc-button\n            class=\"warning\"\n            @click=${this._deleteEntry}\n            .disabled=${this._submitting ||\n            user.system_generated ||\n            user.is_owner}\n          >\n            ${this.hass!.localize(\"ui.panel.config.users.editor.delete_user\")}\n          </mwc-button>\n          ${user.system_generated\n            ? html`\n                <simple-tooltip animation-delay=\"0\" position=\"right\">\n                  ${this.hass.localize(\n                    \"ui.panel.config.users.editor.system_generated_users_not_removable\"\n                  )}\n                </simple-tooltip>\n              `\n            : \"\"}\n          ${!user.system_generated && this.hass.user?.is_owner\n            ? html`<mwc-button @click=${this._changePassword}>\n                ${this.hass.localize(\n                  \"ui.panel.config.users.editor.change_password\"\n                )}\n              </mwc-button>`\n            : \"\"}\n        </div>\n\n        <div slot=\"primaryAction\">\n          <mwc-button\n            @click=${this._updateEntry}\n            .disabled=${!this._name ||\n            this._submitting ||\n            user.system_generated}\n          >\n            ${this.hass!.localize(\"ui.panel.config.users.editor.update_user\")}\n          </mwc-button>\n          ${user.system_generated\n            ? html`\n                <simple-tooltip animation-delay=\"0\" position=\"left\">\n                  ${this.hass.localize(\n                    \"ui.panel.config.users.editor.system_generated_users_not_editable\"\n                  )}\n                </simple-tooltip>\n              `\n            : \"\"}\n        </div>\n      </ha-dialog>\n    `;\n  }\n\n  private _nameChanged(ev) {\n    this._error = undefined;\n    this._name = ev.target.value;\n  }\n\n  private _adminChanged(ev): void {\n    this._isAdmin = ev.target.checked;\n  }\n\n  private _localOnlyChanged(ev): void {\n    this._localOnly = ev.target.checked;\n  }\n\n  private _activeChanged(ev): void {\n    this._isActive = ev.target.checked;\n  }\n\n  private async _updateEntry() {\n    this._submitting = true;\n    try {\n      await this._params!.updateEntry({\n        name: this._name.trim(),\n        is_active: this._isActive,\n        group_ids: [\n          this._isAdmin ? SYSTEM_GROUP_ID_ADMIN : SYSTEM_GROUP_ID_USER,\n        ],\n        local_only: this._localOnly,\n      });\n      this._close();\n    } catch (err: any) {\n      this._error = err?.message || \"Unknown error\";\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  private async _deleteEntry() {\n    this._submitting = true;\n    try {\n      if (await this._params!.removeEntry()) {\n        this._params = undefined;\n      }\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  private async _changePassword() {\n    const credential = this._params?.entry.credentials.find(\n      (cred) => cred.type === \"homeassistant\"\n    );\n    if (!credential) {\n      showAlertDialog(this, {\n        title: \"No NDX Tech credentials found.\",\n      });\n      return;\n    }\n\n    showAdminChangePasswordDialog(this, { userId: this._params!.entry.id });\n  }\n\n  private _close(): void {\n    this._params = undefined;\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyleDialog,\n      css`\n        ha-dialog {\n          --mdc-dialog-max-width: 500px;\n        }\n        .form {\n          padding-top: 16px;\n        }\n        .secondary {\n          color: var(--secondary-text-color);\n        }\n        ha-textfield {\n          display: block;\n        }\n        .badge-container {\n          margin-top: 4px;\n        }\n        .badge-container > * {\n          margin-top: 4px;\n          margin-bottom: 4px;\n          margin-right: 4px;\n          margin-left: 0;\n          margin-inline-end: 4px;\n          margin-inline-start: 0;\n        }\n        .state {\n          background-color: rgba(var(--rgb-primary-text-color), 0.15);\n          border-radius: 16px;\n          padding: 4px 8px;\n          margin-top: 8px;\n          display: inline-block;\n        }\n        .state:not(:first-child) {\n          margin-left: 8px;\n          margin-inline-start: 8px;\n          margin-inline-end: initial;\n        }\n        .row {\n          display: flex;\n          padding: 8px 0;\n        }\n        ha-help-tooltip {\n          margin-left: 4px;\n          margin-inline-start: 4px;\n          margin-inline-end: initial;\n          position: relative;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"dialog-user-detail\": DialogUserDetail;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}