{"ast":null,"code":"export const subscribePollingCollection = (hass, updateData, interval) => {\n  let timeout;\n  const fetchData = async () => {\n    try {\n      await updateData(hass);\n    } finally {\n      timeout = setTimeout(() => fetchData(), interval);\n    }\n  };\n  fetchData();\n  return () => clearTimeout(timeout);\n};","map":{"version":3,"names":["subscribePollingCollection","hass","updateData","interval","timeout","fetchData","setTimeout","clearTimeout"],"sources":["/workspaces/frontend/src/common/util/subscribe-polling.ts"],"sourcesContent":["import { HomeAssistant } from \"../../types\";\n\nexport const subscribePollingCollection = (\n  hass: HomeAssistant,\n  updateData: (hass: HomeAssistant) => void,\n  interval: number\n) => {\n  let timeout;\n  const fetchData = async () => {\n    try {\n      await updateData(hass);\n    } finally {\n      timeout = setTimeout(() => fetchData(), interval);\n    }\n  };\n  fetchData();\n  return () => clearTimeout(timeout);\n};\n"],"mappings":"AAEA,OAAO,MAAMA,0BAA0B,GAAGA,CACxCC,IAAmB,EACnBC,UAAyC,EACzCC,QAAgB,KACb;EACH,IAAIC,OAAO;EACX,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMH,UAAU,CAACD,IAAI,CAAC;IACxB,CAAC,SAAS;MACRG,OAAO,GAAGE,UAAU,CAAC,MAAMD,SAAS,CAAC,CAAC,EAAEF,QAAQ,CAAC;IACnD;EACF,CAAC;EACDE,SAAS,CAAC,CAAC;EACX,OAAO,MAAME,YAAY,CAACH,OAAO,CAAC;AACpC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}