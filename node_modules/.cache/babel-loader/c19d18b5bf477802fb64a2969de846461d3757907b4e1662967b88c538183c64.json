{"ast":null,"code":"import memoizeOne from \"memoize-one\";\nimport \"../../resources/intl-polyfill\";\nimport { resolveTimeZone } from \"./resolve-time-zone\";\nimport { useAmPm } from \"./use_am_pm\";\n\n// 9:15 PM || 21:15\nexport var formatTime = function formatTime(dateObj, locale, config) {\n  return formatTimeMem(locale, config.time_zone).format(dateObj);\n};\nvar formatTimeMem = memoizeOne(function (locale, serverTimeZone) {\n  return new Intl.DateTimeFormat(locale.language, {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    hourCycle: useAmPm(locale) ? \"h12\" : \"h23\",\n    timeZone: resolveTimeZone(locale.time_zone, serverTimeZone)\n  });\n});\n\n// 9:15:24 PM || 21:15:24\nexport var formatTimeWithSeconds = function formatTimeWithSeconds(dateObj, locale, config) {\n  return formatTimeWithSecondsMem(locale, config.time_zone).format(dateObj);\n};\nvar formatTimeWithSecondsMem = memoizeOne(function (locale, serverTimeZone) {\n  return new Intl.DateTimeFormat(locale.language, {\n    hour: useAmPm(locale) ? \"numeric\" : \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hourCycle: useAmPm(locale) ? \"h12\" : \"h23\",\n    timeZone: resolveTimeZone(locale.time_zone, serverTimeZone)\n  });\n});\n\n// Tuesday 7:00 PM || Tuesday 19:00\nexport var formatTimeWeekday = function formatTimeWeekday(dateObj, locale, config) {\n  return formatTimeWeekdayMem(locale, config.time_zone).format(dateObj);\n};\nvar formatTimeWeekdayMem = memoizeOne(function (locale, serverTimeZone) {\n  return new Intl.DateTimeFormat(locale.language, {\n    weekday: \"long\",\n    hour: useAmPm(locale) ? \"numeric\" : \"2-digit\",\n    minute: \"2-digit\",\n    hourCycle: useAmPm(locale) ? \"h12\" : \"h23\",\n    timeZone: resolveTimeZone(locale.time_zone, serverTimeZone)\n  });\n});\n\n// 21:15\nexport var formatTime24h = function formatTime24h(dateObj, locale, config) {\n  return formatTime24hMem(locale, config.time_zone).format(dateObj);\n};\nvar formatTime24hMem = memoizeOne(function (locale, serverTimeZone) {\n  return (\n    // en-GB to fix Chrome 24:59 to 0:59 https://stackoverflow.com/a/60898146\n    new Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n      hour12: false,\n      timeZone: resolveTimeZone(locale.time_zone, serverTimeZone)\n    })\n  );\n});","map":{"version":3,"names":["memoizeOne","resolveTimeZone","useAmPm","formatTime","dateObj","locale","config","formatTimeMem","time_zone","format","serverTimeZone","Intl","DateTimeFormat","language","hour","minute","hourCycle","timeZone","formatTimeWithSeconds","formatTimeWithSecondsMem","second","formatTimeWeekday","formatTimeWeekdayMem","weekday","formatTime24h","formatTime24hMem","hour12"],"sources":["/workspaces/frontend/src/common/datetime/format_time.ts"],"sourcesContent":["import { HassConfig } from \"home-assistant-js-websocket\";\nimport memoizeOne from \"memoize-one\";\nimport { FrontendLocaleData } from \"../../data/translation\";\nimport \"../../resources/intl-polyfill\";\nimport { resolveTimeZone } from \"./resolve-time-zone\";\nimport { useAmPm } from \"./use_am_pm\";\n\n// 9:15 PM || 21:15\nexport const formatTime = (\n  dateObj: Date,\n  locale: FrontendLocaleData,\n  config: HassConfig\n) => formatTimeMem(locale, config.time_zone).format(dateObj);\n\nconst formatTimeMem = memoizeOne(\n  (locale: FrontendLocaleData, serverTimeZone: string) =>\n    new Intl.DateTimeFormat(locale.language, {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n      hourCycle: useAmPm(locale) ? \"h12\" : \"h23\",\n      timeZone: resolveTimeZone(locale.time_zone, serverTimeZone),\n    })\n);\n\n// 9:15:24 PM || 21:15:24\nexport const formatTimeWithSeconds = (\n  dateObj: Date,\n  locale: FrontendLocaleData,\n  config: HassConfig\n) => formatTimeWithSecondsMem(locale, config.time_zone).format(dateObj);\n\nconst formatTimeWithSecondsMem = memoizeOne(\n  (locale: FrontendLocaleData, serverTimeZone: string) =>\n    new Intl.DateTimeFormat(locale.language, {\n      hour: useAmPm(locale) ? \"numeric\" : \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      hourCycle: useAmPm(locale) ? \"h12\" : \"h23\",\n      timeZone: resolveTimeZone(locale.time_zone, serverTimeZone),\n    })\n);\n\n// Tuesday 7:00 PM || Tuesday 19:00\nexport const formatTimeWeekday = (\n  dateObj: Date,\n  locale: FrontendLocaleData,\n  config: HassConfig\n) => formatTimeWeekdayMem(locale, config.time_zone).format(dateObj);\n\nconst formatTimeWeekdayMem = memoizeOne(\n  (locale: FrontendLocaleData, serverTimeZone: string) =>\n    new Intl.DateTimeFormat(locale.language, {\n      weekday: \"long\",\n      hour: useAmPm(locale) ? \"numeric\" : \"2-digit\",\n      minute: \"2-digit\",\n      hourCycle: useAmPm(locale) ? \"h12\" : \"h23\",\n      timeZone: resolveTimeZone(locale.time_zone, serverTimeZone),\n    })\n);\n\n// 21:15\nexport const formatTime24h = (\n  dateObj: Date,\n  locale: FrontendLocaleData,\n  config: HassConfig\n) => formatTime24hMem(locale, config.time_zone).format(dateObj);\n\nconst formatTime24hMem = memoizeOne(\n  (locale: FrontendLocaleData, serverTimeZone: string) =>\n    // en-GB to fix Chrome 24:59 to 0:59 https://stackoverflow.com/a/60898146\n    new Intl.DateTimeFormat(\"en-GB\", {\n      hour: \"numeric\",\n      minute: \"2-digit\",\n      hour12: false,\n      timeZone: resolveTimeZone(locale.time_zone, serverTimeZone),\n    })\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}