{"ast":null,"code":"import _createForOfIteratorHelper from \"@babel/runtime/helpers/createForOfIteratorHelper\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9;\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.promise.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { __decorate } from \"tslib\";\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\nimport '@material/mwc-notched-outline/mwc-notched-outline.js';\nimport '@material/mwc-menu/mwc-menu.js';\nimport '@material/mwc-icon/mwc-icon.js';\nimport { KEY, normalizeKey } from '@material/dom/keyboard.js';\nimport * as typeahead from '@material/list/typeahead.js';\nimport { addHasRemoveClass, FormElement } from '@material/mwc-base/form-element.js';\nimport { observer } from '@material/mwc-base/observer.js';\nimport { isNodeElement } from '@material/mwc-base/utils.js';\nimport { floatingLabel } from '@material/mwc-floating-label/mwc-floating-label-directive.js';\nimport { lineRipple } from '@material/mwc-line-ripple/mwc-line-ripple-directive.js';\nimport MDCSelectFoundation from '@material/select/foundation.js';\nimport { html, nothing } from 'lit';\nimport { eventOptions, property, query, state } from 'lit/decorators.js';\nimport { classMap } from 'lit/directives/class-map.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nvar createValidityObj = function createValidityObj() {\n  var customValidity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  /*\n   * We need to make ValidityState an object because it is readonly and\n   * we cannot use the spread operator. Also, we don't export\n   * `CustomValidityState` because it is a leaky implementation and the user\n   * already has access to `ValidityState` in lib.dom.ts. Also an interface\n   * {a: Type} can be casted to {readonly a: Type} so passing any object\n   * should be fine.\n   */\n  var objectifiedCustomValidity = {};\n  // eslint-disable-next-line guard-for-in\n  for (var propName in customValidity) {\n    /*\n     * Casting is needed because ValidityState's props are all readonly and\n     * thus cannot be set on `onjectifiedCustomValidity`. In the end, the\n     * interface is the same as ValidityState (but not readonly), but the\n     * function signature casts the output to ValidityState (thus readonly).\n     */\n    objectifiedCustomValidity[propName] = customValidity[propName];\n  }\n  return Object.assign({\n    badInput: false,\n    customError: false,\n    patternMismatch: false,\n    rangeOverflow: false,\n    rangeUnderflow: false,\n    stepMismatch: false,\n    tooLong: false,\n    tooShort: false,\n    typeMismatch: false,\n    valid: true,\n    valueMissing: false\n  }, objectifiedCustomValidity);\n};\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires opened\n * @fires closed\n * @fires change\n * @fires invalid\n */\nexport var SelectBase = /*#__PURE__*/function (_FormElement) {\n  _inherits(SelectBase, _FormElement);\n  function SelectBase() {\n    var _this;\n    _classCallCheck(this, SelectBase);\n    _this = _callSuper(this, SelectBase, arguments);\n    _this.mdcFoundationClass = MDCSelectFoundation;\n    _this.disabled = false;\n    _this.outlined = false;\n    _this.label = '';\n    _this.outlineOpen = false;\n    _this.outlineWidth = 0;\n    _this.value = '';\n    _this.name = '';\n    _this.selectedText = '';\n    _this.icon = '';\n    _this.menuOpen = false;\n    _this.helper = '';\n    _this.validateOnInitialRender = false;\n    _this.validationMessage = '';\n    _this.required = false;\n    _this.naturalMenuWidth = false;\n    _this.isUiValid = true;\n    _this.fixedMenuPosition = false;\n    // Transiently holds current typeahead prefix from user.\n    _this.typeaheadState = typeahead.initState();\n    _this.sortedIndexByFirstChar = new Map();\n    _this.menuElement_ = null;\n    _this.listeners = [];\n    _this.onBodyClickBound = function () {\n      return undefined;\n    };\n    _this._menuUpdateComplete = null;\n    _this.valueSetDirectly = false;\n    _this.validityTransform = null;\n    _this._validity = createValidityObj();\n    return _this;\n  }\n  _createClass(SelectBase, [{\n    key: \"items\",\n    get: function get() {\n      // memoize menuElement to prevent unnecessary querySelector calls.\n      if (!this.menuElement_) {\n        this.menuElement_ = this.menuElement;\n      }\n      if (this.menuElement_) {\n        return this.menuElement_.items;\n      }\n      return [];\n    }\n  }, {\n    key: \"selected\",\n    get: function get() {\n      var menuElement = this.menuElement;\n      if (menuElement) {\n        return menuElement.selected;\n      }\n      return null;\n    }\n  }, {\n    key: \"index\",\n    get: function get() {\n      var menuElement = this.menuElement;\n      if (menuElement) {\n        return menuElement.index;\n      }\n      return -1;\n    }\n  }, {\n    key: \"shouldRenderHelperText\",\n    get: function get() {\n      return !!this.helper || !!this.validationMessage;\n    }\n  }, {\n    key: \"validity\",\n    get: function get() {\n      this._checkValidity(this.value);\n      return this._validity;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = {\n        'mdc-select--disabled': this.disabled,\n        'mdc-select--no-label': !this.label,\n        'mdc-select--filled': !this.outlined,\n        'mdc-select--outlined': this.outlined,\n        'mdc-select--with-leading-icon': !!this.icon,\n        'mdc-select--required': this.required,\n        'mdc-select--invalid': !this.isUiValid\n      };\n      var labelledby = !!this.label ? 'label' : undefined;\n      var describedby = this.shouldRenderHelperText ? 'helper-text' : undefined;\n      return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <div\\n          class=\\\"mdc-select \", \"\\\">\\n        <input\\n            class=\\\"formElement\\\"\\n            name=\\\"\", \"\\\"\\n            .value=\\\"\", \"\\\"\\n            hidden\\n            ?disabled=\\\"\", \"\\\"\\n            ?required=\", \">\\n        <!-- @ts-ignore -->\\n        <div class=\\\"mdc-select__anchor\\\"\\n            aria-autocomplete=\\\"none\\\"\\n            role=\\\"combobox\\\"\\n            aria-expanded=\", \"\\n            aria-invalid=\", \"\\n            aria-haspopup=\\\"listbox\\\"\\n            aria-labelledby=\", \"\\n            aria-required=\", \"\\n            aria-describedby=\", \"\\n            @click=\", \"\\n            @focus=\", \"\\n            @blur=\", \"\\n            @keydown=\", \">\\n          \", \"\\n          \", \"\\n          \", \"\\n          <span class=\\\"mdc-select__selected-text-container\\\">\\n            <span class=\\\"mdc-select__selected-text\\\">\", \"</span>\\n          </span>\\n          <span class=\\\"mdc-select__dropdown-icon\\\">\\n            <svg\\n                class=\\\"mdc-select__dropdown-icon-graphic\\\"\\n                viewBox=\\\"7 10 10 5\\\"\\n                focusable=\\\"false\\\">\\n              <polygon\\n                  class=\\\"mdc-select__dropdown-icon-inactive\\\"\\n                  stroke=\\\"none\\\"\\n                  fill-rule=\\\"evenodd\\\"\\n                  points=\\\"7 10 12 15 17 10\\\">\\n              </polygon>\\n              <polygon\\n                  class=\\\"mdc-select__dropdown-icon-active\\\"\\n                  stroke=\\\"none\\\"\\n                  fill-rule=\\\"evenodd\\\"\\n                  points=\\\"7 15 12 10 17 15\\\">\\n              </polygon>\\n            </svg>\\n          </span>\\n          \", \"\\n        </div>\\n        \", \"\\n      </div>\\n      \", \"\"])), classMap(classes), this.name, this.value, this.disabled, this.required, this.menuOpen, !this.isUiValid, ifDefined(labelledby), this.required, ifDefined(describedby), this.onClick, this.onFocus, this.onBlur, this.onKeydown, this.renderRipple(), this.outlined ? this.renderOutline() : this.renderLabel(), this.renderLeadingIcon(), this.selectedText, this.renderLineRipple(), this.renderMenu(), this.renderHelperText());\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      var classes = this.getMenuClasses();\n      return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      <mwc-menu\\n        innerRole=\\\"listbox\\\"\\n        wrapFocus\\n        class=\\\" \", \"\\\"\\n        activatable\\n        .fullwidth=\", \"\\n        .open=\", \"\\n        .anchor=\", \"\\n        .fixed=\", \"\\n        @selected=\", \"\\n        @opened=\", \"\\n        @closed=\", \"\\n        @items-updated=\", \"\\n        @keydown=\", \">\\n      \", \"\\n    </mwc-menu>\"])), classMap(classes), this.fixedMenuPosition ? false : !this.naturalMenuWidth, this.menuOpen, this.anchorElement, this.fixedMenuPosition, this.onSelected, this.onOpened, this.onClosed, this.onItemsUpdated, this.handleTypeahead, this.renderMenuContent());\n    }\n  }, {\n    key: \"getMenuClasses\",\n    value: function getMenuClasses() {\n      return {\n        'mdc-select__menu': true,\n        'mdc-menu': true,\n        'mdc-menu-surface': true,\n        'mdc-select__menu--invalid': !this.isUiValid\n      };\n    }\n  }, {\n    key: \"renderMenuContent\",\n    value: function renderMenuContent() {\n      return html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<slot></slot>\"])));\n    }\n  }, {\n    key: \"renderRipple\",\n    value: function renderRipple() {\n      if (this.outlined) {\n        return nothing;\n      }\n      return html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n      <span class=\\\"mdc-select__ripple\\\"></span>\\n    \"])));\n    }\n  }, {\n    key: \"renderOutline\",\n    value: function renderOutline() {\n      if (!this.outlined) {\n        return nothing;\n      }\n      return html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n      <mwc-notched-outline\\n          .width=\", \"\\n          .open=\", \"\\n          class=\\\"mdc-notched-outline\\\">\\n        \", \"\\n      </mwc-notched-outline>\"])), this.outlineWidth, this.outlineOpen, this.renderLabel());\n    }\n  }, {\n    key: \"renderLabel\",\n    value: function renderLabel() {\n      if (!this.label) {\n        return nothing;\n      }\n      return html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n      <span\\n          .floatingLabelFoundation=\", \"\\n          id=\\\"label\\\">\", \"</span>\\n    \"])), floatingLabel(this.label), this.label);\n    }\n  }, {\n    key: \"renderLeadingIcon\",\n    value: function renderLeadingIcon() {\n      if (!this.icon) {\n        return nothing;\n      }\n      return html(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"<mwc-icon class=\\\"mdc-select__icon\\\"><div>\", \"</div></mwc-icon>\"])), this.icon);\n    }\n  }, {\n    key: \"renderLineRipple\",\n    value: function renderLineRipple() {\n      if (this.outlined) {\n        return nothing;\n      }\n      return html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\n      <span .lineRippleFoundation=\", \"></span>\\n    \"])), lineRipple());\n    }\n  }, {\n    key: \"renderHelperText\",\n    value: function renderHelperText() {\n      if (!this.shouldRenderHelperText) {\n        return nothing;\n      }\n      var showValidationMessage = this.validationMessage && !this.isUiValid;\n      var classes = {\n        'mdc-select-helper-text--validation-msg': showValidationMessage\n      };\n      return html(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\\n        <p\\n          class=\\\"mdc-select-helper-text \", \"\\\"\\n          id=\\\"helper-text\\\">\", \"</p>\"])), classMap(classes), showValidationMessage ? this.validationMessage : this.helper);\n    }\n  }, {\n    key: \"createAdapter\",\n    value: function createAdapter() {\n      var _this2 = this;\n      return Object.assign(Object.assign({}, addHasRemoveClass(this.mdcRoot)), {\n        activateBottomLine: function activateBottomLine() {\n          if (_this2.lineRippleElement) {\n            _this2.lineRippleElement.lineRippleFoundation.activate();\n          }\n        },\n        deactivateBottomLine: function deactivateBottomLine() {\n          if (_this2.lineRippleElement) {\n            _this2.lineRippleElement.lineRippleFoundation.deactivate();\n          }\n        },\n        hasLabel: function hasLabel() {\n          return !!_this2.label;\n        },\n        floatLabel: function floatLabel(shouldFloat) {\n          if (_this2.labelElement) {\n            _this2.labelElement.floatingLabelFoundation.float(shouldFloat);\n          }\n        },\n        getLabelWidth: function getLabelWidth() {\n          if (_this2.labelElement) {\n            return _this2.labelElement.floatingLabelFoundation.getWidth();\n          }\n          return 0;\n        },\n        setLabelRequired: function setLabelRequired(isRequired) {\n          if (_this2.labelElement) {\n            _this2.labelElement.floatingLabelFoundation.setRequired(isRequired);\n          }\n        },\n        hasOutline: function hasOutline() {\n          return _this2.outlined;\n        },\n        notchOutline: function notchOutline(labelWidth) {\n          var outlineElement = _this2.outlineElement;\n          if (outlineElement && !_this2.outlineOpen) {\n            _this2.outlineWidth = labelWidth;\n            _this2.outlineOpen = true;\n          }\n        },\n        closeOutline: function closeOutline() {\n          if (_this2.outlineElement) {\n            _this2.outlineOpen = false;\n          }\n        },\n        setRippleCenter: function setRippleCenter(normalizedX) {\n          if (_this2.lineRippleElement) {\n            var foundation = _this2.lineRippleElement.lineRippleFoundation;\n            foundation.setRippleCenter(normalizedX);\n          }\n        },\n        notifyChange: function () {\n          var _notifyChange = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(value) {\n            var ev;\n            return _regeneratorRuntime().wrap(function _callee$(_context) {\n              while (1) switch (_context.prev = _context.next) {\n                case 0:\n                  if (!(!_this2.valueSetDirectly && value === _this2.value)) {\n                    _context.next = 2;\n                    break;\n                  }\n                  return _context.abrupt(\"return\");\n                case 2:\n                  _this2.valueSetDirectly = false;\n                  _this2.value = value;\n                  _context.next = 6;\n                  return _this2.updateComplete;\n                case 6:\n                  ev = new Event('change', {\n                    bubbles: true\n                  });\n                  _this2.dispatchEvent(ev);\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }, _callee);\n          }));\n          function notifyChange(_x) {\n            return _notifyChange.apply(this, arguments);\n          }\n          return notifyChange;\n        }(),\n        setSelectedText: function setSelectedText(value) {\n          return _this2.selectedText = value;\n        },\n        isSelectAnchorFocused: function isSelectAnchorFocused() {\n          var selectAnchorElement = _this2.anchorElement;\n          if (!selectAnchorElement) {\n            return false;\n          }\n          var rootNode = selectAnchorElement.getRootNode();\n          return rootNode.activeElement === selectAnchorElement;\n        },\n        getSelectAnchorAttr: function getSelectAnchorAttr(attr) {\n          var selectAnchorElement = _this2.anchorElement;\n          if (!selectAnchorElement) {\n            return null;\n          }\n          return selectAnchorElement.getAttribute(attr);\n        },\n        setSelectAnchorAttr: function setSelectAnchorAttr(attr, value) {\n          var selectAnchorElement = _this2.anchorElement;\n          if (!selectAnchorElement) {\n            return;\n          }\n          selectAnchorElement.setAttribute(attr, value);\n        },\n        removeSelectAnchorAttr: function removeSelectAnchorAttr(attr) {\n          var selectAnchorElement = _this2.anchorElement;\n          if (!selectAnchorElement) {\n            return;\n          }\n          selectAnchorElement.removeAttribute(attr);\n        },\n        openMenu: function openMenu() {\n          _this2.menuOpen = true;\n        },\n        closeMenu: function closeMenu() {\n          _this2.menuOpen = false;\n        },\n        addMenuClass: function addMenuClass() {\n          return undefined;\n        },\n        removeMenuClass: function removeMenuClass() {\n          return undefined;\n        },\n        getAnchorElement: function getAnchorElement() {\n          return _this2.anchorElement;\n        },\n        setMenuAnchorElement: function setMenuAnchorElement() {\n          /* Handled by anchor directive */\n        },\n        setMenuAnchorCorner: function setMenuAnchorCorner() {\n          var menuElement = _this2.menuElement;\n          if (menuElement) {\n            menuElement.corner = 'BOTTOM_START';\n          }\n        },\n        setMenuWrapFocus: function setMenuWrapFocus(wrapFocus) {\n          var menuElement = _this2.menuElement;\n          if (menuElement) {\n            menuElement.wrapFocus = wrapFocus;\n          }\n        },\n        focusMenuItemAtIndex: function focusMenuItemAtIndex(index) {\n          var menuElement = _this2.menuElement;\n          if (!menuElement) {\n            return;\n          }\n          var element = menuElement.items[index];\n          if (!element) {\n            return;\n          }\n          element.focus();\n        },\n        getMenuItemCount: function getMenuItemCount() {\n          var menuElement = _this2.menuElement;\n          if (menuElement) {\n            return menuElement.items.length;\n          }\n          return 0;\n        },\n        getMenuItemValues: function getMenuItemValues() {\n          var menuElement = _this2.menuElement;\n          if (!menuElement) {\n            return [];\n          }\n          var items = menuElement.items;\n          return items.map(function (item) {\n            return item.value;\n          });\n        },\n        getMenuItemTextAtIndex: function getMenuItemTextAtIndex(index) {\n          var menuElement = _this2.menuElement;\n          if (!menuElement) {\n            return '';\n          }\n          var element = menuElement.items[index];\n          if (!element) {\n            return '';\n          }\n          return element.text;\n        },\n        getSelectedIndex: function getSelectedIndex() {\n          return _this2.index;\n        },\n        setSelectedIndex: function setSelectedIndex() {\n          return undefined;\n        },\n        isTypeaheadInProgress: function isTypeaheadInProgress() {\n          return typeahead.isTypingInProgress(_this2.typeaheadState);\n        },\n        typeaheadMatchItem: function typeaheadMatchItem(nextChar, startingIndex) {\n          if (!_this2.menuElement) {\n            return -1;\n          }\n          var opts = {\n            focusItemAtIndex: function focusItemAtIndex(index) {\n              _this2.menuElement.focusItemAtIndex(index);\n            },\n            focusedItemIndex: startingIndex ? startingIndex : _this2.menuElement.getFocusedItemIndex(),\n            nextChar: nextChar,\n            sortedIndexByFirstChar: _this2.sortedIndexByFirstChar,\n            skipFocus: false,\n            isItemAtIndexDisabled: function isItemAtIndexDisabled(index) {\n              return _this2.items[index].disabled;\n            }\n          };\n          var index = typeahead.matchItem(opts, _this2.typeaheadState);\n          if (index !== -1) {\n            _this2.select(index);\n          }\n          return index;\n        }\n      });\n    }\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity() {\n      var isValid = this._checkValidity(this.value);\n      if (!isValid) {\n        var invalidEvent = new Event('invalid', {\n          bubbles: false,\n          cancelable: true\n        });\n        this.dispatchEvent(invalidEvent);\n      }\n      return isValid;\n    }\n  }, {\n    key: \"reportValidity\",\n    value: function reportValidity() {\n      var isValid = this.checkValidity();\n      this.isUiValid = isValid;\n      return isValid;\n    }\n  }, {\n    key: \"_checkValidity\",\n    value: function _checkValidity(value) {\n      var nativeValidity = this.formElement.validity;\n      var validity = createValidityObj(nativeValidity);\n      if (this.validityTransform) {\n        var customValidity = this.validityTransform(value, validity);\n        validity = Object.assign(Object.assign({}, validity), customValidity);\n      }\n      this._validity = validity;\n      return this._validity.valid;\n    }\n  }, {\n    key: \"setCustomValidity\",\n    value: function setCustomValidity(message) {\n      this.validationMessage = message;\n      this.formElement.setCustomValidity(message);\n    }\n    // tslint:disable:ban-ts-ignore\n  }, {\n    key: \"getUpdateComplete\",\n    value: function () {\n      var _getUpdateComplete = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this._menuUpdateComplete;\n            case 2:\n              _context2.next = 4;\n              return _get(_getPrototypeOf(SelectBase.prototype), \"getUpdateComplete\", this).call(this);\n            case 4:\n              result = _context2.sent;\n              return _context2.abrupt(\"return\", result);\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function getUpdateComplete() {\n        return _getUpdateComplete.apply(this, arguments);\n      }\n      return getUpdateComplete;\n    }() // tslint:enable:ban-ts-ignore\n  }, {\n    key: \"firstUpdated\",\n    value: function () {\n      var _firstUpdated = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _this3 = this;\n        var menuElement, hasEmptyFirstOption;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              menuElement = this.menuElement;\n              if (!menuElement) {\n                _context3.next = 5;\n                break;\n              }\n              this._menuUpdateComplete = menuElement.updateComplete;\n              _context3.next = 5;\n              return this._menuUpdateComplete;\n            case 5:\n              _get(_getPrototypeOf(SelectBase.prototype), \"firstUpdated\", this).call(this);\n              this.mdcFoundation.isValid = function () {\n                return true;\n              };\n              this.mdcFoundation.setValid = function () {\n                return undefined;\n              };\n              this.mdcFoundation.setDisabled(this.disabled);\n              if (this.validateOnInitialRender) {\n                this.reportValidity();\n              }\n              // Select an option based on init value\n              if (this.selected) {\n                _context3.next = 21;\n                break;\n              }\n              if (!(!this.items.length && this.slotElement && this.slotElement.assignedNodes({\n                flatten: true\n              }).length)) {\n                _context3.next = 16;\n                break;\n              }\n              _context3.next = 14;\n              return new Promise(function (res) {\n                return requestAnimationFrame(res);\n              });\n            case 14:\n              _context3.next = 16;\n              return this.layout();\n            case 16:\n              hasEmptyFirstOption = this.items.length && this.items[0].value === '';\n              if (!(!this.value && hasEmptyFirstOption)) {\n                _context3.next = 20;\n                break;\n              }\n              this.select(0);\n              return _context3.abrupt(\"return\");\n            case 20:\n              this.selectByValue(this.value);\n            case 21:\n              this.sortedIndexByFirstChar = typeahead.initSortedIndex(this.items.length, function (index) {\n                return _this3.items[index].text;\n              });\n            case 22:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function firstUpdated() {\n        return _firstUpdated.apply(this, arguments);\n      }\n      return firstUpdated;\n    }()\n  }, {\n    key: \"onItemsUpdated\",\n    value: function onItemsUpdated() {\n      var _this4 = this;\n      this.sortedIndexByFirstChar = typeahead.initSortedIndex(this.items.length, function (index) {\n        return _this4.items[index].text;\n      });\n    }\n  }, {\n    key: \"select\",\n    value: function select(index) {\n      var menuElement = this.menuElement;\n      if (menuElement) {\n        menuElement.select(index);\n      }\n    }\n  }, {\n    key: \"selectByValue\",\n    value: function selectByValue(value) {\n      var indexToSelect = -1;\n      for (var i = 0; i < this.items.length; i++) {\n        var item = this.items[i];\n        if (item.value === value) {\n          indexToSelect = i;\n          break;\n        }\n      }\n      this.valueSetDirectly = true;\n      this.select(indexToSelect);\n      this.mdcFoundation.handleChange();\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      _get(_getPrototypeOf(SelectBase.prototype), \"disconnectedCallback\", this).call(this);\n      var _iterator = _createForOfIteratorHelper(this.listeners),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var listener = _step.value;\n          listener.target.removeEventListener(listener.name, listener.cb);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var focusEvt = new CustomEvent('focus');\n      var selectAnchorElement = this.anchorElement;\n      if (selectAnchorElement) {\n        selectAnchorElement.dispatchEvent(focusEvt);\n        selectAnchorElement.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var focusEvt = new CustomEvent('blur');\n      var selectAnchorElement = this.anchorElement;\n      if (selectAnchorElement) {\n        selectAnchorElement.dispatchEvent(focusEvt);\n        selectAnchorElement.blur();\n      }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      if (this.mdcFoundation) {\n        this.mdcFoundation.handleFocus();\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      if (this.mdcFoundation) {\n        this.mdcFoundation.handleBlur();\n      }\n      var menuElement = this.menuElement;\n      if (menuElement && !menuElement.open) {\n        this.reportValidity();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(evt) {\n      if (this.mdcFoundation) {\n        this.focus();\n        var targetClientRect = evt.target.getBoundingClientRect();\n        var xCoord = 0;\n        if ('touches' in evt) {\n          xCoord = evt.touches[0].clientX;\n        } else {\n          xCoord = evt.clientX;\n        }\n        var normalizedX = xCoord - targetClientRect.left;\n        this.mdcFoundation.handleClick(normalizedX);\n      }\n    }\n  }, {\n    key: \"onKeydown\",\n    value: function onKeydown(evt) {\n      var arrowUp = normalizeKey(evt) === KEY.ARROW_UP;\n      var arrowDown = normalizeKey(evt) === KEY.ARROW_DOWN;\n      if (arrowDown || arrowUp) {\n        var shouldSelectNextItem = arrowUp && this.index > 0;\n        var shouldSelectPrevItem = arrowDown && this.index < this.items.length - 1;\n        if (shouldSelectNextItem) {\n          this.select(this.index - 1);\n        } else if (shouldSelectPrevItem) {\n          this.select(this.index + 1);\n        }\n        evt.preventDefault();\n        this.mdcFoundation.openMenu();\n        return;\n      }\n      this.mdcFoundation.handleKeydown(evt);\n    }\n    // must capture to run before list foundation captures event\n  }, {\n    key: \"handleTypeahead\",\n    value: function handleTypeahead(event) {\n      var _this5 = this;\n      if (!this.menuElement) {\n        return;\n      }\n      var focusedItemIndex = this.menuElement.getFocusedItemIndex();\n      var target = isNodeElement(event.target) ? event.target : null;\n      var isTargetListItem = target ? target.hasAttribute('mwc-list-item') : false;\n      var opts = {\n        event: event,\n        focusItemAtIndex: function focusItemAtIndex(index) {\n          _this5.menuElement.focusItemAtIndex(index);\n        },\n        focusedItemIndex: focusedItemIndex,\n        isTargetListItem: isTargetListItem,\n        sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n        isItemAtIndexDisabled: function isItemAtIndexDisabled(index) {\n          return _this5.items[index].disabled;\n        }\n      };\n      typeahead.handleKeydown(opts, this.typeaheadState);\n    }\n  }, {\n    key: \"onSelected\",\n    value: function () {\n      var _onSelected = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(event) {\n        var item;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              if (this.mdcFoundation) {\n                _context4.next = 3;\n                break;\n              }\n              _context4.next = 3;\n              return this.updateComplete;\n            case 3:\n              this.mdcFoundation.handleMenuItemAction(event.detail.index);\n              item = this.items[event.detail.index];\n              if (item) {\n                this.value = item.value;\n              }\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function onSelected(_x2) {\n        return _onSelected.apply(this, arguments);\n      }\n      return onSelected;\n    }()\n  }, {\n    key: \"onOpened\",\n    value: function onOpened() {\n      if (this.mdcFoundation) {\n        this.menuOpen = true;\n        this.mdcFoundation.handleMenuOpened();\n      }\n    }\n  }, {\n    key: \"onClosed\",\n    value: function onClosed() {\n      if (this.mdcFoundation) {\n        this.menuOpen = false;\n        this.mdcFoundation.handleMenuClosed();\n      }\n    }\n  }, {\n    key: \"setFormData\",\n    value: function setFormData(formData) {\n      if (this.name && this.selected !== null) {\n        formData.append(this.name, this.value);\n      }\n    }\n  }, {\n    key: \"layout\",\n    value: function () {\n      var _layout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var updateItems,\n          menuElement,\n          labelElement,\n          shouldFloat,\n          labelWidth,\n          _args5 = arguments;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              updateItems = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : true;\n              if (this.mdcFoundation) {\n                this.mdcFoundation.layout();\n              }\n              _context5.next = 4;\n              return this.updateComplete;\n            case 4:\n              menuElement = this.menuElement;\n              if (menuElement) {\n                menuElement.layout(updateItems);\n              }\n              labelElement = this.labelElement;\n              if (labelElement) {\n                _context5.next = 10;\n                break;\n              }\n              this.outlineOpen = false;\n              return _context5.abrupt(\"return\");\n            case 10:\n              shouldFloat = !!this.label && !!this.value;\n              labelElement.floatingLabelFoundation.float(shouldFloat);\n              if (this.outlined) {\n                _context5.next = 14;\n                break;\n              }\n              return _context5.abrupt(\"return\");\n            case 14:\n              this.outlineOpen = shouldFloat;\n              _context5.next = 17;\n              return this.updateComplete;\n            case 17:\n              /* When the textfield automatically notches due to a value and label\n               * being defined, the textfield may be set to `display: none` by the user.\n               * this means that the notch is of size 0px. We provide this function so\n               * that the user may manually resize the notch to the floated label's\n               * width.\n               */\n              labelWidth = labelElement.floatingLabelFoundation.getWidth();\n              if (this.outlineOpen) {\n                this.outlineWidth = labelWidth;\n              }\n            case 19:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function layout() {\n        return _layout.apply(this, arguments);\n      }\n      return layout;\n    }()\n  }, {\n    key: \"layoutOptions\",\n    value: function () {\n      var _layoutOptions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              if (this.mdcFoundation) {\n                _context6.next = 2;\n                break;\n              }\n              return _context6.abrupt(\"return\");\n            case 2:\n              this.mdcFoundation.layoutOptions();\n            case 3:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function layoutOptions() {\n        return _layoutOptions.apply(this, arguments);\n      }\n      return layoutOptions;\n    }()\n  }]);\n  return SelectBase;\n}(FormElement);\n__decorate([query('.mdc-select')], SelectBase.prototype, \"mdcRoot\", void 0);\n__decorate([query('.formElement')], SelectBase.prototype, \"formElement\", void 0);\n__decorate([query('slot')], SelectBase.prototype, \"slotElement\", void 0);\n__decorate([query('select')], SelectBase.prototype, \"nativeSelectElement\", void 0);\n__decorate([query('input')], SelectBase.prototype, \"nativeInputElement\", void 0);\n__decorate([query('.mdc-line-ripple')], SelectBase.prototype, \"lineRippleElement\", void 0);\n__decorate([query('.mdc-floating-label')], SelectBase.prototype, \"labelElement\", void 0);\n__decorate([query('mwc-notched-outline')], SelectBase.prototype, \"outlineElement\", void 0);\n__decorate([query('.mdc-menu')], SelectBase.prototype, \"menuElement\", void 0);\n__decorate([query('.mdc-select__anchor')], SelectBase.prototype, \"anchorElement\", void 0);\n__decorate([property({\n  type: Boolean,\n  attribute: 'disabled',\n  reflect: true\n}), observer(function (value) {\n  if (this.mdcFoundation) {\n    this.mdcFoundation.setDisabled(value);\n  }\n})], SelectBase.prototype, \"disabled\", void 0);\n__decorate([property({\n  type: Boolean\n}), observer(function (_newVal, oldVal) {\n  if (oldVal !== undefined && this.outlined !== oldVal) {\n    this.layout(false);\n  }\n})], SelectBase.prototype, \"outlined\", void 0);\n__decorate([property({\n  type: String\n}), observer(function (_newVal, oldVal) {\n  if (oldVal !== undefined && this.label !== oldVal) {\n    this.layout(false);\n  }\n})], SelectBase.prototype, \"label\", void 0);\n__decorate([state()], SelectBase.prototype, \"outlineOpen\", void 0);\n__decorate([state()], SelectBase.prototype, \"outlineWidth\", void 0);\n__decorate([property({\n  type: String\n}), observer(function (value) {\n  if (this.mdcFoundation) {\n    var initialization = this.selected === null && !!value;\n    var valueSetByUser = this.selected && this.selected.value !== value;\n    if (initialization || valueSetByUser) {\n      this.selectByValue(value);\n    }\n    this.reportValidity();\n  }\n})], SelectBase.prototype, \"value\", void 0);\n__decorate([property()], SelectBase.prototype, \"name\", void 0);\n__decorate([state()], SelectBase.prototype, \"selectedText\", void 0);\n__decorate([property({\n  type: String\n})], SelectBase.prototype, \"icon\", void 0);\n__decorate([state()], SelectBase.prototype, \"menuOpen\", void 0);\n__decorate([property({\n  type: String\n})], SelectBase.prototype, \"helper\", void 0);\n__decorate([property({\n  type: Boolean\n})], SelectBase.prototype, \"validateOnInitialRender\", void 0);\n__decorate([property({\n  type: String\n})], SelectBase.prototype, \"validationMessage\", void 0);\n__decorate([property({\n  type: Boolean\n})], SelectBase.prototype, \"required\", void 0);\n__decorate([property({\n  type: Boolean\n})], SelectBase.prototype, \"naturalMenuWidth\", void 0);\n__decorate([state()], SelectBase.prototype, \"isUiValid\", void 0);\n__decorate([property({\n  type: Boolean\n})], SelectBase.prototype, \"fixedMenuPosition\", void 0);\n__decorate([eventOptions({\n  capture: true\n})], SelectBase.prototype, \"handleTypeahead\", null);","map":{"version":3,"names":["KEY","normalizeKey","typeahead","addHasRemoveClass","FormElement","observer","isNodeElement","floatingLabel","lineRipple","MDCSelectFoundation","html","nothing","eventOptions","property","query","state","classMap","ifDefined","createValidityObj","customValidity","arguments","length","undefined","objectifiedCustomValidity","propName","Object","assign","badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valid","valueMissing","SelectBase","_FormElement","_inherits","_this","_classCallCheck","mdcFoundationClass","disabled","outlined","label","outlineOpen","outlineWidth","value","name","selectedText","icon","menuOpen","helper","validateOnInitialRender","validationMessage","required","naturalMenuWidth","isUiValid","fixedMenuPosition","typeaheadState","initState","sortedIndexByFirstChar","Map","menuElement_","listeners","onBodyClickBound","_menuUpdateComplete","valueSetDirectly","validityTransform","_validity","_createClass","key","get","menuElement","items","selected","index","_checkValidity","render","classes","labelledby","describedby","shouldRenderHelperText","_templateObject","_taggedTemplateLiteral","onClick","onFocus","onBlur","onKeydown","renderRipple","renderOutline","renderLabel","renderLeadingIcon","renderLineRipple","renderMenu","renderHelperText","getMenuClasses","_templateObject2","anchorElement","onSelected","onOpened","onClosed","onItemsUpdated","handleTypeahead","renderMenuContent","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","showValidationMessage","_templateObject9","createAdapter","_this2","mdcRoot","activateBottomLine","lineRippleElement","lineRippleFoundation","activate","deactivateBottomLine","deactivate","hasLabel","floatLabel","shouldFloat","labelElement","floatingLabelFoundation","float","getLabelWidth","getWidth","setLabelRequired","isRequired","setRequired","hasOutline","notchOutline","labelWidth","outlineElement","closeOutline","setRippleCenter","normalizedX","foundation","notifyChange","_notifyChange","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ev","wrap","_callee$","_context","prev","next","abrupt","updateComplete","Event","bubbles","dispatchEvent","stop","_x","apply","setSelectedText","isSelectAnchorFocused","selectAnchorElement","rootNode","getRootNode","activeElement","getSelectAnchorAttr","attr","getAttribute","setSelectAnchorAttr","setAttribute","removeSelectAnchorAttr","removeAttribute","openMenu","closeMenu","addMenuClass","removeMenuClass","getAnchorElement","setMenuAnchorElement","setMenuAnchorCorner","corner","setMenuWrapFocus","wrapFocus","focusMenuItemAtIndex","element","focus","getMenuItemCount","getMenuItemValues","map","item","getMenuItemTextAtIndex","text","getSelectedIndex","setSelectedIndex","isTypeaheadInProgress","isTypingInProgress","typeaheadMatchItem","nextChar","startingIndex","opts","focusItemAtIndex","focusedItemIndex","getFocusedItemIndex","skipFocus","isItemAtIndexDisabled","matchItem","select","checkValidity","isValid","invalidEvent","cancelable","reportValidity","nativeValidity","formElement","validity","setCustomValidity","message","_getUpdateComplete","_callee2","result","_callee2$","_context2","_get","_getPrototypeOf","prototype","call","sent","getUpdateComplete","_firstUpdated","_callee3","_this3","hasEmptyFirstOption","_callee3$","_context3","mdcFoundation","setValid","setDisabled","slotElement","assignedNodes","flatten","Promise","res","requestAnimationFrame","layout","selectByValue","initSortedIndex","firstUpdated","_this4","indexToSelect","i","handleChange","disconnectedCallback","_iterator","_createForOfIteratorHelper","_step","s","n","done","listener","target","removeEventListener","cb","err","e","f","focusEvt","CustomEvent","blur","handleFocus","handleBlur","open","evt","targetClientRect","getBoundingClientRect","xCoord","touches","clientX","left","handleClick","arrowUp","ARROW_UP","arrowDown","ARROW_DOWN","shouldSelectNextItem","shouldSelectPrevItem","preventDefault","handleKeydown","event","_this5","isTargetListItem","hasAttribute","_onSelected","_callee4","_callee4$","_context4","handleMenuItemAction","detail","_x2","handleMenuOpened","handleMenuClosed","setFormData","formData","append","_layout","_callee5","updateItems","_args5","_callee5$","_context5","_layoutOptions","_callee6","_callee6$","_context6","layoutOptions","__decorate","type","Boolean","attribute","reflect","_newVal","oldVal","String","initialization","valueSetByUser","capture"],"sources":["mwc-select-base.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\nimport '@material/mwc-notched-outline/mwc-notched-outline.js';\nimport '@material/mwc-menu/mwc-menu.js';\nimport '@material/mwc-icon/mwc-icon.js';\n\nimport {KEY, normalizeKey} from '@material/dom/keyboard.js';\nimport {MDCFloatingLabelFoundation} from '@material/floating-label/foundation.js';\nimport {MDCLineRippleFoundation} from '@material/line-ripple/foundation.js';\nimport * as typeahead from '@material/list/typeahead.js';\nimport {MDCListTextAndIndex} from '@material/list/types.js';\nimport {addHasRemoveClass, FormElement} from '@material/mwc-base/form-element.js';\nimport {observer} from '@material/mwc-base/observer.js';\nimport {isNodeElement} from '@material/mwc-base/utils.js';\nimport {floatingLabel, FloatingLabel} from '@material/mwc-floating-label/mwc-floating-label-directive.js';\nimport {lineRipple, LineRipple} from '@material/mwc-line-ripple/mwc-line-ripple-directive.js';\nimport {ListItemBase} from '@material/mwc-list/mwc-list-item-base.js';\nimport {Menu} from '@material/mwc-menu/mwc-menu.js';\nimport {NotchedOutline} from '@material/mwc-notched-outline/mwc-notched-outline.js';\nimport {MDCSelectAdapter} from '@material/select/adapter.js';\nimport MDCSelectFoundation from '@material/select/foundation.js';\nimport {html, nothing} from 'lit';\nimport {eventOptions, property, query, state} from 'lit/decorators.js';\nimport {classMap} from 'lit/directives/class-map.js';\nimport {ifDefined} from 'lit/directives/if-defined.js';\n\n// must be done to get past lit-analyzer checks\ndeclare global {\n  interface Element {\n    floatingLabelFoundation?: MDCFloatingLabelFoundation;\n    lineRippleFoundation?: MDCLineRippleFoundation;\n  }\n}\n\ntype CustomValidityState = {\n  -readonly[P in keyof ValidityState]: ValidityState[P]\n};\n\nconst createValidityObj =\n    (customValidity: Partial<ValidityState> = {}): ValidityState => {\n      /*\n       * We need to make ValidityState an object because it is readonly and\n       * we cannot use the spread operator. Also, we don't export\n       * `CustomValidityState` because it is a leaky implementation and the user\n       * already has access to `ValidityState` in lib.dom.ts. Also an interface\n       * {a: Type} can be casted to {readonly a: Type} so passing any object\n       * should be fine.\n       */\n      const objectifiedCustomValidity: Partial<CustomValidityState> = {};\n\n      // eslint-disable-next-line guard-for-in\n      for (const propName in customValidity) {\n        /*\n         * Casting is needed because ValidityState's props are all readonly and\n         * thus cannot be set on `onjectifiedCustomValidity`. In the end, the\n         * interface is the same as ValidityState (but not readonly), but the\n         * function signature casts the output to ValidityState (thus readonly).\n         */\n        objectifiedCustomValidity[propName as keyof CustomValidityState] =\n            customValidity[propName as keyof ValidityState];\n      }\n\n      return {\n        badInput: false,\n        customError: false,\n        patternMismatch: false,\n        rangeOverflow: false,\n        rangeUnderflow: false,\n        stepMismatch: false,\n        tooLong: false,\n        tooShort: false,\n        typeMismatch: false,\n        valid: true,\n        valueMissing: false,\n        ...objectifiedCustomValidity\n      };\n    };\n\n/**\n * @fires selected {SelectedDetail}\n * @fires action {ActionDetail}\n * @fires opened\n * @fires closed\n * @fires change\n * @fires invalid\n */\nexport abstract class SelectBase extends FormElement {\n  protected mdcFoundation!: MDCSelectFoundation;\n\n  protected readonly mdcFoundationClass = MDCSelectFoundation;\n\n  @query('.mdc-select') protected mdcRoot!: HTMLElement;\n\n  @query('.formElement') protected formElement!: HTMLInputElement;\n\n  @query('slot') protected slotElement!: HTMLSlotElement|null;\n\n  @query('select') protected nativeSelectElement!: HTMLSelectElement|null;\n\n  @query('input') protected nativeInputElement!: HTMLInputElement|null;\n\n  @query('.mdc-line-ripple') protected lineRippleElement!: LineRipple|null;\n\n  @query('.mdc-floating-label') protected labelElement!: FloatingLabel|null;\n\n  @query('mwc-notched-outline') protected outlineElement!: NotchedOutline|null;\n\n  @query('.mdc-menu') protected menuElement!: Menu|null;\n\n  @query('.mdc-select__anchor') protected anchorElement!: HTMLDivElement|null;\n\n  @property({type: Boolean, attribute: 'disabled', reflect: true})\n  @observer(function(this: SelectBase, value: boolean) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.setDisabled(value);\n    }\n  })\n  override disabled = false;\n\n  @property({type: Boolean})\n  @observer(function(this: SelectBase, _newVal: boolean, oldVal: boolean) {\n    if (oldVal !== undefined && this.outlined !== oldVal) {\n      this.layout(false);\n    }\n  })\n  outlined = false;\n\n  @property({type: String})\n  @observer(function(this: SelectBase, _newVal: string, oldVal: string) {\n    if (oldVal !== undefined && this.label !== oldVal) {\n      this.layout(false);\n    }\n  })\n  label = '';\n\n  @state() protected outlineOpen = false;\n\n  @state() protected outlineWidth = 0;\n\n  @property({type: String})\n  @observer(function(this: SelectBase, value: string) {\n    if (this.mdcFoundation) {\n      const initialization = this.selected === null && !!value;\n      const valueSetByUser = this.selected && this.selected.value !== value;\n\n      if (initialization || valueSetByUser) {\n        this.selectByValue(value);\n      }\n      this.reportValidity();\n    }\n  })\n  value = '';\n\n  @property() name = '';\n\n  @state() protected selectedText = '';\n\n  @property({type: String}) icon = '';\n\n  @state() protected menuOpen = false;\n\n  @property({type: String}) helper = '';\n\n  @property({type: Boolean}) validateOnInitialRender = false;\n\n  @property({type: String}) validationMessage = '';\n\n  @property({type: Boolean}) required = false;\n\n  @property({type: Boolean}) naturalMenuWidth = false;\n\n  @state() protected isUiValid = true;\n\n  @property({type: Boolean}) fixedMenuPosition = false;\n\n  // Transiently holds current typeahead prefix from user.\n  protected typeaheadState = typeahead.initState();\n  protected sortedIndexByFirstChar = new Map<string, MDCListTextAndIndex[]>();\n\n  protected menuElement_: Menu|null = null;\n\n  get items(): ListItemBase[] {\n    // memoize menuElement to prevent unnecessary querySelector calls.\n    if (!this.menuElement_) {\n      this.menuElement_ = this.menuElement;\n    }\n\n    if (this.menuElement_) {\n      return this.menuElement_.items;\n    }\n\n    return [];\n  }\n\n  get selected(): ListItemBase|null {\n    const menuElement = this.menuElement;\n    if (menuElement) {\n      return menuElement.selected as ListItemBase | null;\n    }\n\n    return null;\n  }\n\n  get index(): number {\n    const menuElement = this.menuElement;\n    if (menuElement) {\n      return menuElement.index as number;\n    }\n\n    return -1;\n  }\n\n  protected listeners: ({\n    target: Element;\n    name: string;\n    cb: EventListenerOrEventListenerObject;\n  })[] = [];\n  protected onBodyClickBound: (evt: MouseEvent) => void = () => undefined;\n  protected _menuUpdateComplete: null|Promise<unknown> = null;\n  protected get shouldRenderHelperText(): boolean {\n    return !!this.helper || !!this.validationMessage;\n  }\n\n  protected valueSetDirectly = false;\n\n  validityTransform:\n      ((value: string,\n        nativeValidity: ValidityState) => Partial<ValidityState>)|null = null;\n\n  protected _validity: ValidityState = createValidityObj();\n\n  get validity(): ValidityState {\n    this._checkValidity(this.value);\n\n    return this._validity;\n  }\n\n  override render() {\n    const classes = {\n      'mdc-select--disabled': this.disabled,\n      'mdc-select--no-label': !this.label,\n      'mdc-select--filled': !this.outlined,\n      'mdc-select--outlined': this.outlined,\n      'mdc-select--with-leading-icon': !!this.icon,\n      'mdc-select--required': this.required,\n      'mdc-select--invalid': !this.isUiValid,\n    };\n\n    const labelledby = !!this.label ? 'label' : undefined;\n    const describedby = this.shouldRenderHelperText ? 'helper-text' : undefined;\n\n    return html`\n      <div\n          class=\"mdc-select ${classMap(classes)}\">\n        <input\n            class=\"formElement\"\n            name=\"${this.name}\"\n            .value=\"${this.value}\"\n            hidden\n            ?disabled=\"${this.disabled}\"\n            ?required=${this.required}>\n        <!-- @ts-ignore -->\n        <div class=\"mdc-select__anchor\"\n            aria-autocomplete=\"none\"\n            role=\"combobox\"\n            aria-expanded=${this.menuOpen}\n            aria-invalid=${!this.isUiValid}\n            aria-haspopup=\"listbox\"\n            aria-labelledby=${ifDefined(labelledby)}\n            aria-required=${this.required}\n            aria-describedby=${ifDefined(describedby)}\n            @click=${this.onClick}\n            @focus=${this.onFocus}\n            @blur=${this.onBlur}\n            @keydown=${this.onKeydown}>\n          ${this.renderRipple()}\n          ${this.outlined ? this.renderOutline() : this.renderLabel()}\n          ${this.renderLeadingIcon()}\n          <span class=\"mdc-select__selected-text-container\">\n            <span class=\"mdc-select__selected-text\">${this.selectedText}</span>\n          </span>\n          <span class=\"mdc-select__dropdown-icon\">\n            <svg\n                class=\"mdc-select__dropdown-icon-graphic\"\n                viewBox=\"7 10 10 5\"\n                focusable=\"false\">\n              <polygon\n                  class=\"mdc-select__dropdown-icon-inactive\"\n                  stroke=\"none\"\n                  fill-rule=\"evenodd\"\n                  points=\"7 10 12 15 17 10\">\n              </polygon>\n              <polygon\n                  class=\"mdc-select__dropdown-icon-active\"\n                  stroke=\"none\"\n                  fill-rule=\"evenodd\"\n                  points=\"7 15 12 10 17 15\">\n              </polygon>\n            </svg>\n          </span>\n          ${this.renderLineRipple()}\n        </div>\n        ${this.renderMenu()}\n      </div>\n      ${this.renderHelperText()}`;\n  }\n\n  protected renderMenu() {\n    const classes = this.getMenuClasses();\n    return html`\n      <mwc-menu\n        innerRole=\"listbox\"\n        wrapFocus\n        class=\" ${classMap(classes)}\"\n        activatable\n        .fullwidth=${this.fixedMenuPosition ? false : !this.naturalMenuWidth}\n        .open=${this.menuOpen}\n        .anchor=${this.anchorElement}\n        .fixed=${this.fixedMenuPosition}\n        @selected=${this.onSelected}\n        @opened=${this.onOpened}\n        @closed=${this.onClosed}\n        @items-updated=${this.onItemsUpdated}\n        @keydown=${this.handleTypeahead}>\n      ${this.renderMenuContent()}\n    </mwc-menu>`;\n  }\n\n  protected getMenuClasses() {\n    return {\n      'mdc-select__menu': true,\n      'mdc-menu': true,\n      'mdc-menu-surface': true,\n      'mdc-select__menu--invalid': !this.isUiValid,\n    };\n  }\n\n  protected renderMenuContent() {\n    return html`<slot></slot>`;\n  }\n\n  protected renderRipple() {\n    if (this.outlined) {\n      return nothing;\n    }\n\n    return html`\n      <span class=\"mdc-select__ripple\"></span>\n    `;\n  }\n\n  protected renderOutline() {\n    if (!this.outlined) {\n      return nothing;\n    }\n\n    return html`\n      <mwc-notched-outline\n          .width=${this.outlineWidth}\n          .open=${this.outlineOpen}\n          class=\"mdc-notched-outline\">\n        ${this.renderLabel()}\n      </mwc-notched-outline>`;\n  }\n\n  protected renderLabel() {\n    if (!this.label) {\n      return nothing;\n    }\n\n    return html`\n      <span\n          .floatingLabelFoundation=${\n        floatingLabel(this.label) as unknown as MDCFloatingLabelFoundation}\n          id=\"label\">${this.label}</span>\n    `;\n  }\n\n  protected renderLeadingIcon() {\n    if (!this.icon) {\n      return nothing;\n    }\n\n    return html`<mwc-icon class=\"mdc-select__icon\"><div>${\n        this.icon}</div></mwc-icon>`;\n  }\n\n  protected renderLineRipple() {\n    if (this.outlined) {\n      return nothing;\n    }\n\n    return html`\n      <span .lineRippleFoundation=${\n        lineRipple() as unknown as MDCLineRippleFoundation}></span>\n    `;\n  }\n\n  protected renderHelperText() {\n    if (!this.shouldRenderHelperText) {\n      return nothing;\n    }\n\n    const showValidationMessage = this.validationMessage && !this.isUiValid;\n    const classes = {\n      'mdc-select-helper-text--validation-msg': showValidationMessage,\n    };\n\n    return html`\n        <p\n          class=\"mdc-select-helper-text ${classMap(classes)}\"\n          id=\"helper-text\">${\n        showValidationMessage ? this.validationMessage : this.helper}</p>`;\n  }\n\n  protected createAdapter(): MDCSelectAdapter {\n    return {\n      ...addHasRemoveClass(this.mdcRoot),\n      activateBottomLine: () => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.activate();\n        }\n      },\n      deactivateBottomLine: () => {\n        if (this.lineRippleElement) {\n          this.lineRippleElement.lineRippleFoundation.deactivate();\n        }\n      },\n      hasLabel: () => {\n        return !!this.label;\n      },\n      floatLabel: (shouldFloat) => {\n        if (this.labelElement) {\n          this.labelElement.floatingLabelFoundation.float(shouldFloat);\n        }\n      },\n      getLabelWidth: () => {\n        if (this.labelElement) {\n          return this.labelElement.floatingLabelFoundation.getWidth();\n        }\n\n        return 0;\n      },\n      setLabelRequired: (isRequired) => {\n        if (this.labelElement) {\n          this.labelElement.floatingLabelFoundation.setRequired(isRequired);\n        }\n      },\n      hasOutline: () => this.outlined,\n      notchOutline: (labelWidth) => {\n        const outlineElement = this.outlineElement;\n        if (outlineElement && !this.outlineOpen) {\n          this.outlineWidth = labelWidth;\n          this.outlineOpen = true;\n        }\n      },\n      closeOutline: () => {\n        if (this.outlineElement) {\n          this.outlineOpen = false;\n        }\n      },\n      setRippleCenter: (normalizedX) => {\n        if (this.lineRippleElement) {\n          const foundation = this.lineRippleElement.lineRippleFoundation;\n          foundation.setRippleCenter(normalizedX);\n        }\n      },\n      notifyChange: async (value) => {\n        if (!this.valueSetDirectly && value === this.value) {\n          return;\n        }\n\n        this.valueSetDirectly = false;\n        this.value = value;\n        await this.updateComplete;\n        const ev = new Event('change', {bubbles: true});\n        this.dispatchEvent(ev);\n      },\n      setSelectedText: (value) => this.selectedText = value,\n      isSelectAnchorFocused: () => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return false;\n        }\n\n        const rootNode =\n            selectAnchorElement.getRootNode() as ShadowRoot | Document;\n\n        return rootNode.activeElement === selectAnchorElement;\n      },\n      getSelectAnchorAttr: (attr) => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return null;\n        }\n\n        return selectAnchorElement.getAttribute(attr);\n      },\n      setSelectAnchorAttr: (attr, value) => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return;\n        }\n\n        selectAnchorElement.setAttribute(attr, value);\n      },\n      removeSelectAnchorAttr: (attr) => {\n        const selectAnchorElement = this.anchorElement;\n\n        if (!selectAnchorElement) {\n          return;\n        }\n\n        selectAnchorElement.removeAttribute(attr);\n      },\n      openMenu: () => {\n        this.menuOpen = true;\n      },\n      closeMenu: () => {\n        this.menuOpen = false;\n      },\n      addMenuClass: () => undefined,\n      removeMenuClass: () => undefined,\n      getAnchorElement: () => this.anchorElement,\n      setMenuAnchorElement: () => {\n          /* Handled by anchor directive */\n      },\n      setMenuAnchorCorner: () => {\n        const menuElement = this.menuElement;\n        if (menuElement) {\n          menuElement.corner = 'BOTTOM_START';\n        }\n      },\n      setMenuWrapFocus: (wrapFocus) => {\n        const menuElement = this.menuElement;\n        if (menuElement) {\n          menuElement.wrapFocus = wrapFocus;\n        }\n      },\n      focusMenuItemAtIndex: (index) => {\n        const menuElement = this.menuElement;\n        if (!menuElement) {\n          return;\n        }\n\n        const element = menuElement.items[index];\n\n        if (!element) {\n          return;\n        }\n\n        (element as HTMLElement).focus();\n      },\n      getMenuItemCount: () => {\n        const menuElement = this.menuElement;\n\n        if (menuElement) {\n          return menuElement.items.length;\n        }\n\n        return 0;\n      },\n      getMenuItemValues: () => {\n        const menuElement = this.menuElement;\n\n        if (!menuElement) {\n          return [];\n        }\n\n        const items = menuElement.items;\n\n        return items.map((item) => item.value);\n      },\n      getMenuItemTextAtIndex: (index) => {\n        const menuElement = this.menuElement;\n        if (!menuElement) {\n          return '';\n        }\n\n        const element = menuElement.items[index];\n\n        if (!element) {\n          return '';\n        }\n\n        return element.text;\n      },\n      getSelectedIndex: () => this.index,\n      setSelectedIndex: () => undefined,\n      isTypeaheadInProgress: () =>\n          typeahead.isTypingInProgress(this.typeaheadState),\n      typeaheadMatchItem: (nextChar, startingIndex) => {\n        if (!this.menuElement) {\n          return -1;\n        }\n\n        const opts: typeahead.TypeaheadMatchItemOpts = {\n          focusItemAtIndex: (index) => {\n            this.menuElement!.focusItemAtIndex(index);\n          },\n          focusedItemIndex: startingIndex ?\n              startingIndex :\n              this.menuElement.getFocusedItemIndex(),\n          nextChar,\n          sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n          skipFocus: false,\n          isItemAtIndexDisabled: (index) => this.items[index].disabled,\n        };\n\n        const index = typeahead.matchItem(opts, this.typeaheadState);\n\n        if (index !== -1) {\n          this.select(index);\n        }\n\n        return index;\n      },\n    };\n  }\n\n  checkValidity(): boolean {\n    const isValid = this._checkValidity(this.value);\n\n    if (!isValid) {\n      const invalidEvent =\n          new Event('invalid', {bubbles: false, cancelable: true});\n      this.dispatchEvent(invalidEvent);\n    }\n\n    return isValid;\n  }\n\n  reportValidity(): boolean {\n    const isValid = this.checkValidity();\n\n    this.isUiValid = isValid;\n\n    return isValid;\n  }\n\n  protected _checkValidity(value: string) {\n    const nativeValidity = this.formElement.validity;\n\n    let validity = createValidityObj(nativeValidity);\n\n    if (this.validityTransform) {\n      const customValidity = this.validityTransform(value, validity);\n      validity = {...validity, ...customValidity};\n    }\n\n    this._validity = validity;\n\n    return this._validity.valid;\n  }\n\n  setCustomValidity(message: string) {\n    this.validationMessage = message;\n    this.formElement.setCustomValidity(message);\n  }\n\n  // tslint:disable:ban-ts-ignore\n  protected override async getUpdateComplete() {\n    await this._menuUpdateComplete;\n    // @ts-ignore\n    const result = await super.getUpdateComplete();\n    return result;\n  }\n  // tslint:enable:ban-ts-ignore\n\n  protected override async firstUpdated() {\n    const menuElement = this.menuElement;\n\n    if (menuElement) {\n      this._menuUpdateComplete = menuElement.updateComplete;\n      await this._menuUpdateComplete;\n    }\n\n    super.firstUpdated();\n\n    this.mdcFoundation.isValid = () => true;\n    this.mdcFoundation.setValid = () => undefined;\n    this.mdcFoundation.setDisabled(this.disabled);\n\n    if (this.validateOnInitialRender) {\n      this.reportValidity();\n    }\n\n    // Select an option based on init value\n    if (!this.selected) {\n      if (!this.items.length && this.slotElement &&\n          this.slotElement.assignedNodes({flatten: true}).length) {\n        // Shady DOM initial render fix\n        await new Promise((res) => requestAnimationFrame(res));\n        await this.layout();\n      }\n\n      const hasEmptyFirstOption =\n          this.items.length && this.items[0].value === '';\n      if (!this.value && hasEmptyFirstOption) {\n        this.select(0);\n        return;\n      }\n\n      this.selectByValue(this.value);\n    }\n\n    this.sortedIndexByFirstChar = typeahead.initSortedIndex(\n        this.items.length, (index) => this.items[index].text);\n  }\n\n  protected onItemsUpdated() {\n    this.sortedIndexByFirstChar = typeahead.initSortedIndex(\n        this.items.length, (index) => this.items[index].text);\n  }\n\n  select(index: number) {\n    const menuElement = this.menuElement;\n\n    if (menuElement) {\n      menuElement.select(index);\n    }\n  }\n\n  protected selectByValue(value: string) {\n    let indexToSelect = -1;\n    for (let i = 0; i < this.items.length; i++) {\n      const item = this.items[i];\n      if (item.value === value) {\n        indexToSelect = i;\n        break;\n      }\n    }\n    this.valueSetDirectly = true;\n    this.select(indexToSelect);\n    this.mdcFoundation.handleChange();\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n\n    for (const listener of this.listeners) {\n      listener.target.removeEventListener(listener.name, listener.cb);\n    }\n  }\n\n  override focus() {\n    const focusEvt = new CustomEvent('focus');\n    const selectAnchorElement = this.anchorElement;\n\n    if (selectAnchorElement) {\n      selectAnchorElement.dispatchEvent(focusEvt);\n      selectAnchorElement.focus();\n    }\n  }\n\n  override blur() {\n    const focusEvt = new CustomEvent('blur');\n    const selectAnchorElement = this.anchorElement;\n\n    if (selectAnchorElement) {\n      selectAnchorElement.dispatchEvent(focusEvt);\n      selectAnchorElement.blur();\n    }\n  }\n\n  protected onFocus() {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleFocus();\n    }\n  }\n\n  protected onBlur() {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleBlur();\n    }\n\n    const menuElement = this.menuElement;\n\n    if (menuElement && !menuElement.open) {\n      this.reportValidity();\n    }\n  }\n\n  protected onClick(evt: MouseEvent|TouchEvent) {\n    if (this.mdcFoundation) {\n      this.focus();\n      const targetClientRect = (evt.target as Element).getBoundingClientRect();\n      let xCoord = 0;\n\n      if ('touches' in evt) {\n        xCoord = evt.touches[0].clientX;\n      } else {\n        xCoord = evt.clientX;\n      }\n\n      const normalizedX = xCoord - targetClientRect.left;\n      this.mdcFoundation.handleClick(normalizedX);\n    }\n  }\n\n  protected onKeydown(evt: KeyboardEvent) {\n    const arrowUp = normalizeKey(evt) === KEY.ARROW_UP;\n    const arrowDown = normalizeKey(evt) === KEY.ARROW_DOWN;\n\n    if (arrowDown || arrowUp) {\n      const shouldSelectNextItem = arrowUp && this.index > 0;\n      const shouldSelectPrevItem =\n          arrowDown && this.index < this.items.length - 1;\n\n      if (shouldSelectNextItem) {\n        this.select(this.index - 1);\n      } else if (shouldSelectPrevItem) {\n        this.select(this.index + 1);\n      }\n      evt.preventDefault();\n\n      this.mdcFoundation.openMenu();\n      return;\n    }\n\n    this.mdcFoundation.handleKeydown(evt);\n  }\n\n  // must capture to run before list foundation captures event\n  @eventOptions({capture: true})\n  protected handleTypeahead(event: KeyboardEvent) {\n    if (!this.menuElement) {\n      return;\n    }\n\n    const focusedItemIndex = this.menuElement.getFocusedItemIndex();\n    const target = isNodeElement(event.target as Node) ?\n        event.target as HTMLElement :\n        null;\n    const isTargetListItem =\n        target ? target.hasAttribute('mwc-list-item') : false;\n\n    const opts: typeahead.HandleKeydownOpts = {\n      event,\n      focusItemAtIndex: (index) => {\n        this.menuElement!.focusItemAtIndex(index);\n      },\n      focusedItemIndex,\n      isTargetListItem,\n      sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n      isItemAtIndexDisabled: (index) => this.items[index].disabled,\n    };\n\n    typeahead.handleKeydown(opts, this.typeaheadState);\n  }\n\n  protected async onSelected(event: CustomEvent<{index: number}>) {\n    if (!this.mdcFoundation) {\n      await this.updateComplete;\n    }\n\n    this.mdcFoundation.handleMenuItemAction(event.detail.index);\n    const item = this.items[event.detail.index];\n    if (item) {\n      this.value = item.value;\n    }\n  }\n\n  protected onOpened() {\n    if (this.mdcFoundation) {\n      this.menuOpen = true;\n      this.mdcFoundation.handleMenuOpened();\n    }\n  }\n\n  protected onClosed() {\n    if (this.mdcFoundation) {\n      this.menuOpen = false;\n      this.mdcFoundation.handleMenuClosed();\n    }\n  }\n\n  protected setFormData(formData: FormData) {\n    if (this.name && this.selected !== null) {\n      formData.append(this.name, this.value);\n    }\n  }\n\n  async layout(updateItems = true) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.layout();\n    }\n\n    await this.updateComplete;\n\n    const menuElement = this.menuElement;\n\n    if (menuElement) {\n      menuElement.layout(updateItems);\n    }\n\n    const labelElement = this.labelElement;\n\n    if (!labelElement) {\n      this.outlineOpen = false;\n      return;\n    }\n\n    const shouldFloat = !!this.label && !!this.value;\n    labelElement.floatingLabelFoundation.float(shouldFloat);\n\n    if (!this.outlined) {\n      return;\n    }\n\n    this.outlineOpen = shouldFloat;\n    await this.updateComplete;\n\n    /* When the textfield automatically notches due to a value and label\n     * being defined, the textfield may be set to `display: none` by the user.\n     * this means that the notch is of size 0px. We provide this function so\n     * that the user may manually resize the notch to the floated label's\n     * width.\n     */\n    const labelWidth = labelElement.floatingLabelFoundation.getWidth();\n    if (this.outlineOpen) {\n      this.outlineWidth = labelWidth;\n    }\n  }\n\n  async layoutOptions() {\n    if (!this.mdcFoundation) {\n      return;\n    }\n\n    this.mdcFoundation.layoutOptions();\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}