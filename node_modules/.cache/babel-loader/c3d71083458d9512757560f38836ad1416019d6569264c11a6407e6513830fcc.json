{"ast":null,"code":"import { createCollection } from \"home-assistant-js-websocket\";\nimport { fetchEntityRegistryDisplay } from \"./entity_registry\";\nimport { debounce } from \"../common/util/debounce\";\nconst subscribeEntityRegistryDisplayUpdates = (conn, store) => conn.subscribeEvents(debounce(() => fetchEntityRegistryDisplay(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\nexport const subscribeEntityRegistryDisplay = (conn, onChange) => createCollection(\"_entityRegistryDisplay\", fetchEntityRegistryDisplay, subscribeEntityRegistryDisplayUpdates, conn, onChange);","map":{"version":3,"names":["createCollection","fetchEntityRegistryDisplay","debounce","subscribeEntityRegistryDisplayUpdates","conn","store","subscribeEvents","then","entities","setState","subscribeEntityRegistryDisplay","onChange"],"sources":["/workspaces/frontend/src/data/ws-entity_registry_display.ts"],"sourcesContent":["import { Connection, createCollection } from \"home-assistant-js-websocket\";\nimport { Store } from \"home-assistant-js-websocket/dist/store\";\nimport {\n  EntityRegistryDisplayEntryResponse,\n  fetchEntityRegistryDisplay,\n} from \"./entity_registry\";\nimport { debounce } from \"../common/util/debounce\";\n\nconst subscribeEntityRegistryDisplayUpdates = (\n  conn: Connection,\n  store: Store<EntityRegistryDisplayEntryResponse>\n) =>\n  conn.subscribeEvents(\n    debounce(\n      () =>\n        fetchEntityRegistryDisplay(conn).then((entities) =>\n          store.setState(entities, true)\n        ),\n      500,\n      true\n    ),\n    \"entity_registry_updated\"\n  );\n\nexport const subscribeEntityRegistryDisplay = (\n  conn: Connection,\n  onChange: (entities: EntityRegistryDisplayEntryResponse) => void\n) =>\n  createCollection<EntityRegistryDisplayEntryResponse>(\n    \"_entityRegistryDisplay\",\n    fetchEntityRegistryDisplay,\n    subscribeEntityRegistryDisplayUpdates,\n    conn,\n    onChange\n  );\n"],"mappings":"AAAA,SAAqBA,gBAAgB,QAAQ,6BAA6B;AAE1E,SAEEC,0BAA0B,QACrB,mBAAmB;AAC1B,SAASC,QAAQ,QAAQ,yBAAyB;AAElD,MAAMC,qCAAqC,GAAGA,CAC5CC,IAAgB,EAChBC,KAAgD,KAEhDD,IAAI,CAACE,eAAe,CAClBJ,QAAQ,CACN,MACED,0BAA0B,CAACG,IAAI,CAAC,CAACG,IAAI,CAAEC,QAAQ,IAC7CH,KAAK,CAACI,QAAQ,CAACD,QAAQ,EAAE,IAAI,CAC/B,CAAC,EACH,GAAG,EACH,IACF,CAAC,EACD,yBACF,CAAC;AAEH,OAAO,MAAME,8BAA8B,GAAGA,CAC5CN,IAAgB,EAChBO,QAAgE,KAEhEX,gBAAgB,CACd,wBAAwB,EACxBC,0BAA0B,EAC1BE,qCAAqC,EACrCC,IAAI,EACJO,QACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}