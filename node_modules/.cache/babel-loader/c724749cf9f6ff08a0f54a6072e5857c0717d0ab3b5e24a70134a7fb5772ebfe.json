{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { isComponentLoaded } from \"../../common/config/is_component_loaded\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\nimport { computeGroupDomain } from \"../../data/group\";\nimport { CONTINUOUS_DOMAINS } from \"../../data/logbook\";\nexport var DOMAINS_NO_INFO = [\"camera\", \"configurator\"];\n/**\n * Entity domains that should be editable *if* they have an id present;\n * {@see shouldShowEditIcon}.\n * */\nexport var EDITABLE_DOMAINS_WITH_ID = [\"scene\", \"automation\"];\n/**\n * Entity Domains that should always be editable; {@see shouldShowEditIcon}.\n * */\nexport var EDITABLE_DOMAINS_WITH_UNIQUE_ID = [\"script\"];\n/** Domains with with new more info design. */\nexport var DOMAINS_WITH_NEW_MORE_INFO = [\"alarm_control_panel\", \"cover\", \"climate\", \"fan\", \"humidifier\", \"input_boolean\", \"light\", \"lock\", \"siren\", \"switch\", \"valve\", \"water_heater\"];\n/** Domains with separate more info dialog. */\nexport var DOMAINS_WITH_MORE_INFO = [\"alarm_control_panel\", \"automation\", \"camera\", \"climate\", \"configurator\", \"counter\", \"cover\", \"date\", \"datetime\", \"fan\", \"group\", \"humidifier\", \"image\", \"input_boolean\", \"input_datetime\", \"lawn_mower\", \"light\", \"lock\", \"media_player\", \"person\", \"remote\", \"script\", \"scene\", \"siren\", \"sun\", \"switch\", \"time\", \"timer\", \"update\", \"vacuum\", \"valve\", \"water_heater\", \"weather\"];\n\n/** Domains that do not show the default more info dialog content (e.g. the attribute section)\n *  and do not have a separate more info (so not in DOMAINS_WITH_MORE_INFO). */\nexport var DOMAINS_HIDE_DEFAULT_MORE_INFO = [\"input_number\", \"input_select\", \"input_text\", \"number\", \"scene\", \"select\", \"text\", \"update\", \"event\"];\n\n/** Domains that should have the history hidden in the more info dialog. */\nexport var DOMAINS_MORE_INFO_NO_HISTORY = [\"camera\", \"configurator\"];\nexport var computeShowHistoryComponent = function computeShowHistoryComponent(hass, entityId) {\n  return isComponentLoaded(hass, \"history\") && !DOMAINS_MORE_INFO_NO_HISTORY.includes(computeDomain(entityId));\n};\nexport var computeShowLogBookComponent = function computeShowLogBookComponent(hass, entityId) {\n  if (!isComponentLoaded(hass, \"logbook\")) {\n    return false;\n  }\n  var stateObj = hass.states[entityId];\n  if (!stateObj || stateObj.attributes.unit_of_measurement) {\n    return false;\n  }\n  var domain = computeDomain(entityId);\n  if (CONTINUOUS_DOMAINS.includes(domain) || DOMAINS_MORE_INFO_NO_HISTORY.includes(domain)) {\n    return false;\n  }\n  return true;\n};\nexport var computeShowNewMoreInfo = function computeShowNewMoreInfo(stateObj) {\n  var domain = computeDomain(stateObj.entity_id);\n  if (domain === \"group\") {\n    var groupDomain = computeGroupDomain(stateObj);\n    return groupDomain != null && groupDomain !== \"group\" && DOMAINS_WITH_NEW_MORE_INFO.includes(groupDomain);\n  }\n  return DOMAINS_WITH_NEW_MORE_INFO.includes(domain);\n};","map":{"version":3,"names":["isComponentLoaded","computeDomain","computeGroupDomain","CONTINUOUS_DOMAINS","DOMAINS_NO_INFO","EDITABLE_DOMAINS_WITH_ID","EDITABLE_DOMAINS_WITH_UNIQUE_ID","DOMAINS_WITH_NEW_MORE_INFO","DOMAINS_WITH_MORE_INFO","DOMAINS_HIDE_DEFAULT_MORE_INFO","DOMAINS_MORE_INFO_NO_HISTORY","computeShowHistoryComponent","hass","entityId","includes","computeShowLogBookComponent","stateObj","states","attributes","unit_of_measurement","domain","computeShowNewMoreInfo","entity_id","groupDomain"],"sources":["/workspaces/frontend/src/dialogs/more-info/const.ts"],"sourcesContent":["import { HassEntity } from \"home-assistant-js-websocket\";\nimport { isComponentLoaded } from \"../../common/config/is_component_loaded\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\nimport { computeGroupDomain, GroupEntity } from \"../../data/group\";\nimport { CONTINUOUS_DOMAINS } from \"../../data/logbook\";\nimport { HomeAssistant } from \"../../types\";\n\nexport const DOMAINS_NO_INFO = [\"camera\", \"configurator\"];\n/**\n * Entity domains that should be editable *if* they have an id present;\n * {@see shouldShowEditIcon}.\n * */\nexport const EDITABLE_DOMAINS_WITH_ID = [\"scene\", \"automation\"];\n/**\n * Entity Domains that should always be editable; {@see shouldShowEditIcon}.\n * */\nexport const EDITABLE_DOMAINS_WITH_UNIQUE_ID = [\"script\"];\n/** Domains with with new more info design. */\nexport const DOMAINS_WITH_NEW_MORE_INFO = [\n  \"alarm_control_panel\",\n  \"cover\",\n  \"climate\",\n  \"fan\",\n  \"humidifier\",\n  \"input_boolean\",\n  \"light\",\n  \"lock\",\n  \"siren\",\n  \"switch\",\n  \"valve\",\n  \"water_heater\",\n];\n/** Domains with separate more info dialog. */\nexport const DOMAINS_WITH_MORE_INFO = [\n  \"alarm_control_panel\",\n  \"automation\",\n  \"camera\",\n  \"climate\",\n  \"configurator\",\n  \"counter\",\n  \"cover\",\n  \"date\",\n  \"datetime\",\n  \"fan\",\n  \"group\",\n  \"humidifier\",\n  \"image\",\n  \"input_boolean\",\n  \"input_datetime\",\n  \"lawn_mower\",\n  \"light\",\n  \"lock\",\n  \"media_player\",\n  \"person\",\n  \"remote\",\n  \"script\",\n  \"scene\",\n  \"siren\",\n  \"sun\",\n  \"switch\",\n  \"time\",\n  \"timer\",\n  \"update\",\n  \"vacuum\",\n  \"valve\",\n  \"water_heater\",\n  \"weather\",\n];\n\n/** Domains that do not show the default more info dialog content (e.g. the attribute section)\n *  and do not have a separate more info (so not in DOMAINS_WITH_MORE_INFO). */\nexport const DOMAINS_HIDE_DEFAULT_MORE_INFO = [\n  \"input_number\",\n  \"input_select\",\n  \"input_text\",\n  \"number\",\n  \"scene\",\n  \"select\",\n  \"text\",\n  \"update\",\n  \"event\",\n];\n\n/** Domains that should have the history hidden in the more info dialog. */\nexport const DOMAINS_MORE_INFO_NO_HISTORY = [\"camera\", \"configurator\"];\n\nexport const computeShowHistoryComponent = (\n  hass: HomeAssistant,\n  entityId: string\n) =>\n  isComponentLoaded(hass, \"history\") &&\n  !DOMAINS_MORE_INFO_NO_HISTORY.includes(computeDomain(entityId));\n\nexport const computeShowLogBookComponent = (\n  hass: HomeAssistant,\n  entityId: string\n): boolean => {\n  if (!isComponentLoaded(hass, \"logbook\")) {\n    return false;\n  }\n\n  const stateObj = hass.states[entityId];\n  if (!stateObj || stateObj.attributes.unit_of_measurement) {\n    return false;\n  }\n\n  const domain = computeDomain(entityId);\n  if (\n    CONTINUOUS_DOMAINS.includes(domain) ||\n    DOMAINS_MORE_INFO_NO_HISTORY.includes(domain)\n  ) {\n    return false;\n  }\n\n  return true;\n};\n\nexport const computeShowNewMoreInfo = (stateObj: HassEntity): boolean => {\n  const domain = computeDomain(stateObj.entity_id);\n  if (domain === \"group\") {\n    const groupDomain = computeGroupDomain(stateObj as GroupEntity);\n    return (\n      groupDomain != null &&\n      groupDomain !== \"group\" &&\n      DOMAINS_WITH_NEW_MORE_INFO.includes(groupDomain)\n    );\n  }\n  return DOMAINS_WITH_NEW_MORE_INFO.includes(domain);\n};\n"],"mappings":";;AACA,SAASA,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,aAAa,QAAQ,oCAAoC;AAClE,SAASC,kBAAkB,QAAqB,kBAAkB;AAClE,SAASC,kBAAkB,QAAQ,oBAAoB;AAGvD,OAAO,IAAMC,eAAe,GAAG,CAAC,QAAQ,EAAE,cAAc,CAAC;AACzD;AACA;AACA;AACA;AACA,OAAO,IAAMC,wBAAwB,GAAG,CAAC,OAAO,EAAE,YAAY,CAAC;AAC/D;AACA;AACA;AACA,OAAO,IAAMC,+BAA+B,GAAG,CAAC,QAAQ,CAAC;AACzD;AACA,OAAO,IAAMC,0BAA0B,GAAG,CACxC,qBAAqB,EACrB,OAAO,EACP,SAAS,EACT,KAAK,EACL,YAAY,EACZ,eAAe,EACf,OAAO,EACP,MAAM,EACN,OAAO,EACP,QAAQ,EACR,OAAO,EACP,cAAc,CACf;AACD;AACA,OAAO,IAAMC,sBAAsB,GAAG,CACpC,qBAAqB,EACrB,YAAY,EACZ,QAAQ,EACR,SAAS,EACT,cAAc,EACd,SAAS,EACT,OAAO,EACP,MAAM,EACN,UAAU,EACV,KAAK,EACL,OAAO,EACP,YAAY,EACZ,OAAO,EACP,eAAe,EACf,gBAAgB,EAChB,YAAY,EACZ,OAAO,EACP,MAAM,EACN,cAAc,EACd,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,OAAO,EACP,KAAK,EACL,QAAQ,EACR,MAAM,EACN,OAAO,EACP,QAAQ,EACR,QAAQ,EACR,OAAO,EACP,cAAc,EACd,SAAS,CACV;;AAED;AACA;AACA,OAAO,IAAMC,8BAA8B,GAAG,CAC5C,cAAc,EACd,cAAc,EACd,YAAY,EACZ,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,OAAO,CACR;;AAED;AACA,OAAO,IAAMC,4BAA4B,GAAG,CAAC,QAAQ,EAAE,cAAc,CAAC;AAEtE,OAAO,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA2BA,CACtCC,IAAmB,EACnBC,QAAgB;EAAA,OAEhBb,iBAAiB,CAACY,IAAI,EAAE,SAAS,CAAC,IAClC,CAACF,4BAA4B,CAACI,QAAQ,CAACb,aAAa,CAACY,QAAQ,CAAC,CAAC;AAAA;AAEjE,OAAO,IAAME,2BAA2B,GAAG,SAA9BA,2BAA2BA,CACtCH,IAAmB,EACnBC,QAAgB,EACJ;EACZ,IAAI,CAACb,iBAAiB,CAACY,IAAI,EAAE,SAAS,CAAC,EAAE;IACvC,OAAO,KAAK;EACd;EAEA,IAAMI,QAAQ,GAAGJ,IAAI,CAACK,MAAM,CAACJ,QAAQ,CAAC;EACtC,IAAI,CAACG,QAAQ,IAAIA,QAAQ,CAACE,UAAU,CAACC,mBAAmB,EAAE;IACxD,OAAO,KAAK;EACd;EAEA,IAAMC,MAAM,GAAGnB,aAAa,CAACY,QAAQ,CAAC;EACtC,IACEV,kBAAkB,CAACW,QAAQ,CAACM,MAAM,CAAC,IACnCV,4BAA4B,CAACI,QAAQ,CAACM,MAAM,CAAC,EAC7C;IACA,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb,CAAC;AAED,OAAO,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIL,QAAoB,EAAc;EACvE,IAAMI,MAAM,GAAGnB,aAAa,CAACe,QAAQ,CAACM,SAAS,CAAC;EAChD,IAAIF,MAAM,KAAK,OAAO,EAAE;IACtB,IAAMG,WAAW,GAAGrB,kBAAkB,CAACc,QAAuB,CAAC;IAC/D,OACEO,WAAW,IAAI,IAAI,IACnBA,WAAW,KAAK,OAAO,IACvBhB,0BAA0B,CAACO,QAAQ,CAACS,WAAW,CAAC;EAEpD;EACA,OAAOhB,0BAA0B,CAACO,QAAQ,CAACM,MAAM,CAAC;AACpD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}