{"ast":null,"code":"import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport { historyPromise } from \"../state/url-sync-mixin\";\nimport { fireEvent } from \"./dom/fire_event\";\nimport { mainWindow } from \"./dom/get_main_window\";\nexport var navigate = function navigate(path, options) {\n  var replace = (options === null || options === void 0 ? void 0 : options.replace) || false;\n  if (historyPromise) {\n    historyPromise.then(function () {\n      return navigate(path, options);\n    });\n    return;\n  }\n  if (__DEMO__) {\n    if (replace) {\n      var _mainWindow$history$s;\n      mainWindow.history.replaceState((_mainWindow$history$s = mainWindow.history.state) !== null && _mainWindow$history$s !== void 0 && _mainWindow$history$s.root ? {\n        root: true\n      } : null, \"\", \"\".concat(mainWindow.location.pathname, \"#\").concat(path));\n    } else {\n      mainWindow.location.hash = path;\n    }\n  } else if (replace) {\n    var _mainWindow$history$s2;\n    mainWindow.history.replaceState((_mainWindow$history$s2 = mainWindow.history.state) !== null && _mainWindow$history$s2 !== void 0 && _mainWindow$history$s2.root ? {\n      root: true\n    } : null, \"\", path);\n  } else {\n    mainWindow.history.pushState(null, \"\", path);\n  }\n  fireEvent(mainWindow, \"location-changed\", {\n    replace: replace\n  });\n};","map":{"version":3,"names":["historyPromise","fireEvent","mainWindow","navigate","path","options","replace","then","__DEMO__","_mainWindow$history$s","history","replaceState","state","root","concat","location","pathname","hash","_mainWindow$history$s2","pushState"],"sources":["/workspaces/frontend/src/common/navigate.ts"],"sourcesContent":["import { historyPromise } from \"../state/url-sync-mixin\";\nimport { fireEvent } from \"./dom/fire_event\";\nimport { mainWindow } from \"./dom/get_main_window\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"location-changed\": NavigateOptions;\n  }\n}\n\nexport interface NavigateOptions {\n  replace?: boolean;\n}\n\nexport const navigate = (path: string, options?: NavigateOptions) => {\n  const replace = options?.replace || false;\n\n  if (historyPromise) {\n    historyPromise.then(() => navigate(path, options));\n    return;\n  }\n\n  if (__DEMO__) {\n    if (replace) {\n      mainWindow.history.replaceState(\n        mainWindow.history.state?.root ? { root: true } : null,\n        \"\",\n        `${mainWindow.location.pathname}#${path}`\n      );\n    } else {\n      mainWindow.location.hash = path;\n    }\n  } else if (replace) {\n    mainWindow.history.replaceState(\n      mainWindow.history.state?.root ? { root: true } : null,\n      \"\",\n      path\n    );\n  } else {\n    mainWindow.history.pushState(null, \"\", path);\n  }\n  fireEvent(mainWindow, \"location-changed\", {\n    replace,\n  });\n};\n"],"mappings":";;;AAAA,SAASA,cAAc,QAAQ,yBAAyB;AACxD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,UAAU,QAAQ,uBAAuB;AAalD,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,IAAY,EAAEC,OAAyB,EAAK;EACnE,IAAMC,OAAO,GAAG,CAAAD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,OAAO,KAAI,KAAK;EAEzC,IAAIN,cAAc,EAAE;IAClBA,cAAc,CAACO,IAAI,CAAC;MAAA,OAAMJ,QAAQ,CAACC,IAAI,EAAEC,OAAO,CAAC;IAAA,EAAC;IAClD;EACF;EAEA,IAAIG,QAAQ,EAAE;IACZ,IAAIF,OAAO,EAAE;MAAA,IAAAG,qBAAA;MACXP,UAAU,CAACQ,OAAO,CAACC,YAAY,CAC7B,CAAAF,qBAAA,GAAAP,UAAU,CAACQ,OAAO,CAACE,KAAK,cAAAH,qBAAA,eAAxBA,qBAAA,CAA0BI,IAAI,GAAG;QAAEA,IAAI,EAAE;MAAK,CAAC,GAAG,IAAI,EACtD,EAAE,KAAAC,MAAA,CACCZ,UAAU,CAACa,QAAQ,CAACC,QAAQ,OAAAF,MAAA,CAAIV,IAAI,CACzC,CAAC;IACH,CAAC,MAAM;MACLF,UAAU,CAACa,QAAQ,CAACE,IAAI,GAAGb,IAAI;IACjC;EACF,CAAC,MAAM,IAAIE,OAAO,EAAE;IAAA,IAAAY,sBAAA;IAClBhB,UAAU,CAACQ,OAAO,CAACC,YAAY,CAC7B,CAAAO,sBAAA,GAAAhB,UAAU,CAACQ,OAAO,CAACE,KAAK,cAAAM,sBAAA,eAAxBA,sBAAA,CAA0BL,IAAI,GAAG;MAAEA,IAAI,EAAE;IAAK,CAAC,GAAG,IAAI,EACtD,EAAE,EACFT,IACF,CAAC;EACH,CAAC,MAAM;IACLF,UAAU,CAACQ,OAAO,CAACS,SAAS,CAAC,IAAI,EAAE,EAAE,EAAEf,IAAI,CAAC;EAC9C;EACAH,SAAS,CAACC,UAAU,EAAE,kBAAkB,EAAE;IACxCI,OAAO,EAAPA;EACF,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}