{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../../../../common/dom/fire_event\";\nimport \"../../../../../components/ha-textfield\";\nimport { haStyle } from \"../../../../../resources/styles\";\nimport \"../ha-automation-action\";\nexport var HaIfAction = _decorate([customElement(\"ha-automation-action-if\")], function (_initialize, _LitElement) {\n  var HaIfAction = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaIfAction, _LitElement2);\n    function HaIfAction() {\n      var _this;\n      _classCallCheck(this, HaIfAction);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HaIfAction, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HaIfAction);\n  }(_LitElement);\n  return {\n    F: HaIfAction,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"disabled\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"path\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"action\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_showElse\",\n      value: function value() {\n        return false;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"defaultConfig\",\n      value: function defaultConfig() {\n        return {\n          if: [],\n          then: []\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$path, _this$path2, _this$path3;\n        var action = this.action;\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <h3>\\n        \", \"*:\\n      </h3>\\n      <ha-automation-condition\\n        .path=\", \"\\n        .conditions=\", \"\\n        .disabled=\", \"\\n        @value-changed=\", \"\\n        .hass=\", \"\\n      ></ha-automation-condition>\\n\\n      <h3>\\n        \", \"*:\\n      </h3>\\n      <ha-automation-action\\n        .path=\", \"\\n        .actions=\", \"\\n        .disabled=\", \"\\n        @value-changed=\", \"\\n        .hass=\", \"\\n      ></ha-automation-action>\\n      \", \"\\n    \"])), this.hass.localize(\"ui.panel.config.automation.editor.actions.type.if.if\"), [].concat(_toConsumableArray((_this$path = this.path) !== null && _this$path !== void 0 ? _this$path : []), [\"if\"]), action.if, this.disabled, this._ifChanged, this.hass, this.hass.localize(\"ui.panel.config.automation.editor.actions.type.if.then\"), [].concat(_toConsumableArray((_this$path2 = this.path) !== null && _this$path2 !== void 0 ? _this$path2 : []), [\"then\"]), action.then, this.disabled, this._thenChanged, this.hass, this._showElse || action.else ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n            <h3>\\n              \", \":\\n            </h3>\\n            <ha-automation-action\\n              .path=\", \"\\n              .actions=\", \"\\n              .disabled=\", \"\\n              @value-changed=\", \"\\n              .hass=\", \"\\n            ></ha-automation-action>\\n          \"])), this.hass.localize(\"ui.panel.config.automation.editor.actions.type.if.else\"), [].concat(_toConsumableArray((_this$path3 = this.path) !== null && _this$path3 !== void 0 ? _this$path3 : []), [\"else\"]), action.else || [], this.disabled, this._elseChanged, this.hass) : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\" <div class=\\\"link-button-row\\\">\\n            <button\\n              class=\\\"link\\\"\\n              @click=\", \"\\n              .disabled=\", \"\\n            >\\n              \", \"\\n            </button>\\n          </div>\"])), this._addElse, this.disabled, this.hass.localize(\"ui.panel.config.automation.editor.actions.type.if.add_else\")));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_addElse\",\n      value: function _addElse() {\n        this._showElse = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_ifChanged\",\n      value: function _ifChanged(ev) {\n        ev.stopPropagation();\n        var value = ev.detail.value;\n        fireEvent(this, \"value-changed\", {\n          value: Object.assign(Object.assign({}, this.action), {}, {\n            if: value\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_thenChanged\",\n      value: function _thenChanged(ev) {\n        ev.stopPropagation();\n        var value = ev.detail.value;\n        fireEvent(this, \"value-changed\", {\n          value: Object.assign(Object.assign({}, this.action), {}, {\n            then: value\n          })\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_elseChanged\",\n      value: function _elseChanged(ev) {\n        ev.stopPropagation();\n        this._showElse = true;\n        var elseAction = ev.detail.value;\n        var newValue = Object.assign(Object.assign({}, this.action), {}, {\n          else: elseAction\n        });\n        if (elseAction.length === 0) {\n          delete newValue.else;\n        }\n        fireEvent(this, \"value-changed\", {\n          value: newValue\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n        .link-button-row {\\n          padding: 14px;\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","state","fireEvent","haStyle","HaIfAction","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","type","Boolean","static","defaultConfig","if","then","render","_this$path","_this$path2","_this$path3","action","_templateObject","_taggedTemplateLiteral","hass","localize","_toConsumableArray","path","disabled","_ifChanged","_thenChanged","_showElse","else","_templateObject2","_elseChanged","_templateObject3","_addElse","ev","stopPropagation","detail","Object","assign","elseAction","newValue","styles","_templateObject4"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/config/automation/action/types/ha-automation-action-if.ts"],"sourcesContent":["import { css, CSSResultGroup, html, LitElement } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport { fireEvent } from \"../../../../../common/dom/fire_event\";\nimport \"../../../../../components/ha-textfield\";\nimport { Action, IfAction } from \"../../../../../data/script\";\nimport { haStyle } from \"../../../../../resources/styles\";\nimport type { HomeAssistant, ItemPath } from \"../../../../../types\";\nimport type { Condition } from \"../../../../lovelace/common/validate-condition\";\nimport \"../ha-automation-action\";\nimport type { ActionElement } from \"../ha-automation-action-row\";\n\n@customElement(\"ha-automation-action-if\")\nexport class HaIfAction extends LitElement implements ActionElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  @property({ attribute: false }) public path?: ItemPath;\n\n  @property({ attribute: false }) public action!: IfAction;\n\n  @state() private _showElse = false;\n\n  public static get defaultConfig() {\n    return {\n      if: [],\n      then: [],\n    };\n  }\n\n  protected render() {\n    const action = this.action;\n\n    return html`\n      <h3>\n        ${this.hass.localize(\n          \"ui.panel.config.automation.editor.actions.type.if.if\"\n        )}*:\n      </h3>\n      <ha-automation-condition\n        .path=${[...(this.path ?? []), \"if\"]}\n        .conditions=${action.if}\n        .disabled=${this.disabled}\n        @value-changed=${this._ifChanged}\n        .hass=${this.hass}\n      ></ha-automation-condition>\n\n      <h3>\n        ${this.hass.localize(\n          \"ui.panel.config.automation.editor.actions.type.if.then\"\n        )}*:\n      </h3>\n      <ha-automation-action\n        .path=${[...(this.path ?? []), \"then\"]}\n        .actions=${action.then}\n        .disabled=${this.disabled}\n        @value-changed=${this._thenChanged}\n        .hass=${this.hass}\n      ></ha-automation-action>\n      ${this._showElse || action.else\n        ? html`\n            <h3>\n              ${this.hass.localize(\n                \"ui.panel.config.automation.editor.actions.type.if.else\"\n              )}:\n            </h3>\n            <ha-automation-action\n              .path=${[...(this.path ?? []), \"else\"]}\n              .actions=${action.else || []}\n              .disabled=${this.disabled}\n              @value-changed=${this._elseChanged}\n              .hass=${this.hass}\n            ></ha-automation-action>\n          `\n        : html` <div class=\"link-button-row\">\n            <button\n              class=\"link\"\n              @click=${this._addElse}\n              .disabled=${this.disabled}\n            >\n              ${this.hass.localize(\n                \"ui.panel.config.automation.editor.actions.type.if.add_else\"\n              )}\n            </button>\n          </div>`}\n    `;\n  }\n\n  private _addElse() {\n    this._showElse = true;\n  }\n\n  private _ifChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    const value = ev.detail.value as Condition[];\n    fireEvent(this, \"value-changed\", {\n      value: {\n        ...this.action,\n        if: value,\n      },\n    });\n  }\n\n  private _thenChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    const value = ev.detail.value as Action[];\n    fireEvent(this, \"value-changed\", {\n      value: {\n        ...this.action,\n        then: value,\n      },\n    });\n  }\n\n  private _elseChanged(ev: CustomEvent) {\n    ev.stopPropagation();\n    this._showElse = true;\n    const elseAction = ev.detail.value as Action[];\n    const newValue: IfAction = {\n      ...this.action,\n      else: elseAction,\n    };\n    if (elseAction.length === 0) {\n      delete newValue.else;\n    }\n    fireEvent(this, \"value-changed\", { value: newValue });\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      css`\n        .link-button-row {\n          padding: 14px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-automation-action-if\": HaIfAction;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}