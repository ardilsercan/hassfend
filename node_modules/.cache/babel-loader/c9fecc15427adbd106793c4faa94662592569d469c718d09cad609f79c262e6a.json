{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"@material/mwc-button\";\nvar mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { isEmptyFilter } from \"../../../common/entity/entity_filter\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-settings-row\";\nimport \"../../../components/ha-switch\";\nimport { updateCloudPref } from \"../../../data/cloud\";\nimport { getExposeNewEntities, setExposeNewEntities } from \"../../../data/expose\";\nimport { brandsUrl } from \"../../../util/brands-url\";\nexport var CloudAlexaPref = _decorate(null, function (_initialize, _LitElement) {\n  var CloudAlexaPref = /*#__PURE__*/function (_LitElement2) {\n    _inherits(CloudAlexaPref, _LitElement2);\n    function CloudAlexaPref() {\n      var _this;\n      _classCallCheck(this, CloudAlexaPref);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, CloudAlexaPref, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(CloudAlexaPref);\n  }(_LitElement);\n  return {\n    F: CloudAlexaPref,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"exposedEntities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"cloudStatus\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_exposeNew\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_exposedEntitiesCount\",\n      value: function value() {\n        var _this2 = this;\n        return memoizeOne(function (exposedEntities) {\n          return Object.entries(exposedEntities).filter(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n              entityId = _ref2[0],\n              expose = _ref2[1];\n            return expose[\"cloud.alexa\"] && entityId in _this2.hass.states;\n          }).length;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate() {\n        var _this3 = this;\n        if (!this.hasUpdated) {\n          getExposeNewEntities(this.hass, \"cloud.alexa\").then(function (value) {\n            _this3._exposeNew = value.expose_new;\n          });\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$hass$themes;\n        if (!this.cloudStatus) {\n          return nothing;\n        }\n        var alexa_registered = this.cloudStatus.alexa_registered;\n        var _prefs = this.cloudStatus.prefs,\n          alexa_enabled = _prefs.alexa_enabled,\n          alexa_report_state = _prefs.alexa_report_state;\n        var manualConfig = !isEmptyFilter(this.cloudStatus.alexa_entities);\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-card outlined>\\n        <h1 class=\\\"card-header\\\">\\n          <img\\n            alt=\\\"\\\"\\n            src=\", \"\\n            crossorigin=\\\"anonymous\\\"\\n            referrerpolicy=\\\"no-referrer\\\"\\n          />\", \"\\n        </h1>\\n        <div class=\\\"header-actions\\\">\\n          <a\\n            href=\\\"https://www.nabucasa.com/config/amazon_alexa/\\\"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n            class=\\\"icon-link\\\"\\n          >\\n            <ha-icon-button\\n              .label=\", \"\\n              .path=\", \"\\n            ></ha-icon-button>\\n          </a>\\n          <ha-switch\\n            .checked=\", \"\\n            @change=\", \"\\n          ></ha-switch>\\n        </div>\\n        <div class=\\\"card-content\\\">\\n          <p>\\n            \", \"\\n          </p>\\n          \", \"\\n          \", \"\\n        </div>\\n        \", \"\\n      </ha-card>\\n    \"])), brandsUrl({\n          domain: \"alexa\",\n          type: \"icon\",\n          darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n        }), this.hass.localize(\"ui.panel.config.cloud.account.alexa.title\"), this.hass.localize(\"ui.panel.config.cloud.account.alexa.link_learn_how_it_works\"), mdiHelpCircle, alexa_enabled, this._enabledToggleChanged, this.hass.localize(\"ui.panel.config.cloud.account.alexa.info\"), manualConfig ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"warning\\\">\\n                \", \"\\n              </ha-alert>\"])), this.hass.localize(\"ui.panel.config.cloud.account.alexa.manual_config\")) : \"\", !alexa_enabled ? \"\" : html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\", \"<ha-settings-row>\\n                  <span slot=\\\"heading\\\">\\n                    \", \"\\n                  </span>\\n                  <span slot=\\\"description\\\">\\n                    \", \"\\n                  </span>\\n                  <ha-switch\\n                    .checked=\", \"\\n                    .disabled=\", \"\\n                    @change=\", \"\\n                  ></ha-switch> </ha-settings-row\\n                >\", \"\"])), !alexa_registered ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"<ha-alert\\n                      .title=\", \"\\n                    >\\n                      \", \"\\n\\n                      <ul>\\n                        <li>\\n                          <a\\n                            href=\\\"https://skills-store.amazon.com/deeplink/dp/B0772J1QKB?deviceType=app\\\"\\n                            target=\\\"_blank\\\"\\n                            rel=\\\"noreferrer\\\"\\n                          >\\n                            \", \"\\n                          </a>\\n                        </li>\\n                        <li>\\n                          <a\\n                            href=\\\"https://www.nabucasa.com/config/amazon_alexa/\\\"\\n                            target=\\\"_blank\\\"\\n                            rel=\\\"noreferrer\\\"\\n                          >\\n                            \", \"\\n                          </a>\\n                        </li>\\n                      </ul>\\n                    </ha-alert>\"])), this.hass.localize(\"ui.panel.config.cloud.account.alexa.not_configured_title\"), this.hass.localize(\"ui.panel.config.cloud.account.alexa.not_configured_text\"), this.hass.localize(\"ui.panel.config.cloud.account.alexa.enable_ha_skill\"), this.hass.localize(\"ui.panel.config.cloud.account.alexa.config_documentation\")) : \"\", this.hass.localize(\"ui.panel.config.cloud.account.alexa.expose_new_entities\"), this.hass.localize(\"ui.panel.config.cloud.account.alexa.expose_new_entities_info\"), this._exposeNew, this._exposeNew === undefined, this._exposeNewToggleChanged, alexa_registered ? html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n                      <ha-settings-row>\\n                        <span slot=\\\"heading\\\">\\n                          \", \"\\n                        </span>\\n                        <span slot=\\\"description\\\">\\n                          \", \"\\n                        </span>\\n                        <ha-switch\\n                          .checked=\", \"\\n                          @change=\", \"\\n                        ></ha-switch>\\n                      </ha-settings-row>\\n                    \"])), this.hass.localize(\"ui.panel.config.cloud.account.alexa.enable_state_reporting\"), this.hass.localize(\"ui.panel.config.cloud.account.alexa.info_state_reporting\"), alexa_report_state, this._reportToggleChanged) : \"\"), alexa_enabled ? html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"<div class=\\\"card-actions\\\">\\n              <a\\n                href=\\\"/config/voice-assistants/expose?assistants=cloud.alexa&historyBack\\\"\\n              >\\n                <mwc-button>\\n                  \", \"\\n                </mwc-button>\\n              </a>\\n            </div>\"])), manualConfig ? this.hass.localize(\"ui.panel.config.cloud.account.alexa.show_entities\") : this.hass.localize(\"ui.panel.config.cloud.account.alexa.exposed_entities\", {\n          number: this.exposedEntities ? this._exposedEntitiesCount(this.exposedEntities) : 0\n        })) : nothing);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_exposeNewToggleChanged\",\n      value: function () {\n        var _exposeNewToggleChanged2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev) {\n          var toggle;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                toggle = ev.target;\n                if (!(this._exposeNew === undefined || this._exposeNew === toggle.checked)) {\n                  _context.next = 3;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 3:\n                _context.prev = 3;\n                _context.next = 6;\n                return setExposeNewEntities(this.hass, \"cloud.alexa\", toggle.checked);\n              case 6:\n                _context.next = 11;\n                break;\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](3);\n                toggle.checked = !toggle.checked;\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this, [[3, 8]]);\n        }));\n        function _exposeNewToggleChanged(_x) {\n          return _exposeNewToggleChanged2.apply(this, arguments);\n        }\n        return _exposeNewToggleChanged;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_enabledToggleChanged\",\n      value: function () {\n        var _enabledToggleChanged2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(ev) {\n          var toggle;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                toggle = ev.target;\n                _context2.prev = 1;\n                _context2.next = 4;\n                return updateCloudPref(this.hass, {\n                  alexa_enabled: toggle.checked\n                });\n              case 4:\n                fireEvent(this, \"ha-refresh-cloud-status\");\n                _context2.next = 10;\n                break;\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](1);\n                toggle.checked = !toggle.checked;\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[1, 7]]);\n        }));\n        function _enabledToggleChanged(_x2) {\n          return _enabledToggleChanged2.apply(this, arguments);\n        }\n        return _enabledToggleChanged;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_reportToggleChanged\",\n      value: function () {\n        var _reportToggleChanged2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(ev) {\n          var toggle;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                toggle = ev.target;\n                _context3.prev = 1;\n                _context3.next = 4;\n                return updateCloudPref(this.hass, {\n                  alexa_report_state: toggle.checked\n                });\n              case 4:\n                fireEvent(this, \"ha-refresh-cloud-status\");\n                _context3.next = 11;\n                break;\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](1);\n                alert(\"\".concat(this.hass.localize(\"ui.panel.config.cloud.account.alexa.state_reporting_error\", {\n                  enable_disable: this.hass.localize(toggle.checked ? \"ui.panel.config.cloud.account.alexa.enable\" : \"ui.panel.config.cloud.account.alexa.disable\")\n                }), \" \").concat(_context3.t0.message));\n                toggle.checked = !toggle.checked;\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this, [[1, 7]]);\n        }));\n        function _reportToggleChanged(_x3) {\n          return _reportToggleChanged2.apply(this, arguments);\n        }\n        return _reportToggleChanged;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n      a {\\n        color: var(--primary-color);\\n      }\\n      ha-settings-row {\\n        padding: 0;\\n      }\\n      .header-actions {\\n        position: absolute;\\n        right: 24px;\\n        inset-inline-end: 24px;\\n        inset-inline-start: initial;\\n        top: 24px;\\n        display: flex;\\n        flex-direction: row;\\n      }\\n      .header-actions .icon-link {\\n        margin-top: -16px;\\n        margin-right: 8px;\\n        margin-inline-end: 8px;\\n        margin-inline-start: initial;\\n        direction: var(--direction);\\n        color: var(--secondary-text-color);\\n      }\\n      .card-actions {\\n        display: flex;\\n      }\\n      .card-actions a {\\n        text-decoration: none;\\n      }\\n      .card-header {\\n        display: flex;\\n        align-items: center;\\n      }\\n      img {\\n        height: 28px;\\n        margin-right: 16px;\\n        margin-inline-end: 16px;\\n        margin-inline-start: initial;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);\ncustomElements.define(\"cloud-alexa-pref\", CloudAlexaPref);","map":{"version":3,"names":["mdiHelpCircle","css","html","LitElement","nothing","property","state","memoizeOne","fireEvent","isEmptyFilter","updateCloudPref","getExposeNewEntities","setExposeNewEntities","brandsUrl","CloudAlexaPref","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","_this2","exposedEntities","Object","entries","filter","_ref","_ref2","_slicedToArray","entityId","expose","hass","states","willUpdate","_this3","hasUpdated","then","_exposeNew","expose_new","render","_this$hass$themes","cloudStatus","alexa_registered","_prefs","prefs","alexa_enabled","alexa_report_state","manualConfig","alexa_entities","_templateObject","_taggedTemplateLiteral","domain","type","darkOptimized","themes","darkMode","localize","_enabledToggleChanged","_templateObject2","_templateObject3","_templateObject4","undefined","_exposeNewToggleChanged","_templateObject5","_reportToggleChanged","_templateObject6","number","_exposedEntitiesCount","_exposeNewToggleChanged2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","ev","toggle","wrap","_callee$","_context","prev","next","target","checked","abrupt","t0","stop","_x","apply","_enabledToggleChanged2","_callee2","_callee2$","_context2","_x2","_reportToggleChanged2","_callee3","_callee3$","_context3","alert","enable_disable","message","_x3","static","styles","_templateObject7","customElements","define"],"sources":["/workspaces/frontend/src/panels/config/voice-assistants/cloud-alexa-pref.ts"],"sourcesContent":["import \"@material/mwc-button\";\nimport { mdiHelpCircle } from \"@mdi/js\";\nimport { css, CSSResultGroup, html, LitElement, nothing } from \"lit\";\nimport { property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { isEmptyFilter } from \"../../../common/entity/entity_filter\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-settings-row\";\nimport \"../../../components/ha-switch\";\nimport type { HaSwitch } from \"../../../components/ha-switch\";\nimport { CloudStatusLoggedIn, updateCloudPref } from \"../../../data/cloud\";\nimport {\n  ExposeEntitySettings,\n  getExposeNewEntities,\n  setExposeNewEntities,\n} from \"../../../data/expose\";\nimport type { HomeAssistant } from \"../../../types\";\nimport { brandsUrl } from \"../../../util/brands-url\";\n\nexport class CloudAlexaPref extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public exposedEntities?: Record<\n    string,\n    ExposeEntitySettings\n  >;\n\n  @property({ attribute: false }) public cloudStatus?: CloudStatusLoggedIn;\n\n  @state() private _exposeNew?: boolean;\n\n  private _exposedEntitiesCount = memoizeOne(\n    (exposedEntities: Record<string, ExposeEntitySettings>) =>\n      Object.entries(exposedEntities).filter(\n        ([entityId, expose]) =>\n          expose[\"cloud.alexa\"] && entityId in this.hass.states\n      ).length\n  );\n\n  protected willUpdate() {\n    if (!this.hasUpdated) {\n      getExposeNewEntities(this.hass, \"cloud.alexa\").then((value) => {\n        this._exposeNew = value.expose_new;\n      });\n    }\n  }\n\n  protected render() {\n    if (!this.cloudStatus) {\n      return nothing;\n    }\n\n    const alexa_registered = this.cloudStatus.alexa_registered;\n    const { alexa_enabled, alexa_report_state } = this.cloudStatus!.prefs;\n\n    const manualConfig = !isEmptyFilter(this.cloudStatus.alexa_entities);\n\n    return html`\n      <ha-card outlined>\n        <h1 class=\"card-header\">\n          <img\n            alt=\"\"\n            src=${brandsUrl({\n              domain: \"alexa\",\n              type: \"icon\",\n              darkOptimized: this.hass.themes?.darkMode,\n            })}\n            crossorigin=\"anonymous\"\n            referrerpolicy=\"no-referrer\"\n          />${this.hass.localize(\"ui.panel.config.cloud.account.alexa.title\")}\n        </h1>\n        <div class=\"header-actions\">\n          <a\n            href=\"https://www.nabucasa.com/config/amazon_alexa/\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            class=\"icon-link\"\n          >\n            <ha-icon-button\n              .label=${this.hass.localize(\n                \"ui.panel.config.cloud.account.alexa.link_learn_how_it_works\"\n              )}\n              .path=${mdiHelpCircle}\n            ></ha-icon-button>\n          </a>\n          <ha-switch\n            .checked=${alexa_enabled}\n            @change=${this._enabledToggleChanged}\n          ></ha-switch>\n        </div>\n        <div class=\"card-content\">\n          <p>\n            ${this.hass!.localize(\"ui.panel.config.cloud.account.alexa.info\")}\n          </p>\n          ${manualConfig\n            ? html`<ha-alert alert-type=\"warning\">\n                ${this.hass.localize(\n                  \"ui.panel.config.cloud.account.alexa.manual_config\"\n                )}\n              </ha-alert>`\n            : \"\"}\n          ${!alexa_enabled\n            ? \"\"\n            : html`${!alexa_registered\n                  ? html`<ha-alert\n                      .title=${this.hass.localize(\n                        \"ui.panel.config.cloud.account.alexa.not_configured_title\"\n                      )}\n                    >\n                      ${this.hass.localize(\n                        \"ui.panel.config.cloud.account.alexa.not_configured_text\"\n                      )}\n\n                      <ul>\n                        <li>\n                          <a\n                            href=\"https://skills-store.amazon.com/deeplink/dp/B0772J1QKB?deviceType=app\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                          >\n                            ${this.hass!.localize(\n                              \"ui.panel.config.cloud.account.alexa.enable_ha_skill\"\n                            )}\n                          </a>\n                        </li>\n                        <li>\n                          <a\n                            href=\"https://www.nabucasa.com/config/amazon_alexa/\"\n                            target=\"_blank\"\n                            rel=\"noreferrer\"\n                          >\n                            ${this.hass!.localize(\n                              \"ui.panel.config.cloud.account.alexa.config_documentation\"\n                            )}\n                          </a>\n                        </li>\n                      </ul>\n                    </ha-alert>`\n                  : \"\"}<ha-settings-row>\n                  <span slot=\"heading\">\n                    ${this.hass!.localize(\n                      \"ui.panel.config.cloud.account.alexa.expose_new_entities\"\n                    )}\n                  </span>\n                  <span slot=\"description\">\n                    ${this.hass!.localize(\n                      \"ui.panel.config.cloud.account.alexa.expose_new_entities_info\"\n                    )}\n                  </span>\n                  <ha-switch\n                    .checked=${this._exposeNew}\n                    .disabled=${this._exposeNew === undefined}\n                    @change=${this._exposeNewToggleChanged}\n                  ></ha-switch> </ha-settings-row\n                >${alexa_registered\n                  ? html`\n                      <ha-settings-row>\n                        <span slot=\"heading\">\n                          ${this.hass!.localize(\n                            \"ui.panel.config.cloud.account.alexa.enable_state_reporting\"\n                          )}\n                        </span>\n                        <span slot=\"description\">\n                          ${this.hass!.localize(\n                            \"ui.panel.config.cloud.account.alexa.info_state_reporting\"\n                          )}\n                        </span>\n                        <ha-switch\n                          .checked=${alexa_report_state}\n                          @change=${this._reportToggleChanged}\n                        ></ha-switch>\n                      </ha-settings-row>\n                    `\n                  : \"\"}`}\n        </div>\n        ${alexa_enabled\n          ? html`<div class=\"card-actions\">\n              <a\n                href=\"/config/voice-assistants/expose?assistants=cloud.alexa&historyBack\"\n              >\n                <mwc-button>\n                  ${manualConfig\n                    ? this.hass!.localize(\n                        \"ui.panel.config.cloud.account.alexa.show_entities\"\n                      )\n                    : this.hass.localize(\n                        \"ui.panel.config.cloud.account.alexa.exposed_entities\",\n                        {\n                          number: this.exposedEntities\n                            ? this._exposedEntitiesCount(this.exposedEntities)\n                            : 0,\n                        }\n                      )}\n                </mwc-button>\n              </a>\n            </div>`\n          : nothing}\n      </ha-card>\n    `;\n  }\n\n  private async _exposeNewToggleChanged(ev) {\n    const toggle = ev.target as HaSwitch;\n    if (this._exposeNew === undefined || this._exposeNew === toggle.checked) {\n      return;\n    }\n    try {\n      await setExposeNewEntities(this.hass, \"cloud.alexa\", toggle.checked);\n    } catch (err: any) {\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  private async _enabledToggleChanged(ev) {\n    const toggle = ev.target as HaSwitch;\n    try {\n      await updateCloudPref(this.hass!, { alexa_enabled: toggle.checked! });\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err: any) {\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  private async _reportToggleChanged(ev) {\n    const toggle = ev.target as HaSwitch;\n    try {\n      await updateCloudPref(this.hass!, {\n        alexa_report_state: toggle.checked!,\n      });\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err: any) {\n      alert(\n        `${this.hass!.localize(\n          \"ui.panel.config.cloud.account.alexa.state_reporting_error\",\n          {\n            enable_disable: this.hass!.localize(\n              toggle.checked\n                ? \"ui.panel.config.cloud.account.alexa.enable\"\n                : \"ui.panel.config.cloud.account.alexa.disable\"\n            ),\n          }\n        )} ${err.message}`\n      );\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      ha-settings-row {\n        padding: 0;\n      }\n      .header-actions {\n        position: absolute;\n        right: 24px;\n        inset-inline-end: 24px;\n        inset-inline-start: initial;\n        top: 24px;\n        display: flex;\n        flex-direction: row;\n      }\n      .header-actions .icon-link {\n        margin-top: -16px;\n        margin-right: 8px;\n        margin-inline-end: 8px;\n        margin-inline-start: initial;\n        direction: var(--direction);\n        color: var(--secondary-text-color);\n      }\n      .card-actions {\n        display: flex;\n      }\n      .card-actions a {\n        text-decoration: none;\n      }\n      .card-header {\n        display: flex;\n        align-items: center;\n      }\n      img {\n        height: 28px;\n        margin-right: 16px;\n        margin-inline-end: 16px;\n        margin-inline-start: initial;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"cloud-alexa-pref\": CloudAlexaPref;\n  }\n}\n\ncustomElements.define(\"cloud-alexa-pref\", CloudAlexaPref);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}