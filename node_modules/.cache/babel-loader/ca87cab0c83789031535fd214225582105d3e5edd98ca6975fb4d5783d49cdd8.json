{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.object.assign.js\";\n// https://github.com/home-assistant/core/blob/2286dea636fda001f03433ba14d7adbda43979e5/homeassistant/config_entries.py#L81\nexport var ERROR_STATES = [\"migration_error\", \"setup_error\", \"setup_retry\"];\n\n// https://github.com/home-assistant/core/blob/2286dea636fda001f03433ba14d7adbda43979e5/homeassistant/config_entries.py#L81\nexport var RECOVERABLE_STATES = [\"not_loaded\", \"loaded\", \"setup_error\", \"setup_retry\"];\nexport var subscribeConfigEntries = function subscribeConfigEntries(hass, callbackFunction, filters) {\n  var params = {\n    type: \"config_entries/subscribe\"\n  };\n  if (filters && filters.type) {\n    params.type_filter = filters.type;\n  }\n  return hass.connection.subscribeMessage(function (message) {\n    return callbackFunction(message);\n  }, params);\n};\nexport var getConfigEntries = function getConfigEntries(hass, filters) {\n  var params = {};\n  if (filters) {\n    if (filters.type) {\n      params.type_filter = filters.type;\n    }\n    if (filters.domain) {\n      params.domain = filters.domain;\n    }\n  }\n  return hass.callWS(Object.assign({\n    type: \"config_entries/get\"\n  }, params));\n};\nexport var getConfigEntry = function getConfigEntry(hass, configEntryId) {\n  return hass.callWS({\n    type: \"config_entries/get_single\",\n    entry_id: configEntryId\n  });\n};\nexport var updateConfigEntry = function updateConfigEntry(hass, configEntryId, updatedValues) {\n  return hass.callWS(Object.assign({\n    type: \"config_entries/update\",\n    entry_id: configEntryId\n  }, updatedValues));\n};\nexport var deleteConfigEntry = function deleteConfigEntry(hass, configEntryId) {\n  return hass.callApi(\"DELETE\", \"config/config_entries/entry/\".concat(configEntryId));\n};\nexport var reloadConfigEntry = function reloadConfigEntry(hass, configEntryId) {\n  return hass.callApi(\"POST\", \"config/config_entries/entry/\".concat(configEntryId, \"/reload\"));\n};\nexport var disableConfigEntry = function disableConfigEntry(hass, configEntryId) {\n  return hass.callWS({\n    type: \"config_entries/disable\",\n    entry_id: configEntryId,\n    disabled_by: \"user\"\n  });\n};\nexport var enableConfigEntry = function enableConfigEntry(hass, configEntryId) {\n  return hass.callWS({\n    type: \"config_entries/disable\",\n    entry_id: configEntryId,\n    disabled_by: null\n  });\n};\nexport var sortConfigEntries = function sortConfigEntries(configEntries, manifestLookup) {\n  var sortedConfigEntries = _toConsumableArray(configEntries);\n  var getScore = function getScore(entry) {\n    var manifest = manifestLookup[entry.domain];\n    var isHelper = (manifest === null || manifest === void 0 ? void 0 : manifest.integration_type) === \"helper\";\n    return isHelper ? -1 : 1;\n  };\n  var configEntriesCompare = function configEntriesCompare(a, b) {\n    return getScore(b) - getScore(a);\n  };\n  return sortedConfigEntries.sort(configEntriesCompare);\n};","map":{"version":3,"names":["ERROR_STATES","RECOVERABLE_STATES","subscribeConfigEntries","hass","callbackFunction","filters","params","type","type_filter","connection","subscribeMessage","message","getConfigEntries","domain","callWS","Object","assign","getConfigEntry","configEntryId","entry_id","updateConfigEntry","updatedValues","deleteConfigEntry","callApi","concat","reloadConfigEntry","disableConfigEntry","disabled_by","enableConfigEntry","sortConfigEntries","configEntries","manifestLookup","sortedConfigEntries","_toConsumableArray","getScore","entry","manifest","isHelper","integration_type","configEntriesCompare","a","b","sort"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/config_entries.ts"],"sourcesContent":["import type { UnsubscribeFunc } from \"home-assistant-js-websocket\";\nimport type { HomeAssistant } from \"../types\";\nimport type { IntegrationManifest, IntegrationType } from \"./integration\";\n\nexport interface ConfigEntry {\n  entry_id: string;\n  domain: string;\n  title: string;\n  source: string;\n  state:\n    | \"loaded\"\n    | \"setup_error\"\n    | \"migration_error\"\n    | \"setup_retry\"\n    | \"not_loaded\"\n    | \"failed_unload\"\n    | \"setup_in_progress\";\n  supports_options: boolean;\n  supports_remove_device: boolean;\n  supports_unload: boolean;\n  pref_disable_new_entities: boolean;\n  pref_disable_polling: boolean;\n  disabled_by: \"user\" | null;\n  reason: string | null;\n}\n\nexport type ConfigEntryMutableParams = Partial<\n  Pick<\n    ConfigEntry,\n    \"title\" | \"pref_disable_new_entities\" | \"pref_disable_polling\"\n  >\n>;\n\n// https://github.com/home-assistant/core/blob/2286dea636fda001f03433ba14d7adbda43979e5/homeassistant/config_entries.py#L81\nexport const ERROR_STATES: ConfigEntry[\"state\"][] = [\n  \"migration_error\",\n  \"setup_error\",\n  \"setup_retry\",\n];\n\n// https://github.com/home-assistant/core/blob/2286dea636fda001f03433ba14d7adbda43979e5/homeassistant/config_entries.py#L81\nexport const RECOVERABLE_STATES: ConfigEntry[\"state\"][] = [\n  \"not_loaded\",\n  \"loaded\",\n  \"setup_error\",\n  \"setup_retry\",\n];\n\nexport interface ConfigEntryUpdate {\n  // null means no update as is the current state\n  type: null | \"added\" | \"removed\" | \"updated\";\n  entry: ConfigEntry;\n}\n\nexport const subscribeConfigEntries = (\n  hass: HomeAssistant,\n  callbackFunction: (message: ConfigEntryUpdate[]) => void,\n  filters?: {\n    type?: IntegrationType[];\n    domain?: string;\n  }\n): Promise<UnsubscribeFunc> => {\n  const params: any = {\n    type: \"config_entries/subscribe\",\n  };\n  if (filters && filters.type) {\n    params.type_filter = filters.type;\n  }\n  return hass.connection.subscribeMessage<ConfigEntryUpdate[]>(\n    (message) => callbackFunction(message),\n    params\n  );\n};\n\nexport const getConfigEntries = (\n  hass: HomeAssistant,\n  filters?: {\n    type?: IntegrationType[];\n    domain?: string;\n  }\n): Promise<ConfigEntry[]> => {\n  const params: any = {};\n  if (filters) {\n    if (filters.type) {\n      params.type_filter = filters.type;\n    }\n    if (filters.domain) {\n      params.domain = filters.domain;\n    }\n  }\n  return hass.callWS<ConfigEntry[]>({\n    type: \"config_entries/get\",\n    ...params,\n  });\n};\n\nexport const getConfigEntry = (hass: HomeAssistant, configEntryId: string) =>\n  hass.callWS<{ config_entry: ConfigEntry }>({\n    type: \"config_entries/get_single\",\n    entry_id: configEntryId,\n  });\n\nexport const updateConfigEntry = (\n  hass: HomeAssistant,\n  configEntryId: string,\n  updatedValues: ConfigEntryMutableParams\n) =>\n  hass.callWS<{ require_restart: boolean; config_entry: ConfigEntry }>({\n    type: \"config_entries/update\",\n    entry_id: configEntryId,\n    ...updatedValues,\n  });\n\nexport const deleteConfigEntry = (hass: HomeAssistant, configEntryId: string) =>\n  hass.callApi<{\n    require_restart: boolean;\n  }>(\"DELETE\", `config/config_entries/entry/${configEntryId}`);\n\nexport const reloadConfigEntry = (hass: HomeAssistant, configEntryId: string) =>\n  hass.callApi<{\n    require_restart: boolean;\n  }>(\"POST\", `config/config_entries/entry/${configEntryId}/reload`);\n\nexport interface DisableConfigEntryResult {\n  require_restart: boolean;\n}\n\nexport const disableConfigEntry = (\n  hass: HomeAssistant,\n  configEntryId: string\n) =>\n  hass.callWS<DisableConfigEntryResult>({\n    type: \"config_entries/disable\",\n    entry_id: configEntryId,\n    disabled_by: \"user\",\n  });\n\nexport const enableConfigEntry = (hass: HomeAssistant, configEntryId: string) =>\n  hass.callWS<{\n    require_restart: boolean;\n  }>({\n    type: \"config_entries/disable\",\n    entry_id: configEntryId,\n    disabled_by: null,\n  });\n\nexport const sortConfigEntries = (\n  configEntries: ConfigEntry[],\n  manifestLookup: { [domain: string]: IntegrationManifest }\n): ConfigEntry[] => {\n  const sortedConfigEntries = [...configEntries];\n\n  const getScore = (entry: ConfigEntry) => {\n    const manifest = manifestLookup[entry.domain] as\n      | IntegrationManifest\n      | undefined;\n    const isHelper = manifest?.integration_type === \"helper\";\n    return isHelper ? -1 : 1;\n  };\n\n  const configEntriesCompare = (a: ConfigEntry, b: ConfigEntry) =>\n    getScore(b) - getScore(a);\n\n  return sortedConfigEntries.sort(configEntriesCompare);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}