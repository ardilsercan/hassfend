{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.set.difference.v2.js\";\nimport \"core-js/modules/esnext.set.intersection.v2.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.v2.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.v2.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/esnext.set.union.v2.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { computeDomain } from \"../common/entity/compute_domain\";\nexport var computeGroupDomain = function computeGroupDomain(stateObj) {\n  var entityIds = stateObj.attributes.entity_id || [];\n  var uniqueDomains = _toConsumableArray(new Set(entityIds.map(function (entityId) {\n    return computeDomain(entityId);\n  })));\n  return uniqueDomains.length === 1 ? uniqueDomains[0] : undefined;\n};\nexport var subscribePreviewGroup = function subscribePreviewGroup(hass, flow_id, flow_type, user_input, callback) {\n  return hass.connection.subscribeMessage(callback, {\n    type: \"group/start_preview\",\n    flow_id: flow_id,\n    flow_type: flow_type,\n    user_input: user_input\n  });\n};","map":{"version":3,"names":["computeDomain","computeGroupDomain","stateObj","entityIds","attributes","entity_id","uniqueDomains","_toConsumableArray","Set","map","entityId","length","undefined","subscribePreviewGroup","hass","flow_id","flow_type","user_input","callback","connection","subscribeMessage","type"],"sources":["/Users/sercanardil/Desktop/frontend/src/data/group.ts"],"sourcesContent":["import {\n  HassEntityAttributeBase,\n  HassEntityBase,\n  UnsubscribeFunc,\n} from \"home-assistant-js-websocket\";\nimport { computeDomain } from \"../common/entity/compute_domain\";\nimport { HomeAssistant } from \"../types\";\n\ninterface GroupEntityAttributes extends HassEntityAttributeBase {\n  entity_id: string[];\n  order: number;\n  auto?: boolean;\n  view?: boolean;\n  control?: \"hidden\";\n}\nexport interface GroupEntity extends HassEntityBase {\n  attributes: GroupEntityAttributes;\n}\n\nexport interface GroupPreview {\n  state: string;\n  attributes: Record<string, any>;\n}\n\nexport const computeGroupDomain = (\n  stateObj: GroupEntity\n): string | undefined => {\n  const entityIds = stateObj.attributes.entity_id || [];\n  const uniqueDomains = [\n    ...new Set(entityIds.map((entityId) => computeDomain(entityId))),\n  ];\n  return uniqueDomains.length === 1 ? uniqueDomains[0] : undefined;\n};\n\nexport const subscribePreviewGroup = (\n  hass: HomeAssistant,\n  flow_id: string,\n  flow_type: \"config_flow\" | \"options_flow\",\n  user_input: Record<string, any>,\n  callback: (preview: GroupPreview) => void\n): Promise<UnsubscribeFunc> =>\n  hass.connection.subscribeMessage(callback, {\n    type: \"group/start_preview\",\n    flow_id,\n    flow_type,\n    user_input,\n  });\n"],"mappings":";;;;;;;;;;;;;;;AAKA,SAASA,aAAa,QAAQ,iCAAiC;AAmB/D,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAC7BC,QAAqB,EACE;EACvB,IAAMC,SAAS,GAAGD,QAAQ,CAACE,UAAU,CAACC,SAAS,IAAI,EAAE;EACrD,IAAMC,aAAa,GAAAC,kBAAA,CACd,IAAIC,GAAG,CAACL,SAAS,CAACM,GAAG,CAAC,UAACC,QAAQ;IAAA,OAAKV,aAAa,CAACU,QAAQ,CAAC;EAAA,EAAC,CAAC,CACjE;EACD,OAAOJ,aAAa,CAACK,MAAM,KAAK,CAAC,GAAGL,aAAa,CAAC,CAAC,CAAC,GAAGM,SAAS;AAClE,CAAC;AAED,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAChCC,IAAmB,EACnBC,OAAe,EACfC,SAAyC,EACzCC,UAA+B,EAC/BC,QAAyC;EAAA,OAEzCJ,IAAI,CAACK,UAAU,CAACC,gBAAgB,CAACF,QAAQ,EAAE;IACzCG,IAAI,EAAE,qBAAqB;IAC3BN,OAAO,EAAPA,OAAO;IACPC,SAAS,EAATA,SAAS;IACTC,UAAU,EAAVA;EACF,CAAC,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}