{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\nimport { computeShowHistoryComponent, computeShowLogBookComponent, computeShowNewMoreInfo, DOMAINS_NO_INFO, DOMAINS_WITH_MORE_INFO } from \"./const\";\nimport \"./ha-more-info-history\";\nimport \"./ha-more-info-logbook\";\nimport \"./more-info-content\";\nexport var MoreInfoInfo = _decorate([customElement(\"ha-more-info-info\")], function (_initialize, _LitElement) {\n  var MoreInfoInfo = /*#__PURE__*/function (_LitElement2) {\n    _inherits(MoreInfoInfo, _LitElement2);\n    function MoreInfoInfo() {\n      var _this;\n      _classCallCheck(this, MoreInfoInfo);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, MoreInfoInfo, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(MoreInfoInfo);\n  }(_LitElement);\n  return {\n    F: MoreInfoInfo,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"entry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"editMode\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [query(\"ha-more-info-history\")],\n      key: \"_history\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"resize\",\n      value: function resize(options) {\n        var _this$_history;\n        (_this$_history = this._history) === null || _this$_history === void 0 || _this$_history.resize(options);\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$entry;\n        var entityId = this.entityId;\n        var stateObj = this.hass.states[entityId];\n        var entityRegObj = this.hass.entities[entityId];\n        var domain = computeDomain(entityId);\n        var isNewMoreInfo = stateObj && computeShowNewMoreInfo(stateObj);\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <div class=\\\"container\\\" data-domain=\", \">\\n        \", \"\\n        \", \"\\n        <div class=\\\"content\\\">\\n          \", \"\\n          \", \"\\n          \", \"\\n          <more-info-content\\n            ?full-height=\", \"\\n            .stateObj=\", \"\\n            .hass=\", \"\\n            .entry=\", \"\\n            .editMode=\", \"\\n          ></more-info-content>\\n        </div>\\n      </div>\\n    \"])), domain, !stateObj ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"warning\\\">\\n              \", \"\\n            </ha-alert>\"])), (_this$entry = this.entry) !== null && _this$entry !== void 0 && _this$entry.disabled_by ? this.hass.localize(\"ui.dialogs.entity_registry.editor.entity_disabled\") : this.hass.localize(\"ui.dialogs.entity_registry.editor.unavailable\")) : nothing, stateObj !== null && stateObj !== void 0 && stateObj.attributes.restored && entityRegObj ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"warning\\\">\\n              \", \"\\n            </ha-alert>\"])), this.hass.localize(\"ui.dialogs.more_info_control.restored.no_longer_provided\", {\n          integration: entityRegObj.platform\n        })) : nothing, DOMAINS_NO_INFO.includes(domain) || isNewMoreInfo ? \"\" : html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                <state-card-content\\n                  inDialog\\n                  .stateObj=\", \"\\n                  .hass=\", \"\\n                ></state-card-content>\\n              \"])), stateObj, this.hass), DOMAINS_WITH_MORE_INFO.includes(domain) || !computeShowHistoryComponent(this.hass, entityId) ? \"\" : html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<ha-more-info-history\\n                .hass=\", \"\\n                .entityId=\", \"\\n              ></ha-more-info-history>\"])), this.hass, this.entityId), DOMAINS_WITH_MORE_INFO.includes(domain) || !computeShowLogBookComponent(this.hass, entityId) ? \"\" : html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"<ha-more-info-logbook\\n                .hass=\", \"\\n                .entityId=\", \"\\n              ></ha-more-info-logbook>\"])), this.hass, this.entityId), isNewMoreInfo, stateObj, this.hass, this.entry, this.editMode);\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\n      :host {\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1;\\n      }\\n      .container {\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1;\\n      }\\n\\n      .content {\\n        display: flex;\\n        flex-direction: column;\\n        flex: 1;\\n        padding: 24px;\\n        padding-bottom: max(env(safe-area-inset-bottom), 24px);\\n      }\\n\\n      [data-domain=\\\"camera\\\"] .content {\\n        padding: 0;\\n        /* max height of the video is full screen, minus the height of the header of the dialog and the padding of the dialog (mdc-dialog-max-height: calc(100% - 72px)) */\\n        --video-max-height: calc(100vh - 65px - 72px);\\n      }\\n\\n      more-info-content {\\n        position: relative;\\n        display: flex;\\n        flex-direction: column;\\n      }\\n      more-info-content[full-height] {\\n        flex: 1;\\n      }\\n\\n      state-card-content,\\n      ha-more-info-history,\\n      ha-more-info-logbook:not(:last-child) {\\n        display: block;\\n        margin-bottom: 16px;\\n      }\\n\\n      ha-alert {\\n        display: block;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","query","computeDomain","computeShowHistoryComponent","computeShowLogBookComponent","computeShowNewMoreInfo","DOMAINS_NO_INFO","DOMAINS_WITH_MORE_INFO","MoreInfoInfo","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","resize","options","_this$_history","_history","render","_this$entry","entityId","stateObj","hass","states","entityRegObj","entities","domain","isNewMoreInfo","_templateObject","_taggedTemplateLiteral","_templateObject2","entry","disabled_by","localize","attributes","restored","_templateObject3","integration","platform","includes","_templateObject4","_templateObject5","_templateObject6","editMode","static","styles","_templateObject7"],"sources":["/workspaces/frontend/src/dialogs/more-info/ha-more-info-info.ts"],"sourcesContent":["import { HassEntity } from \"home-assistant-js-websocket\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\nimport { ChartResizeOptions } from \"../../components/chart/ha-chart-base\";\nimport { ExtEntityRegistryEntry } from \"../../data/entity_registry\";\nimport type { HomeAssistant } from \"../../types\";\nimport {\n  computeShowHistoryComponent,\n  computeShowLogBookComponent,\n  computeShowNewMoreInfo,\n  DOMAINS_NO_INFO,\n  DOMAINS_WITH_MORE_INFO,\n} from \"./const\";\nimport \"./ha-more-info-history\";\nimport type { MoreInfoHistory } from \"./ha-more-info-history\";\nimport \"./ha-more-info-logbook\";\nimport \"./more-info-content\";\n\n@customElement(\"ha-more-info-info\")\nexport class MoreInfoInfo extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public entityId!: string;\n\n  @property({ attribute: false }) public entry?: ExtEntityRegistryEntry | null;\n\n  @property({ attribute: false }) public editMode?: boolean;\n\n  @query(\"ha-more-info-history\")\n  private _history?: MoreInfoHistory;\n\n  public resize(options?: ChartResizeOptions) {\n    this._history?.resize(options);\n  }\n\n  protected render() {\n    const entityId = this.entityId;\n    const stateObj = this.hass.states[entityId] as HassEntity | undefined;\n    const entityRegObj = this.hass.entities[entityId];\n    const domain = computeDomain(entityId);\n    const isNewMoreInfo = stateObj && computeShowNewMoreInfo(stateObj);\n\n    return html`\n      <div class=\"container\" data-domain=${domain}>\n        ${!stateObj\n          ? html`<ha-alert alert-type=\"warning\">\n              ${this.entry?.disabled_by\n                ? this.hass.localize(\n                    \"ui.dialogs.entity_registry.editor.entity_disabled\"\n                  )\n                : this.hass.localize(\n                    \"ui.dialogs.entity_registry.editor.unavailable\"\n                  )}\n            </ha-alert>`\n          : nothing}\n        ${stateObj?.attributes.restored && entityRegObj\n          ? html`<ha-alert alert-type=\"warning\">\n              ${this.hass.localize(\n                \"ui.dialogs.more_info_control.restored.no_longer_provided\",\n                {\n                  integration: entityRegObj.platform,\n                }\n              )}\n            </ha-alert>`\n          : nothing}\n        <div class=\"content\">\n          ${DOMAINS_NO_INFO.includes(domain) || isNewMoreInfo\n            ? \"\"\n            : html`\n                <state-card-content\n                  inDialog\n                  .stateObj=${stateObj}\n                  .hass=${this.hass}\n                ></state-card-content>\n              `}\n          ${DOMAINS_WITH_MORE_INFO.includes(domain) ||\n          !computeShowHistoryComponent(this.hass, entityId)\n            ? \"\"\n            : html`<ha-more-info-history\n                .hass=${this.hass}\n                .entityId=${this.entityId}\n              ></ha-more-info-history>`}\n          ${DOMAINS_WITH_MORE_INFO.includes(domain) ||\n          !computeShowLogBookComponent(this.hass, entityId)\n            ? \"\"\n            : html`<ha-more-info-logbook\n                .hass=${this.hass}\n                .entityId=${this.entityId}\n              ></ha-more-info-logbook>`}\n          <more-info-content\n            ?full-height=${isNewMoreInfo}\n            .stateObj=${stateObj}\n            .hass=${this.hass}\n            .entry=${this.entry}\n            .editMode=${this.editMode}\n          ></more-info-content>\n        </div>\n      </div>\n    `;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n      .container {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n      }\n\n      .content {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n        padding: 24px;\n        padding-bottom: max(env(safe-area-inset-bottom), 24px);\n      }\n\n      [data-domain=\"camera\"] .content {\n        padding: 0;\n        /* max height of the video is full screen, minus the height of the header of the dialog and the padding of the dialog (mdc-dialog-max-height: calc(100% - 72px)) */\n        --video-max-height: calc(100vh - 65px - 72px);\n      }\n\n      more-info-content {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n      }\n      more-info-content[full-height] {\n        flex: 1;\n      }\n\n      state-card-content,\n      ha-more-info-history,\n      ha-more-info-logbook:not(:last-child) {\n        display: block;\n        margin-bottom: 16px;\n      }\n\n      ha-alert {\n        display: block;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-more-info-info\": MoreInfoInfo;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}