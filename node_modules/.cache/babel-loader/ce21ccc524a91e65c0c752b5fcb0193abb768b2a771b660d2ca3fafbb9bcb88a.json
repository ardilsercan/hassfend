{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport { handleAction } from \"../panels/lovelace/common/handle-action\";\nexport default (function (superClass) {\n  return /*#__PURE__*/function (_superClass) {\n    _inherits(_class, _superClass);\n    function _class() {\n      _classCallCheck(this, _class);\n      return _callSuper(this, _class, arguments);\n    }\n    _createClass(_class, [{\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        var _this = this;\n        _get(_getPrototypeOf(_class.prototype), \"firstUpdated\", this).call(this, changedProps);\n        this.addEventListener(\"hass-action\", function (ev) {\n          return _this._handleAction(ev);\n        });\n      }\n    }, {\n      key: \"_handleAction\",\n      value: function () {\n        var _handleAction2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(ev) {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (this.hass) {\n                  _context.next = 2;\n                  break;\n                }\n                return _context.abrupt(\"return\");\n              case 2:\n                handleAction(this, this.hass, ev.detail.config, ev.detail.action);\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function _handleAction(_x) {\n          return _handleAction2.apply(this, arguments);\n        }\n        return _handleAction;\n      }()\n    }]);\n    return _class;\n  }(superClass);\n});","map":{"version":3,"names":["handleAction","superClass","_superClass","_inherits","_class","_classCallCheck","_callSuper","arguments","_createClass","key","value","firstUpdated","changedProps","_this","_get","_getPrototypeOf","prototype","call","addEventListener","ev","_handleAction","_handleAction2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","hass","abrupt","detail","config","action","stop","_x","apply"],"sources":["/workspaces/frontend/src/state/action-mixin.ts"],"sourcesContent":["import type { PropertyValues } from \"lit\";\nimport type { HASSDomEvent } from \"../common/dom/fire_event\";\nimport {\n  ActionConfigParams,\n  handleAction,\n} from \"../panels/lovelace/common/handle-action\";\nimport type { Constructor } from \"../types\";\nimport type { HassBaseEl } from \"./hass-base-mixin\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"hass-action\": { config: ActionConfigParams; action: string };\n  }\n}\n\nexport default <T extends Constructor<HassBaseEl>>(superClass: T) =>\n  class extends superClass {\n    protected firstUpdated(changedProps: PropertyValues) {\n      super.firstUpdated(changedProps);\n      this.addEventListener(\"hass-action\", (ev) => this._handleAction(ev));\n    }\n\n    private async _handleAction(\n      ev: HASSDomEvent<{ config: ActionConfigParams; action: string }>\n    ) {\n      if (!this.hass) return;\n      handleAction(this, this.hass, ev.detail.config, ev.detail.action);\n    }\n  };\n"],"mappings":";;;;;;;;AAEA,SAEEA,YAAY,QACP,yCAAyC;AAWhD,gBAAe,UAAoCC,UAAa;EAAA,8BAAAC,WAAA;IAAAC,SAAA,CAAAC,MAAA,EAAAF,WAAA;IAAA,SAAAE,OAAA;MAAAC,eAAA,OAAAD,MAAA;MAAA,OAAAE,UAAA,OAAAF,MAAA,EAAAG,SAAA;IAAA;IAAAC,YAAA,CAAAJ,MAAA;MAAAK,GAAA;MAAAC,KAAA,EAE5D,SAAAC,aAAuBC,YAA4B,EAAE;QAAA,IAAAC,KAAA;QACnDC,IAAA,CAAAC,eAAA,CAAAX,MAAA,CAAAY,SAAA,yBAAAC,IAAA,OAAmBL,YAAY;QAC/B,IAAI,CAACM,gBAAgB,CAAC,aAAa,EAAE,UAACC,EAAE;UAAA,OAAKN,KAAI,CAACO,aAAa,CAACD,EAAE,CAAC;QAAA,EAAC;MACtE;IAAC;MAAAV,GAAA;MAAAC,KAAA;QAAA,IAAAW,cAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAC,QACEN,EAAgE;UAAA,OAAAI,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAA,IAE3D,IAAI,CAACC,IAAI;kBAAAH,QAAA,CAAAE,IAAA;kBAAA;gBAAA;gBAAA,OAAAF,QAAA,CAAAI,MAAA;cAAA;gBACdhC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC+B,IAAI,EAAEZ,EAAE,CAACc,MAAM,CAACC,MAAM,EAAEf,EAAE,CAACc,MAAM,CAACE,MAAM,CAAC;cAAC;cAAA;gBAAA,OAAAP,QAAA,CAAAQ,IAAA;YAAA;UAAA,GAAAX,OAAA;QAAA,CACnE;QAAA,SAAAL,cAAAiB,EAAA;UAAA,OAAAhB,cAAA,CAAAiB,KAAA,OAAA/B,SAAA;QAAA;QAAA,OAAAa,aAAA;MAAA;IAAA;IAAA,OAAAhB,MAAA;EAAA,EAXWH,UAAU;AAAA,CAYvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}