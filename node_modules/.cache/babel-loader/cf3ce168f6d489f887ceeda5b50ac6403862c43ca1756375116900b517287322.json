{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nvar mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { computeRTLDirection } from \"../../../common/util/compute_rtl\";\nimport \"../../../components/buttons/ha-progress-button\";\nimport \"../../../components/ha-form/ha-form\";\nimport \"../../../components/ha-icon-button\";\nimport { extractApiErrorMessage } from \"../../../data/hassio/common\";\nimport { createSupervisorMount, removeSupervisorMount, SupervisorMountType, SupervisorMountUsage, updateSupervisorMount } from \"../../../data/supervisor/mounts\";\nimport { haStyle, haStyleDialog } from \"../../../resources/styles\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nvar mountSchema = memoizeOne(function (localize, existing, mountType, showCIFSVersion) {\n  return [{\n    name: \"name\",\n    required: true,\n    disabled: existing,\n    selector: {\n      text: {}\n    }\n  }, {\n    name: \"usage\",\n    required: true,\n    type: \"select\",\n    options: [[SupervisorMountUsage.BACKUP, localize(\"ui.panel.config.storage.network_mounts.mount_usage.backup\")], [SupervisorMountUsage.MEDIA, localize(\"ui.panel.config.storage.network_mounts.mount_usage.media\")], [SupervisorMountUsage.SHARE, localize(\"ui.panel.config.storage.network_mounts.mount_usage.share\")]]\n  }, {\n    name: \"server\",\n    required: true,\n    selector: {\n      text: {}\n    }\n  }, {\n    name: \"type\",\n    required: true,\n    type: \"select\",\n    options: [[SupervisorMountType.CIFS, localize(\"ui.panel.config.storage.network_mounts.mount_type.cifs\")], [SupervisorMountType.NFS, localize(\"ui.panel.config.storage.network_mounts.mount_type.nfs\")]]\n  }].concat(_toConsumableArray(mountType === \"nfs\" ? [{\n    name: \"path\",\n    required: true,\n    selector: {\n      text: {}\n    }\n  }] : mountType === \"cifs\" ? [].concat(_toConsumableArray(showCIFSVersion ? [{\n    name: \"version\",\n    required: true,\n    selector: {\n      select: {\n        options: [{\n          label: localize(\"ui.panel.config.storage.network_mounts.cifs_versions.auto\"),\n          value: \"auto\"\n        }, {\n          label: localize(\"ui.panel.config.storage.network_mounts.cifs_versions.legacy\", {\n            version: \"2.0\"\n          }),\n          value: \"2.0\"\n        }, {\n          label: localize(\"ui.panel.config.storage.network_mounts.cifs_versions.legacy\", {\n            version: \"1.0\"\n          }),\n          value: \"1.0\"\n        }],\n        mode: \"dropdown\"\n      }\n    }\n  }] : []), [{\n    name: \"share\",\n    required: true,\n    selector: {\n      text: {}\n    }\n  }, {\n    name: \"username\",\n    required: false,\n    selector: {\n      text: {}\n    }\n  }, {\n    name: \"password\",\n    required: false,\n    selector: {\n      text: {\n        type: \"password\"\n      }\n    }\n  }]) : []));\n});\nvar ViewMountDialog = _decorate([customElement(\"dialog-mount-view\")], function (_initialize, _LitElement) {\n  var ViewMountDialog = /*#__PURE__*/function (_LitElement2) {\n    _inherits(ViewMountDialog, _LitElement2);\n    function ViewMountDialog() {\n      var _this;\n      _classCallCheck(this, ViewMountDialog);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, ViewMountDialog, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(ViewMountDialog);\n  }(_LitElement);\n  return {\n    F: ViewMountDialog,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_data\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_waiting\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_error\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_validationError\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_validationWarning\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_existing\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_showCIFSVersion\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_reloadMounts\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"showDialog\",\n      value: function () {\n        var _showDialog = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(dialogParams) {\n          var _dialogParams$mount;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                this._data = dialogParams.mount;\n                this._existing = dialogParams.mount !== undefined;\n                this._reloadMounts = dialogParams.reloadMounts;\n                if (((_dialogParams$mount = dialogParams.mount) === null || _dialogParams$mount === void 0 ? void 0 : _dialogParams$mount.type) === \"cifs\" && dialogParams.mount.version && dialogParams.mount.version !== \"auto\") {\n                  this._showCIFSVersion = true;\n                }\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee, this);\n        }));\n        function showDialog(_x) {\n          return _showDialog.apply(this, arguments);\n        }\n        return showDialog;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"closeDialog\",\n      value: function closeDialog() {\n        this._data = undefined;\n        this._waiting = undefined;\n        this._error = undefined;\n        this._validationError = undefined;\n        this._validationWarning = undefined;\n        this._existing = undefined;\n        this._showCIFSVersion = undefined;\n        this._reloadMounts = undefined;\n        fireEvent(this, \"dialog-closed\", {\n          dialog: this.localName\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_data;\n        if (this._existing === undefined) {\n          return nothing;\n        }\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-dialog\\n        open\\n        scrimClickAction\\n        escapeKeyAction\\n        .heading=\", \"\\n        @closed=\", \"\\n      >\\n        <ha-dialog-header slot=\\\"heading\\\">\\n          <span slot=\\\"title\\\"\\n            >\", \"\\n          </span>\\n          <a\\n            slot=\\\"actionItems\\\"\\n            class=\\\"header_button\\\"\\n            href=\", \"\\n            title=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer\\\"\\n            dir=\", \"\\n          >\\n            <ha-icon-button .path=\", \"></ha-icon-button>\\n          </a>\\n        </ha-dialog-header>\\n        \", \"\\n        <ha-form\\n          .data=\", \"\\n          .schema=\", \"\\n          .error=\", \"\\n          .warning=\", \"\\n          .computeLabel=\", \"\\n          .computeHelper=\", \"\\n          .computeError=\", \"\\n          .computeWarning=\", \"\\n          @value-changed=\", \"\\n          dialogInitialFocus\\n        ></ha-form>\\n        <div slot=\\\"secondaryAction\\\">\\n          <mwc-button @click=\", \" dialogInitialFocus>\\n            \", \"\\n          </mwc-button>\\n          \", \"\\n        </div>\\n\\n        <ha-progress-button\\n          .progress=\", \"\\n          slot=\\\"primaryAction\\\"\\n          @click=\", \"\\n        >\\n          \", \"\\n        </ha-progress-button>\\n      </ha-dialog>\\n    \"])), this._existing ? this.hass.localize(\"ui.panel.config.storage.network_mounts.update_title\") : this.hass.localize(\"ui.panel.config.storage.network_mounts.add_title\"), this.closeDialog, this._existing ? this.hass.localize(\"ui.panel.config.storage.network_mounts.update_title\") : this.hass.localize(\"ui.panel.config.storage.network_mounts.add_title\"), documentationUrl(this.hass, \"/common-tasks/os#network-storage\"), this.hass.localize(\"ui.panel.config.storage.network_mounts.documentation\"), computeRTLDirection(this.hass), mdiHelpCircle, this._error ? html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"<ha-alert alert-type=\\\"error\\\">\", \"</ha-alert>\"])), this._error) : nothing, this._data, mountSchema(this.hass.localize, this._existing, (_this$_data = this._data) === null || _this$_data === void 0 ? void 0 : _this$_data.type, this._showCIFSVersion), this._validationError, this._validationWarning, this._computeLabelCallback, this._computeHelperCallback, this._computeErrorCallback, this._computeWarningCallback, this._valueChanged, this.closeDialog, this.hass.localize(\"ui.common.cancel\"), this._existing ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<mwc-button @click=\", \" class=\\\"delete-btn\\\">\\n                \", \"\\n              </mwc-button>\"])), this._deleteMount, this.hass.localize(\"ui.common.delete\")) : nothing, this._waiting, this._connectMount, this._existing ? this.hass.localize(\"ui.panel.config.storage.network_mounts.update\") : this.hass.localize(\"ui.panel.config.storage.network_mounts.connect\"));\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeLabelCallback\",\n      value: function value() {\n        var _this2 = this;\n        return function (schema) {\n          return _this2.hass.localize(\"ui.panel.config.storage.network_mounts.options.\".concat(schema.name, \".title\"));\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeHelperCallback\",\n      value: function value() {\n        var _this3 = this;\n        return function (schema) {\n          return _this3.hass.localize(\"ui.panel.config.storage.network_mounts.options.\".concat(schema.name, \".description\"));\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeErrorCallback\",\n      value: function value() {\n        var _this4 = this;\n        return function (error) {\n          return _this4.hass.localize( // @ts-ignore\n          \"ui.panel.config.storage.network_mounts.errors.\".concat(error)) || error;\n        };\n      }\n    }, {\n      kind: \"field\",\n      key: \"_computeWarningCallback\",\n      value: function value() {\n        var _this5 = this;\n        return function (warning) {\n          return _this5.hass.localize( // @ts-ignore\n          \"ui.panel.config.storage.network_mounts.warnings.\".concat(warning)) || warning;\n        };\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        var _this$_data2, _this$_data3, _this$_data4;\n        this._validationError = {};\n        this._validationWarning = {};\n        this._data = ev.detail.value;\n        if ((_this$_data2 = this._data) !== null && _this$_data2 !== void 0 && _this$_data2.name && !/^\\w+$/.test(this._data.name)) {\n          this._validationError.name = \"invalid_name\";\n        }\n        if (((_this$_data3 = this._data) === null || _this$_data3 === void 0 ? void 0 : _this$_data3.type) === \"cifs\" && !this._data.version) {\n          this._data.version = \"auto\";\n        }\n        if (((_this$_data4 = this._data) === null || _this$_data4 === void 0 ? void 0 : _this$_data4.type) === \"cifs\" && this._data.version && [\"1.0\", \"2.0\"].includes(this._data.version)) {\n          this._validationWarning.version = \"not_recomeded_cifs_version\";\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_connectMount\",\n      value: function () {\n        var _connectMount2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(ev) {\n          var progressButton, mountData;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                progressButton = ev.target;\n                this._error = undefined;\n                this._waiting = true;\n                mountData = Object.assign({}, this._data);\n                if (mountData.type === \"cifs\" && mountData.version === \"auto\") {\n                  mountData.version = undefined;\n                }\n                _context2.prev = 5;\n                if (!this._existing) {\n                  _context2.next = 11;\n                  break;\n                }\n                _context2.next = 9;\n                return updateSupervisorMount(this.hass, mountData);\n              case 9:\n                _context2.next = 13;\n                break;\n              case 11:\n                _context2.next = 13;\n                return createSupervisorMount(this.hass, mountData);\n              case 13:\n                _context2.next = 22;\n                break;\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2[\"catch\"](5);\n                this._error = extractApiErrorMessage(_context2.t0);\n                this._waiting = false;\n                progressButton.actionError();\n                if (this._data.type === \"cifs\" && !this._showCIFSVersion) {\n                  this._showCIFSVersion = true;\n                }\n                return _context2.abrupt(\"return\");\n              case 22:\n                if (this._reloadMounts) {\n                  this._reloadMounts();\n                }\n                this.closeDialog();\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this, [[5, 15]]);\n        }));\n        function _connectMount(_x2) {\n          return _connectMount2.apply(this, arguments);\n        }\n        return _connectMount;\n      }()\n    }, {\n      kind: \"method\",\n      key: \"_deleteMount\",\n      value: function () {\n        var _deleteMount2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                this._error = undefined;\n                this._waiting = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return removeSupervisorMount(this.hass, this._data.name);\n              case 5:\n                _context3.next = 12;\n                break;\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](2);\n                this._error = extractApiErrorMessage(_context3.t0);\n                this._waiting = false;\n                return _context3.abrupt(\"return\");\n              case 12:\n                if (this._reloadMounts) {\n                  this._reloadMounts();\n                }\n                this.closeDialog();\n              case 14:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, this, [[2, 7]]);\n        }));\n        function _deleteMount() {\n          return _deleteMount2.apply(this, arguments);\n        }\n        return _deleteMount;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [haStyle, haStyleDialog, css(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n        ha-icon-button {\\n          color: var(--primary-text-color);\\n        }\\n        .delete-btn {\\n          --mdc-theme-primary: var(--error-color);\\n        }\\n      \"])))];\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","state","memoizeOne","fireEvent","computeRTLDirection","extractApiErrorMessage","createSupervisorMount","removeSupervisorMount","SupervisorMountType","SupervisorMountUsage","updateSupervisorMount","haStyle","haStyleDialog","documentationUrl","mountSchema","localize","existing","mountType","showCIFSVersion","name","required","disabled","selector","text","type","options","BACKUP","MEDIA","SHARE","CIFS","NFS","concat","_toConsumableArray","select","label","value","version","mode","ViewMountDialog","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","_showDialog","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dialogParams","_dialogParams$mount","wrap","_callee$","_context","prev","next","_data","mount","_existing","undefined","_reloadMounts","reloadMounts","_showCIFSVersion","stop","showDialog","_x","apply","closeDialog","_waiting","_error","_validationError","_validationWarning","dialog","localName","render","_this$_data","_templateObject","_taggedTemplateLiteral","hass","mdiHelpCircle","_templateObject2","_computeLabelCallback","_computeHelperCallback","_computeErrorCallback","_computeWarningCallback","_valueChanged","_templateObject3","_deleteMount","_connectMount","_this2","schema","_this3","_this4","error","_this5","warning","ev","_this$_data2","_this$_data3","_this$_data4","detail","test","includes","_connectMount2","_callee2","progressButton","mountData","_callee2$","_context2","target","Object","assign","t0","actionError","abrupt","_x2","_deleteMount2","_callee3","_callee3$","_context3","static","styles","_templateObject4"],"sources":["/workspaces/frontend/src/panels/config/storage/dialog-mount-view.ts"],"sourcesContent":["import { mdiHelpCircle } from \"@mdi/js\";\nimport { css, CSSResultGroup, html, LitElement, nothing } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { LocalizeFunc } from \"../../../common/translations/localize\";\nimport { computeRTLDirection } from \"../../../common/util/compute_rtl\";\nimport \"../../../components/buttons/ha-progress-button\";\nimport type { HaProgressButton } from \"../../../components/buttons/ha-progress-button\";\nimport \"../../../components/ha-form/ha-form\";\nimport type { SchemaUnion } from \"../../../components/ha-form/types\";\nimport \"../../../components/ha-icon-button\";\nimport { extractApiErrorMessage } from \"../../../data/hassio/common\";\nimport {\n  createSupervisorMount,\n  removeSupervisorMount,\n  SupervisorMountRequestParams,\n  SupervisorMountType,\n  SupervisorMountUsage,\n  updateSupervisorMount,\n} from \"../../../data/supervisor/mounts\";\nimport { haStyle, haStyleDialog } from \"../../../resources/styles\";\nimport { HomeAssistant } from \"../../../types\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nimport { MountViewDialogParams } from \"./show-dialog-view-mount\";\n\nconst mountSchema = memoizeOne(\n  (\n    localize: LocalizeFunc,\n    existing?: boolean,\n    mountType?: SupervisorMountType,\n    showCIFSVersion?: boolean\n  ) =>\n    [\n      {\n        name: \"name\",\n        required: true,\n        disabled: existing,\n        selector: { text: {} },\n      },\n      {\n        name: \"usage\",\n        required: true,\n        type: \"select\",\n        options: [\n          [\n            SupervisorMountUsage.BACKUP,\n            localize(\n              \"ui.panel.config.storage.network_mounts.mount_usage.backup\"\n            ),\n          ],\n          [\n            SupervisorMountUsage.MEDIA,\n            localize(\n              \"ui.panel.config.storage.network_mounts.mount_usage.media\"\n            ),\n          ],\n          [\n            SupervisorMountUsage.SHARE,\n            localize(\n              \"ui.panel.config.storage.network_mounts.mount_usage.share\"\n            ),\n          ],\n        ] as const,\n      },\n      {\n        name: \"server\",\n        required: true,\n        selector: { text: {} },\n      },\n      {\n        name: \"type\",\n        required: true,\n        type: \"select\",\n        options: [\n          [\n            SupervisorMountType.CIFS,\n            localize(\"ui.panel.config.storage.network_mounts.mount_type.cifs\"),\n          ],\n          [\n            SupervisorMountType.NFS,\n            localize(\"ui.panel.config.storage.network_mounts.mount_type.nfs\"),\n          ],\n        ],\n      },\n      ...(mountType === \"nfs\"\n        ? ([\n            {\n              name: \"path\",\n              required: true,\n              selector: { text: {} },\n            },\n          ] as const)\n        : mountType === \"cifs\"\n          ? ([\n              ...(showCIFSVersion\n                ? ([\n                    {\n                      name: \"version\",\n                      required: true,\n                      selector: {\n                        select: {\n                          options: [\n                            {\n                              label: localize(\n                                \"ui.panel.config.storage.network_mounts.cifs_versions.auto\"\n                              ),\n                              value: \"auto\",\n                            },\n                            {\n                              label: localize(\n                                \"ui.panel.config.storage.network_mounts.cifs_versions.legacy\",\n                                { version: \"2.0\" }\n                              ),\n                              value: \"2.0\",\n                            },\n                            {\n                              label: localize(\n                                \"ui.panel.config.storage.network_mounts.cifs_versions.legacy\",\n                                { version: \"1.0\" }\n                              ),\n                              value: \"1.0\",\n                            },\n                          ],\n                          mode: \"dropdown\",\n                        },\n                      },\n                    },\n                  ] as const)\n                : ([] as const)),\n              {\n                name: \"share\",\n                required: true,\n                selector: { text: {} },\n              },\n              {\n                name: \"username\",\n                required: false,\n                selector: { text: {} },\n              },\n              {\n                name: \"password\",\n                required: false,\n                selector: { text: { type: \"password\" } },\n              },\n            ] as const)\n          : ([] as const)),\n    ] as const\n);\n\n@customElement(\"dialog-mount-view\")\nclass ViewMountDialog extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @state() private _data?: SupervisorMountRequestParams;\n\n  @state() private _waiting?: boolean;\n\n  @state() private _error?: string;\n\n  @state() private _validationError?: Record<string, string>;\n\n  @state() private _validationWarning?: Record<string, string>;\n\n  @state() private _existing?: boolean;\n\n  @state() private _showCIFSVersion?: boolean;\n\n  @state() private _reloadMounts?: () => void;\n\n  public async showDialog(\n    dialogParams: MountViewDialogParams\n  ): Promise<Promise<void>> {\n    this._data = dialogParams.mount;\n    this._existing = dialogParams.mount !== undefined;\n    this._reloadMounts = dialogParams.reloadMounts;\n    if (\n      dialogParams.mount?.type === \"cifs\" &&\n      dialogParams.mount.version &&\n      dialogParams.mount.version !== \"auto\"\n    ) {\n      this._showCIFSVersion = true;\n    }\n  }\n\n  public closeDialog(): void {\n    this._data = undefined;\n    this._waiting = undefined;\n    this._error = undefined;\n    this._validationError = undefined;\n    this._validationWarning = undefined;\n    this._existing = undefined;\n    this._showCIFSVersion = undefined;\n    this._reloadMounts = undefined;\n    fireEvent(this, \"dialog-closed\", { dialog: this.localName });\n  }\n\n  protected render() {\n    if (this._existing === undefined) {\n      return nothing;\n    }\n    return html`\n      <ha-dialog\n        open\n        scrimClickAction\n        escapeKeyAction\n        .heading=${this._existing\n          ? this.hass.localize(\n              \"ui.panel.config.storage.network_mounts.update_title\"\n            )\n          : this.hass.localize(\n              \"ui.panel.config.storage.network_mounts.add_title\"\n            )}\n        @closed=${this.closeDialog}\n      >\n        <ha-dialog-header slot=\"heading\">\n          <span slot=\"title\"\n            >${this._existing\n              ? this.hass.localize(\n                  \"ui.panel.config.storage.network_mounts.update_title\"\n                )\n              : this.hass.localize(\n                  \"ui.panel.config.storage.network_mounts.add_title\"\n                )}\n          </span>\n          <a\n            slot=\"actionItems\"\n            class=\"header_button\"\n            href=${documentationUrl(\n              this.hass,\n              \"/common-tasks/os#network-storage\"\n            )}\n            title=${this.hass.localize(\n              \"ui.panel.config.storage.network_mounts.documentation\"\n            )}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            dir=${computeRTLDirection(this.hass)}\n          >\n            <ha-icon-button .path=${mdiHelpCircle}></ha-icon-button>\n          </a>\n        </ha-dialog-header>\n        ${this._error\n          ? html`<ha-alert alert-type=\"error\">${this._error}</ha-alert>`\n          : nothing}\n        <ha-form\n          .data=${this._data}\n          .schema=${mountSchema(\n            this.hass.localize,\n            this._existing,\n            this._data?.type,\n            this._showCIFSVersion\n          )}\n          .error=${this._validationError}\n          .warning=${this._validationWarning}\n          .computeLabel=${this._computeLabelCallback}\n          .computeHelper=${this._computeHelperCallback}\n          .computeError=${this._computeErrorCallback}\n          .computeWarning=${this._computeWarningCallback}\n          @value-changed=${this._valueChanged}\n          dialogInitialFocus\n        ></ha-form>\n        <div slot=\"secondaryAction\">\n          <mwc-button @click=${this.closeDialog} dialogInitialFocus>\n            ${this.hass.localize(\"ui.common.cancel\")}\n          </mwc-button>\n          ${this._existing\n            ? html`<mwc-button @click=${this._deleteMount} class=\"delete-btn\">\n                ${this.hass.localize(\"ui.common.delete\")}\n              </mwc-button>`\n            : nothing}\n        </div>\n\n        <ha-progress-button\n          .progress=${this._waiting}\n          slot=\"primaryAction\"\n          @click=${this._connectMount}\n        >\n          ${this._existing\n            ? this.hass.localize(\n                \"ui.panel.config.storage.network_mounts.update\"\n              )\n            : this.hass.localize(\n                \"ui.panel.config.storage.network_mounts.connect\"\n              )}\n        </ha-progress-button>\n      </ha-dialog>\n    `;\n  }\n\n  private _computeLabelCallback = (\n    // @ts-ignore\n    schema: SchemaUnion<ReturnType<typeof mountSchema>>\n  ): string =>\n    this.hass.localize(\n      `ui.panel.config.storage.network_mounts.options.${schema.name}.title`\n    );\n\n  private _computeHelperCallback = (\n    // @ts-ignore\n    schema: SchemaUnion<ReturnType<typeof mountSchema>>\n  ): string =>\n    this.hass.localize(\n      `ui.panel.config.storage.network_mounts.options.${schema.name}.description`\n    );\n\n  private _computeErrorCallback = (error: string): string =>\n    this.hass.localize(\n      // @ts-ignore\n      `ui.panel.config.storage.network_mounts.errors.${error}`\n    ) || error;\n\n  private _computeWarningCallback = (warning: string): string =>\n    this.hass.localize(\n      // @ts-ignore\n      `ui.panel.config.storage.network_mounts.warnings.${warning}`\n    ) || warning;\n\n  private _valueChanged(ev: CustomEvent) {\n    this._validationError = {};\n    this._validationWarning = {};\n    this._data = ev.detail.value;\n    if (this._data?.name && !/^\\w+$/.test(this._data.name)) {\n      this._validationError.name = \"invalid_name\";\n    }\n    if (this._data?.type === \"cifs\" && !this._data.version) {\n      this._data.version = \"auto\";\n    }\n    if (\n      this._data?.type === \"cifs\" &&\n      this._data.version &&\n      [\"1.0\", \"2.0\"].includes(this._data.version)\n    ) {\n      this._validationWarning.version = \"not_recomeded_cifs_version\";\n    }\n  }\n\n  private async _connectMount(ev) {\n    const progressButton = ev.target as HaProgressButton;\n    this._error = undefined;\n    this._waiting = true;\n    const mountData = { ...this._data! };\n    if (mountData.type === \"cifs\" && mountData.version === \"auto\") {\n      mountData.version = undefined;\n    }\n    try {\n      if (this._existing) {\n        await updateSupervisorMount(this.hass, mountData);\n      } else {\n        await createSupervisorMount(this.hass, mountData);\n      }\n    } catch (err: any) {\n      this._error = extractApiErrorMessage(err);\n      this._waiting = false;\n      progressButton.actionError();\n      if (this._data!.type === \"cifs\" && !this._showCIFSVersion) {\n        this._showCIFSVersion = true;\n      }\n      return;\n    }\n    if (this._reloadMounts) {\n      this._reloadMounts();\n    }\n    this.closeDialog();\n  }\n\n  private async _deleteMount() {\n    this._error = undefined;\n    this._waiting = true;\n    try {\n      await removeSupervisorMount(this.hass, this._data!.name);\n    } catch (err: any) {\n      this._error = extractApiErrorMessage(err);\n      this._waiting = false;\n      return;\n    }\n    if (this._reloadMounts) {\n      this._reloadMounts();\n    }\n    this.closeDialog();\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyle,\n      haStyleDialog,\n      css`\n        ha-icon-button {\n          color: var(--primary-text-color);\n        }\n        .delete-btn {\n          --mdc-theme-primary: var(--error-color);\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"dialog-mount-view\": ViewMountDialog;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;AACA,SAASA,GAAG,EAAkBC,IAAI,EAAEC,UAAU,EAAEC,OAAO,QAAQ,KAAK;AACpE,SAASC,aAAa,EAAEC,QAAQ,EAAEC,KAAK,QAAQ,gBAAgB;AAC/D,OAAOC,UAAU,MAAM,aAAa;AACpC,SAASC,SAAS,QAAQ,gCAAgC;AAE1D,SAASC,mBAAmB,QAAQ,kCAAkC;AACtE,OAAO,gDAAgD;AAEvD,OAAO,qCAAqC;AAE5C,OAAO,oCAAoC;AAC3C,SAASC,sBAAsB,QAAQ,6BAA6B;AACpE,SACEC,qBAAqB,EACrBC,qBAAqB,EAErBC,mBAAmB,EACnBC,oBAAoB,EACpBC,qBAAqB,QAChB,iCAAiC;AACxC,SAASC,OAAO,EAAEC,aAAa,QAAQ,2BAA2B;AAElE,SAASC,gBAAgB,QAAQ,iCAAiC;AAGlE,IAAMC,WAAW,GAAGZ,UAAU,CAC5B,UACEa,QAAsB,EACtBC,QAAkB,EAClBC,SAA+B,EAC/BC,eAAyB;EAAA,QAGvB;IACEC,IAAI,EAAE,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdC,QAAQ,EAAEL,QAAQ;IAClBM,QAAQ,EAAE;MAAEC,IAAI,EAAE,CAAC;IAAE;EACvB,CAAC,EACD;IACEJ,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,IAAI;IACdI,IAAI,EAAE,QAAQ;IACdC,OAAO,EAAE,CACP,CACEhB,oBAAoB,CAACiB,MAAM,EAC3BX,QAAQ,CACN,2DACF,CAAC,CACF,EACD,CACEN,oBAAoB,CAACkB,KAAK,EAC1BZ,QAAQ,CACN,0DACF,CAAC,CACF,EACD,CACEN,oBAAoB,CAACmB,KAAK,EAC1Bb,QAAQ,CACN,0DACF,CAAC,CACF;EAEL,CAAC,EACD;IACEI,IAAI,EAAE,QAAQ;IACdC,QAAQ,EAAE,IAAI;IACdE,QAAQ,EAAE;MAAEC,IAAI,EAAE,CAAC;IAAE;EACvB,CAAC,EACD;IACEJ,IAAI,EAAE,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdI,IAAI,EAAE,QAAQ;IACdC,OAAO,EAAE,CACP,CACEjB,mBAAmB,CAACqB,IAAI,EACxBd,QAAQ,CAAC,wDAAwD,CAAC,CACnE,EACD,CACEP,mBAAmB,CAACsB,GAAG,EACvBf,QAAQ,CAAC,uDAAuD,CAAC,CAClE;EAEL,CAAC,EAAAgB,MAAA,CAAAC,kBAAA,CACGf,SAAS,KAAK,KAAK,GAClB,CACC;IACEE,IAAI,EAAE,MAAM;IACZC,QAAQ,EAAE,IAAI;IACdE,QAAQ,EAAE;MAAEC,IAAI,EAAE,CAAC;IAAE;EACvB,CAAC,CACF,GACDN,SAAS,KAAK,MAAM,MAAAc,MAAA,CAAAC,kBAAA,CAEZd,eAAe,GACd,CACC;IACEC,IAAI,EAAE,SAAS;IACfC,QAAQ,EAAE,IAAI;IACdE,QAAQ,EAAE;MACRW,MAAM,EAAE;QACNR,OAAO,EAAE,CACP;UACES,KAAK,EAAEnB,QAAQ,CACb,2DACF,CAAC;UACDoB,KAAK,EAAE;QACT,CAAC,EACD;UACED,KAAK,EAAEnB,QAAQ,CACb,6DAA6D,EAC7D;YAAEqB,OAAO,EAAE;UAAM,CACnB,CAAC;UACDD,KAAK,EAAE;QACT,CAAC,EACD;UACED,KAAK,EAAEnB,QAAQ,CACb,6DAA6D,EAC7D;YAAEqB,OAAO,EAAE;UAAM,CACnB,CAAC;UACDD,KAAK,EAAE;QACT,CAAC,CACF;QACDE,IAAI,EAAE;MACR;IACF;EACF,CAAC,CACF,GACA,EAAY,IACjB;IACElB,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,IAAI;IACdE,QAAQ,EAAE;MAAEC,IAAI,EAAE,CAAC;IAAE;EACvB,CAAC,EACD;IACEJ,IAAI,EAAE,UAAU;IAChBC,QAAQ,EAAE,KAAK;IACfE,QAAQ,EAAE;MAAEC,IAAI,EAAE,CAAC;IAAE;EACvB,CAAC,EACD;IACEJ,IAAI,EAAE,UAAU;IAChBC,QAAQ,EAAE,KAAK;IACfE,QAAQ,EAAE;MAAEC,IAAI,EAAE;QAAEC,IAAI,EAAE;MAAW;IAAE;EACzC,CAAC,KAEF,EAAY;AAAA,CAEzB,CAAC;AAAC,IAGIc,eAAe,GAAAC,SAAA,EADpBxC,aAAa,CAAC,mBAAmB,CAAC,aAAAyC,WAAA,EAAAC,WAAA;EAAA,IAC7BH,eAAe,0BAAAI,YAAA;IAAAC,SAAA,CAAAL,eAAA,EAAAI,YAAA;IAAA,SAAAJ,gBAAA;MAAA,IAAAM,KAAA;MAAAC,eAAA,OAAAP,eAAA;MAAA,SAAAQ,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MAAAP,KAAA,GAAAQ,UAAA,OAAAd,eAAA,KAAAP,MAAA,CAAAkB,IAAA;MAAAT,WAAA,CAAAa,sBAAA,CAAAT,KAAA;MAAA,OAAAA,KAAA;IAAA;IAAA,OAAAU,YAAA,CAAAhB,eAAA;EAAA,EAAAG,WAAA;EAAA;IAAAc,CAAA,EAAfjB,eAAe;IAAAkB,CAAA;MAAAC,IAAA;MAAAC,UAAA,GAClB1D,QAAQ,CAAC;QAAE2D,SAAS,EAAE;MAAM,CAAC,CAAC;MAAAC,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAE9BzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAC,UAAA,GAEPzD,KAAK,CAAC,CAAC;MAAA2D,GAAA;MAAAzB,KAAA;IAAA;MAAAsB,IAAA;MAAAG,GAAA;MAAAzB,KAAA;QAAA,IAAA0B,WAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAER,SAAAC,QACEC,YAAmC;UAAA,IAAAC,mBAAA;UAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAEnC,IAAI,CAACC,KAAK,GAAGP,YAAY,CAACQ,KAAK;gBAC/B,IAAI,CAACC,SAAS,GAAGT,YAAY,CAACQ,KAAK,KAAKE,SAAS;gBACjD,IAAI,CAACC,aAAa,GAAGX,YAAY,CAACY,YAAY;gBAC9C,IACE,EAAAX,mBAAA,GAAAD,YAAY,CAACQ,KAAK,cAAAP,mBAAA,uBAAlBA,mBAAA,CAAoB3C,IAAI,MAAK,MAAM,IACnC0C,YAAY,CAACQ,KAAK,CAACtC,OAAO,IAC1B8B,YAAY,CAACQ,KAAK,CAACtC,OAAO,KAAK,MAAM,EACrC;kBACA,IAAI,CAAC2C,gBAAgB,GAAG,IAAI;gBAC9B;cAAC;cAAA;gBAAA,OAAAT,QAAA,CAAAU,IAAA;YAAA;UAAA,GAAAf,OAAA;QAAA,CACF;QAAA,SAAAgB,WAAAC,EAAA;UAAA,OAAArB,WAAA,CAAAsB,KAAA,OAAApC,SAAA;QAAA;QAAA,OAAAkC,UAAA;MAAA;IAAA;MAAAxB,IAAA;MAAAG,GAAA;MAAAzB,KAAA,EAED,SAAAiD,YAAA,EAA2B;QACzB,IAAI,CAACX,KAAK,GAAGG,SAAS;QACtB,IAAI,CAACS,QAAQ,GAAGT,SAAS;QACzB,IAAI,CAACU,MAAM,GAAGV,SAAS;QACvB,IAAI,CAACW,gBAAgB,GAAGX,SAAS;QACjC,IAAI,CAACY,kBAAkB,GAAGZ,SAAS;QACnC,IAAI,CAACD,SAAS,GAAGC,SAAS;QAC1B,IAAI,CAACG,gBAAgB,GAAGH,SAAS;QACjC,IAAI,CAACC,aAAa,GAAGD,SAAS;QAC9BzE,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE;UAAEsF,MAAM,EAAE,IAAI,CAACC;QAAU,CAAC,CAAC;MAC9D;IAAC;MAAAjC,IAAA;MAAAG,GAAA;MAAAzB,KAAA,EAED,SAAAwD,OAAA,EAAmB;QAAA,IAAAC,WAAA;QACjB,IAAI,IAAI,CAACjB,SAAS,KAAKC,SAAS,EAAE;UAChC,OAAO9E,OAAO;QAChB;QACA,OAAOF,IAAI,CAAAiG,eAAA,KAAAA,eAAA,GAAAC,sBAAA,6wCAKI,IAAI,CAACnB,SAAS,GACrB,IAAI,CAACoB,IAAI,CAAChF,QAAQ,CAChB,qDACF,CAAC,GACD,IAAI,CAACgF,IAAI,CAAChF,QAAQ,CAChB,kDACF,CAAC,EACK,IAAI,CAACqE,WAAW,EAInB,IAAI,CAACT,SAAS,GACb,IAAI,CAACoB,IAAI,CAAChF,QAAQ,CAChB,qDACF,CAAC,GACD,IAAI,CAACgF,IAAI,CAAChF,QAAQ,CAChB,kDACF,CAAC,EAKEF,gBAAgB,CACrB,IAAI,CAACkF,IAAI,EACT,kCACF,CAAC,EACO,IAAI,CAACA,IAAI,CAAChF,QAAQ,CACxB,sDACF,CAAC,EAGKX,mBAAmB,CAAC,IAAI,CAAC2F,IAAI,CAAC,EAEZC,aAAa,EAGvC,IAAI,CAACV,MAAM,GACT1F,IAAI,CAAAqG,gBAAA,KAAAA,gBAAA,GAAAH,sBAAA,uDAAgC,IAAI,CAACR,MAAM,IAC/CxF,OAAO,EAED,IAAI,CAAC2E,KAAK,EACR3D,WAAW,CACnB,IAAI,CAACiF,IAAI,CAAChF,QAAQ,EAClB,IAAI,CAAC4D,SAAS,GAAAiB,WAAA,GACd,IAAI,CAACnB,KAAK,cAAAmB,WAAA,uBAAVA,WAAA,CAAYpE,IAAI,EAChB,IAAI,CAACuD,gBACP,CAAC,EACQ,IAAI,CAACQ,gBAAgB,EACnB,IAAI,CAACC,kBAAkB,EAClB,IAAI,CAACU,qBAAqB,EACzB,IAAI,CAACC,sBAAsB,EAC5B,IAAI,CAACC,qBAAqB,EACxB,IAAI,CAACC,uBAAuB,EAC7B,IAAI,CAACC,aAAa,EAId,IAAI,CAAClB,WAAW,EACjC,IAAI,CAACW,IAAI,CAAChF,QAAQ,CAAC,kBAAkB,CAAC,EAExC,IAAI,CAAC4D,SAAS,GACZ/E,IAAI,CAAA2G,gBAAA,KAAAA,gBAAA,GAAAT,sBAAA,yGAAsB,IAAI,CAACU,YAAY,EACvC,IAAI,CAACT,IAAI,CAAChF,QAAQ,CAAC,kBAAkB,CAAC,IAE1CjB,OAAO,EAIC,IAAI,CAACuF,QAAQ,EAEhB,IAAI,CAACoB,aAAa,EAEzB,IAAI,CAAC9B,SAAS,GACZ,IAAI,CAACoB,IAAI,CAAChF,QAAQ,CAChB,+CACF,CAAC,GACD,IAAI,CAACgF,IAAI,CAAChF,QAAQ,CAChB,gDACF,CAAC;MAIb;IAAC;MAAA0C,IAAA;MAAAG,GAAA;MAAAzB,KAAA,WAAAA,MAAA;QAAA,IAAAuE,MAAA;QAAA,OAE+B,UAE9BC,MAAmD;UAAA,OAEnDD,MAAI,CAACX,IAAI,CAAChF,QAAQ,mDAAAgB,MAAA,CACkC4E,MAAM,CAACxF,IAAI,WAC/D,CAAC;QAAA;MAAA;IAAA;MAAAsC,IAAA;MAAAG,GAAA;MAAAzB,KAAA,WAAAA,MAAA;QAAA,IAAAyE,MAAA;QAAA,OAE8B,UAE/BD,MAAmD;UAAA,OAEnDC,MAAI,CAACb,IAAI,CAAChF,QAAQ,mDAAAgB,MAAA,CACkC4E,MAAM,CAACxF,IAAI,iBAC/D,CAAC;QAAA;MAAA;IAAA;MAAAsC,IAAA;MAAAG,GAAA;MAAAzB,KAAA,WAAAA,MAAA;QAAA,IAAA0E,MAAA;QAAA,OAE6B,UAACC,KAAa;UAAA,OAC5CD,MAAI,CAACd,IAAI,CAAChF,QAAQ,EAChB;UAAA,iDAAAgB,MAAA,CACiD+E,KAAK,CACxD,CAAC,IAAIA,KAAK;QAAA;MAAA;IAAA;MAAArD,IAAA;MAAAG,GAAA;MAAAzB,KAAA,WAAAA,MAAA;QAAA,IAAA4E,MAAA;QAAA,OAEsB,UAACC,OAAe;UAAA,OAChDD,MAAI,CAAChB,IAAI,CAAChF,QAAQ,EAChB;UAAA,mDAAAgB,MAAA,CACmDiF,OAAO,CAC5D,CAAC,IAAIA,OAAO;QAAA;MAAA;IAAA;MAAAvD,IAAA;MAAAG,GAAA;MAAAzB,KAAA,EAEd,SAAAmE,cAAsBW,EAAe,EAAE;QAAA,IAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA;QACrC,IAAI,CAAC7B,gBAAgB,GAAG,CAAC,CAAC;QAC1B,IAAI,CAACC,kBAAkB,GAAG,CAAC,CAAC;QAC5B,IAAI,CAACf,KAAK,GAAGwC,EAAE,CAACI,MAAM,CAAClF,KAAK;QAC5B,IAAI,CAAA+E,YAAA,OAAI,CAACzC,KAAK,cAAAyC,YAAA,eAAVA,YAAA,CAAY/F,IAAI,IAAI,CAAC,OAAO,CAACmG,IAAI,CAAC,IAAI,CAAC7C,KAAK,CAACtD,IAAI,CAAC,EAAE;UACtD,IAAI,CAACoE,gBAAgB,CAACpE,IAAI,GAAG,cAAc;QAC7C;QACA,IAAI,EAAAgG,YAAA,OAAI,CAAC1C,KAAK,cAAA0C,YAAA,uBAAVA,YAAA,CAAY3F,IAAI,MAAK,MAAM,IAAI,CAAC,IAAI,CAACiD,KAAK,CAACrC,OAAO,EAAE;UACtD,IAAI,CAACqC,KAAK,CAACrC,OAAO,GAAG,MAAM;QAC7B;QACA,IACE,EAAAgF,YAAA,OAAI,CAAC3C,KAAK,cAAA2C,YAAA,uBAAVA,YAAA,CAAY5F,IAAI,MAAK,MAAM,IAC3B,IAAI,CAACiD,KAAK,CAACrC,OAAO,IAClB,CAAC,KAAK,EAAE,KAAK,CAAC,CAACmF,QAAQ,CAAC,IAAI,CAAC9C,KAAK,CAACrC,OAAO,CAAC,EAC3C;UACA,IAAI,CAACoD,kBAAkB,CAACpD,OAAO,GAAG,4BAA4B;QAChE;MACF;IAAC;MAAAqB,IAAA;MAAAG,GAAA;MAAAzB,KAAA;QAAA,IAAAqF,cAAA,GAAA1D,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAyD,SAA4BR,EAAE;UAAA,IAAAS,cAAA,EAAAC,SAAA;UAAA,OAAA5D,mBAAA,GAAAK,IAAA,UAAAwD,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAtD,IAAA,GAAAsD,SAAA,CAAArD,IAAA;cAAA;gBACtBkD,cAAc,GAAGT,EAAE,CAACa,MAAM;gBAChC,IAAI,CAACxC,MAAM,GAAGV,SAAS;gBACvB,IAAI,CAACS,QAAQ,GAAG,IAAI;gBACdsC,SAAS,GAAAI,MAAA,CAAAC,MAAA,KAAQ,IAAI,CAACvD,KAAK;gBACjC,IAAIkD,SAAS,CAACnG,IAAI,KAAK,MAAM,IAAImG,SAAS,CAACvF,OAAO,KAAK,MAAM,EAAE;kBAC7DuF,SAAS,CAACvF,OAAO,GAAGwC,SAAS;gBAC/B;gBAACiD,SAAA,CAAAtD,IAAA;gBAAA,KAEK,IAAI,CAACI,SAAS;kBAAAkD,SAAA,CAAArD,IAAA;kBAAA;gBAAA;gBAAAqD,SAAA,CAAArD,IAAA;gBAAA,OACV9D,qBAAqB,CAAC,IAAI,CAACqF,IAAI,EAAE4B,SAAS,CAAC;cAAA;gBAAAE,SAAA,CAAArD,IAAA;gBAAA;cAAA;gBAAAqD,SAAA,CAAArD,IAAA;gBAAA,OAE3ClE,qBAAqB,CAAC,IAAI,CAACyF,IAAI,EAAE4B,SAAS,CAAC;cAAA;gBAAAE,SAAA,CAAArD,IAAA;gBAAA;cAAA;gBAAAqD,SAAA,CAAAtD,IAAA;gBAAAsD,SAAA,CAAAI,EAAA,GAAAJ,SAAA;gBAGnD,IAAI,CAACvC,MAAM,GAAGjF,sBAAsB,CAAAwH,SAAA,CAAAI,EAAI,CAAC;gBACzC,IAAI,CAAC5C,QAAQ,GAAG,KAAK;gBACrBqC,cAAc,CAACQ,WAAW,CAAC,CAAC;gBAC5B,IAAI,IAAI,CAACzD,KAAK,CAAEjD,IAAI,KAAK,MAAM,IAAI,CAAC,IAAI,CAACuD,gBAAgB,EAAE;kBACzD,IAAI,CAACA,gBAAgB,GAAG,IAAI;gBAC9B;gBAAC,OAAA8C,SAAA,CAAAM,MAAA;cAAA;gBAGH,IAAI,IAAI,CAACtD,aAAa,EAAE;kBACtB,IAAI,CAACA,aAAa,CAAC,CAAC;gBACtB;gBACA,IAAI,CAACO,WAAW,CAAC,CAAC;cAAC;cAAA;gBAAA,OAAAyC,SAAA,CAAA7C,IAAA;YAAA;UAAA,GAAAyC,QAAA;QAAA,CACpB;QAAA,SAAAhB,cAAA2B,GAAA;UAAA,OAAAZ,cAAA,CAAArC,KAAA,OAAApC,SAAA;QAAA;QAAA,OAAA0D,aAAA;MAAA;IAAA;MAAAhD,IAAA;MAAAG,GAAA;MAAAzB,KAAA;QAAA,IAAAkG,aAAA,GAAAvE,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAsE,SAAA;UAAA,OAAAvE,mBAAA,GAAAK,IAAA,UAAAmE,UAAAC,SAAA;YAAA,kBAAAA,SAAA,CAAAjE,IAAA,GAAAiE,SAAA,CAAAhE,IAAA;cAAA;gBACE,IAAI,CAACc,MAAM,GAAGV,SAAS;gBACvB,IAAI,CAACS,QAAQ,GAAG,IAAI;gBAACmD,SAAA,CAAAjE,IAAA;gBAAAiE,SAAA,CAAAhE,IAAA;gBAAA,OAEbjE,qBAAqB,CAAC,IAAI,CAACwF,IAAI,EAAE,IAAI,CAACtB,KAAK,CAAEtD,IAAI,CAAC;cAAA;gBAAAqH,SAAA,CAAAhE,IAAA;gBAAA;cAAA;gBAAAgE,SAAA,CAAAjE,IAAA;gBAAAiE,SAAA,CAAAP,EAAA,GAAAO,SAAA;gBAExD,IAAI,CAAClD,MAAM,GAAGjF,sBAAsB,CAAAmI,SAAA,CAAAP,EAAI,CAAC;gBACzC,IAAI,CAAC5C,QAAQ,GAAG,KAAK;gBAAC,OAAAmD,SAAA,CAAAL,MAAA;cAAA;gBAGxB,IAAI,IAAI,CAACtD,aAAa,EAAE;kBACtB,IAAI,CAACA,aAAa,CAAC,CAAC;gBACtB;gBACA,IAAI,CAACO,WAAW,CAAC,CAAC;cAAC;cAAA;gBAAA,OAAAoD,SAAA,CAAAxD,IAAA;YAAA;UAAA,GAAAsD,QAAA;QAAA,CACpB;QAAA,SAAA9B,aAAA;UAAA,OAAA6B,aAAA,CAAAlD,KAAA,OAAApC,SAAA;QAAA;QAAA,OAAAyD,YAAA;MAAA;IAAA;MAAA/C,IAAA;MAAAgF,MAAA;MAAA7E,GAAA;MAAAzB,KAAA,EAED,SAAAuG,OAAA,EAAoC;QAClC,OAAO,CACL/H,OAAO,EACPC,aAAa,EACbjB,GAAG,CAAAgJ,gBAAA,KAAAA,gBAAA,GAAA7C,sBAAA,yLAQJ;MACH;IAAC;EAAA;AAAA,GApP2BjG,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}