{"ast":null,"code":"export const uploadFile = async (hass, file) => {\n  const fd = new FormData();\n  fd.append(\"file\", file);\n  const resp = await hass.fetchWithAuth(\"/api/file_upload\", {\n    method: \"POST\",\n    body: fd\n  });\n  if (resp.status === 413) {\n    throw new Error(`Uploaded file is too large (${file.name})`);\n  } else if (resp.status !== 200) {\n    throw new Error(\"Unknown error\");\n  }\n  const data = await resp.json();\n  return data.file_id;\n};\nexport const removeFile = async (hass, file_id) => hass.callApi(\"DELETE\", \"file_upload\", {\n  file_id\n});","map":{"version":3,"names":["uploadFile","hass","file","fd","FormData","append","resp","fetchWithAuth","method","body","status","Error","name","data","json","file_id","removeFile","callApi"],"sources":["/workspaces/frontend/src/data/file_upload.ts"],"sourcesContent":["import { HomeAssistant } from \"../types\";\n\nexport const uploadFile = async (hass: HomeAssistant, file: File) => {\n  const fd = new FormData();\n  fd.append(\"file\", file);\n  const resp = await hass.fetchWithAuth(\"/api/file_upload\", {\n    method: \"POST\",\n    body: fd,\n  });\n  if (resp.status === 413) {\n    throw new Error(`Uploaded file is too large (${file.name})`);\n  } else if (resp.status !== 200) {\n    throw new Error(\"Unknown error\");\n  }\n  const data = await resp.json();\n  return data.file_id;\n};\n\nexport const removeFile = async (hass: HomeAssistant, file_id: string) =>\n  hass.callApi(\"DELETE\", \"file_upload\", {\n    file_id,\n  });\n"],"mappings":"AAEA,OAAO,MAAMA,UAAU,GAAG,MAAAA,CAAOC,IAAmB,EAAEC,IAAU,KAAK;EACnE,MAAMC,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;EACzBD,EAAE,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EACvB,MAAMI,IAAI,GAAG,MAAML,IAAI,CAACM,aAAa,CAAC,kBAAkB,EAAE;IACxDC,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEN;EACR,CAAC,CAAC;EACF,IAAIG,IAAI,CAACI,MAAM,KAAK,GAAG,EAAE;IACvB,MAAM,IAAIC,KAAK,CAAE,+BAA8BT,IAAI,CAACU,IAAK,GAAE,CAAC;EAC9D,CAAC,MAAM,IAAIN,IAAI,CAACI,MAAM,KAAK,GAAG,EAAE;IAC9B,MAAM,IAAIC,KAAK,CAAC,eAAe,CAAC;EAClC;EACA,MAAME,IAAI,GAAG,MAAMP,IAAI,CAACQ,IAAI,CAAC,CAAC;EAC9B,OAAOD,IAAI,CAACE,OAAO;AACrB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOf,IAAmB,EAAEc,OAAe,KACnEd,IAAI,CAACgB,OAAO,CAAC,QAAQ,EAAE,aAAa,EAAE;EACpCF;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}