{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { styleMap } from \"lit/directives/style-map\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport \"../ha-labeled-slider\";\nimport { generateColorTemperatureGradient } from \"../../dialogs/more-info/components/lights/light-color-temp-picker\";\nimport { DEFAULT_MAX_KELVIN, DEFAULT_MIN_KELVIN, mired2kelvin } from \"../../common/color/convert-light-color\";\nexport let HaColorTempSelector = _decorate([customElement(\"ha-selector-color_temp\")], function (_initialize, _LitElement) {\n  class HaColorTempSelector extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaColorTempSelector,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"selector\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"value\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"label\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"helper\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"disabled\",\n      value() {\n        return false;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"required\",\n      value() {\n        return true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$selector$color_, _this$selector$color_2, _this$selector$color_3, _this$selector$color_4, _this$selector$color_5, _ref, _this$selector$color_6, _this$selector$color_7, _this$selector$color_8, _ref2, _this$selector$color_9, _this$selector$color_10, _this$selector$color_11, _this$selector$color_12, _this$selector$color_13;\n        let min;\n        let max;\n        switch ((_this$selector$color_ = this.selector.color_temp) === null || _this$selector$color_ === void 0 ? void 0 : _this$selector$color_.unit) {\n          case \"kelvin\":\n            min = (_this$selector$color_2 = (_this$selector$color_3 = this.selector.color_temp) === null || _this$selector$color_3 === void 0 ? void 0 : _this$selector$color_3.min) !== null && _this$selector$color_2 !== void 0 ? _this$selector$color_2 : DEFAULT_MIN_KELVIN;\n            max = (_this$selector$color_4 = (_this$selector$color_5 = this.selector.color_temp) === null || _this$selector$color_5 === void 0 ? void 0 : _this$selector$color_5.max) !== null && _this$selector$color_4 !== void 0 ? _this$selector$color_4 : DEFAULT_MAX_KELVIN;\n            break;\n          case \"mired\":\n          default:\n            min = (_ref = (_this$selector$color_6 = (_this$selector$color_7 = this.selector.color_temp) === null || _this$selector$color_7 === void 0 ? void 0 : _this$selector$color_7.min) !== null && _this$selector$color_6 !== void 0 ? _this$selector$color_6 : (_this$selector$color_8 = this.selector.color_temp) === null || _this$selector$color_8 === void 0 ? void 0 : _this$selector$color_8.min_mireds) !== null && _ref !== void 0 ? _ref : 153;\n            max = (_ref2 = (_this$selector$color_9 = (_this$selector$color_10 = this.selector.color_temp) === null || _this$selector$color_10 === void 0 ? void 0 : _this$selector$color_10.max) !== null && _this$selector$color_9 !== void 0 ? _this$selector$color_9 : (_this$selector$color_11 = this.selector.color_temp) === null || _this$selector$color_11 === void 0 ? void 0 : _this$selector$color_11.max_mireds) !== null && _ref2 !== void 0 ? _ref2 : 500;\n            break;\n        }\n        const gradient = this._generateTemperatureGradient((_this$selector$color_12 = (_this$selector$color_13 = this.selector.color_temp) === null || _this$selector$color_13 === void 0 ? void 0 : _this$selector$color_13.unit) !== null && _this$selector$color_12 !== void 0 ? _this$selector$color_12 : \"mired\", min, max);\n        return html`\n      <ha-labeled-slider\n        style=${styleMap({\n          \"--ha-slider-background\": `linear-gradient( to var(--float-end), ${gradient})`\n        })}\n        labeled\n        icon=\"hass:thermometer\"\n        .caption=${this.label || \"\"}\n        .min=${min}\n        .max=${max}\n        .value=${this.value}\n        .disabled=${this.disabled}\n        .helper=${this.helper}\n        .required=${this.required}\n        @value-changed=${this._valueChanged}\n      ></ha-labeled-slider>\n    `;\n      }\n    }, {\n      kind: \"field\",\n      key: \"_generateTemperatureGradient\",\n      value() {\n        return memoizeOne((unit, min, max) => {\n          let gradient;\n          switch (unit) {\n            case \"kelvin\":\n              gradient = generateColorTemperatureGradient(min, max);\n              break;\n            case \"mired\":\n              gradient = generateColorTemperatureGradient(mired2kelvin(min), mired2kelvin(max));\n          }\n          return gradient;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_valueChanged\",\n      value: function _valueChanged(ev) {\n        fireEvent(this, \"value-changed\", {\n          value: Number(ev.detail.value)\n        });\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["html","LitElement","customElement","property","styleMap","memoizeOne","fireEvent","generateColorTemperatureGradient","DEFAULT_MAX_KELVIN","DEFAULT_MIN_KELVIN","mired2kelvin","HaColorTempSelector","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","type","Boolean","reflect","render","_this$selector$color_","_this$selector$color_2","_this$selector$color_3","_this$selector$color_4","_this$selector$color_5","_ref","_this$selector$color_6","_this$selector$color_7","_this$selector$color_8","_ref2","_this$selector$color_9","_this$selector$color_10","_this$selector$color_11","_this$selector$color_12","_this$selector$color_13","min","max","selector","color_temp","unit","min_mireds","max_mireds","gradient","_generateTemperatureGradient","label","disabled","helper","required","_valueChanged","ev","Number","detail"],"sources":["/workspaces/frontend/src/components/ha-selector/ha-selector-color-temp.ts"],"sourcesContent":["import { html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { styleMap } from \"lit/directives/style-map\";\nimport memoizeOne from \"memoize-one\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport type { ColorTempSelector } from \"../../data/selector\";\nimport type { HomeAssistant } from \"../../types\";\nimport \"../ha-labeled-slider\";\nimport { generateColorTemperatureGradient } from \"../../dialogs/more-info/components/lights/light-color-temp-picker\";\nimport {\n  DEFAULT_MAX_KELVIN,\n  DEFAULT_MIN_KELVIN,\n  mired2kelvin,\n} from \"../../common/color/convert-light-color\";\n\n@customElement(\"ha-selector-color_temp\")\nexport class HaColorTempSelector extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public selector!: ColorTempSelector;\n\n  @property() public value?: string;\n\n  @property() public label?: string;\n\n  @property() public helper?: string;\n\n  @property({ type: Boolean, reflect: true }) public disabled = false;\n\n  @property({ type: Boolean }) public required = true;\n\n  protected render() {\n    let min: number;\n    let max: number;\n\n    switch (this.selector.color_temp?.unit) {\n      case \"kelvin\":\n        min = this.selector.color_temp?.min ?? DEFAULT_MIN_KELVIN;\n        max = this.selector.color_temp?.max ?? DEFAULT_MAX_KELVIN;\n        break;\n      case \"mired\":\n      default:\n        min =\n          this.selector.color_temp?.min ??\n          this.selector.color_temp?.min_mireds ??\n          153;\n        max =\n          this.selector.color_temp?.max ??\n          this.selector.color_temp?.max_mireds ??\n          500;\n        break;\n    }\n    const gradient = this._generateTemperatureGradient(\n      this.selector.color_temp?.unit ?? \"mired\",\n      min,\n      max\n    );\n\n    return html`\n      <ha-labeled-slider\n        style=${styleMap({\n          \"--ha-slider-background\": `linear-gradient( to var(--float-end), ${gradient})`,\n        })}\n        labeled\n        icon=\"hass:thermometer\"\n        .caption=${this.label || \"\"}\n        .min=${min}\n        .max=${max}\n        .value=${this.value}\n        .disabled=${this.disabled}\n        .helper=${this.helper}\n        .required=${this.required}\n        @value-changed=${this._valueChanged}\n      ></ha-labeled-slider>\n    `;\n  }\n\n  private _generateTemperatureGradient = memoizeOne(\n    (unit: \"kelvin\" | \"mired\", min: number, max: number) => {\n      let gradient;\n\n      switch (unit) {\n        case \"kelvin\":\n          gradient = generateColorTemperatureGradient(min, max);\n          break;\n        case \"mired\":\n          gradient = generateColorTemperatureGradient(\n            mired2kelvin(min),\n            mired2kelvin(max)\n          );\n      }\n\n      return gradient;\n    }\n  );\n\n  private _valueChanged(ev: CustomEvent) {\n    fireEvent(this, \"value-changed\", {\n      value: Number((ev.detail as any).value),\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-selector-color_temp\": HaColorTempSelector;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}