{"ast":null,"code":"import _decorate from \"@babel/runtime/helpers/decorate\";\nimport { css, html, LitElement, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { until } from \"lit/directives/until\";\nimport { DEFAULT_DOMAIN_ICON, FIXED_DOMAIN_ICONS } from \"../common/const\";\nimport { domainIcon } from \"../data/icons\";\nimport { brandsUrl } from \"../util/brands-url\";\nimport \"./ha-icon\";\nexport let HaDomainIcon = _decorate([customElement(\"ha-domain-icon\")], function (_initialize, _LitElement) {\n  class HaDomainIcon extends _LitElement {\n    constructor(...args) {\n      super(...args);\n      _initialize(this);\n    }\n  }\n  return {\n    F: HaDomainIcon,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"domain\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"deviceClass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property()],\n      key: \"icon\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        type: Boolean\n      })],\n      key: \"brandFallback\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        if (this.icon) {\n          return html`<ha-icon .icon=${this.icon}></ha-icon>`;\n        }\n        if (!this.domain) {\n          return nothing;\n        }\n        if (!this.hass) {\n          return this._renderFallback();\n        }\n        const icon = domainIcon(this.hass, this.domain, this.deviceClass).then(icn => {\n          if (icn) {\n            return html`<ha-icon .icon=${icn}></ha-icon>`;\n          }\n          return this._renderFallback();\n        });\n        return html`${until(icon)}`;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderFallback\",\n      value: function _renderFallback() {\n        if (this.domain in FIXED_DOMAIN_ICONS) {\n          return html`\n        <ha-svg-icon .path=${FIXED_DOMAIN_ICONS[this.domain]}></ha-svg-icon>\n      `;\n        }\n        if (this.brandFallback) {\n          var _this$hass$themes;\n          const image = brandsUrl({\n            domain: this.domain,\n            type: \"icon\",\n            darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n          });\n          return html`\n        <img\n          alt=\"\"\n          src=${image}\n          crossorigin=\"anonymous\"\n          referrerpolicy=\"no-referrer\"\n        />\n      `;\n        }\n        return html`<ha-svg-icon .path=${DEFAULT_DOMAIN_ICON}></ha-svg-icon>`;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css`\n      img {\n        width: var(--mdc-icon-size, 24px);\n      }\n    `;\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","nothing","customElement","property","until","DEFAULT_DOMAIN_ICON","FIXED_DOMAIN_ICONS","domainIcon","brandsUrl","HaDomainIcon","_decorate","_initialize","_LitElement","constructor","args","F","d","kind","decorators","attribute","key","value","type","Boolean","render","icon","domain","hass","_renderFallback","deviceClass","then","icn","brandFallback","_this$hass$themes","image","darkOptimized","themes","darkMode","static","styles"],"sources":["/workspaces/frontend/src/components/ha-domain-icon.ts"],"sourcesContent":["import { css, CSSResultGroup, html, LitElement, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { until } from \"lit/directives/until\";\nimport { DEFAULT_DOMAIN_ICON, FIXED_DOMAIN_ICONS } from \"../common/const\";\nimport { domainIcon } from \"../data/icons\";\nimport { HomeAssistant } from \"../types\";\nimport { brandsUrl } from \"../util/brands-url\";\nimport \"./ha-icon\";\n\n@customElement(\"ha-domain-icon\")\nexport class HaDomainIcon extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property() public domain?: string;\n\n  @property() public deviceClass?: string;\n\n  @property() public icon?: string;\n\n  @property({ type: Boolean }) public brandFallback?: boolean;\n\n  protected render() {\n    if (this.icon) {\n      return html`<ha-icon .icon=${this.icon}></ha-icon>`;\n    }\n\n    if (!this.domain) {\n      return nothing;\n    }\n\n    if (!this.hass) {\n      return this._renderFallback();\n    }\n\n    const icon = domainIcon(this.hass, this.domain, this.deviceClass).then(\n      (icn) => {\n        if (icn) {\n          return html`<ha-icon .icon=${icn}></ha-icon>`;\n        }\n        return this._renderFallback();\n      }\n    );\n\n    return html`${until(icon)}`;\n  }\n\n  private _renderFallback() {\n    if (this.domain! in FIXED_DOMAIN_ICONS) {\n      return html`\n        <ha-svg-icon .path=${FIXED_DOMAIN_ICONS[this.domain!]}></ha-svg-icon>\n      `;\n    }\n    if (this.brandFallback) {\n      const image = brandsUrl({\n        domain: this.domain!,\n        type: \"icon\",\n        darkOptimized: this.hass.themes?.darkMode,\n      });\n      return html`\n        <img\n          alt=\"\"\n          src=${image}\n          crossorigin=\"anonymous\"\n          referrerpolicy=\"no-referrer\"\n        />\n      `;\n    }\n    return html`<ha-svg-icon .path=${DEFAULT_DOMAIN_ICON}></ha-svg-icon>`;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      img {\n        width: var(--mdc-icon-size, 24px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-domain-icon\": HaDomainIcon;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}