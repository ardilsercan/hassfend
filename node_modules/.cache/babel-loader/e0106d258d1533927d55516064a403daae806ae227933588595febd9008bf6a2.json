{"ast":null,"code":"\"use strict\";\n\nvar _typeof = require(\"@babel/runtime/helpers/typeof\").default;\nrequire(\"core-js/modules/es.error.cause.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PartitionRelativeTimePattern = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar SingularRelativeTimeUnit_1 = require(\"./SingularRelativeTimeUnit\");\nvar MakePartsList_1 = require(\"./MakePartsList\");\nfunction PartitionRelativeTimePattern(rtf, value, unit, _a) {\n  var getInternalSlots = _a.getInternalSlots;\n  (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(value) === 'Number', \"value must be number, instead got \".concat(_typeof(value)), TypeError);\n  (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(unit) === 'String', \"unit must be number, instead got \".concat(_typeof(value)), TypeError);\n  if (isNaN(value) || !isFinite(value)) {\n    throw new RangeError(\"Invalid value \".concat(value));\n  }\n  var resolvedUnit = (0, SingularRelativeTimeUnit_1.SingularRelativeTimeUnit)(unit);\n  var _b = getInternalSlots(rtf),\n    fields = _b.fields,\n    style = _b.style,\n    numeric = _b.numeric,\n    pluralRules = _b.pluralRules,\n    numberFormat = _b.numberFormat;\n  var entry = resolvedUnit;\n  if (style === 'short') {\n    entry = \"\".concat(resolvedUnit, \"-short\");\n  } else if (style === 'narrow') {\n    entry = \"\".concat(resolvedUnit, \"-narrow\");\n  }\n  if (!(entry in fields)) {\n    entry = resolvedUnit;\n  }\n  var patterns = fields[entry];\n  if (numeric === 'auto') {\n    if ((0, ecma402_abstract_1.ToString)(value) in patterns) {\n      return [{\n        type: 'literal',\n        value: patterns[(0, ecma402_abstract_1.ToString)(value)]\n      }];\n    }\n  }\n  var tl = 'future';\n  if ((0, ecma402_abstract_1.SameValue)(value, -0) || value < 0) {\n    tl = 'past';\n  }\n  var po = patterns[tl];\n  var fv = typeof numberFormat.formatToParts === 'function' ? numberFormat.formatToParts(Math.abs(value)) :\n  // TODO: If formatToParts is not supported, we assume the whole formatted\n  // number is a part\n  [{\n    type: 'literal',\n    value: numberFormat.format(Math.abs(value)),\n    unit: unit\n  }];\n  var pr = pluralRules.select(value);\n  var pattern = po[pr];\n  return (0, MakePartsList_1.MakePartsList)(pattern, resolvedUnit, fv);\n}\nexports.PartitionRelativeTimePattern = PartitionRelativeTimePattern;","map":{"version":3,"names":["_typeof","require","default","Object","defineProperty","exports","value","PartitionRelativeTimePattern","ecma402_abstract_1","SingularRelativeTimeUnit_1","MakePartsList_1","rtf","unit","_a","getInternalSlots","invariant","Type","concat","TypeError","isNaN","isFinite","RangeError","resolvedUnit","SingularRelativeTimeUnit","_b","fields","style","numeric","pluralRules","numberFormat","entry","patterns","ToString","type","tl","SameValue","po","fv","formatToParts","Math","abs","format","pr","select","pattern","MakePartsList"],"sources":["/workspaces/frontend/node_modules/@formatjs/intl-relativetimeformat/abstract/PartitionRelativeTimePattern.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PartitionRelativeTimePattern = void 0;\nvar ecma402_abstract_1 = require(\"@formatjs/ecma402-abstract\");\nvar SingularRelativeTimeUnit_1 = require(\"./SingularRelativeTimeUnit\");\nvar MakePartsList_1 = require(\"./MakePartsList\");\nfunction PartitionRelativeTimePattern(rtf, value, unit, _a) {\n    var getInternalSlots = _a.getInternalSlots;\n    (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(value) === 'Number', \"value must be number, instead got \".concat(typeof value), TypeError);\n    (0, ecma402_abstract_1.invariant)((0, ecma402_abstract_1.Type)(unit) === 'String', \"unit must be number, instead got \".concat(typeof value), TypeError);\n    if (isNaN(value) || !isFinite(value)) {\n        throw new RangeError(\"Invalid value \".concat(value));\n    }\n    var resolvedUnit = (0, SingularRelativeTimeUnit_1.SingularRelativeTimeUnit)(unit);\n    var _b = getInternalSlots(rtf), fields = _b.fields, style = _b.style, numeric = _b.numeric, pluralRules = _b.pluralRules, numberFormat = _b.numberFormat;\n    var entry = resolvedUnit;\n    if (style === 'short') {\n        entry = \"\".concat(resolvedUnit, \"-short\");\n    }\n    else if (style === 'narrow') {\n        entry = \"\".concat(resolvedUnit, \"-narrow\");\n    }\n    if (!(entry in fields)) {\n        entry = resolvedUnit;\n    }\n    var patterns = fields[entry];\n    if (numeric === 'auto') {\n        if ((0, ecma402_abstract_1.ToString)(value) in patterns) {\n            return [\n                {\n                    type: 'literal',\n                    value: patterns[(0, ecma402_abstract_1.ToString)(value)],\n                },\n            ];\n        }\n    }\n    var tl = 'future';\n    if ((0, ecma402_abstract_1.SameValue)(value, -0) || value < 0) {\n        tl = 'past';\n    }\n    var po = patterns[tl];\n    var fv = typeof numberFormat.formatToParts === 'function'\n        ? numberFormat.formatToParts(Math.abs(value))\n        : // TODO: If formatToParts is not supported, we assume the whole formatted\n            // number is a part\n            [\n                {\n                    type: 'literal',\n                    value: numberFormat.format(Math.abs(value)),\n                    unit: unit,\n                },\n            ];\n    var pr = pluralRules.select(value);\n    var pattern = po[pr];\n    return (0, MakePartsList_1.MakePartsList)(pattern, resolvedUnit, fv);\n}\nexports.PartitionRelativeTimePattern = PartitionRelativeTimePattern;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}