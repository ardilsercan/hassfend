{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport { makeDialogManager, showDialog } from \"../dialogs/make-dialog-manager\";\nexport var dialogManagerMixin = function dialogManagerMixin(superClass) {\n  return /*#__PURE__*/function (_superClass) {\n    _inherits(_class, _superClass);\n    function _class() {\n      _classCallCheck(this, _class);\n      return _callSuper(this, _class, arguments);\n    }\n    _createClass(_class, [{\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        var _this = this;\n        _get(_getPrototypeOf(_class.prototype), \"firstUpdated\", this).call(this, changedProps);\n        // deprecated\n        this.addEventListener(\"register-dialog\", function (e) {\n          return _this.registerDialog(e.detail);\n        });\n        makeDialogManager(this, this.shadowRoot);\n      }\n    }, {\n      key: \"registerDialog\",\n      value: function registerDialog(_ref) {\n        var _this2 = this;\n        var dialogShowEvent = _ref.dialogShowEvent,\n          dialogTag = _ref.dialogTag,\n          dialogImport = _ref.dialogImport,\n          _ref$addHistory = _ref.addHistory,\n          addHistory = _ref$addHistory === void 0 ? true : _ref$addHistory;\n        this.addEventListener(dialogShowEvent, function (showEv) {\n          showDialog(_this2, _this2.shadowRoot, dialogTag, showEv.detail, dialogImport, addHistory);\n        });\n      }\n    }]);\n    return _class;\n  }(superClass);\n};","map":{"version":3,"names":["makeDialogManager","showDialog","dialogManagerMixin","superClass","_superClass","_inherits","_class","_classCallCheck","_callSuper","arguments","_createClass","key","value","firstUpdated","changedProps","_this","_get","_getPrototypeOf","prototype","call","addEventListener","e","registerDialog","detail","shadowRoot","_ref","_this2","dialogShowEvent","dialogTag","dialogImport","_ref$addHistory","addHistory","showEv"],"sources":["/Users/sercanardil/Desktop/frontend/src/state/dialog-manager-mixin.ts"],"sourcesContent":["import { PropertyValues } from \"lit\";\nimport { HASSDomEvent } from \"../common/dom/fire_event\";\nimport { makeDialogManager, showDialog } from \"../dialogs/make-dialog-manager\";\nimport { Constructor } from \"../types\";\nimport { HassBaseEl } from \"./hass-base-mixin\";\n\ninterface RegisterDialogParams {\n  dialogShowEvent: keyof HASSDomEvents;\n  dialogTag: keyof HTMLElementTagNameMap;\n  dialogImport: () => Promise<unknown>;\n  addHistory?: boolean;\n}\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    \"register-dialog\": RegisterDialogParams;\n  }\n  // for add event listener\n  interface HTMLElementEventMap {\n    \"register-dialog\": HASSDomEvent<RegisterDialogParams>;\n  }\n}\n\nexport const dialogManagerMixin = <T extends Constructor<HassBaseEl>>(\n  superClass: T\n) =>\n  class extends superClass {\n    protected firstUpdated(changedProps: PropertyValues) {\n      super.firstUpdated(changedProps);\n      // deprecated\n      this.addEventListener(\"register-dialog\", (e) =>\n        this.registerDialog(e.detail)\n      );\n      makeDialogManager(this, this.shadowRoot!);\n    }\n\n    private registerDialog({\n      dialogShowEvent,\n      dialogTag,\n      dialogImport,\n      addHistory = true,\n    }: RegisterDialogParams) {\n      this.addEventListener(dialogShowEvent, (showEv) => {\n        showDialog(\n          this,\n          this.shadowRoot!,\n          dialogTag,\n          (showEv as HASSDomEvent<unknown>).detail,\n          dialogImport,\n          addHistory\n        );\n      });\n    }\n  };\n"],"mappings":";;;;;;AAEA,SAASA,iBAAiB,EAAEC,UAAU,QAAQ,gCAAgC;AAsB9E,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAC7BC,UAAa;EAAA,8BAAAC,WAAA;IAAAC,SAAA,CAAAC,MAAA,EAAAF,WAAA;IAAA,SAAAE,OAAA;MAAAC,eAAA,OAAAD,MAAA;MAAA,OAAAE,UAAA,OAAAF,MAAA,EAAAG,SAAA;IAAA;IAAAC,YAAA,CAAAJ,MAAA;MAAAK,GAAA;MAAAC,KAAA,EAGX,SAAAC,aAAuBC,YAA4B,EAAE;QAAA,IAAAC,KAAA;QACnDC,IAAA,CAAAC,eAAA,CAAAX,MAAA,CAAAY,SAAA,yBAAAC,IAAA,OAAmBL,YAAY;QAC/B;QACA,IAAI,CAACM,gBAAgB,CAAC,iBAAiB,EAAE,UAACC,CAAC;UAAA,OACzCN,KAAI,CAACO,cAAc,CAACD,CAAC,CAACE,MAAM,CAAC;QAAA,CAC/B,CAAC;QACDvB,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACwB,UAAW,CAAC;MAC3C;IAAC;MAAAb,GAAA;MAAAC,KAAA,EAED,SAAAU,eAAAG,IAAA,EAKyB;QAAA,IAAAC,MAAA;QAAA,IAJvBC,eAAe,GAAAF,IAAA,CAAfE,eAAe;UACfC,SAAS,GAAAH,IAAA,CAATG,SAAS;UACTC,YAAY,GAAAJ,IAAA,CAAZI,YAAY;UAAAC,eAAA,GAAAL,IAAA,CACZM,UAAU;UAAVA,UAAU,GAAAD,eAAA,cAAG,IAAI,GAAAA,eAAA;QAEjB,IAAI,CAACV,gBAAgB,CAACO,eAAe,EAAE,UAACK,MAAM,EAAK;UACjD/B,UAAU,CACRyB,MAAI,EACJA,MAAI,CAACF,UAAU,EACfI,SAAS,EACRI,MAAM,CAA2BT,MAAM,EACxCM,YAAY,EACZE,UACF,CAAC;QACH,CAAC,CAAC;MACJ;IAAC;IAAA,OAAAzB,MAAA;EAAA,EA1BWH,UAAU;AAAA,CA2BvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}