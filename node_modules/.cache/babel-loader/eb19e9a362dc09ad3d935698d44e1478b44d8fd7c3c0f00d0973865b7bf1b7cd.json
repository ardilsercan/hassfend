{"ast":null,"code":"// Sets up a Leaflet map on the provided DOM element\n\nexport const setupLeafletMap = async mapElement => {\n  if (!mapElement.parentNode) {\n    throw new Error(\"Cannot setup Leaflet map on disconnected element\");\n  }\n  // eslint-disable-next-line\n  const Leaflet = (await import(\"leaflet\")).default;\n  Leaflet.Icon.Default.imagePath = \"/static/images/leaflet/images/\";\n  const map = Leaflet.map(mapElement);\n  const style = document.createElement(\"link\");\n  style.setAttribute(\"href\", \"/static/images/leaflet/leaflet.css\");\n  style.setAttribute(\"rel\", \"stylesheet\");\n  mapElement.parentNode.appendChild(style);\n  map.setView([52.3731339, 4.8903147], 13);\n  const tileLayer = createTileLayer(Leaflet).addTo(map);\n  return [map, Leaflet, tileLayer];\n};\nexport const replaceTileLayer = (leaflet, map, tileLayer) => {\n  map.removeLayer(tileLayer);\n  tileLayer = createTileLayer(leaflet);\n  tileLayer.addTo(map);\n  return tileLayer;\n};\nconst createTileLayer = leaflet => leaflet.tileLayer(`https://basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}${leaflet.Browser.retina ? \"@2x.png\" : \".png\"}`, {\n  attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n  subdomains: \"abcd\",\n  minZoom: 0,\n  maxZoom: 20\n});","map":{"version":3,"names":["setupLeafletMap","mapElement","parentNode","Error","Leaflet","default","Icon","Default","imagePath","map","style","document","createElement","setAttribute","appendChild","setView","tileLayer","createTileLayer","addTo","replaceTileLayer","leaflet","removeLayer","Browser","retina","attribution","subdomains","minZoom","maxZoom"],"sources":["/Users/sercanardil/Desktop/frontend/src/common/dom/setup-leaflet-map.ts"],"sourcesContent":["import type { Map, TileLayer } from \"leaflet\";\n\n// Sets up a Leaflet map on the provided DOM element\nexport type LeafletModuleType = typeof import(\"leaflet\");\nexport type LeafletDrawModuleType = typeof import(\"leaflet-draw\");\n\nexport const setupLeafletMap = async (\n  mapElement: HTMLElement\n): Promise<[Map, LeafletModuleType, TileLayer]> => {\n  if (!mapElement.parentNode) {\n    throw new Error(\"Cannot setup Leaflet map on disconnected element\");\n  }\n  // eslint-disable-next-line\n  const Leaflet = (await import(\"leaflet\")).default as LeafletModuleType;\n  Leaflet.Icon.Default.imagePath = \"/static/images/leaflet/images/\";\n\n  const map = Leaflet.map(mapElement);\n  const style = document.createElement(\"link\");\n  style.setAttribute(\"href\", \"/static/images/leaflet/leaflet.css\");\n  style.setAttribute(\"rel\", \"stylesheet\");\n  mapElement.parentNode.appendChild(style);\n  map.setView([52.3731339, 4.8903147], 13);\n\n  const tileLayer = createTileLayer(Leaflet).addTo(map);\n\n  return [map, Leaflet, tileLayer];\n};\n\nexport const replaceTileLayer = (\n  leaflet: LeafletModuleType,\n  map: Map,\n  tileLayer: TileLayer\n): TileLayer => {\n  map.removeLayer(tileLayer);\n  tileLayer = createTileLayer(leaflet);\n  tileLayer.addTo(map);\n  return tileLayer;\n};\n\nconst createTileLayer = (leaflet: LeafletModuleType): TileLayer =>\n  leaflet.tileLayer(\n    `https://basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}${\n      leaflet.Browser.retina ? \"@2x.png\" : \".png\"\n    }`,\n    {\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n      subdomains: \"abcd\",\n      minZoom: 0,\n      maxZoom: 20,\n    }\n  );\n"],"mappings":"AAEA;;AAIA,OAAO,MAAMA,eAAe,GAAG,MAC7BC,UAAuB,IAC0B;EACjD,IAAI,CAACA,UAAU,CAACC,UAAU,EAAE;IAC1B,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;EACrE;EACA;EACA,MAAMC,OAAO,GAAG,CAAC,MAAM,MAAM,CAAC,SAAS,CAAC,EAAEC,OAA4B;EACtED,OAAO,CAACE,IAAI,CAACC,OAAO,CAACC,SAAS,GAAG,gCAAgC;EAEjE,MAAMC,GAAG,GAAGL,OAAO,CAACK,GAAG,CAACR,UAAU,CAAC;EACnC,MAAMS,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC5CF,KAAK,CAACG,YAAY,CAAC,MAAM,EAAE,oCAAoC,CAAC;EAChEH,KAAK,CAACG,YAAY,CAAC,KAAK,EAAE,YAAY,CAAC;EACvCZ,UAAU,CAACC,UAAU,CAACY,WAAW,CAACJ,KAAK,CAAC;EACxCD,GAAG,CAACM,OAAO,CAAC,CAAC,UAAU,EAAE,SAAS,CAAC,EAAE,EAAE,CAAC;EAExC,MAAMC,SAAS,GAAGC,eAAe,CAACb,OAAO,CAAC,CAACc,KAAK,CAACT,GAAG,CAAC;EAErD,OAAO,CAACA,GAAG,EAAEL,OAAO,EAAEY,SAAS,CAAC;AAClC,CAAC;AAED,OAAO,MAAMG,gBAAgB,GAAGA,CAC9BC,OAA0B,EAC1BX,GAAQ,EACRO,SAAoB,KACN;EACdP,GAAG,CAACY,WAAW,CAACL,SAAS,CAAC;EAC1BA,SAAS,GAAGC,eAAe,CAACG,OAAO,CAAC;EACpCJ,SAAS,CAACE,KAAK,CAACT,GAAG,CAAC;EACpB,OAAOO,SAAS;AAClB,CAAC;AAED,MAAMC,eAAe,GAAIG,OAA0B,IACjDA,OAAO,CAACJ,SAAS,CACd,gEACCI,OAAO,CAACE,OAAO,CAACC,MAAM,GAAG,SAAS,GAAG,MACtC,EAAC,EACF;EACEC,WAAW,EACT,uIAAuI;EACzIC,UAAU,EAAE,MAAM;EAClBC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE;AACX,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}