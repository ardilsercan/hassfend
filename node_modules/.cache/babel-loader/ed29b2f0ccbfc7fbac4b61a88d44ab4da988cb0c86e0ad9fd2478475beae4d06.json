{"ast":null,"code":"import \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { loadCSS, loadJS, loadModule } from \"../../../common/dom/load_resource\";\n// CSS and JS should only be imported once. Modules and HTML are safe.\nvar CSS_CACHE = {};\nvar JS_CACHE = {};\nexport var loadLovelaceResources = function loadLovelaceResources(resources, hass) {\n  resources.forEach(function (resource) {\n    var normalizedUrl = new URL(resource.url, hass.auth.data.hassUrl).toString();\n    switch (resource.type) {\n      case \"css\":\n        if (normalizedUrl in CSS_CACHE) {\n          break;\n        }\n        CSS_CACHE[normalizedUrl] = loadCSS(normalizedUrl);\n        break;\n      case \"js\":\n        if (normalizedUrl in JS_CACHE) {\n          break;\n        }\n        JS_CACHE[normalizedUrl] = loadJS(normalizedUrl);\n        break;\n      case \"module\":\n        loadModule(normalizedUrl);\n        break;\n      default:\n        // eslint-disable-next-line\n        console.warn(\"Unknown resource type specified: \".concat(resource.type));\n    }\n  });\n};","map":{"version":3,"names":["loadCSS","loadJS","loadModule","CSS_CACHE","JS_CACHE","loadLovelaceResources","resources","hass","forEach","resource","normalizedUrl","URL","url","auth","data","hassUrl","toString","type","console","warn","concat"],"sources":["/workspaces/frontend/src/panels/lovelace/common/load-resources.ts"],"sourcesContent":["import { loadCSS, loadJS, loadModule } from \"../../../common/dom/load_resource\";\nimport { LovelaceResource } from \"../../../data/lovelace/resource\";\nimport type { HomeAssistant } from \"../../../types\";\n\n// CSS and JS should only be imported once. Modules and HTML are safe.\nconst CSS_CACHE = {};\nconst JS_CACHE = {};\n\nexport const loadLovelaceResources = (\n  resources: NonNullable<LovelaceResource[]>,\n  hass: HomeAssistant\n) => {\n  resources.forEach((resource) => {\n    const normalizedUrl = new URL(\n      resource.url,\n      hass.auth.data.hassUrl\n    ).toString();\n    switch (resource.type) {\n      case \"css\":\n        if (normalizedUrl in CSS_CACHE) {\n          break;\n        }\n        CSS_CACHE[normalizedUrl] = loadCSS(normalizedUrl);\n        break;\n\n      case \"js\":\n        if (normalizedUrl in JS_CACHE) {\n          break;\n        }\n        JS_CACHE[normalizedUrl] = loadJS(normalizedUrl);\n        break;\n\n      case \"module\":\n        loadModule(normalizedUrl);\n        break;\n\n      default:\n        // eslint-disable-next-line\n        console.warn(`Unknown resource type specified: ${resource.type}`);\n    }\n  });\n};\n"],"mappings":";;;;;;;;;;;;;AAAA,SAASA,OAAO,EAAEC,MAAM,EAAEC,UAAU,QAAQ,mCAAmC;AAI/E;AACA,IAAMC,SAAS,GAAG,CAAC,CAAC;AACpB,IAAMC,QAAQ,GAAG,CAAC,CAAC;AAEnB,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAChCC,SAA0C,EAC1CC,IAAmB,EAChB;EACHD,SAAS,CAACE,OAAO,CAAC,UAACC,QAAQ,EAAK;IAC9B,IAAMC,aAAa,GAAG,IAAIC,GAAG,CAC3BF,QAAQ,CAACG,GAAG,EACZL,IAAI,CAACM,IAAI,CAACC,IAAI,CAACC,OACjB,CAAC,CAACC,QAAQ,CAAC,CAAC;IACZ,QAAQP,QAAQ,CAACQ,IAAI;MACnB,KAAK,KAAK;QACR,IAAIP,aAAa,IAAIP,SAAS,EAAE;UAC9B;QACF;QACAA,SAAS,CAACO,aAAa,CAAC,GAAGV,OAAO,CAACU,aAAa,CAAC;QACjD;MAEF,KAAK,IAAI;QACP,IAAIA,aAAa,IAAIN,QAAQ,EAAE;UAC7B;QACF;QACAA,QAAQ,CAACM,aAAa,CAAC,GAAGT,MAAM,CAACS,aAAa,CAAC;QAC/C;MAEF,KAAK,QAAQ;QACXR,UAAU,CAACQ,aAAa,CAAC;QACzB;MAEF;QACE;QACAQ,OAAO,CAACC,IAAI,qCAAAC,MAAA,CAAqCX,QAAQ,CAACQ,IAAI,CAAE,CAAC;IACrE;EACF,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}