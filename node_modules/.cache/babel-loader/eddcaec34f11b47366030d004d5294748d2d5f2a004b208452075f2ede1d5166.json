{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2;\nimport \"core-js/modules/es.array.concat.js\";\nimport { css, html, LitElement } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { deleteConfigEntry } from \"../../../data/config_entries\";\nimport { showConfirmationDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport \"./ha-integration-action-card\";\nimport \"../../../components/ha-button\";\nexport var HaIgnoredConfigEntryCard = _decorate([customElement(\"ha-ignored-config-entry-card\")], function (_initialize, _LitElement) {\n  var HaIgnoredConfigEntryCard = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaIgnoredConfigEntryCard, _LitElement2);\n    function HaIgnoredConfigEntryCard() {\n      var _this;\n      _classCallCheck(this, HaIgnoredConfigEntryCard);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HaIgnoredConfigEntryCard, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HaIgnoredConfigEntryCard);\n  }(_LitElement);\n  return {\n    F: HaIgnoredConfigEntryCard,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"entry\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"manifest\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-integration-action-card\\n        .hass=\", \"\\n        .manifest=\", \"\\n        .banner=\", \"\\n        .domain=\", \"\\n        .localizedDomainName=\", \"\\n        .label=\", \"\\n      >\\n        <ha-button\\n          @click=\", \"\\n          .label=\", \"\\n        ></ha-button>\\n      </ha-integration-action-card>\\n    \"])), this.hass, this.manifest, this.hass.localize(\"ui.panel.config.integrations.ignore.ignored\"), this.entry.domain, this.entry.localized_domain_name, this.entry.title === \"Ignored\" ?\n        // In 2020.2 we added support for entry.title. All ignored entries before\n        // that have title \"Ignored\" so we fallback to localized domain name.\n        this.entry.localized_domain_name : this.entry.title, this._removeIgnoredIntegration, this.hass.localize(\"ui.panel.config.integrations.ignore.stop_ignore\"));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_removeIgnoredIntegration\",\n      value: function () {\n        var _removeIgnoredIntegration2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n          var _this2 = this;\n          return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                showConfirmationDialog(this, {\n                  title: this.hass.localize(\"ui.panel.config.integrations.ignore.confirm_delete_ignore_title\", {\n                    name: this.hass.localize(\"component.\".concat(this.entry.domain, \".title\"))\n                  }),\n                  text: this.hass.localize(\"ui.panel.config.integrations.ignore.confirm_delete_ignore\"),\n                  confirmText: this.hass.localize(\"ui.panel.config.integrations.ignore.stop_ignore\"),\n                  confirm: function () {\n                    var _confirm = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n                      var result;\n                      return _regeneratorRuntime().wrap(function _callee$(_context) {\n                        while (1) switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return deleteConfigEntry(_this2.hass, _this2.entry.entry_id);\n                          case 2:\n                            result = _context.sent;\n                            if (result.require_restart) {\n                              alert(_this2.hass.localize(\"ui.panel.config.integrations.config_entry.restart_confirm\"));\n                            }\n                            fireEvent(_this2, \"change\", undefined, {\n                              bubbles: false\n                            });\n                          case 5:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }, _callee);\n                    }));\n                    function confirm() {\n                      return _confirm.apply(this, arguments);\n                    }\n                    return confirm;\n                  }()\n                });\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }, _callee2, this);\n        }));\n        function _removeIgnoredIntegration() {\n          return _removeIgnoredIntegration2.apply(this, arguments);\n        }\n        return _removeIgnoredIntegration;\n      }()\n    }, {\n      kind: \"field\",\n      static: true,\n      key: \"styles\",\n      value: function value() {\n        return css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    :host {\\n      --state-color: var(--divider-color, #e0e0e0);\\n    }\\n\\n    ha-button {\\n      --mdc-theme-primary: var(--primary-color);\\n    }\\n  \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["css","html","LitElement","customElement","property","fireEvent","deleteConfigEntry","showConfirmationDialog","HaIgnoredConfigEntryCard","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","render","_templateObject","_taggedTemplateLiteral","hass","manifest","localize","entry","domain","localized_domain_name","title","_removeIgnoredIntegration","_removeIgnoredIntegration2","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","_this2","wrap","_callee2$","_context2","prev","next","name","text","confirmText","confirm","_confirm","_callee","result","_callee$","_context","entry_id","sent","require_restart","alert","undefined","bubbles","stop","apply","static","_templateObject2"],"sources":["/workspaces/frontend/src/panels/config/integrations/ha-ignored-config-entry-card.ts"],"sourcesContent":["import { css, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { fireEvent } from \"../../../common/dom/fire_event\";\nimport { deleteConfigEntry } from \"../../../data/config_entries\";\nimport type { IntegrationManifest } from \"../../../data/integration\";\nimport { showConfirmationDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport type { HomeAssistant } from \"../../../types\";\nimport type { ConfigEntryExtended } from \"./ha-config-integrations\";\nimport \"./ha-integration-action-card\";\nimport \"../../../components/ha-button\";\n\n@customElement(\"ha-ignored-config-entry-card\")\nexport class HaIgnoredConfigEntryCard extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public entry!: ConfigEntryExtended;\n\n  @property({ attribute: false }) public manifest?: IntegrationManifest;\n\n  protected render(): TemplateResult {\n    return html`\n      <ha-integration-action-card\n        .hass=${this.hass}\n        .manifest=${this.manifest}\n        .banner=${this.hass.localize(\n          \"ui.panel.config.integrations.ignore.ignored\"\n        )}\n        .domain=${this.entry.domain}\n        .localizedDomainName=${this.entry.localized_domain_name}\n        .label=${this.entry.title === \"Ignored\"\n          ? // In 2020.2 we added support for entry.title. All ignored entries before\n            // that have title \"Ignored\" so we fallback to localized domain name.\n            this.entry.localized_domain_name\n          : this.entry.title}\n      >\n        <ha-button\n          @click=${this._removeIgnoredIntegration}\n          .label=${this.hass.localize(\n            \"ui.panel.config.integrations.ignore.stop_ignore\"\n          )}\n        ></ha-button>\n      </ha-integration-action-card>\n    `;\n  }\n\n  private async _removeIgnoredIntegration() {\n    showConfirmationDialog(this, {\n      title: this.hass!.localize(\n        \"ui.panel.config.integrations.ignore.confirm_delete_ignore_title\",\n        { name: this.hass.localize(`component.${this.entry.domain}.title`) }\n      ),\n      text: this.hass!.localize(\n        \"ui.panel.config.integrations.ignore.confirm_delete_ignore\"\n      ),\n      confirmText: this.hass!.localize(\n        \"ui.panel.config.integrations.ignore.stop_ignore\"\n      ),\n      confirm: async () => {\n        const result = await deleteConfigEntry(this.hass, this.entry.entry_id);\n        if (result.require_restart) {\n          alert(\n            this.hass.localize(\n              \"ui.panel.config.integrations.config_entry.restart_confirm\"\n            )\n          );\n        }\n        fireEvent(this, \"change\", undefined, {\n          bubbles: false,\n        });\n      },\n    });\n  }\n\n  static styles = css`\n    :host {\n      --state-color: var(--divider-color, #e0e0e0);\n    }\n\n    ha-button {\n      --mdc-theme-primary: var(--primary-color);\n    }\n  `;\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-ignored-config-entry-card\": HaIgnoredConfigEntryCard;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}