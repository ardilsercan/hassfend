{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"@material/mwc-list/mwc-list\";\nvar mdiHelpCircle = \"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z\";\nvar mdiPlus = \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\";\nvar mdiStar = \"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { formatLanguageCode } from \"../../../common/language/format_language\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-button\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon-next\";\nimport \"../../../components/ha-list-item\";\nimport \"../../../components/ha-svg-icon\";\nimport \"../../../components/ha-switch\";\nimport { createAssistPipeline, deleteAssistPipeline, listAssistDevices, listAssistPipelines, setAssistPipelinePreferred, updateAssistPipeline } from \"../../../data/assist_pipeline\";\nimport { showConfirmationDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport { brandsUrl } from \"../../../util/brands-url\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nimport { showVoiceAssistantPipelineDetailDialog } from \"./show-dialog-voice-assistant-pipeline-detail\";\nexport var AssistPref = _decorate([customElement(\"assist-pref\")], function (_initialize, _LitElement) {\n  var AssistPref = /*#__PURE__*/function (_LitElement2) {\n    _inherits(AssistPref, _LitElement2);\n    function AssistPref() {\n      var _this;\n      _classCallCheck(this, AssistPref);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, AssistPref, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(AssistPref);\n  }(_LitElement);\n  return {\n    F: AssistPref,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"exposedEntities\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"cloudStatus\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_pipelines\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_preferred\",\n      value: function value() {\n        return null;\n      }\n    }, {\n      kind: \"field\",\n      decorators: [state()],\n      key: \"_devices\",\n      value: function value() {\n        return [];\n      }\n    }, {\n      kind: \"method\",\n      key: \"firstUpdated\",\n      value: function firstUpdated(changedProps) {\n        var _this2 = this;\n        _get(_getPrototypeOf(AssistPref.prototype), \"firstUpdated\", this).call(this, changedProps);\n        listAssistPipelines(this.hass).then(function (pipelines) {\n          _this2._pipelines = pipelines.pipelines;\n          _this2._preferred = pipelines.preferred_pipeline;\n        });\n        listAssistDevices(this.hass).then(function (devices) {\n          _this2._devices = devices;\n        });\n      }\n    }, {\n      kind: \"field\",\n      key: \"_exposedEntitiesCount\",\n      value: function value() {\n        var _this3 = this;\n        return memoizeOne(function (exposedEntities) {\n          return Object.entries(exposedEntities).filter(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n              entityId = _ref2[0],\n              expose = _ref2[1];\n            return expose.conversation && entityId in _this3.hass.states;\n          }).length;\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$hass$themes,\n          _this4 = this,\n          _this$_devices;\n        return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      <ha-card outlined>\\n        <h1 class=\\\"card-header\\\">\\n          <img\\n            alt=\\\"\\\"\\n            src=\", \"\\n            crossorigin=\\\"anonymous\\\"\\n            referrerpolicy=\\\"no-referrer\\\"\\n          />Assist\\n        </h1>\\n        <div class=\\\"header-actions\\\">\\n          <a\\n            href=\", \"\\n            target=\\\"_blank\\\"\\n            rel=\\\"noreferrer noopener\\\"\\n            class=\\\"icon-link\\\"\\n          >\\n            <ha-icon-button\\n              label=\\\"Learn how it works\\\"\\n              .path=\", \"\\n            ></ha-icon-button>\\n          </a>\\n        </div>\\n        <mwc-list>\\n          \", \"\\n        </mwc-list>\\n        <ha-button @click=\", \" class=\\\"add\\\" outlined>\\n          \", \"\\n          <ha-svg-icon slot=\\\"icon\\\" .path=\", \"></ha-svg-icon>\\n        </ha-button>\\n        <div class=\\\"card-actions\\\">\\n          <a\\n            href=\\\"/config/voice-assistants/expose?assistants=conversation&historyBack\\\"\\n          >\\n            <ha-button>\\n              \", \"\\n            </ha-button>\\n          </a>\\n          \", \"\\n        </div>\\n      </ha-card>\\n    \"])), brandsUrl({\n          domain: \"assist_pipeline\",\n          type: \"icon\",\n          darkOptimized: (_this$hass$themes = this.hass.themes) === null || _this$hass$themes === void 0 ? void 0 : _this$hass$themes.darkMode\n        }), documentationUrl(this.hass, \"/docs/assist/\"), mdiHelpCircle, this._pipelines.map(function (pipeline) {\n          return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n              <ha-list-item\\n                twoline\\n                hasMeta\\n                role=\\\"button\\\"\\n                @click=\", \"\\n                .id=\", \"\\n              >\\n                \", \"\\n                <span slot=\\\"secondary\\\">\\n                  \", \"\\n                </span>\\n                \", \"\\n                <ha-icon-next slot=\\\"meta\\\"></ha-icon-next>\\n              </ha-list-item>\\n            \"])), _this4._editPipeline, pipeline.id, pipeline.name, formatLanguageCode(pipeline.language, _this4.hass.locale), _this4._preferred === pipeline.id ? html(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"<ha-svg-icon\\n                      slot=\\\"meta\\\"\\n                      .path=\", \"\\n                    ></ha-svg-icon>\"])), mdiStar) : \"\");\n        }), this._addPipeline, this.hass.localize(\"ui.panel.config.voice_assistants.assistants.pipeline.add_assistant\"), mdiPlus, this.hass.localize(\"ui.panel.config.voice_assistants.assistants.pipeline.exposed_entities\", {\n          number: this.exposedEntities ? this._exposedEntitiesCount(this.exposedEntities) : 0\n        }), (_this$_devices = this._devices) !== null && _this$_devices !== void 0 && _this$_devices.length ? html(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n                <a href=\\\"/config/voice-assistants/assist/devices\\\">\\n                  <ha-button>\\n                    \", \"\\n                  </ha-button>\\n                </a>\\n              \"])), this.hass.localize(\"ui.panel.config.voice_assistants.assistants.pipeline.assist_devices\", {\n          number: this._devices.length\n        })) : \"\");\n      }\n    }, {\n      kind: \"method\",\n      key: \"_editPipeline\",\n      value: function _editPipeline(ev) {\n        var id = ev.currentTarget.id;\n        var pipeline = this._pipelines.find(function (res) {\n          return res.id === id;\n        });\n        this._openDialog(pipeline);\n      }\n    }, {\n      kind: \"method\",\n      key: \"_addPipeline\",\n      value: function _addPipeline() {\n        this._openDialog();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openDialog\",\n      value: function () {\n        var _openDialog2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(pipeline) {\n          var _this$cloudStatus,\n            _this5 = this;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                showVoiceAssistantPipelineDetailDialog(this, {\n                  cloudActiveSubscription: ((_this$cloudStatus = this.cloudStatus) === null || _this$cloudStatus === void 0 ? void 0 : _this$cloudStatus.logged_in) && this.cloudStatus.active_subscription,\n                  pipeline: pipeline,\n                  preferred: (pipeline === null || pipeline === void 0 ? void 0 : pipeline.id) === this._preferred,\n                  createPipeline: function () {\n                    var _createPipeline = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(values) {\n                      var created;\n                      return _regeneratorRuntime().wrap(function _callee$(_context) {\n                        while (1) switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return createAssistPipeline(_this5.hass, values);\n                          case 2:\n                            created = _context.sent;\n                            _this5._pipelines = _this5._pipelines.concat(created);\n                          case 4:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }, _callee);\n                    }));\n                    function createPipeline(_x2) {\n                      return _createPipeline.apply(this, arguments);\n                    }\n                    return createPipeline;\n                  }(),\n                  updatePipeline: function () {\n                    var _updatePipeline = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values) {\n                      var updated;\n                      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                        while (1) switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return updateAssistPipeline(_this5.hass, pipeline.id, values);\n                          case 2:\n                            updated = _context2.sent;\n                            _this5._pipelines = _this5._pipelines.map(function (res) {\n                              return res === pipeline ? updated : res;\n                            });\n                          case 4:\n                          case \"end\":\n                            return _context2.stop();\n                        }\n                      }, _callee2);\n                    }));\n                    function updatePipeline(_x3) {\n                      return _updatePipeline.apply(this, arguments);\n                    }\n                    return updatePipeline;\n                  }(),\n                  setPipelinePreferred: function () {\n                    var _setPipelinePreferred = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n                      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                        while (1) switch (_context3.prev = _context3.next) {\n                          case 0:\n                            _context3.next = 2;\n                            return setAssistPipelinePreferred(_this5.hass, pipeline.id);\n                          case 2:\n                            _this5._preferred = pipeline.id;\n                          case 3:\n                          case \"end\":\n                            return _context3.stop();\n                        }\n                      }, _callee3);\n                    }));\n                    function setPipelinePreferred() {\n                      return _setPipelinePreferred.apply(this, arguments);\n                    }\n                    return setPipelinePreferred;\n                  }(),\n                  deletePipeline: function () {\n                    var _deletePipeline = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n                      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                        while (1) switch (_context4.prev = _context4.next) {\n                          case 0:\n                            _context4.next = 2;\n                            return showConfirmationDialog(_this5, {\n                              title: _this5.hass.localize(\"ui.panel.config.voice_assistants.assistants.pipeline.delete.confirm_title\", {\n                                name: pipeline.name\n                              }),\n                              text: _this5.hass.localize(\"ui.panel.config.voice_assistants.assistants.pipeline.delete.confirm_text\", {\n                                name: pipeline.name\n                              }),\n                              confirmText: _this5.hass.localize(\"ui.common.delete\"),\n                              destructive: true\n                            });\n                          case 2:\n                            if (_context4.sent) {\n                              _context4.next = 4;\n                              break;\n                            }\n                            return _context4.abrupt(\"return\", false);\n                          case 4:\n                            _context4.next = 6;\n                            return deleteAssistPipeline(_this5.hass, pipeline.id);\n                          case 6:\n                            _this5._pipelines = _this5._pipelines.filter(function (res) {\n                              return res !== pipeline;\n                            });\n                            return _context4.abrupt(\"return\", true);\n                          case 8:\n                          case \"end\":\n                            return _context4.stop();\n                        }\n                      }, _callee4);\n                    }));\n                    function deletePipeline() {\n                      return _deletePipeline.apply(this, arguments);\n                    }\n                    return deletePipeline;\n                  }()\n                });\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5, this);\n        }));\n        function _openDialog(_x) {\n          return _openDialog2.apply(this, arguments);\n        }\n        return _openDialog;\n      }()\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n      a {\\n        color: var(--primary-color);\\n      }\\n      .header-actions {\\n        position: absolute;\\n        right: 0px;\\n        inset-inline-end: 0px;\\n        inset-inline-start: initial;\\n        top: 24px;\\n        display: flex;\\n        flex-direction: row;\\n      }\\n      .header-actions .icon-link {\\n        margin-top: -16px;\\n        margin-right: 8px;\\n        margin-inline-end: 8px;\\n        margin-inline-start: initial;\\n        direction: var(--direction);\\n        color: var(--secondary-text-color);\\n      }\\n      ha-list-item {\\n        --mdc-list-item-meta-size: auto;\\n        --mdc-list-item-meta-display: flex;\\n      }\\n      ha-svg-icon,\\n      ha-icon-next {\\n        width: 24px;\\n      }\\n      .add {\\n        margin: 0 16px 16px;\\n      }\\n      .card-actions {\\n        display: flex;\\n      }\\n      .card-actions a {\\n        text-decoration: none;\\n      }\\n      .card-header {\\n        display: flex;\\n        align-items: center;\\n        padding-bottom: 0;\\n      }\\n      img {\\n        height: 28px;\\n        margin-right: 16px;\\n        margin-inline-end: 16px;\\n        margin-inline-start: initial;\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["mdiHelpCircle","mdiPlus","mdiStar","LitElement","css","html","customElement","property","state","memoizeOne","formatLanguageCode","createAssistPipeline","deleteAssistPipeline","listAssistDevices","listAssistPipelines","setAssistPipelinePreferred","updateAssistPipeline","showConfirmationDialog","brandsUrl","documentationUrl","showVoiceAssistantPipelineDetailDialog","AssistPref","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","firstUpdated","changedProps","_this2","_get","_getPrototypeOf","prototype","call","hass","then","pipelines","_pipelines","_preferred","preferred_pipeline","devices","_devices","_this3","exposedEntities","Object","entries","filter","_ref","_ref2","_slicedToArray","entityId","expose","conversation","states","render","_this$hass$themes","_this4","_this$_devices","_templateObject","_taggedTemplateLiteral","domain","type","darkOptimized","themes","darkMode","map","pipeline","_templateObject2","_editPipeline","id","name","language","locale","_templateObject3","_addPipeline","localize","number","_exposedEntitiesCount","_templateObject4","ev","currentTarget","find","res","_openDialog","_openDialog2","_asyncToGenerator","_regeneratorRuntime","mark","_callee5","_this$cloudStatus","_this5","wrap","_callee5$","_context5","prev","next","cloudActiveSubscription","cloudStatus","logged_in","active_subscription","preferred","createPipeline","_createPipeline","_callee","values","created","_callee$","_context","sent","stop","_x2","apply","updatePipeline","_updatePipeline","_callee2","updated","_callee2$","_context2","_x3","setPipelinePreferred","_setPipelinePreferred","_callee3","_callee3$","_context3","deletePipeline","_deletePipeline","_callee4","_callee4$","_context4","title","text","confirmText","destructive","abrupt","_x","static","styles","_templateObject5"],"sources":["/Users/sercanardil/Desktop/frontend/src/panels/config/voice-assistants/assist-pref.ts"],"sourcesContent":["import \"@material/mwc-list/mwc-list\";\nimport { mdiHelpCircle, mdiPlus, mdiStar } from \"@mdi/js\";\nimport { CSSResultGroup, LitElement, PropertyValues, css, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\nimport memoizeOne from \"memoize-one\";\nimport { formatLanguageCode } from \"../../../common/language/format_language\";\nimport \"../../../components/ha-alert\";\nimport \"../../../components/ha-button\";\nimport \"../../../components/ha-card\";\nimport \"../../../components/ha-icon-next\";\nimport \"../../../components/ha-list-item\";\nimport \"../../../components/ha-svg-icon\";\nimport \"../../../components/ha-switch\";\nimport {\n  AssistDevice,\n  AssistPipeline,\n  createAssistPipeline,\n  deleteAssistPipeline,\n  listAssistDevices,\n  listAssistPipelines,\n  setAssistPipelinePreferred,\n  updateAssistPipeline,\n} from \"../../../data/assist_pipeline\";\nimport { CloudStatus } from \"../../../data/cloud\";\nimport { ExposeEntitySettings } from \"../../../data/expose\";\nimport { showConfirmationDialog } from \"../../../dialogs/generic/show-dialog-box\";\nimport type { HomeAssistant } from \"../../../types\";\nimport { brandsUrl } from \"../../../util/brands-url\";\nimport { documentationUrl } from \"../../../util/documentation-url\";\nimport { showVoiceAssistantPipelineDetailDialog } from \"./show-dialog-voice-assistant-pipeline-detail\";\n\n@customElement(\"assist-pref\")\nexport class AssistPref extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public exposedEntities?: Record<\n    string,\n    ExposeEntitySettings\n  >;\n\n  @property({ attribute: false }) public cloudStatus?: CloudStatus;\n\n  @state() private _pipelines: AssistPipeline[] = [];\n\n  @state() private _preferred: string | null = null;\n\n  @state() private _devices: AssistDevice[] = [];\n\n  protected firstUpdated(changedProps: PropertyValues) {\n    super.firstUpdated(changedProps);\n\n    listAssistPipelines(this.hass).then((pipelines) => {\n      this._pipelines = pipelines.pipelines;\n      this._preferred = pipelines.preferred_pipeline;\n    });\n    listAssistDevices(this.hass).then((devices) => {\n      this._devices = devices;\n    });\n  }\n\n  private _exposedEntitiesCount = memoizeOne(\n    (exposedEntities: Record<string, ExposeEntitySettings>) =>\n      Object.entries(exposedEntities).filter(\n        ([entityId, expose]) =>\n          expose.conversation && entityId in this.hass.states\n      ).length\n  );\n\n  protected render() {\n    return html`\n      <ha-card outlined>\n        <h1 class=\"card-header\">\n          <img\n            alt=\"\"\n            src=${brandsUrl({\n              domain: \"assist_pipeline\",\n              type: \"icon\",\n              darkOptimized: this.hass.themes?.darkMode,\n            })}\n            crossorigin=\"anonymous\"\n            referrerpolicy=\"no-referrer\"\n          />Assist\n        </h1>\n        <div class=\"header-actions\">\n          <a\n            href=${documentationUrl(this.hass, \"/docs/assist/\")}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n            class=\"icon-link\"\n          >\n            <ha-icon-button\n              label=\"Learn how it works\"\n              .path=${mdiHelpCircle}\n            ></ha-icon-button>\n          </a>\n        </div>\n        <mwc-list>\n          ${this._pipelines.map(\n            (pipeline) => html`\n              <ha-list-item\n                twoline\n                hasMeta\n                role=\"button\"\n                @click=${this._editPipeline}\n                .id=${pipeline.id}\n              >\n                ${pipeline.name}\n                <span slot=\"secondary\">\n                  ${formatLanguageCode(pipeline.language, this.hass.locale)}\n                </span>\n                ${this._preferred === pipeline.id\n                  ? html`<ha-svg-icon\n                      slot=\"meta\"\n                      .path=${mdiStar}\n                    ></ha-svg-icon>`\n                  : \"\"}\n                <ha-icon-next slot=\"meta\"></ha-icon-next>\n              </ha-list-item>\n            `\n          )}\n        </mwc-list>\n        <ha-button @click=${this._addPipeline} class=\"add\" outlined>\n          ${this.hass.localize(\n            \"ui.panel.config.voice_assistants.assistants.pipeline.add_assistant\"\n          )}\n          <ha-svg-icon slot=\"icon\" .path=${mdiPlus}></ha-svg-icon>\n        </ha-button>\n        <div class=\"card-actions\">\n          <a\n            href=\"/config/voice-assistants/expose?assistants=conversation&historyBack\"\n          >\n            <ha-button>\n              ${this.hass.localize(\n                \"ui.panel.config.voice_assistants.assistants.pipeline.exposed_entities\",\n                {\n                  number: this.exposedEntities\n                    ? this._exposedEntitiesCount(this.exposedEntities)\n                    : 0,\n                }\n              )}\n            </ha-button>\n          </a>\n          ${this._devices?.length\n            ? html`\n                <a href=\"/config/voice-assistants/assist/devices\">\n                  <ha-button>\n                    ${this.hass.localize(\n                      \"ui.panel.config.voice_assistants.assistants.pipeline.assist_devices\",\n                      { number: this._devices.length }\n                    )}\n                  </ha-button>\n                </a>\n              `\n            : \"\"}\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private _editPipeline(ev) {\n    const id = ev.currentTarget.id as string;\n\n    const pipeline = this._pipelines.find((res) => res.id === id);\n    this._openDialog(pipeline);\n  }\n\n  private _addPipeline() {\n    this._openDialog();\n  }\n\n  private async _openDialog(pipeline?: AssistPipeline): Promise<void> {\n    showVoiceAssistantPipelineDetailDialog(this, {\n      cloudActiveSubscription:\n        this.cloudStatus?.logged_in && this.cloudStatus.active_subscription,\n      pipeline,\n      preferred: pipeline?.id === this._preferred,\n      createPipeline: async (values) => {\n        const created = await createAssistPipeline(this.hass!, values);\n        this._pipelines = this._pipelines!.concat(created);\n      },\n      updatePipeline: async (values) => {\n        const updated = await updateAssistPipeline(\n          this.hass!,\n          pipeline!.id,\n          values\n        );\n        this._pipelines = this._pipelines!.map((res) =>\n          res === pipeline ? updated : res\n        );\n      },\n      setPipelinePreferred: async () => {\n        await setAssistPipelinePreferred(this.hass!, pipeline!.id);\n        this._preferred = pipeline!.id;\n      },\n      deletePipeline: async () => {\n        if (\n          !(await showConfirmationDialog(this, {\n            title: this.hass!.localize(\n              \"ui.panel.config.voice_assistants.assistants.pipeline.delete.confirm_title\",\n              { name: pipeline!.name }\n            ),\n            text: this.hass!.localize(\n              \"ui.panel.config.voice_assistants.assistants.pipeline.delete.confirm_text\",\n              { name: pipeline!.name }\n            ),\n            confirmText: this.hass!.localize(\"ui.common.delete\"),\n            destructive: true,\n          }))\n        ) {\n          return false;\n        }\n\n        await deleteAssistPipeline(this.hass!, pipeline!.id);\n        this._pipelines = this._pipelines!.filter((res) => res !== pipeline);\n        return true;\n      },\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      .header-actions {\n        position: absolute;\n        right: 0px;\n        inset-inline-end: 0px;\n        inset-inline-start: initial;\n        top: 24px;\n        display: flex;\n        flex-direction: row;\n      }\n      .header-actions .icon-link {\n        margin-top: -16px;\n        margin-right: 8px;\n        margin-inline-end: 8px;\n        margin-inline-start: initial;\n        direction: var(--direction);\n        color: var(--secondary-text-color);\n      }\n      ha-list-item {\n        --mdc-list-item-meta-size: auto;\n        --mdc-list-item-meta-display: flex;\n      }\n      ha-svg-icon,\n      ha-icon-next {\n        width: 24px;\n      }\n      .add {\n        margin: 0 16px 16px;\n      }\n      .card-actions {\n        display: flex;\n      }\n      .card-actions a {\n        text-decoration: none;\n      }\n      .card-header {\n        display: flex;\n        align-items: center;\n        padding-bottom: 0;\n      }\n      img {\n        height: 28px;\n        margin-right: 16px;\n        margin-inline-end: 16px;\n        margin-inline-start: initial;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"assist-pref\": AssistPref;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}