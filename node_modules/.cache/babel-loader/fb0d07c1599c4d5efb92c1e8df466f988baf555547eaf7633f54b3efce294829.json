{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _templateObject;\n/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { html, isServer } from 'lit';\nimport { Chip } from './chip.js';\nvar ARIA_LABEL_REMOVE = 'aria-label-remove';\n/**\n * A chip component with multiple actions.\n */\nexport var MultiActionChip = /*#__PURE__*/function (_Chip) {\n  _inherits(MultiActionChip, _Chip);\n  function MultiActionChip() {\n    var _this;\n    _classCallCheck(this, MultiActionChip);\n    _this = _callSuper(this, MultiActionChip);\n    _this.handleTrailingActionFocus = _this.handleTrailingActionFocus.bind(_assertThisInitialized(_this));\n    if (!isServer) {\n      _this.addEventListener('keydown', _this.handleKeyDown.bind(_assertThisInitialized(_this)));\n    }\n    return _this;\n  }\n  _createClass(MultiActionChip, [{\n    key: \"ariaLabelRemove\",\n    get: function get() {\n      if (this.hasAttribute(ARIA_LABEL_REMOVE)) {\n        return this.getAttribute(ARIA_LABEL_REMOVE);\n      }\n      var ariaLabel = this.ariaLabel;\n      return \"Remove \".concat(ariaLabel || this.label);\n    },\n    set: function set(ariaLabel) {\n      var prev = this.ariaLabelRemove;\n      if (ariaLabel === prev) {\n        return;\n      }\n      if (ariaLabel === null) {\n        this.removeAttribute(ARIA_LABEL_REMOVE);\n      } else {\n        this.setAttribute(ARIA_LABEL_REMOVE, ariaLabel);\n      }\n      this.requestUpdate();\n    }\n  }, {\n    key: \"focus\",\n    value: function focus(options) {\n      var isFocusable = this.alwaysFocusable || !this.disabled;\n      if (isFocusable && options !== null && options !== void 0 && options.trailing && this.trailingAction) {\n        this.trailingAction.focus(options);\n        return;\n      }\n      _get(_getPrototypeOf(MultiActionChip.prototype), \"focus\", this).call(this, options);\n    }\n  }, {\n    key: \"renderContainerContent\",\n    value: function renderContainerContent() {\n      return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n      \", \"\\n      \", \"\\n    \"])), _get(_getPrototypeOf(MultiActionChip.prototype), \"renderContainerContent\", this).call(this), this.renderTrailingAction(this.handleTrailingActionFocus));\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      var _this$primaryAction, _this$trailingAction;\n      var isLeft = event.key === 'ArrowLeft';\n      var isRight = event.key === 'ArrowRight';\n      // Ignore non-navigation keys.\n      if (!isLeft && !isRight) {\n        return;\n      }\n      if (!this.primaryAction || !this.trailingAction) {\n        // Does not have multiple actions.\n        return;\n      }\n      // Check if moving forwards or backwards\n      var isRtl = getComputedStyle(this).direction === 'rtl';\n      var forwards = isRtl ? isLeft : isRight;\n      var isPrimaryFocused = (_this$primaryAction = this.primaryAction) === null || _this$primaryAction === void 0 ? void 0 : _this$primaryAction.matches(':focus-within');\n      var isTrailingFocused = (_this$trailingAction = this.trailingAction) === null || _this$trailingAction === void 0 ? void 0 : _this$trailingAction.matches(':focus-within');\n      if (forwards && isTrailingFocused || !forwards && isPrimaryFocused) {\n        // Moving outside of the chip, it will be handled by the chip set.\n        return;\n      }\n      // Prevent default interactions, such as scrolling.\n      event.preventDefault();\n      // Don't let the chip set handle this navigation event.\n      event.stopPropagation();\n      var actionToFocus = forwards ? this.trailingAction : this.primaryAction;\n      actionToFocus.focus();\n    }\n  }, {\n    key: \"handleTrailingActionFocus\",\n    value: function handleTrailingActionFocus() {\n      var primaryAction = this.primaryAction,\n        trailingAction = this.trailingAction;\n      if (!primaryAction || !trailingAction) {\n        return;\n      }\n      // Temporarily turn off the primary action's focusability. This allows\n      // shift+tab from the trailing action to move to the previous chip rather\n      // than the primary action in the same chip.\n      primaryAction.tabIndex = -1;\n      trailingAction.addEventListener('focusout', function () {\n        primaryAction.tabIndex = 0;\n      }, {\n        once: true\n      });\n    }\n  }]);\n  return MultiActionChip;\n}(Chip);","map":{"version":3,"names":["html","isServer","Chip","ARIA_LABEL_REMOVE","MultiActionChip","_Chip","_inherits","_this","_classCallCheck","_callSuper","handleTrailingActionFocus","bind","_assertThisInitialized","addEventListener","handleKeyDown","_createClass","key","get","hasAttribute","getAttribute","ariaLabel","concat","label","set","prev","ariaLabelRemove","removeAttribute","setAttribute","requestUpdate","value","focus","options","isFocusable","alwaysFocusable","disabled","trailing","trailingAction","_get","_getPrototypeOf","prototype","call","renderContainerContent","_templateObject","_taggedTemplateLiteral","renderTrailingAction","event","_this$primaryAction","_this$trailingAction","isLeft","isRight","primaryAction","isRtl","getComputedStyle","direction","forwards","isPrimaryFocused","matches","isTrailingFocused","preventDefault","stopPropagation","actionToFocus","tabIndex","once"],"sources":["multi-action-chip.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2023 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {html, isServer} from 'lit';\n\nimport {ARIAMixinStrict} from '../../internal/aria/aria.js';\n\nimport {Chip} from './chip.js';\n\nconst ARIA_LABEL_REMOVE = 'aria-label-remove';\n\n/**\n * A chip component with multiple actions.\n */\nexport abstract class MultiActionChip extends Chip {\n  get ariaLabelRemove(): string {\n    if (this.hasAttribute(ARIA_LABEL_REMOVE)) {\n      return this.getAttribute(ARIA_LABEL_REMOVE)!;\n    }\n\n    const {ariaLabel} = this as ARIAMixinStrict;\n    return `Remove ${ariaLabel || this.label}`;\n  }\n  set ariaLabelRemove(ariaLabel: string | null) {\n    const prev = this.ariaLabelRemove;\n    if (ariaLabel === prev) {\n      return;\n    }\n\n    if (ariaLabel === null) {\n      this.removeAttribute(ARIA_LABEL_REMOVE);\n    } else {\n      this.setAttribute(ARIA_LABEL_REMOVE, ariaLabel);\n    }\n\n    this.requestUpdate();\n  }\n\n  protected abstract readonly primaryAction: HTMLElement | null;\n  protected abstract readonly trailingAction: HTMLElement | null;\n\n  constructor() {\n    super();\n    this.handleTrailingActionFocus = this.handleTrailingActionFocus.bind(this);\n    if (!isServer) {\n      this.addEventListener('keydown', this.handleKeyDown.bind(this));\n    }\n  }\n\n  override focus(options?: FocusOptions & {trailing?: boolean}) {\n    const isFocusable = this.alwaysFocusable || !this.disabled;\n    if (isFocusable && options?.trailing && this.trailingAction) {\n      this.trailingAction.focus(options);\n      return;\n    }\n\n    super.focus(options as FocusOptions);\n  }\n\n  protected override renderContainerContent() {\n    return html`\n      ${super.renderContainerContent()}\n      ${this.renderTrailingAction(this.handleTrailingActionFocus)}\n    `;\n  }\n\n  protected abstract renderTrailingAction(\n    focusListener: EventListener,\n  ): unknown;\n\n  private handleKeyDown(event: KeyboardEvent) {\n    const isLeft = event.key === 'ArrowLeft';\n    const isRight = event.key === 'ArrowRight';\n    // Ignore non-navigation keys.\n    if (!isLeft && !isRight) {\n      return;\n    }\n\n    if (!this.primaryAction || !this.trailingAction) {\n      // Does not have multiple actions.\n      return;\n    }\n\n    // Check if moving forwards or backwards\n    const isRtl = getComputedStyle(this).direction === 'rtl';\n    const forwards = isRtl ? isLeft : isRight;\n    const isPrimaryFocused = this.primaryAction?.matches(':focus-within');\n    const isTrailingFocused = this.trailingAction?.matches(':focus-within');\n\n    if ((forwards && isTrailingFocused) || (!forwards && isPrimaryFocused)) {\n      // Moving outside of the chip, it will be handled by the chip set.\n      return;\n    }\n\n    // Prevent default interactions, such as scrolling.\n    event.preventDefault();\n    // Don't let the chip set handle this navigation event.\n    event.stopPropagation();\n    const actionToFocus = forwards ? this.trailingAction : this.primaryAction;\n    actionToFocus.focus();\n  }\n\n  private handleTrailingActionFocus() {\n    const {primaryAction, trailingAction} = this;\n    if (!primaryAction || !trailingAction) {\n      return;\n    }\n\n    // Temporarily turn off the primary action's focusability. This allows\n    // shift+tab from the trailing action to move to the previous chip rather\n    // than the primary action in the same chip.\n    primaryAction.tabIndex = -1;\n    trailingAction.addEventListener(\n      'focusout',\n      () => {\n        primaryAction.tabIndex = 0;\n      },\n      {once: true},\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}