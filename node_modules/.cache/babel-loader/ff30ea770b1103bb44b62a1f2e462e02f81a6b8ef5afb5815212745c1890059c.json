{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _callSuper from \"@babel/runtime/helpers/callSuper\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _decorate from \"@babel/runtime/helpers/decorate\";\nvar _templateObject, _templateObject2, _templateObject3;\nimport \"core-js/modules/es.array.concat.js\";\nimport \"@material/mwc-button\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { supportsFeature } from \"../common/entity/supports-feature\";\nimport { LawnMowerEntityFeature } from \"../data/lawn_mower\";\nvar LAWN_MOWER_ACTIONS = {\n  mowing: {\n    action: \"dock\",\n    service: \"dock\",\n    feature: LawnMowerEntityFeature.DOCK\n  },\n  docked: {\n    action: \"start_mowing\",\n    service: \"start_mowing\",\n    feature: LawnMowerEntityFeature.START_MOWING\n  },\n  paused: {\n    action: \"resume_mowing\",\n    service: \"start_mowing\",\n    feature: LawnMowerEntityFeature.START_MOWING\n  }\n};\nvar HaLawnMowerActionButton = _decorate([customElement(\"ha-lawn_mower-action-button\")], function (_initialize, _LitElement) {\n  var HaLawnMowerActionButton = /*#__PURE__*/function (_LitElement2) {\n    _inherits(HaLawnMowerActionButton, _LitElement2);\n    function HaLawnMowerActionButton() {\n      var _this;\n      _classCallCheck(this, HaLawnMowerActionButton);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, HaLawnMowerActionButton, [].concat(args));\n      _initialize(_assertThisInitialized(_this));\n      return _this;\n    }\n    return _createClass(HaLawnMowerActionButton);\n  }(_LitElement);\n  return {\n    F: HaLawnMowerActionButton,\n    d: [{\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [property({\n        attribute: false\n      })],\n      key: \"stateObj\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var state = this.stateObj.state;\n        var action = LAWN_MOWER_ACTIONS[state];\n        if (action && supportsFeature(this.stateObj, action.feature)) {\n          return html(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n        <mwc-button @click=\", \" .service=\", \">\\n          \", \"\\n        </mwc-button>\\n      \"])), this.callService, action.service, this.hass.localize(\"ui.card.lawn_mower.actions.\".concat(action.action)));\n        }\n        return html(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n      <mwc-button disabled>\\n        \", \"\\n      </mwc-button>\\n    \"])), this.hass.formatEntityState(this.stateObj));\n      }\n    }, {\n      kind: \"method\",\n      key: \"callService\",\n      value: function callService(ev) {\n        ev.stopPropagation();\n        var stateObj = this.stateObj;\n        var service = ev.target.service;\n        this.hass.callService(\"lawn_mower\", service, {\n          entity_id: stateObj.entity_id\n        });\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return css(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      mwc-button {\\n        top: 3px;\\n        height: 37px;\\n        margin-right: -0.57em;\\n        margin-inline-end: -0.57em;\\n        margin-inline-start: initial;\\n      }\\n      mwc-button[disabled] {\\n        background-color: transparent;\\n        color: var(--secondary-text-color);\\n      }\\n    \"])));\n      }\n    }]\n  };\n}, LitElement);","map":{"version":3,"names":["LitElement","css","html","customElement","property","supportsFeature","LawnMowerEntityFeature","LAWN_MOWER_ACTIONS","mowing","action","service","feature","DOCK","docked","START_MOWING","paused","HaLawnMowerActionButton","_decorate","_initialize","_LitElement","_LitElement2","_inherits","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_assertThisInitialized","_createClass","F","d","kind","decorators","attribute","key","value","render","state","stateObj","_templateObject","_taggedTemplateLiteral","callService","hass","localize","_templateObject2","formatEntityState","ev","stopPropagation","target","entity_id","static","styles","_templateObject3"],"sources":["/workspaces/frontend/src/components/ha-lawn_mower-action-button.ts"],"sourcesContent":["import \"@material/mwc-button\";\nimport { CSSResultGroup, LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { supportsFeature } from \"../common/entity/supports-feature\";\nimport {\n  LawnMowerEntity,\n  LawnMowerEntityFeature,\n  LawnMowerEntityState,\n} from \"../data/lawn_mower\";\nimport { HomeAssistant } from \"../types\";\n\ntype LawnMowerAction = {\n  action: string;\n  service: string;\n  feature: LawnMowerEntityFeature;\n};\n\nconst LAWN_MOWER_ACTIONS: Partial<\n  Record<LawnMowerEntityState, LawnMowerAction>\n> = {\n  mowing: {\n    action: \"dock\",\n    service: \"dock\",\n    feature: LawnMowerEntityFeature.DOCK,\n  },\n  docked: {\n    action: \"start_mowing\",\n    service: \"start_mowing\",\n    feature: LawnMowerEntityFeature.START_MOWING,\n  },\n  paused: {\n    action: \"resume_mowing\",\n    service: \"start_mowing\",\n    feature: LawnMowerEntityFeature.START_MOWING,\n  },\n};\n\n@customElement(\"ha-lawn_mower-action-button\")\nclass HaLawnMowerActionButton extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public stateObj!: LawnMowerEntity;\n\n  public render() {\n    const state = this.stateObj.state;\n    const action = LAWN_MOWER_ACTIONS[state];\n\n    if (action && supportsFeature(this.stateObj, action.feature)) {\n      return html`\n        <mwc-button @click=${this.callService} .service=${action.service}>\n          ${this.hass.localize(`ui.card.lawn_mower.actions.${action.action}`)}\n        </mwc-button>\n      `;\n    }\n\n    return html`\n      <mwc-button disabled>\n        ${this.hass.formatEntityState(this.stateObj)}\n      </mwc-button>\n    `;\n  }\n\n  callService(ev) {\n    ev.stopPropagation();\n    const stateObj = this.stateObj;\n    const service = ev.target.service;\n    this.hass.callService(\"lawn_mower\", service, {\n      entity_id: stateObj.entity_id,\n    });\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      mwc-button {\n        top: 3px;\n        height: 37px;\n        margin-right: -0.57em;\n        margin-inline-end: -0.57em;\n        margin-inline-start: initial;\n      }\n      mwc-button[disabled] {\n        background-color: transparent;\n        color: var(--secondary-text-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-lawn_mower-action-button\": HaLawnMowerActionButton;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}